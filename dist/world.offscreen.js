var u = Object.defineProperty;
var J = (X, l, Z) => l in X ? u(X, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : X[l] = Z;
var d = (X, l, Z) => (J(X, typeof l != "symbol" ? l + "" : l, Z), Z), R = (X, l, Z) => {
  if (!l.has(X))
    throw TypeError("Cannot " + Z);
};
var V = (X, l, Z) => (R(X, l, "read from private field"), Z ? Z.call(X) : l.get(X)), m = (X, l, Z) => {
  if (l.has(X))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(X) : l.set(X, Z);
}, h = (X, l, Z, c) => (R(X, l, "write to private field"), c ? c.call(X, Z) : l.set(X, Z), Z);
var a = (X, l, Z) => (R(X, l, "access private method"), Z);
const p = "dmFyIExsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgTmw9KFgsU2UseWUpPT5TZSBpbiBYP0xsKFgsU2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnllfSk6WFtTZV09eWU7dmFyIGJ0PShYLFNlLHllKT0+KE5sKFgsdHlwZW9mIFNlIT0ic3ltYm9sIj9TZSsiIjpTZSx5ZSkseWUpLGpzPShYLFNlLHllKT0+e2lmKCFTZS5oYXMoWCkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIit5ZSl9O3ZhciBZPShYLFNlLHllKT0+KGpzKFgsU2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikseWU/eWUuY2FsbChYKTpTZS5nZXQoWCkpLG50PShYLFNlLHllKT0+e2lmKFNlLmhhcyhYKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtTZSBpbnN0YW5jZW9mIFdlYWtTZXQ/U2UuYWRkKFgpOlNlLnNldChYLHllKX0sbHQ9KFgsU2UseWUseGUpPT4oanMoWCxTZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLHhlP3hlLmNhbGwoWCx5ZSk6U2Uuc2V0KFgseWUpLHllKSx5aT0oWCxTZSx5ZSx4ZSk9Pih7c2V0IF8oQmUpe2x0KFgsU2UsQmUseWUpfSxnZXQgXygpe3JldHVybiBZKFgsU2UseGUpfX0pLHpyPShYLFNlLHllKT0+KGpzKFgsU2UsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLHllKTsoZnVuY3Rpb24oKXt2YXIgWGUsQWksRnQsUmksTXQsVHQsSmUsY3MsQXQsVmksV2ksZ3QsemksdXMsR3I7InVzZSBzdHJpY3QiO2NsYXNzIFh7c3RhdGljIFdpdGhpbkVwc2lsb24oZSx0LGk9MTQwMTI5OGUtNTEpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pfXN0YXRpYyBUb0hleChlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfXN0YXRpYyBTaWduKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfXN0YXRpYyBDbGFtcChlLHQ9MCxpPTEpe3JldHVybiBNYXRoLm1pbihpLE1hdGgubWF4KHQsZSkpfXN0YXRpYyBMb2cyKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfXN0YXRpYyBJTG9nMihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO2xldCB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH1zdGF0aWMgUmVwZWF0KGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9c3RhdGljIE5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuKGUtdCkvKGktdCl9c3RhdGljIERlbm9ybWFsaXplKGUsdCxpKXtyZXR1cm4gZSooaS10KSt0fXN0YXRpYyBEZWx0YUFuZ2xlKGUsdCl7bGV0IGk9WC5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIGk+MTgwJiYoaS09MzYwKSxpfXN0YXRpYyBQaW5nUG9uZyhlLHQpe2NvbnN0IGk9WC5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKGktdCl9c3RhdGljIFNtb290aFN0ZXAoZSx0LGkpe2xldCBzPVguQ2xhbXAoaSk7cmV0dXJuIHM9LTIqcypzKnMrMypzKnMsdCpzK2UqKDEtcyl9c3RhdGljIE1vdmVUb3dhcmRzKGUsdCxpKXtsZXQgcz0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1pP3M9dDpzPWUrWC5TaWduKHQtZSkqaSxzfXN0YXRpYyBNb3ZlVG93YXJkc0FuZ2xlKGUsdCxpKXtjb25zdCBzPVguRGVsdGFBbmdsZShlLHQpO2xldCByPTA7cmV0dXJuLWk8cyYmczxpP3I9dDoodD1lK3Mscj1YLk1vdmVUb3dhcmRzKGUsdCxpKSkscn1zdGF0aWMgTGVycChlLHQsaSl7cmV0dXJuIGUrKHQtZSkqaX1zdGF0aWMgTGVycEFuZ2xlKGUsdCxpKXtsZXQgcz1YLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcz4xODAmJihzLT0zNjApLGUrcypYLkNsYW1wKGkpfXN0YXRpYyBJbnZlcnNlTGVycChlLHQsaSl7bGV0IHM9MDtyZXR1cm4gZSE9dD9zPVguQ2xhbXAoKGktZSkvKHQtZSkpOnM9MCxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW47cmV0dXJuIGUqbytpKmgrdCpsK3MqdX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXIqcjtyZXR1cm4obi1yKSo2KmUrKDMqbi00KnIrMSkqdCsoLW4rcikqNippKygzKm4tMipyKSpzfXN0YXRpYyBSYW5kb21SYW5nZShlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX1zdGF0aWMgUmFuZ2VUb1BlcmNlbnQoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBQZXJjZW50VG9SYW5nZShlLHQsaSl7cmV0dXJuKGktdCkqZSt0fXN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGUpe3JldHVybiBlLT1YLlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvWC5Ud29QaSksZX1zdGF0aWMgSENGKGUsdCl7Y29uc3QgaT1lJXQ7cmV0dXJuIGk9PT0wP3Q6WC5IQ0YodCxpKX19WC5Ud29QaT1NYXRoLlBJKjI7Y29uc3QgU2U9MS8yLjIseWU9Mi4yLHhlPS4wMDE7Y2xhc3MgQmV7c3RhdGljIEJ1aWxkQXJyYXkoZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZTsrK3MpaS5wdXNoKHQoKSk7cmV0dXJuIGl9c3RhdGljIEJ1aWxkVHVwbGUoZSx0KXtyZXR1cm4gQmUuQnVpbGRBcnJheShlLHQpfX1mdW5jdGlvbiBYcihjLGUsdCl7Y29uc3QgaT1jW2VdO2lmKHR5cGVvZiBpIT0iZnVuY3Rpb24iKXJldHVybiBudWxsO2NvbnN0IHM9ZnVuY3Rpb24oKXtjb25zdCByPWMubGVuZ3RoLG49cy5wcmV2aW91cy5hcHBseShjLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSxyKSxufTtyZXR1cm4gaS5uZXh0PXMscy5wcmV2aW91cz1pLGNbZV09cywoKT0+e2NvbnN0IHI9cy5wcmV2aW91cztpZighcilyZXR1cm47Y29uc3Qgbj1zLm5leHQ7bj8oci5uZXh0PW4sbi5wcmV2aW91cz1yKTooci5uZXh0PXZvaWQgMCxjW2VdPXIpLHMubmV4dD12b2lkIDAscy5wcmV2aW91cz12b2lkIDB9fWNvbnN0IEhyPVsicHVzaCIsInNwbGljZSIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCJdO2Z1bmN0aW9uIFFzKGMsZSl7Y29uc3QgdD1Ici5tYXAoaT0+WHIoYyxpLGUpKTtyZXR1cm4oKT0+e3QuZm9yRWFjaChpPT57aT09bnVsbHx8aSgpfSl9fWNvbnN0ICRzPXt9O2Z1bmN0aW9uIGl0KGMsZSl7JHNbY109ZX1mdW5jdGlvbiByaShjKXtyZXR1cm4gJHNbY119Y2xhc3MgVWV7c3RhdGljIFNldE1hdHJpeFByZWNpc2lvbihlKXtpZihVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMSxlJiYhVWUuTWF0cml4VXNlNjRCaXRzJiZVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMpZm9yKGxldCB0PTA7dDxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMubGVuZ3RoOysrdCl7Y29uc3QgaT1VZS5NYXRyaXhUcmFja2VkTWF0cmljZXNbdF0scz1pLl9tO2kuX209bmV3IEFycmF5KDE2KTtmb3IobGV0IHI9MDtyPDE2OysrcilpLl9tW3JdPXNbcl19VWUuTWF0cml4VXNlNjRCaXRzPWUsVWUuTWF0cml4Q3VycmVudFR5cGU9VWUuTWF0cml4VXNlNjRCaXRzP0FycmF5OkZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH19VWUuTWF0cml4VXNlNjRCaXRzPSExLFVlLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSEwLFVlLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9W107Y2xhc3MgZmV7c3RhdGljIGdldCBMYXN0Q3JlYXRlZEVuZ2luZSgpe3JldHVybiB0aGlzLkluc3RhbmNlcy5sZW5ndGg9PT0wP251bGw6dGhpcy5JbnN0YW5jZXNbdGhpcy5JbnN0YW5jZXMubGVuZ3RoLTFdfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiB0aGlzLl9MYXN0Q3JlYXRlZFNjZW5lfX1mZS5JbnN0YW5jZXM9bmV3IEFycmF5LGZlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsZmUuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGZlLkZhbGxiYWNrVGV4dHVyZT0iIjtjb25zdCBzdD1jPT5wYXJzZUludChjLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpO2NsYXNzIHZle2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjIifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KTtsZXQgaT1lO3JldHVybiBpPWkqMzk3XnQsaX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHZlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFzQXJyYXkoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0fWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9YWRkVmVjdG9yMyhlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHR9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55KX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHR9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnkpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnkpfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9c2NhbGUoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHR9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSl9ZnJhY3QoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX1yb3RhdGVUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKTtyZXR1cm4gdC54PWkqdGhpcy54LXMqdGhpcy55LHQueT1zKnRoaXMueCtpKnRoaXMueSx0fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX1ub3JtYWxpemUoKXtyZXR1cm4gdmUuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyB2ZSgwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHZlKDEsMSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdmUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHZlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGl9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8saCl9c3RhdGljIENsYW1wKGUsdCxpKXtsZXQgcz1lLng7cz1zPmkueD9pLng6cyxzPXM8dC54P3QueDpzO2xldCByPWUueTtyZXR1cm4gcj1yPmkueT9pLnk6cixyPXI8dC55P3QueTpyLG5ldyBlLmNvbnN0cnVjdG9yKHMscil9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUueCpvK2kueCpoK3QueCpsK3MueCp1LGY9ZS55Km8raS55KmgrdC55Kmwrcy55KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZil9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG59c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS54Kyh0LngtZS54KSppLHI9ZS55Kyh0LnktZS55KSppO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO3JldHVybiBpPT09MHx8KHQueD1lLngvaSx0Lnk9ZS55L2kpLHR9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLng+dC54P2UueDp0Lngscz1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO3JldHVybiBpLng9cixpLnk9bixpfXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHZlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdmUuQ2VudGVyVG9SZWYoZSx0LGkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz12ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdmUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdmUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB2ZS5EaXN0YW5jZShlLGEpfX12ZS5fWmVyb1JlYWRPbmx5PXZlLlplcm8oKTtjbGFzcyBwe2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcC5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9aSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3opfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0KX1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otaSl9c3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHModGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feil9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfWdldE5vcm1hbFRvUmVmKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGgoKTtsZXQgaT1NYXRoLmFjb3ModGhpcy55L3QpO2NvbnN0IHM9TWF0aC5hdGFuMih0aGlzLnosdGhpcy54KTtpPk1hdGguUEkvMj9pLT1NYXRoLlBJLzI6aSs9TWF0aC5QSS8yO2NvbnN0IHI9dCpNYXRoLnNpbihpKSpNYXRoLmNvcyhzKSxuPXQqTWF0aC5jb3MoaSksYT10Kk1hdGguc2luKGkpKk1hdGguc2luKHMpO3JldHVybiBlLnNldChyLG4sYSksZX1hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdCl7Y29uc3QgaT1lLncqdGhpcy54K2UueSp0aGlzLnotZS56KnRoaXMueSxzPWUudyp0aGlzLnkrZS56KnRoaXMueC1lLngqdGhpcy56LHI9ZS53KnRoaXMueitlLngqdGhpcy55LWUueSp0aGlzLngsbj0tZS54KnRoaXMueC1lLnkqdGhpcy55LWUueip0aGlzLno7cmV0dXJuIHQueD1pKmUudytuKi1lLngrcyotZS56LXIqLWUueSx0Lnk9cyplLncrbiotZS55K3IqLWUueC1pKi1lLnosdC56PXIqZS53K24qLWUueitpKi1lLnktcyotZS54LHR9YXBwbHlSb3RhdGlvblF1YXRlcm5pb25JblBsYWNlKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0aGlzKX1hcHBseVJvdGF0aW9uUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsbmV3IHRoaXMuY29uc3RydWN0b3IpfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5hZGRJblBsYWNlRnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9cHJvamVjdE9uUGxhbmUoZSx0KXtjb25zdCBpPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnByb2plY3RPblBsYW5lVG9SZWYoZSx0LGkpLGl9cHJvamVjdE9uUGxhbmVUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLm5vcm1hbCxyPWUuZCxuPUsuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGE9cC5Eb3QobixzKTtpZihNYXRoLmFicyhhKTxNYXRoLnBvdygxMCwtMTApKWkuc2V0QWxsKDEvMCk7ZWxzZXtjb25zdCBvPS0ocC5Eb3QodCxzKStyKS9hLGg9bi5zY2FsZUluUGxhY2Uobyk7dC5hZGRUb1JlZihoLGkpfXJldHVybiBpfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5fen1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy5feCxlLl94LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feSxlLl95LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feixlLl96LHQpfWVxdWFsc1RvRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feD09PWUmJnRoaXMuX3k9PT10JiZ0aGlzLl96PT09aX1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCFYLldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIVguV2l0aGluRXBzaWxvbih0LHMsZSl8fCFYLldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KEsuVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPUsuVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChLLk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsSy5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsSy5WZWN0b3IzWzBdKSxLLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxLLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoSy5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKHRoaXMsZSx0KX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXNldEFsbChlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9ZSx0aGlzfXN0YXRpYyBHZXRDbGlwRmFjdG9yKGUsdCxpLHMpe2NvbnN0IHI9cC5Eb3QoZSxpKS1zLG49cC5Eb3QodCxpKS1zO3JldHVybiByLyhyLW4pfXN0YXRpYyBHZXRBbmdsZUJldHdlZW5WZWN0b3JzKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzFdKSxyPXQubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzJdKTtsZXQgbj1wLkRvdChzLHIpO249WC5DbGFtcChuLC0xLDEpO2NvbnN0IGE9TWF0aC5hY29zKG4pLG89Sy5WZWN0b3IzWzNdO3JldHVybiBwLkNyb3NzVG9SZWYocyxyLG8pLHAuRG90KG8saSk+MD9pc05hTihhKT8wOmE6aXNOYU4oYSk/LU1hdGguUEk6LU1hdGguYWNvcyhuKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9yc09uUGxhbmUoZSx0LGkpe0suVmVjdG9yM1swXS5jb3B5RnJvbShlKTtjb25zdCBzPUsuVmVjdG9yM1swXTtLLlZlY3RvcjNbMV0uY29weUZyb20odCk7Y29uc3Qgcj1LLlZlY3RvcjNbMV07Sy5WZWN0b3IzWzJdLmNvcHlGcm9tKGkpO2NvbnN0IG49Sy5WZWN0b3IzWzJdLGE9Sy5WZWN0b3IzWzNdLG89Sy5WZWN0b3IzWzRdO3Mubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxuLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihuLHMsYSkscC5Dcm9zc1RvUmVmKGEsbixvKTtjb25zdCBoPU1hdGguYXRhbjIocC5Eb3QocixhKSxwLkRvdChyLG8pKTtyZXR1cm4gWC5Ob3JtYWxpemVSYWRpYW5zKGgpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiB0LnN1YnRyYWN0VG9SZWYoZSxzKSxpLnk9TWF0aC5hdGFuMihzLngscy56KXx8MCxpLng9TWF0aC5hdGFuMihNYXRoLnNxcnQocy54KioyK3MueioqMikscy55KXx8MCxpLno9MCxpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5QaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9WC5DbGFtcChpLDAsMSk7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPXAuRG90KHIsbik7bGV0IGwsdTtpZihoPDEteGUpe2NvbnN0IGQ9TWF0aC5hY29zKGgpLGY9MS9NYXRoLnNpbihkKTtsPU1hdGguc2luKCgxLWkpKmQpKmYsdT1NYXRoLnNpbihpKmQpKmZ9ZWxzZSBsPTEtaSx1PWk7cmV0dXJuIHIuc2NhbGVJblBsYWNlKGwpLG4uc2NhbGVJblBsYWNlKHUpLHMuY29weUZyb20ocikuYWRkSW5QbGFjZShuKSxzLnNjYWxlSW5QbGFjZShYLkxlcnAoYSxvLGkpKSxzfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe3JldHVybiBwLlNsZXJwVG9SZWYoZSx0LHM9PT0wPzE6aS9zLHIpLHJ9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBwKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIHAuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PWVbdF0saS55PWVbdCsxXSxpLno9ZVt0KzJdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBwLkZyb21BcnJheVRvUmVmKGUsdCxpKX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKSxzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBwKDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBwKDEsMSwxKX1zdGF0aWMgVXAoKXtyZXR1cm4gbmV3IHAoMCwxLDApfXN0YXRpYyBnZXQgVXBSZWFkT25seSgpe3JldHVybiBwLl9VcFJlYWRPbmx5fXN0YXRpYyBnZXQgRG93blJlYWRPbmx5KCl7cmV0dXJuIHAuX0Rvd25SZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0UmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRSZWFkT25seSgpe3JldHVybiBwLl9MZWZ0UmVhZE9ubHl9c3RhdGljIGdldCBMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBwLl9aZXJvUmVhZE9ubHl9c3RhdGljIERvd24oKXtyZXR1cm4gbmV3IHAoMCwtMSwwKX1zdGF0aWMgRm9yd2FyZChlPSExKXtyZXR1cm4gbmV3IHAoMCwwLGU/LTE6MSl9c3RhdGljIEJhY2t3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8xOi0xKX1zdGF0aWMgUmlnaHQoKXtyZXR1cm4gbmV3IHAoMSwwLDApfXN0YXRpYyBMZWZ0KCl7cmV0dXJuIG5ldyBwKC0xLDAsMCl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci54PWEqbCxyLnk9bypsLHIuej1oKmwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpe3JldHVybiB0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tO3JldHVybiByLng9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci55PWUqblsxXSt0Km5bNV0raSpuWzldLHIuej1lKm5bMl0rdCpuWzZdK2kqblsxMF0scn1zdGF0aWMgQ2F0bXVsbFJvbShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89LjUqKDIqdC5feCsoLWUuX3graS5feCkqcisoMiplLl94LTUqdC5feCs0KmkuX3gtcy5feCkqbisoLWUuX3grMyp0Ll94LTMqaS5feCtzLl94KSphKSxoPS41KigyKnQuX3krKC1lLl95K2kuX3kpKnIrKDIqZS5feS01KnQuX3krNCppLl95LXMuX3kpKm4rKC1lLl95KzMqdC5feS0zKmkuX3krcy5feSkqYSksbD0uNSooMip0Ll96KygtZS5feitpLl96KSpyKygyKmUuX3otNSp0Ll96KzQqaS5fei1zLl96KSpuKygtZS5feiszKnQuX3otMyppLl96K3MuX3opKmEpO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGgsbCl9c3RhdGljIENsYW1wKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLkNsYW1wVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ2xhbXBUb1JlZihlLHQsaSxzKXtsZXQgcj1lLl94O3I9cj5pLl94P2kuX3g6cixyPXI8dC5feD90Ll94OnI7bGV0IG49ZS5feTtuPW4+aS5feT9pLl95Om4sbj1uPHQuX3k/dC5feTpuO2xldCBhPWUuX3o7cmV0dXJuIGE9YT5pLl96P2kuX3o6YSxhPWE8dC5fej90Ll96OmEscy5jb3B5RnJvbUZsb2F0cyhyLG4sYSksc31zdGF0aWMgQ2hlY2tFeHRlbmRzKGUsdCxpKXt0Lm1pbmltaXplSW5QbGFjZShlKSxpLm1heGltaXplSW5QbGFjZShlKX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LGY9ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LF89ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLGYsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG4uej0oYS1yKSo2KmUueisoMyphLTQqcisxKSp0LnorKC1hK3IpKjYqaS56KygzKmEtMipyKSpzLnosbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy54PWUuX3grKHQuX3gtZS5feCkqaSxzLnk9ZS5feSsodC5feS1lLl95KSppLHMuej1lLl96Kyh0Ll96LWUuX3opKmksc31zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fXN0YXRpYyBDcm9zcyhlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuQ3Jvc3NUb1JlZihlLHQsaSksaX1zdGF0aWMgQ3Jvc3NUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLl95KnQuX3otZS5feip0Ll95LHI9ZS5feip0Ll94LWUuX3gqdC5feixuPWUuX3gqdC5feS1lLl95KnQuX3g7cmV0dXJuIGkuY29weUZyb21GbG9hdHMocyxyLG4pLGl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiBwLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH1zdGF0aWMgTm9ybWFsaXplVG9SZWYoZSx0KXtyZXR1cm4gZS5ub3JtYWxpemVUb1JlZih0KSx0fXN0YXRpYyBQcm9qZWN0KGUsdCxpLHMpe2NvbnN0IHI9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuUHJvamVjdFRvUmVmKGUsdCxpLHMscikscn1zdGF0aWMgUHJvamVjdFRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLndpZHRoLGE9cy5oZWlnaHQsbz1zLngsaD1zLnksbD1LLk1hdHJpeFsxXTt4LkZyb21WYWx1ZXNUb1JlZihuLzIsMCwwLDAsMCwtYS8yLDAsMCwwLDAsLjUsMCxvK24vMixhLzIraCwuNSwxLGwpO2NvbnN0IHU9Sy5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihpLHUpLHUubXVsdGlwbHlUb1JlZihsLHUpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHUscikscn1zdGF0aWMgUmVmbGVjdChlLHQpe3JldHVybiB0aGlzLlJlZmxlY3RUb1JlZihlLHQsbmV3IHApfXN0YXRpYyBSZWZsZWN0VG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiBzLmNvcHlGcm9tKHQpLnNjYWxlSW5QbGFjZSgyKnAuRG90KGUsdCkpLGkuY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHMpfXN0YXRpYyBfVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZSx0LGkpe3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQsaSk7Y29uc3Qgcz10Lm0scj1lLl94KnNbM10rZS5feSpzWzddK2UuX3oqc1sxMV0rc1sxNV07cmV0dXJuIFguV2l0aGluRXBzaWxvbihyLDEpJiZpLnNjYWxlSW5QbGFjZSgxL3IpLGl9c3RhdGljIFVucHJvamVjdEZyb21UcmFuc2Zvcm0oZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5VbnByb2plY3QoZSx0LGkscyxyLHguSWRlbnRpdHlSZWFkT25seSl9c3RhdGljIFVucHJvamVjdChlLHQsaSxzLHIsbil7Y29uc3QgYT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5VbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKXtyZXR1cm4gcC5VbnByb2plY3RGbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkscyxyLG4sYSksYX1zdGF0aWMgVW5wcm9qZWN0RmxvYXRzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgpe3ZhciBsO2NvbnN0IHU9Sy5NYXRyaXhbMF07bi5tdWx0aXBseVRvUmVmKGEsdSksdS5tdWx0aXBseVRvUmVmKG8sdSksdS5pbnZlcnQoKTtjb25zdCBkPUsuVmVjdG9yM1swXTtyZXR1cm4gZC54PWUvcyoyLTEsZC55PS0odC9yKjItMSksISgobD1mZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxsPT09dm9pZCAwKSYmbC5pc05EQ0hhbGZaUmFuZ2U/ZC56PWk6ZC56PTIqaS0xLHAuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGQsdSxoKSxofXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5taW5pbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgTWF4aW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWF4aW1pemVJblBsYWNlKHQpLGl9c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydChwLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLl94LXQuX3gscz1lLl95LXQuX3kscj1lLl96LXQuX3o7cmV0dXJuIGkqaStzKnMrcipyfXN0YXRpYyBQcm9qZWN0T25UcmlhbmdsZVRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1LLlZlY3RvcjNbMF0sYT1LLlZlY3RvcjNbMV0sbz1LLlZlY3RvcjNbMl0saD1LLlZlY3RvcjNbM10sbD1LLlZlY3RvcjNbNF07aS5zdWJ0cmFjdFRvUmVmKHQsbikscy5zdWJ0cmFjdFRvUmVmKHQsYSkscy5zdWJ0cmFjdFRvUmVmKGksbyk7Y29uc3QgdT1uLmxlbmd0aCgpLGQ9YS5sZW5ndGgoKSxmPW8ubGVuZ3RoKCk7aWYodTx4ZXx8ZDx4ZXx8Zjx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7ZS5zdWJ0cmFjdFRvUmVmKHQsbCkscC5Dcm9zc1RvUmVmKG4sYSxoKTtjb25zdCBfPWgubGVuZ3RoKCk7aWYoXzx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7aC5ub3JtYWxpemVGcm9tTGVuZ3RoKF8pO2xldCBFPWwubGVuZ3RoKCk7aWYoRTx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSwwO2wubm9ybWFsaXplRnJvbUxlbmd0aChFKTtjb25zdCBtPXAuRG90KGgsbCksdj1LLlZlY3RvcjNbNV0sUz1LLlZlY3RvcjNbNl07di5jb3B5RnJvbShoKS5zY2FsZUluUGxhY2UoLUUqbSksUy5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHYpO2NvbnN0IHk9Sy5WZWN0b3IzWzRdLEE9Sy5WZWN0b3IzWzVdLEM9Sy5WZWN0b3IzWzddLGI9Sy5WZWN0b3IzWzhdO3kuY29weUZyb20obikuc2NhbGVJblBsYWNlKDEvdSksYi5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoMS9kKSx5LmFkZEluUGxhY2UoYikuc2NhbGVJblBsYWNlKC0xKSxBLmNvcHlGcm9tKG4pLnNjYWxlSW5QbGFjZSgtMS91KSxiLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgxL2YpLEEuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xL2YpLGIuY29weUZyb20oYSkuc2NhbGVJblBsYWNlKC0xL2QpLEMuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IE09Sy5WZWN0b3IzWzldO2xldCBMO00uY29weUZyb20oUykuc3VidHJhY3RJblBsYWNlKHQpLHAuQ3Jvc3NUb1JlZih5LE0sYiksTD1wLkRvdChiLGgpO2NvbnN0IGs9TDtNLmNvcHlGcm9tKFMpLnN1YnRyYWN0SW5QbGFjZShpKSxwLkNyb3NzVG9SZWYoQSxNLGIpLEw9cC5Eb3QoYixoKTtjb25zdCB3PUw7TS5jb3B5RnJvbShTKS5zdWJ0cmFjdEluUGxhY2UocykscC5Dcm9zc1RvUmVmKEMsTSxiKSxMPXAuRG90KGIsaCk7Y29uc3QgZGU9TCxjZT1LLlZlY3RvcjNbMTBdO2xldCBzZSx0ZTtrPjAmJnc8MD8oY2UuY29weUZyb20obiksc2U9dCx0ZT1pKTp3PjAmJmRlPDA/KGNlLmNvcHlGcm9tKG8pLHNlPWksdGU9cyk6KGNlLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgtMSksc2U9cyx0ZT10KTtjb25zdCBGZT1LLlZlY3RvcjNbOV0sd2U9Sy5WZWN0b3IzWzRdO2lmKHNlLnN1YnRyYWN0VG9SZWYoUyxiKSx0ZS5zdWJ0cmFjdFRvUmVmKFMsRmUpLHAuQ3Jvc3NUb1JlZihiLEZlLHdlKSwhKHAuRG90KHdlLGgpPDApKXJldHVybiByLmNvcHlGcm9tKFMpLE1hdGguYWJzKEUqbSk7Y29uc3QgS2U9Sy5WZWN0b3IzWzVdO3AuQ3Jvc3NUb1JlZihjZSx3ZSxLZSksS2Uubm9ybWFsaXplKCk7Y29uc3QgWWU9Sy5WZWN0b3IzWzldO1llLmNvcHlGcm9tKHNlKS5zdWJ0cmFjdEluUGxhY2UoUyk7Y29uc3QgcHQ9WWUubGVuZ3RoKCk7aWYocHQ8eGUpcmV0dXJuIHIuY29weUZyb20oc2UpLHAuRGlzdGFuY2UoZSxzZSk7WWUubm9ybWFsaXplRnJvbUxlbmd0aChwdCk7Y29uc3QgaHQ9cC5Eb3QoS2UsWWUpLHd0PUsuVmVjdG9yM1s3XTt3dC5jb3B5RnJvbShTKS5hZGRJblBsYWNlKEtlLnNjYWxlSW5QbGFjZShwdCpodCkpLGIuY29weUZyb20od3QpLnN1YnRyYWN0SW5QbGFjZShzZSksRT1jZS5sZW5ndGgoKSxjZS5ub3JtYWxpemVGcm9tTGVuZ3RoKEUpO2xldCBzaT1wLkRvdChiLGNlKS9NYXRoLm1heChFLHhlKTtyZXR1cm4gc2k9WC5DbGFtcChzaSwwLDEpLHd0LmNvcHlGcm9tKHNlKS5hZGRJblBsYWNlKGNlLnNjYWxlSW5QbGFjZShzaSpFKSksci5jb3B5RnJvbSh3dCkscC5EaXN0YW5jZShlLHd0KX1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHAuQ2VudGVyVG9SZWYoZSx0LHAuWmVybygpKX1zdGF0aWMgQ2VudGVyVG9SZWYoZSx0LGkpe3JldHVybiBpLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX1zdGF0aWMgUm90YXRpb25Gcm9tQXhpcyhlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGksciksci50b0V1bGVyQW5nbGVzVG9SZWYocyksc319cC5fVXBSZWFkT25seT1wLlVwKCkscC5fRG93blJlYWRPbmx5PXAuRG93bigpLHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9cC5Gb3J3YXJkKCExKSxwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCk7Y2xhc3MgQ2V7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fSBaOiAke3RoaXMuen0gVzogJHt0aGlzLnd9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjQifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KSxpPXN0KHRoaXMueikscz1zdCh0aGlzLncpO2xldCByPWU7cmV0dXJuIHI9ciozOTdedCxyPXIqMzk3Xmkscj1yKjM5N15zLHJ9YXNBcnJheSgpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfXRvQXJyYXkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdH1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSx0aGlzLnotZS56LHRoaXMudy1lLncpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdH1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1pLHRoaXMudy1zKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3JldHVybiByLng9dGhpcy54LWUsci55PXRoaXMueS10LHIuej10aGlzLnotaSxyLnc9dGhpcy53LXMscn1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHQuej10aGlzLnoqZSx0Lnc9dGhpcy53KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdH1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud31lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlguV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09aSYmdGhpcy53PT09c31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdH1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSxNYXRoLmZsb29yKHRoaXMueiksTWF0aC5mbG9vcih0aGlzLncpKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IHAodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9c2V0QWxsKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IENlKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD1lLHIueT10LHIuej1pLHIudz1zLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IENlKDAsMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IENlKDEsMSwxLDEpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIENlLl9aZXJvUmVhZE9ubHl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PUNlLlplcm8oKTtyZXR1cm4gQ2UuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCksdH1zdGF0aWMgTWluaW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoQ2UuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LHI9ZS56LXQueixuPWUudy10Lnc7cmV0dXJuIGkqaStzKnMrcipyK24qbn1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIENlLkNlbnRlclRvUmVmKGUsdCxDZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIsKGUueit0LnopLzIsKGUudyt0LncpLzIpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlcyhlLHQpe2NvbnN0IGk9Q2UuWmVybygpO3JldHVybiBDZS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gQ2UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tLGE9ZSpuWzBdK3Qqbls0XStpKm5bOF0rblsxMl0sbz1lKm5bMV0rdCpuWzVdK2kqbls5XStuWzEzXSxoPWUqblsyXSt0Km5bNl0raSpuWzEwXStuWzE0XSxsPWUqblszXSt0Km5bN10raSpuWzExXStuWzE1XTtyZXR1cm4gci54PWEsci55PW8sci56PWgsci53PWwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gQ2UuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07cmV0dXJuIGkueD1yLGkueT1uLGkuej1hLGkudz1lLncsaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtyZXR1cm4gbi54PWUqYVswXSt0KmFbNF0raSphWzhdLG4ueT1lKmFbMV0rdCphWzVdK2kqYVs5XSxuLno9ZSphWzJdK3QqYVs2XStpKmFbMTBdLG4udz1zLG59c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IENlKGUuX3gsZS5feSxlLl96LHQpfX1DZS5fWmVyb1JlYWRPbmx5PUNlLlplcm8oKTtjbGFzcyBae2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl93PXN9Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHcoKXtyZXR1cm4gdGhpcy5fd31zZXQgdyhlKXt0aGlzLl93PWUsdGhpcy5faXNEaXJ0eT0hMH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opLHM9c3QodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PXhlKXtyZXR1cm4gZSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3csZS5fdyx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3grPWUuX3gsdGhpcy5feSs9ZS5feSx0aGlzLl96Kz1lLl96LHRoaXMuX3crPWUuX3csdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUsdGhpcy5fdyplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLl94KmUsdC55PXRoaXMuX3kqZSx0Lno9dGhpcy5feiplLHQudz10aGlzLl93KmUsdH1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLl94KmUsdC55Kz10aGlzLl95KmUsdC56Kz10aGlzLl96KmUsdC53Kz10aGlzLl93KmUsdH1tdWx0aXBseShlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fW11bHRpcGx5VG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuX3gqZS5fdyt0aGlzLl95KmUuX3otdGhpcy5feiplLl95K3RoaXMuX3cqZS5feCxzPS10aGlzLl94KmUuX3ordGhpcy5feSplLl93K3RoaXMuX3oqZS5feCt0aGlzLl93KmUuX3kscj10aGlzLl94KmUuX3ktdGhpcy5feSplLl94K3RoaXMuX3oqZS5fdyt0aGlzLl93KmUuX3osbj0tdGhpcy5feCplLl94LXRoaXMuX3kqZS5feS10aGlzLl96KmUuX3ordGhpcy5fdyplLl93O3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKGkscyxyLG4pLHR9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfWNvbmp1Z2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96LHRoaXMuX3cpLGV9Y29uanVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfWNvbmp1Z2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX1pbnZlcnQoKXtjb25zdCBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfWludmVydEluUGxhY2UoKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTtjb25zdCBlPXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiBlPT0wfHxlPT0xP3RoaXM6KHRoaXMuc2NhbGVJblBsYWNlKDEvZSksdGhpcyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9bm9ybWFsaXplKCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9dG9FdWxlckFuZ2xlcygpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9dG9FdWxlckFuZ2xlc1RvUmVmKGUpe2NvbnN0IHQ9dGhpcy5feixpPXRoaXMuX3gscz10aGlzLl95LHI9dGhpcy5fdyxuPXMqdC1pKnIsYT0uNDk5OTk5OTtpZihuPC1hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9TWF0aC5QSS8yLGUuej0wO2Vsc2UgaWYobj5hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9LU1hdGguUEkvMixlLno9MDtlbHNle2NvbnN0IG89cipyLGg9dCp0LGw9aSppLHU9cypzO2Uuej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLng9TWF0aC5hc2luKC0yKm4pLGUueT1NYXRoLmF0YW4yKDIqKHQqaStzKnIpLGgtbC11K28pfXJldHVybiBlfXRvUm90YXRpb25NYXRyaXgoZSl7cmV0dXJuIHguRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLGV9ZnJvbVJvdGF0aW9uTWF0cml4KGUpe3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdGhpcyksdGhpc31zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KGUpe2NvbnN0IHQ9bmV3IFo7cmV0dXJuIFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KSx0fXN0YXRpYyBGcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpe2NvbnN0IGk9ZS5tLHM9aVswXSxyPWlbNF0sbj1pWzhdLGE9aVsxXSxvPWlbNV0saD1pWzldLGw9aVsyXSx1PWlbNl0sZD1pWzEwXSxmPXMrbytkO2xldCBfO3JldHVybiBmPjA/KF89LjUvTWF0aC5zcXJ0KGYrMSksdC53PS4yNS9fLHQueD0odS1oKSpfLHQueT0obi1sKSpfLHQuej0oYS1yKSpfKTpzPm8mJnM+ZD8oXz0yKk1hdGguc3FydCgxK3Mtby1kKSx0Lnc9KHUtaCkvXyx0Lng9LjI1Kl8sdC55PShyK2EpL18sdC56PShuK2wpL18pOm8+ZD8oXz0yKk1hdGguc3FydCgxK28tcy1kKSx0Lnc9KG4tbCkvXyx0Lng9KHIrYSkvXyx0Lnk9LjI1Kl8sdC56PShoK3UpL18pOihfPTIqTWF0aC5zcXJ0KDErZC1zLW8pLHQudz0oYS1yKS9fLHQueD0obitsKS9fLHQueT0oaCt1KS9fLHQuej0uMjUqXyksdH1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd31zdGF0aWMgQXJlQ2xvc2UoZSx0LGk9LjEpe2NvbnN0IHM9Wi5Eb3QoZSx0KTtyZXR1cm4gMS1zKnM8PWl9c3RhdGljIFNtb290aFRvUmVmKGUsdCxpLHMscil7bGV0IG49cz09PTA/MTppL3M7cmV0dXJuIG49WC5DbGFtcChuLDAsMSksWi5TbGVycFRvUmVmKGUsdCxuLHIpLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IFooMCwwLDAsMCl9c3RhdGljIEludmVyc2UoZSl7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfXN0YXRpYyBJbnZlcnNlVG9SZWYoZSx0KXtyZXR1cm4gdC5zZXQoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyksdH1zdGF0aWMgSWRlbnRpdHkoKXtyZXR1cm4gbmV3IFooMCwwLDAsMSl9c3RhdGljIElzSWRlbnRpdHkoZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfXN0YXRpYyBSb3RhdGlvbkF4aXMoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsbmV3IFopfXN0YXRpYyBSb3RhdGlvbkF4aXNUb1JlZihlLHQsaSl7Y29uc3Qgcz1NYXRoLnNpbih0LzIpO3JldHVybiBlLm5vcm1hbGl6ZSgpLGkudz1NYXRoLmNvcyh0LzIpLGkueD1lLl94KnMsaS55PWUuX3kqcyxpLno9ZS5feipzLGl9c3RhdGljIEZyb21BcnJheShlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgWihlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGkuej1lW3QrMl0saS53PWVbdCszXSxpfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXMoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXNUb1JlZihlLHQsaSxzKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHMpLHN9c3RhdGljIEZyb21FdWxlclZlY3RvcihlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZS5feSxlLl94LGUuX3osdCksdH1zdGF0aWMgRnJvbUV1bGVyVmVjdG9yVG9SZWYoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21Vbml0VmVjdG9yc1RvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KGUsdCkrMTtyZXR1cm4gczx4ZT9NYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/aS5zZXQoLWUueSxlLngsMCwwKTppLnNldCgwLC1lLnosZS55LDApOihwLkNyb3NzVG9SZWYoZSx0LEQuVmVjdG9yM1swXSksaS5zZXQoRC5WZWN0b3IzWzBdLngsRC5WZWN0b3IzWzBdLnksRC5WZWN0b3IzWzBdLnoscykpLGkubm9ybWFsaXplKCl9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqLjUsbj10Ki41LGE9ZSouNSxvPU1hdGguc2luKHIpLGg9TWF0aC5jb3MociksbD1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pLGQ9TWF0aC5zaW4oYSksZj1NYXRoLmNvcyhhKTtyZXR1cm4gcy54PWYqbCpoK2QqdSpvLHMueT1kKnUqaC1mKmwqbyxzLno9Zip1Km8tZCpsKmgscy53PWYqdSpoK2QqbCpvLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWEoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKXtjb25zdCByPShpK2UpKi41LG49KGktZSkqLjUsYT10Ki41O3JldHVybiBzLng9TWF0aC5jb3MobikqTWF0aC5zaW4oYSkscy55PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuej1NYXRoLnNpbihyKSpNYXRoLmNvcyhhKSxzLnc9TWF0aC5jb3MocikqTWF0aC5jb3MoYSksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXMoZSx0LGkpe2NvbnN0IHM9bmV3IFooMCwwLDAsMCk7cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5NYXRyaXhbMF07cmV0dXJuIHguRnJvbVhZWkF4ZXNUb1JlZihlLm5vcm1hbGl6ZSgpLHQubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxyKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHIscyksc31zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIHguTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgWjtyZXR1cm4gWi5Gcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpLGl9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSl7Y29uc3Qgcz1LLk1hdHJpeFswXTtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQscyksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihzLGkpfXN0YXRpYyBTbGVycChlLHQsaSl7Y29uc3Qgcz1aLklkZW50aXR5KCk7cmV0dXJuIFouU2xlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2xldCByLG4sYT1lLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3csbz0hMTtpZihhPDAmJihvPSEwLGE9LWEpLGE+Ljk5OTk5OSluPTEtaSxyPW8/LWk6aTtlbHNle2NvbnN0IGg9TWF0aC5hY29zKGEpLGw9MS9NYXRoLnNpbihoKTtuPU1hdGguc2luKCgxLWkpKmgpKmwscj1vPy1NYXRoLnNpbihpKmgpKmw6TWF0aC5zaW4oaSpoKSpsfXJldHVybiBzLng9biplLl94K3IqdC5feCxzLnk9biplLl95K3IqdC5feSxzLno9biplLl96K3IqdC5feixzLnc9biplLl93K3IqdC5fdyxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLl94Km8raS5feCpoK3QuX3gqbCtzLl94KnUsZj1lLl95Km8raS5feSpoK3QuX3kqbCtzLl95KnUsXz1lLl96Km8raS5feipoK3QuX3oqbCtzLl96KnUsRT1lLl93Km8raS5fdypoK3QuX3cqbCtzLl93KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZixfLEUpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4ueD0oYS1yKSo2KmUueCsoMyphLTQqcisxKSp0LngrKC1hK3IpKjYqaS54KygzKmEtMipyKSpzLngsbi55PShhLXIpKjYqZS55KygzKmEtNCpyKzEpKnQueSsoLWErcikqNippLnkrKDMqYS0yKnIpKnMueSxuLno9KGEtcikqNiplLnorKDMqYS00KnIrMSkqdC56KygtYStyKSo2KmkueisoMyphLTIqcikqcy56LG4udz0oYS1yKSo2KmUudysoMyphLTQqcisxKSp0LncrKC1hK3IpKjYqaS53KygzKmEtMipyKSpzLncsbn19Y2xhc3MgeHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwLHRoaXMudXBkYXRlRmxhZz0tMSxVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZSYmVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzLnB1c2godGhpcyksdGhpcy5fbT1uZXcgVWUuTWF0cml4Q3VycmVudFR5cGUoMTYpLHRoaXMubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIFVlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9eC5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9aXNJZGVudGl0eSgpe2lmKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSl7dGhpcy5faXNJZGVudGl0eURpcnR5PSExO2NvbnN0IGU9dGhpcy5fbTt0aGlzLl9pc0lkZW50aXR5PWVbMF09PT0xJiZlWzFdPT09MCYmZVsyXT09PTAmJmVbM109PT0wJiZlWzRdPT09MCYmZVs1XT09PTEmJmVbNl09PT0wJiZlWzddPT09MCYmZVs4XT09PTAmJmVbOV09PT0wJiZlWzEwXT09PTEmJmVbMTFdPT09MCYmZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xfXJldHVybiB0aGlzLl9pc0lkZW50aXR5fWlzSWRlbnRpdHlBczN4Migpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkmJih0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITEsdGhpcy5fbVswXSE9PTF8fHRoaXMuX21bNV0hPT0xfHx0aGlzLl9tWzE1XSE9PTE/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9tWzFdIT09MHx8dGhpcy5fbVsyXSE9PTB8fHRoaXMuX21bM10hPT0wfHx0aGlzLl9tWzRdIT09MHx8dGhpcy5fbVs2XSE9PTB8fHRoaXMuX21bN10hPT0wfHx0aGlzLl9tWzhdIT09MHx8dGhpcy5fbVs5XSE9PTB8fHRoaXMuX21bMTBdIT09MHx8dGhpcy5fbVsxMV0hPT0wfHx0aGlzLl9tWzEyXSE9PTB8fHRoaXMuX21bMTNdIT09MHx8dGhpcy5fbVsxNF0hPT0wP3RoaXMuX2lzSWRlbnRpdHkzeDI9ITE6dGhpcy5faXNJZGVudGl0eTN4Mj0hMCksdGhpcy5faXNJZGVudGl0eTN4Mn1kZXRlcm1pbmFudCgpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gMTtjb25zdCBlPXRoaXMuX20sdD1lWzBdLGk9ZVsxXSxzPWVbMl0scj1lWzNdLG49ZVs0XSxhPWVbNV0sbz1lWzZdLGg9ZVs3XSxsPWVbOF0sdT1lWzldLGQ9ZVsxMF0sZj1lWzExXSxfPWVbMTJdLEU9ZVsxM10sbT1lWzE0XSx2PWVbMTVdLFM9ZCp2LW0qZix5PXUqdi1FKmYsQT11Km0tRSpkLEM9bCp2LV8qZixiPWwqbS1kKl8sTT1sKkUtXyp1LEw9KyhhKlMtbyp5K2gqQSksaz0tKG4qUy1vKkMraCpiKSx3PSsobip5LWEqQytoKk0pLGRlPS0obipBLWEqYitvKk0pO3JldHVybiB0KkwraSprK3MqdytyKmRlfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1hc0FycmF5KCl7cmV0dXJuIHRoaXMuX219aW52ZXJ0KCl7cmV0dXJuIHRoaXMuaW52ZXJ0VG9SZWYodGhpcyksdGhpc31yZXNldCgpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSx0aGlzfWFkZChlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLmFkZFRvUmVmKGUsdCksdH1hZGRUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5fbSxzPXQuX20scj1lLm07Zm9yKGxldCBuPTA7bjwxNjtuKyspc1tuXT1pW25dK3Jbbl07cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9YWRkVG9TZWxmKGUpe2NvbnN0IHQ9dGhpcy5fbSxpPWUubTtmb3IobGV0IHM9MDtzPDE2O3MrKyl0W3NdKz1pW3NdO3JldHVybiB0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWludmVydFRvUmVmKGUpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4geC5JZGVudGl0eVRvUmVmKGUpLGU7Y29uc3QgdD10aGlzLl9tLGk9dFswXSxzPXRbMV0scj10WzJdLG49dFszXSxhPXRbNF0sbz10WzVdLGg9dFs2XSxsPXRbN10sdT10WzhdLGQ9dFs5XSxmPXRbMTBdLF89dFsxMV0sRT10WzEyXSxtPXRbMTNdLHY9dFsxNF0sUz10WzE1XSx5PWYqUy12Kl8sQT1kKlMtbSpfLEM9ZCp2LW0qZixiPXUqUy1FKl8sTT11KnYtZipFLEw9dSptLUUqZCxrPSsobyp5LWgqQStsKkMpLHc9LShhKnktaCpiK2wqTSksZGU9KyhhKkEtbypiK2wqTCksY2U9LShhKkMtbypNK2gqTCksc2U9aSprK3MqdytyKmRlK24qY2U7aWYoc2U9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgdGU9MS9zZSxGZT1oKlMtdipsLHdlPW8qUy1tKmwsSGU9byp2LW0qaCxLZT1hKlMtRSpsLFllPWEqdi1FKmgscHQ9YSptLUUqbyxodD1oKl8tZipsLHd0PW8qXy1kKmwsc2k9bypmLWQqaCxkcz1hKl8tdSpsLGZzPWEqZi11KmgsX3M9YSpkLXUqbyxYcz0tKHMqeS1yKkErbipDKSxIcz0rKGkqeS1yKmIrbipNKSxLcz0tKGkqQS1zKmIrbipMKSxZcz0rKGkqQy1zKk0rcipMKSxacz0rKHMqRmUtcip3ZStuKkhlKSxxcz0tKGkqRmUtcipLZStuKlllKSxIdD0rKGkqd2UtcypLZStuKnB0KSxLdD0tKGkqSGUtcypZZStyKnB0KSxZdD0tKHMqaHQtcip3dCtuKnNpKSxadD0rKGkqaHQtcipkcytuKmZzKSx3bD0tKGkqd3QtcypkcytuKl9zKSxPbD0rKGkqc2ktcypmcytyKl9zKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoayp0ZSxYcyp0ZSxacyp0ZSxZdCp0ZSx3KnRlLEhzKnRlLHFzKnRlLFp0KnRlLGRlKnRlLEtzKnRlLEh0KnRlLHdsKnRlLGNlKnRlLFlzKnRlLEt0KnRlLE9sKnRlLGUpLGV9YWRkQXRJbmRleChlLHQpe3JldHVybiB0aGlzLl9tW2VdKz10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9bXVsdGlwbHlBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0qPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl9tWzEyXT1lLHRoaXMuX21bMTNdPXQsdGhpcy5fbVsxNF09aSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdKz1lLHRoaXMuX21bMTNdKz10LHRoaXMuX21bMTRdKz1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9c2V0VHJhbnNsYXRpb24oZSl7cmV0dXJuIHRoaXMuc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX1nZXRUcmFuc2xhdGlvbigpe3JldHVybiBuZXcgcCh0aGlzLl9tWzEyXSx0aGlzLl9tWzEzXSx0aGlzLl9tWzE0XSl9Z2V0VHJhbnNsYXRpb25Ub1JlZihlKXtyZXR1cm4gZS54PXRoaXMuX21bMTJdLGUueT10aGlzLl9tWzEzXSxlLno9dGhpcy5fbVsxNF0sZX1yZW1vdmVSb3RhdGlvbkFuZFNjYWxpbmcoKXtjb25zdCBlPXRoaXMubTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0sdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xKSx0aGlzfW11bHRpcGx5KGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9Y29weUZyb20oZSl7ZS5jb3B5VG9BcnJheSh0aGlzLl9tKTtjb25zdCB0PWU7cmV0dXJuIHRoaXMudXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXModC5faXNJZGVudGl0eSx0Ll9pc0lkZW50aXR5RGlydHksdC5faXNJZGVudGl0eTN4Mix0Ll9pc0lkZW50aXR5M3gyRGlydHkpLHRoaXN9Y29weVRvQXJyYXkoZSx0PTApe2NvbnN0IGk9dGhpcy5fbTtyZXR1cm4gZVt0XT1pWzBdLGVbdCsxXT1pWzFdLGVbdCsyXT1pWzJdLGVbdCszXT1pWzNdLGVbdCs0XT1pWzRdLGVbdCs1XT1pWzVdLGVbdCs2XT1pWzZdLGVbdCs3XT1pWzddLGVbdCs4XT1pWzhdLGVbdCs5XT1pWzldLGVbdCsxMF09aVsxMF0sZVt0KzExXT1pWzExXSxlW3QrMTJdPWlbMTJdLGVbdCsxM109aVsxM10sZVt0KzE0XT1pWzE0XSxlW3QrMTVdPWlbMTVdLHRoaXN9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKGUpLHQpOmUuX2lzSWRlbnRpdHk/KHQuY29weUZyb20odGhpcyksdCk6KHRoaXMubXVsdGlwbHlUb0FycmF5KGUsdC5fbSwwKSx0Lm1hcmtBc1VwZGF0ZWQoKSx0KX1tdWx0aXBseVRvQXJyYXkoZSx0LGkpe2NvbnN0IHM9dGhpcy5fbSxyPWUubSxuPXNbMF0sYT1zWzFdLG89c1syXSxoPXNbM10sbD1zWzRdLHU9c1s1XSxkPXNbNl0sZj1zWzddLF89c1s4XSxFPXNbOV0sbT1zWzEwXSx2PXNbMTFdLFM9c1sxMl0seT1zWzEzXSxBPXNbMTRdLEM9c1sxNV0sYj1yWzBdLE09clsxXSxMPXJbMl0saz1yWzNdLHc9cls0XSxkZT1yWzVdLGNlPXJbNl0sc2U9cls3XSx0ZT1yWzhdLEZlPXJbOV0sd2U9clsxMF0sSGU9clsxMV0sS2U9clsxMl0sWWU9clsxM10scHQ9clsxNF0saHQ9clsxNV07cmV0dXJuIHRbaV09bipiK2EqdytvKnRlK2gqS2UsdFtpKzFdPW4qTSthKmRlK28qRmUraCpZZSx0W2krMl09bipMK2EqY2Urbyp3ZStoKnB0LHRbaSszXT1uKmsrYSpzZStvKkhlK2gqaHQsdFtpKzRdPWwqYit1KncrZCp0ZStmKktlLHRbaSs1XT1sKk0rdSpkZStkKkZlK2YqWWUsdFtpKzZdPWwqTCt1KmNlK2Qqd2UrZipwdCx0W2krN109bCprK3Uqc2UrZCpIZStmKmh0LHRbaSs4XT1fKmIrRSp3K20qdGUrdipLZSx0W2krOV09XypNK0UqZGUrbSpGZSt2KlllLHRbaSsxMF09XypMK0UqY2UrbSp3ZSt2KnB0LHRbaSsxMV09XyprK0Uqc2UrbSpIZSt2Kmh0LHRbaSsxMl09UypiK3kqdytBKnRlK0MqS2UsdFtpKzEzXT1TKk0reSpkZStBKkZlK0MqWWUsdFtpKzE0XT1TKkwreSpjZStBKndlK0MqcHQsdFtpKzE1XT1TKmsreSpzZStBKkhlK0MqaHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1zdCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnN0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7eC5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgQ2UodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB4LlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIHguSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyB4O3JldHVybiB4LkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiB4Ll9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsZixfLEUsbSx2KXtjb25zdCBTPXYuX207U1swXT1lLFNbMV09dCxTWzJdPWksU1szXT1zLFNbNF09cixTWzVdPW4sU1s2XT1hLFNbN109byxTWzhdPWgsU1s5XT1sLFNbMTBdPXUsU1sxMV09ZCxTWzEyXT1mLFNbMTNdPV8sU1sxNF09RSxTWzE1XT1tLHYubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLGYsXyxFLG0pe2NvbnN0IHY9bmV3IHgsUz12Ll9tO3JldHVybiBTWzBdPWUsU1sxXT10LFNbMl09aSxTWzNdPXMsU1s0XT1yLFNbNV09bixTWzZdPWEsU1s3XT1vLFNbOF09aCxTWzldPWwsU1sxMF09dSxTWzExXT1kLFNbMTJdPWYsU1sxM109XyxTWzE0XT1FLFNbMTVdPW0sdi5tYXJrQXNVcGRhdGVkKCksdn1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sZj1uKmwsXz1uKnUsRT1uKmQsbT1hKnUsdj1hKmQsUz1vKmQseT1oKmwsQT1oKnUsQz1oKmQsYj1lLl94LE09ZS5feSxMPWUuX3o7cmV0dXJuIHJbMF09KDEtKG0rUykpKmIsclsxXT0oXytDKSpiLHJbMl09KEUtQSkqYixyWzNdPTAscls0XT0oXy1DKSpNLHJbNV09KDEtKGYrUykpKk0scls2XT0odit5KSpNLHJbN109MCxyWzhdPShFK0EpKkwscls5XT0odi15KSpMLHJbMTBdPSgxLShmK20pKSpMLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IHg7cmV0dXJuIHguUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyB4O3JldHVybiB4LlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTEreGUpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHguTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IGY9Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxmKSx4LkNvbXBvc2VUb1JlZih1LGQsZixzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO3guRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4Lkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLHguRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IHg7cmV0dXJuIHguT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyB4O3JldHVybiB4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxmPTIvKGwtaCksXz0tKGwraCkvKGwtaCksRT0oZSt0KS8oZS10KSxtPShzK2kpLyhpLXMpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLGYsMCxFLG0sXywxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihxdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgeCxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLGY9LTIqaCpvLyhoLW8pLF89TWF0aC50YW4obik7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsXywwLDAsZCwxLDAsMCxmLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKHF0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgeDtyZXR1cm4geC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksZj1uP2QvdDpkLF89bj9kOmQqdCxFPWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsbT1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsdj1NYXRoLnRhbihvKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoZiwwLDAsMCwwLF8sMCx2LDAsMCxFLDEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLGY9bj9kL3Q6ZCxfPW4/ZDpkKnQsRT1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSxtPWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCx2PU1hdGgudGFuKG8pO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsXywwLHYsMCwwLEUsLTEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKHF0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksZj0yLyh1K2QpLF89Mi8oaCtsKSxFPU1hdGgudGFuKGEpLG09cy5fbTtyZXR1cm4gbVswXT1mLG1bMV09bVsyXT1tWzNdPW1bNF09MCxtWzVdPV8sbVs2XT0wLG1bN109RSxtWzhdPSh1LWQpKmYqLjUsbVs5XT0tKChoLWwpKl8qLjUpLG1bMTBdPS1pLyh0LWkpLG1bMTFdPTEqbyxtWzEyXT1tWzEzXT1tWzE1XT0wLG1bMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihxdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT14LkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19eC5fVXBkYXRlRmxhZ1NlZWQ9MCx4Ll9JZGVudGl0eVJlYWRPbmx5PXguSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PUJlLkJ1aWxkVHVwbGUoMix4LklkZW50aXR5KSxLLlF1YXRlcm5pb249QmUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRHt9RC5WZWN0b3IyPUJlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxELlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEQuVmVjdG9yND1CZS5CdWlsZFR1cGxlKDMsQ2UuWmVybyksRC5RdWF0ZXJuaW9uPUJlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEQuTWF0cml4PUJlLkJ1aWxkVHVwbGUoOCx4LklkZW50aXR5KSxpdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksaXQoIkJBQllMT04uVmVjdG9yMyIscCksaXQoIkJBQllMT04uVmVjdG9yNCIsQ2UpLGl0KCJCQUJZTE9OLk1hdHJpeCIseCk7Y29uc3QgcXQ9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgS3J7Y29uc3RydWN0b3IoZSx0PSExLGkscyl7dGhpcy5pbml0aWFsaXplKGUsdCxpLHMpfWluaXRpYWxpemUoZSx0PSExLGkscyl7cmV0dXJuIHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1pLHRoaXMuY3VycmVudFRhcmdldD1zLHRoaXN9fWNsYXNzIFlye2NvbnN0cnVjdG9yKGUsdCxpPW51bGwpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPWksdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITF9fWNsYXNzIEZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ9MCx0aGlzLl9ldmVudFN0YXRlPW5ldyBLcigwKSxlJiYodGhpcy5fb25PYnNlcnZlckFkZGVkPWUpfXN0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IEY7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWFkZChlLHQ9LTEsaT0hMSxzPW51bGwscj0hMSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgWXIoZSx0LHMpO3JldHVybiBuLnVucmVnaXN0ZXJPbk5leHRDYWxsPXIsaT90aGlzLl9vYnNlcnZlcnMudW5zaGlmdChuKTp0aGlzLl9vYnNlcnZlcnMucHVzaChuKSx0aGlzLl9vbk9ic2VydmVyQWRkZWQmJnRoaXMuX29uT2JzZXJ2ZXJBZGRlZChuKSxufWFkZE9uY2UoZSl7cmV0dXJuIHRoaXMuYWRkKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfXJlbW92ZShlKXtyZXR1cm4gZSYmdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSkhPT0tMT8odGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLCEwKTohMX1yZW1vdmVDYWxsYmFjayhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fb2JzZXJ2ZXJzW2ldO2lmKCFzLl93aWxsQmVVbnJlZ2lzdGVyZWQmJnMuY2FsbGJhY2s9PT1lJiYoIXR8fHQ9PT1zLnNjb3BlKSlyZXR1cm4gdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHMpLCEwfXJldHVybiExfV9kZWZlclVucmVnaXN0ZXIoZSl7dGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkKyssZS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuX3JlbW92ZShlKX0sMCl9X3JlbW92ZShlLHQ9ITApe2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMT8odCYmdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkLS0sdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpLDEpLCEwKTohMX1tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eShlKXt0aGlzLl9yZW1vdmUoZSwhMSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9bWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUsITEpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfW5vdGlmeU9ic2VydmVycyhlLHQ9LTEsaSxzLHIpe2lmKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKXJldHVybiEwO2NvbnN0IG49dGhpcy5fZXZlbnRTdGF0ZTtuLm1hc2s9dCxuLnRhcmdldD1pLG4uY3VycmVudFRhcmdldD1zLG4uc2tpcE5leHRPYnNlcnZlcnM9ITEsbi5sYXN0UmV0dXJuVmFsdWU9ZSxuLnVzZXJJbmZvPXI7Zm9yKGNvbnN0IGEgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKCFhLl93aWxsQmVVbnJlZ2lzdGVyZWQmJihhLm1hc2smdCYmKGEudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihhKSxhLnNjb3BlP24ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2suYXBwbHkoYS5zY29wZSxbZSxuXSk6bi5sYXN0UmV0dXJuVmFsdWU9YS5jYWxsYmFjayhlLG4pKSxuLnNraXBOZXh0T2JzZXJ2ZXJzKSlyZXR1cm4hMTtyZXR1cm4hMH1ub3RpZnlPYnNlcnZlcihlLHQsaT0tMSl7aWYoZS5fd2lsbEJlVW5yZWdpc3RlcmVkKXJldHVybjtjb25zdCBzPXRoaXMuX2V2ZW50U3RhdGU7cy5tYXNrPWkscy5za2lwTmV4dE9ic2VydmVycz0hMSxlLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksZS5jYWxsYmFjayh0LHMpfWhhc09ic2VydmVycygpe3JldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoLXRoaXMuX251bU9ic2VydmVyc01hcmtlZEFzRGVsZXRlZD4wfWNsZWFyKCl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9vbk9ic2VydmVyQWRkZWQ9bnVsbCx0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ9MH1jbG9uZSgpe2NvbnN0IGU9bmV3IEY7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX1oYXNTcGVjaWZpY01hc2soZT0tMSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKHQubWFzayZlfHx0Lm1hc2s9PT1lKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBacntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fY2FjaGVkV3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX2NhY2hlZFdyYXBWPWV9Z2V0IHdyYXBSKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBSfXNldCB3cmFwUihlKXt0aGlzLl9jYWNoZWRXcmFwUj1lfWdldCBhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWx9c2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoZSl7dGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1lfWdldCBjb21wYXJpc29uRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9ufXNldCBjb21wYXJpc29uRnVuY3Rpb24oZSl7dGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPWV9Z2V0IHVzZU1pcE1hcHMoKXtyZXR1cm4gdGhpcy5fdXNlTWlwTWFwc31zZXQgdXNlTWlwTWFwcyhlKXt0aGlzLl91c2VNaXBNYXBzPWV9c2V0UGFyYW1ldGVycyhlPTEsdD0xLGk9MSxzPTEscj0yLG49MCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPWUsdGhpcy5fY2FjaGVkV3JhcFY9dCx0aGlzLl9jYWNoZWRXcmFwUj1pLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9cyx0aGlzLnNhbXBsaW5nTW9kZT1yLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1uLHRoaXN9Y29tcGFyZVNhbXBsZXIoZSl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVPT09ZS5fY2FjaGVkV3JhcFUmJnRoaXMuX2NhY2hlZFdyYXBWPT09ZS5fY2FjaGVkV3JhcFYmJnRoaXMuX2NhY2hlZFdyYXBSPT09ZS5fY2FjaGVkV3JhcFImJnRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9PT1lLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsJiZ0aGlzLnNhbXBsaW5nTW9kZT09PWUuc2FtcGxpbmdNb2RlJiZ0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249PT1lLl9jb21wYXJpc29uRnVuY3Rpb24mJnRoaXMuX3VzZU1pcE1hcHM9PT1lLl91c2VNaXBNYXBzfX12YXIgTmU7KGZ1bmN0aW9uKGMpe2NbYy5Vbmtub3duPTBdPSJVbmtub3duIixjW2MuVXJsPTFdPSJVcmwiLGNbYy5UZW1wPTJdPSJUZW1wIixjW2MuUmF3PTNdPSJSYXciLGNbYy5EeW5hbWljPTRdPSJEeW5hbWljIixjW2MuUmVuZGVyVGFyZ2V0PTVdPSJSZW5kZXJUYXJnZXQiLGNbYy5NdWx0aVJlbmRlclRhcmdldD02XT0iTXVsdGlSZW5kZXJUYXJnZXQiLGNbYy5DdWJlPTddPSJDdWJlIixjW2MuQ3ViZVJhdz04XT0iQ3ViZVJhdyIsY1tjLkN1YmVQcmVmaWx0ZXJlZD05XT0iQ3ViZVByZWZpbHRlcmVkIixjW2MuUmF3M0Q9MTBdPSJSYXczRCIsY1tjLlJhdzJEQXJyYXk9MTFdPSJSYXcyREFycmF5IixjW2MuRGVwdGhTdGVuY2lsPTEyXT0iRGVwdGhTdGVuY2lsIixjW2MuQ3ViZVJhd1JHQkQ9MTNdPSJDdWJlUmF3UkdCRCIsY1tjLkRlcHRoPTE0XT0iRGVwdGgifSkoTmV8fChOZT17fSkpO2NsYXNzIE90IGV4dGVuZHMgWnJ7Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPU5lLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD1PdC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWdldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfV9zZXRVbmlxdWVJZChlKXt0aGlzLl91bmlxdWVJZD1lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9aW5jcmVtZW50UmVmZXJlbmNlcygpe3RoaXMuX3JlZmVyZW5jZXMrK311cGRhdGVTaXplKGUsdCxpPTEpe3RoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucyh0aGlzLGUsdCxpKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPWksdGhpcy5iYXNlV2lkdGg9ZSx0aGlzLmJhc2VIZWlnaHQ9dCx0aGlzLmJhc2VEZXB0aD1pLHRoaXMuX3NpemU9ZSp0Kml9X3JlYnVpbGQoKXt2YXIgZTtpZih0aGlzLmlzUmVhZHk9ITEsdGhpcy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPW51bGwsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMub25SZWJ1aWxkQ2FsbGJhY2spe2NvbnN0IGk9dGhpcy5vblJlYnVpbGRDYWxsYmFjayh0aGlzKSxzPXI9PntyLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT1pLmlzUmVhZHl9O2kuaXNBc3luYz9pLnByb3h5LnRoZW4ocyk6cyhpLnByb3h5KTtyZXR1cm59bGV0IHQ7c3dpdGNoKHRoaXMuc291cmNlKXtjYXNlIE5lLlRlbXA6YnJlYWs7Y2FzZSBOZS5Vcmw6dD10aGlzLl9lbmdpbmUuY3JlYXRlVGV4dHVyZSgoZT10aGlzLl9vcmlnaW5hbFVybCkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy51cmwsIXRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSxudWxsLHRoaXMuc2FtcGxpbmdNb2RlLGk9PntpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBOZS5SYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLlJhdzNEOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUzRCh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLlJhdzJEQXJyYXk6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBOZS5EeW5hbWljOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLnNhbXBsaW5nTW9kZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1RleHR1cmUodGhpcyx0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5pbnZlcnRZLHZvaWQgMCx2b2lkIDAsITApO2JyZWFrO2Nhc2UgTmUuQ3ViZTp0PXRoaXMuX2VuZ2luZS5jcmVhdGVDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2ZpbGVzLCF0aGlzLmdlbmVyYXRlTWlwTWFwcywoKT0+e3QuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiwhMSwwLDAsbnVsbCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgTmUuQ3ViZVJhdzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3QXJyYXksdGhpcy53aWR0aCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uKSx0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIE5lLkN1YmVSYXdSR0JEOnJldHVybjtjYXNlIE5lLkN1YmVQcmVmaWx0ZXJlZDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVQcmVmaWx0ZXJlZEN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQsaT0+e2kmJmkuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiksdC5fc3BoZXJpY2FsUG9seW5vbWlhbD10aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsO3JldHVybn19X3N3YXBBbmREaWUoZSx0PSEwKXt2YXIgaTsoaT10aGlzLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5zZXRVc2FnZShlLl9zb3VyY2UsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pc0N1YmUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksZS5faGFyZHdhcmVUZXh0dXJlPXRoaXMuX2hhcmR3YXJlVGV4dHVyZSx0JiYoZS5faXNSR0JEPXRoaXMuX2lzUkdCRCksdGhpcy5fbG9kVGV4dHVyZUhpZ2gmJihlLl9sb2RUZXh0dXJlSGlnaCYmZS5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVIaWdoPXRoaXMuX2xvZFRleHR1cmVIaWdoKSx0aGlzLl9sb2RUZXh0dXJlTWlkJiYoZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZD10aGlzLl9sb2RUZXh0dXJlTWlkKSx0aGlzLl9sb2RUZXh0dXJlTG93JiYoZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdz10aGlzLl9sb2RUZXh0dXJlTG93KSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZSYmKGUuX2lycmFkaWFuY2VUZXh0dXJlJiZlLl9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmU9dGhpcy5faXJyYWRpYW5jZVRleHR1cmUpO2NvbnN0IHM9dGhpcy5fZW5naW5lLmdldExvYWRlZFRleHR1cmVzQ2FjaGUoKTtsZXQgcj1zLmluZGV4T2YodGhpcyk7ciE9PS0xJiZzLnNwbGljZShyLDEpLHI9cy5pbmRleE9mKGUpLHI9PT0tMSYmcy5wdXNoKGUpfWRpc3Bvc2UoKXt0aGlzLl9yZWZlcmVuY2VzLS0sdGhpcy5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcmVmZXJlbmNlcz09PTAmJih0aGlzLl9lbmdpbmUuX3JlbGVhc2VUZXh0dXJlKHRoaXMpLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsKX19T3QuX0NvdW50ZXI9MDtmdW5jdGlvbiBqZSgpe3JldHVybiB0eXBlb2Ygd2luZG93PCJ1In1mdW5jdGlvbiBKcygpe3JldHVybiB0eXBlb2YgbmF2aWdhdG9yPCJ1In1mdW5jdGlvbiBDaSgpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ8InUifWZ1bmN0aW9uIGdzKGMpe2xldCBlPSIiLHQ9Yy5maXJzdENoaWxkO2Zvcig7dDspdC5ub2RlVHlwZT09PTMmJihlKz10LnRleHRDb250ZW50KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9Y29uc3QgcHM9e0lzV2luZG93T2JqZWN0RXhpc3Q6amUsSXNOYXZpZ2F0b3JBdmFpbGFibGU6SnMsSXNEb2N1bWVudEF2YWlsYWJsZTpDaSxHZXRET01UZXh0Q29udGVudDpnc307ZnVuY3Rpb24gUShjKXtyZXR1cm5gJHtjfSBuZWVkcyB0byBiZSBpbXBvcnRlZCBiZWZvcmUgYXMgaXQgY29udGFpbnMgYSBzaWRlLWVmZmVjdCByZXF1aXJlZCBieSB5b3VyIGNvZGUuYH1jbGFzcyBPe3N0YXRpYyBfQ2hlY2tMaW1pdChlLHQpe2xldCBpPU8uX0xvZ0xpbWl0T3V0cHV0c1tlXTtyZXR1cm4gaT9pLmN1cnJlbnQrKzooaT17bGltaXQ6dCxjdXJyZW50OjF9LE8uX0xvZ0xpbWl0T3V0cHV0c1tlXT1pKSxpLmN1cnJlbnQ8PWkubGltaXR9c3RhdGljIF9HZW5lcmF0ZUxpbWl0TWVzc2FnZShlLHQ9MSl7dmFyIGk7Y29uc3Qgcz1PLl9Mb2dMaW1pdE91dHB1dHNbZV07aWYoIXN8fCFPLk1lc3NhZ2VMaW1pdFJlYWNoZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fTGV2ZWxzW3RdO3MuY3VycmVudD09PXMubGltaXQmJk9bci5uYW1lXShPLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3MubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLChpPXIubmFtZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6IiIpKX1zdGF0aWMgX0FkZExvZ0VudHJ5KGUpe08uX0xvZ0NhY2hlPWUrTy5fTG9nQ2FjaGUsTy5Pbk5ld0NhY2hlRW50cnkmJk8uT25OZXdDYWNoZUVudHJ5KGUpfXN0YXRpYyBfRm9ybWF0TWVzc2FnZShlKXtjb25zdCB0PXM9PnM8MTA/IjAiK3M6IiIrcyxpPW5ldyBEYXRlO3JldHVybiJbIit0KGkuZ2V0SG91cnMoKSkrIjoiK3QoaS5nZXRNaW51dGVzKCkpKyI6Iit0KGkuZ2V0U2Vjb25kcygpKSsiXTogIitlfXN0YXRpYyBfTG9nRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9Mb2dFbmFibGVkKGU9MSx0LGkpe2lmKGkhPT12b2lkIDAmJiFPLl9DaGVja0xpbWl0KHQsaSkpcmV0dXJuO2NvbnN0IHM9Ty5fRm9ybWF0TWVzc2FnZSh0KSxyPXRoaXMuX0xldmVsc1tlXTtyLmxvZ0Z1bmMmJnIubG9nRnVuYygiQkpTIC0gIitzKTtjb25zdCBuPWA8ZGl2IHN0eWxlPSdjb2xvcjoke3IuY29sb3J9Jz4ke3N9PC9kaXY+PGJyPmA7Ty5fQWRkTG9nRW50cnkobiksTy5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UodCxlKX1zdGF0aWMgZ2V0IExvZ0NhY2hlKCl7cmV0dXJuIE8uX0xvZ0NhY2hlfXN0YXRpYyBDbGVhckxvZ0NhY2hlKCl7Ty5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uZXJyb3JzQ291bnQ9MH1zdGF0aWMgc2V0IExvZ0xldmVscyhlKXtPLkxvZz1PLl9Mb2dEaXNhYmxlZCxPLldhcm49Ty5fTG9nRGlzYWJsZWQsTy5FcnJvcj1PLl9Mb2dEaXNhYmxlZCxbTy5NZXNzYWdlTG9nTGV2ZWwsTy5XYXJuaW5nTG9nTGV2ZWwsTy5FcnJvckxvZ0xldmVsXS5mb3JFYWNoKHQ9PntpZigoZSZ0KT09PXQpe2NvbnN0IGk9dGhpcy5fTGV2ZWxzW3RdO09baS5uYW1lXT1PLl9Mb2dFbmFibGVkLmJpbmQoTyx0KX19KX19Ty5Ob25lTG9nTGV2ZWw9MCxPLk1lc3NhZ2VMb2dMZXZlbD0xLE8uV2FybmluZ0xvZ0xldmVsPTIsTy5FcnJvckxvZ0xldmVsPTQsTy5BbGxMb2dMZXZlbD03LE8uTWVzc2FnZUxpbWl0UmVhY2hlZD0iVG9vIG1hbnkgJVRZUEUlcyAoJUxJTUlUJSksIG5vIG1vcmUgJVRZUEUlcyB3aWxsIGJlIHJlcG9ydGVkIGZvciB0aGlzIG1lc3NhZ2UuIixPLl9Mb2dDYWNoZT0iIixPLl9Mb2dMaW1pdE91dHB1dHM9e30sTy5fTGV2ZWxzPVt7fSx7Y29sb3I6IndoaXRlIixsb2dGdW5jOmNvbnNvbGUubG9nLG5hbWU6IkxvZyJ9LHtjb2xvcjoib3JhbmdlIixsb2dGdW5jOmNvbnNvbGUud2FybixuYW1lOiJXYXJuIn0se30se2NvbG9yOiJyZWQiLGxvZ0Z1bmM6Y29uc29sZS5lcnJvcixuYW1lOiJFcnJvciJ9XSxPLmVycm9yc0NvdW50PTAsTy5Mb2c9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5NZXNzYWdlTG9nTGV2ZWwpLE8uV2Fybj1PLl9Mb2dFbmFibGVkLmJpbmQoTyxPLldhcm5pbmdMb2dMZXZlbCksTy5FcnJvcj1PLl9Mb2dFbmFibGVkLmJpbmQoTyxPLkVycm9yTG9nTGV2ZWwpO2NvbnN0IHFyPSJhdHRyaWJ1dGUiLGpyPSJ2YXJ5aW5nIjtjbGFzcyBJaXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2hpbGRyZW49W119aXNWYWxpZChlKXtyZXR1cm4hMH1wcm9jZXNzKGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPSIiO2lmKHRoaXMubGluZSl7bGV0IGw9dGhpcy5saW5lO2NvbnN0IHU9dC5wcm9jZXNzb3I7aWYodSl7dS5saW5lUHJvY2Vzc29yJiYobD11LmxpbmVQcm9jZXNzb3IobCx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpO2NvbnN0IGQ9KHM9KGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5hdHRyaWJ1dGVLZXl3b3JkTmFtZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6cXIsZj10LmlzRnJhZ21lbnQmJigocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lKT8obj10LnByb2Nlc3Nvcik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lOiF0LmlzRnJhZ21lbnQmJigoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnZhcnlpbmdWZXJ0ZXhLZXl3b3JkTmFtZSk/KG89dC5wcm9jZXNzb3IpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWU6anI7IXQuaXNGcmFnbWVudCYmdS5hdHRyaWJ1dGVQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKGQpP2w9dS5hdHRyaWJ1dGVQcm9jZXNzb3IodGhpcy5saW5lLGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6dS52YXJ5aW5nUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aChmKT9sPXUudmFyeWluZ1Byb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6dS51bmlmb3JtUHJvY2Vzc29yJiZ1LnVuaWZvcm1SZWdleHAmJnUudW5pZm9ybVJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobD11LnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTp1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJnUudW5pZm9ybUJ1ZmZlclJlZ2V4cCYmdS51bmlmb3JtQnVmZmVyUmVnZXhwLnRlc3QodGhpcy5saW5lKT90Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fChsPXUudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCk6dS50ZXh0dXJlUHJvY2Vzc29yJiZ1LnRleHR1cmVSZWdleHAmJnUudGV4dHVyZVJlZ2V4cC50ZXN0KHRoaXMubGluZSk/bD11LnRleHR1cmVQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOih1LnVuaWZvcm1Qcm9jZXNzb3J8fHUudW5pZm9ybUJ1ZmZlclByb2Nlc3NvcikmJnRoaXMubGluZS5zdGFydHNXaXRoKCJ1bmlmb3JtIikmJiF0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJigvdW5pZm9ybVxzKyg/Oig/OmhpZ2hwKT98KD86bG93cCk/KVxzKihcUyspXHMrKFxTKylccyo7Ly50ZXN0KHRoaXMubGluZSk/dS51bmlmb3JtUHJvY2Vzc29yJiYobD11LnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTp1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJihsPXUudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCkpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlciYmdGhpcy5saW5lLmluZGV4T2YoIn0iKSE9PS0xJiYodC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSExLHUuZW5kT2ZVbmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYobD11LmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSl9aCs9bCtgXHIKYH1yZXR1cm4gdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGw9PntoKz1sLnByb2Nlc3MoZSx0KX0pLHRoaXMuYWRkaXRpb25hbERlZmluZUtleSYmKGVbdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5XT10aGlzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZXx8InRydWUiKSxofX1jbGFzcyBRcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpbmVzPVtdfWdldCBjdXJyZW50TGluZSgpe3JldHVybiB0aGlzLl9saW5lc1t0aGlzLmxpbmVJbmRleF19Z2V0IGNhblJlYWQoKXtyZXR1cm4gdGhpcy5saW5lSW5kZXg8dGhpcy5fbGluZXMubGVuZ3RoLTF9c2V0IGxpbmVzKGUpe3RoaXMuX2xpbmVzLmxlbmd0aD0wO2Zvcihjb25zdCB0IG9mIGUpe2lmKHRbMF09PT0iIyIpe3RoaXMuX2xpbmVzLnB1c2godCk7Y29udGludWV9aWYodC50cmltKCkuc3RhcnRzV2l0aCgiLy8iKSl7dGhpcy5fbGluZXMucHVzaCh0KTtjb250aW51ZX1jb25zdCBpPXQuc3BsaXQoIjsiKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7bGV0IHI9aVtzXTtyPXIudHJpbSgpLHImJnRoaXMuX2xpbmVzLnB1c2gocisocyE9PWkubGVuZ3RoLTE/IjsiOiIiKSl9fX19Y2xhc3MgbXMgZXh0ZW5kcyBJaXtwcm9jZXNzKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5jaGlsZHJlbltpXTtpZihzLmlzVmFsaWQoZSkpcmV0dXJuIHMucHJvY2VzcyhlLHQpfXJldHVybiIifX1jbGFzcyAkciBleHRlbmRzIElpe2lzVmFsaWQoZSl7cmV0dXJuIHRoaXMudGVzdEV4cHJlc3Npb24uaXNUcnVlKGUpfX1jbGFzcyBldHtpc1RydWUoZSl7cmV0dXJuITB9c3RhdGljIHBvc3RmaXhUb0luZml4KGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSlpZihldC5fT3BlcmF0b3JQcmlvcml0eVtpXT09PXZvaWQgMCl0LnB1c2goaSk7ZWxzZXtjb25zdCBzPXRbdC5sZW5ndGgtMV0scj10W3QubGVuZ3RoLTJdO3QubGVuZ3RoLT0yLHQucHVzaChgKCR7cn0ke2l9JHtzfSlgKX1yZXR1cm4gdFt0Lmxlbmd0aC0xXX1zdGF0aWMgaW5maXhUb1Bvc3RmaXgoZSl7Y29uc3QgdD1bXTtsZXQgaT0tMTtjb25zdCBzPSgpPT57aD1oLnRyaW0oKSxoIT09IiImJih0LnB1c2goaCksaD0iIil9LHI9bD0+e2k8ZXQuX1N0YWNrLmxlbmd0aC0xJiYoZXQuX1N0YWNrWysraV09bCl9LG49KCk9PmV0Ll9TdGFja1tpXSxhPSgpPT5pPT09LTE/IiEhSU5WQUxJRCBFWFBSRVNTSU9OISEiOmV0Ll9TdGFja1tpLS1dO2xldCBvPTAsaD0iIjtmb3IoO288ZS5sZW5ndGg7KXtjb25zdCBsPWUuY2hhckF0KG8pLHU9bzxlLmxlbmd0aC0xP2Uuc3Vic3RyKG8sMik6IiI7aWYobD09PSIoIiloPSIiLHIobCk7ZWxzZSBpZihsPT09IikiKXtmb3IocygpO2khPT0tMSYmbigpIT09IigiOyl0LnB1c2goYSgpKTthKCl9ZWxzZSBpZihldC5fT3BlcmF0b3JQcmlvcml0eVt1XT4xKXtmb3IocygpO2khPT0tMSYmZXQuX09wZXJhdG9yUHJpb3JpdHlbbigpXT49ZXQuX09wZXJhdG9yUHJpb3JpdHlbdV07KXQucHVzaChhKCkpO3IodSksbysrfWVsc2UgaCs9bDtvKyt9Zm9yKHMoKTtpIT09LTE7KW4oKT09PSIoIj9hKCk6dC5wdXNoKGEoKSk7cmV0dXJuIHR9fWV0Ll9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxldC5fU3RhY2s9WyIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiXTtjbGFzcyBHaSBleHRlbmRzIGV0e2NvbnN0cnVjdG9yKGUsdD0hMSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMubm90PXR9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHQ9IXQpLHR9fWNsYXNzIEpyIGV4dGVuZHMgZXR7aXNUcnVlKGUpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZShlKXx8dGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKGUpfX1jbGFzcyBlbiBleHRlbmRzIGV0e2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSkmJnRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgdG4gZXh0ZW5kcyBldHtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMub3BlcmFuZD10LHRoaXMudGVzdFZhbHVlPWl9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdO3Q9PT12b2lkIDAmJih0PXRoaXMuZGVmaW5lKTtsZXQgaT0hMTtjb25zdCBzPXBhcnNlSW50KHQpLHI9cGFyc2VJbnQodGhpcy50ZXN0VmFsdWUpO3N3aXRjaCh0aGlzLm9wZXJhbmQpe2Nhc2UiPiI6aT1zPnI7YnJlYWs7Y2FzZSI8IjppPXM8cjticmVhaztjYXNlIjw9IjppPXM8PXI7YnJlYWs7Y2FzZSI+PSI6aT1zPj1yO2JyZWFrO2Nhc2UiPT0iOmk9cz09PXI7YnJlYWt9cmV0dXJuIGl9fXZhciBaZTsoZnVuY3Rpb24oYyl7Y1tjLkdMU0w9MF09IkdMU0wiLGNbYy5XR1NMPTFdPSJXR1NMIn0pKFplfHwoWmU9e30pKTtjb25zdCBzbj0vZGVmaW5lZFxzKj9cKCguKz8pXCkvZyxFcz0vZGVmaW5lZFxzKj9cWyguKz8pXF0vZyxlcj0vI2luY2x1ZGVccz88KC4rKT4oXCgoLiopXCkpKihcWyguKilcXSkqL2c7Y2xhc3Mgbml7c3RhdGljIEluaXRpYWxpemUoZSl7ZS5wcm9jZXNzb3ImJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyhlLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgUHJvY2VzcyhlLHQsaSxzKXt2YXIgcjshKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnByZVByb2Nlc3NTaGFkZXJDb2RlJiYoZT10LnByb2Nlc3Nvci5wcmVQcm9jZXNzU2hhZGVyQ29kZShlLHQuaXNGcmFnbWVudCkpLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhlLHQsbj0+e3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobj10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixuKSk7Y29uc3QgYT10aGlzLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbihuLHQscyk7aShhLG4pfSl9c3RhdGljIFByZVByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fQXBwbHlQcmVQcm9jZXNzaW5nKG4sdCxzKTtpKGEsbil9KX1zdGF0aWMgRmluYWxpemUoZSx0LGkpe3JldHVybiFpLnByb2Nlc3Nvcnx8IWkucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTppLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LGkucHJvY2Vzc2luZ0NvbnRleHQpfXN0YXRpYyBfUHJvY2Vzc1ByZWNpc2lvbihlLHQpe3ZhciBpO2lmKCEoKGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubm9QcmVjaXNpb24pcmV0dXJuIGU7Y29uc3Qgcz10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9zP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6c3x8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfXN0YXRpYyBfRXh0cmFjdE9wZXJhdGlvbihlKXtjb25zdCBpPS9kZWZpbmVkXCgoLispXCkvLmV4ZWMoZSk7aWYoaSYmaS5sZW5ndGgpcmV0dXJuIG5ldyBHaShpWzFdLnRyaW0oKSxlWzBdPT09IiEiKTtjb25zdCBzPVsiPT0iLCI+PSIsIjw9IiwiPCIsIj4iXTtsZXQgcj0iIixuPTA7Zm9yKHIgb2YgcylpZihuPWUuaW5kZXhPZihyKSxuPi0xKWJyZWFrO2lmKG49PT0tMSlyZXR1cm4gbmV3IEdpKGUpO2NvbnN0IGE9ZS5zdWJzdHJpbmcoMCxuKS50cmltKCksbz1lLnN1YnN0cmluZyhuK3IubGVuZ3RoKS50cmltKCk7cmV0dXJuIG5ldyB0bihhLHIsbyl9c3RhdGljIF9CdWlsZFN1YkV4cHJlc3Npb24oZSl7ZT1lLnJlcGxhY2Uoc24sImRlZmluZWRbJDFdIik7Y29uc3QgdD1ldC5pbmZpeFRvUG9zdGZpeChlKSxpPVtdO2Zvcihjb25zdCByIG9mIHQpaWYociE9PSJ8fCImJnIhPT0iJiYiKWkucHVzaChyKTtlbHNlIGlmKGkubGVuZ3RoPj0yKXtsZXQgbj1pW2kubGVuZ3RoLTFdLGE9aVtpLmxlbmd0aC0yXTtpLmxlbmd0aC09Mjtjb25zdCBvPXI9PSImJiI/bmV3IGVuOm5ldyBKcjt0eXBlb2Ygbj09InN0cmluZyImJihuPW4ucmVwbGFjZShFcywiZGVmaW5lZCgkMSkiKSksdHlwZW9mIGE9PSJzdHJpbmciJiYoYT1hLnJlcGxhY2UoRXMsImRlZmluZWQoJDEpIikpLG8ubGVmdE9wZXJhbmQ9dHlwZW9mIGE9PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24oYSk6YSxvLnJpZ2h0T3BlcmFuZD10eXBlb2Ygbj09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihuKTpuLGkucHVzaChvKX1sZXQgcz1pW2kubGVuZ3RoLTFdO3JldHVybiB0eXBlb2Ygcz09InN0cmluZyImJihzPXMucmVwbGFjZShFcywiZGVmaW5lZCgkMSkiKSksdHlwZW9mIHM9PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24ocyk6c31zdGF0aWMgX0J1aWxkRXhwcmVzc2lvbihlLHQpe2NvbnN0IGk9bmV3ICRyLHM9ZS5zdWJzdHJpbmcoMCx0KTtsZXQgcj1lLnN1YnN0cmluZyh0KTtyZXR1cm4gcj1yLnN1YnN0cmluZygwLChyLmluZGV4T2YoIi8vIikrMXx8ci5sZW5ndGgrMSktMSkudHJpbSgpLHM9PT0iI2lmZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBHaShyKTpzPT09IiNpZm5kZWYiP2kudGVzdEV4cHJlc3Npb249bmV3IEdpKHIsITApOmkudGVzdEV4cHJlc3Npb249dGhpcy5fQnVpbGRTdWJFeHByZXNzaW9uKHIpLGl9c3RhdGljIF9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSx0LGkpe2xldCBzPWUuY3VycmVudExpbmU7Zm9yKDt0aGlzLl9Nb3ZlQ3Vyc29yKGUsaSk7KXtzPWUuY3VycmVudExpbmU7Y29uc3Qgcj1zLnN1YnN0cmluZygwLDUpLnRvTG93ZXJDYXNlKCk7aWYocj09PSIjZWxzZSIpe2NvbnN0IG49bmV3IElpO3QuY2hpbGRyZW4ucHVzaChuKSx0aGlzLl9Nb3ZlQ3Vyc29yKGUsbik7cmV0dXJufWVsc2UgaWYocj09PSIjZWxpZiIpe2NvbnN0IG49dGhpcy5fQnVpbGRFeHByZXNzaW9uKHMsNSk7dC5jaGlsZHJlbi5wdXNoKG4pLGk9bn19fXN0YXRpYyBfTW92ZUN1cnNvcihlLHQpe2Zvcig7ZS5jYW5SZWFkOyl7ZS5saW5lSW5kZXgrKztjb25zdCBpPWUuY3VycmVudExpbmUscj0vKCNpZmRlZil8KCNlbHNlKXwoI2VsaWYpfCgjZW5kaWYpfCgjaWZuZGVmKXwoI2lmKS8uZXhlYyhpKTtpZihyJiZyLmxlbmd0aClzd2l0Y2goclswXSl7Y2FzZSIjaWZkZWYiOntjb25zdCBhPW5ldyBtczt0LmNoaWxkcmVuLnB1c2goYSk7Y29uc3Qgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSw2KTthLmNoaWxkcmVuLnB1c2gobyksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsYSxvKTticmVha31jYXNlIiNlbHNlIjpjYXNlIiNlbGlmIjpyZXR1cm4hMDtjYXNlIiNlbmRpZiI6cmV0dXJuITE7Y2FzZSIjaWZuZGVmIjp7Y29uc3QgYT1uZXcgbXM7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNyk7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjaWYiOntjb25zdCBhPW5ldyBtcyxvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDMpO3QuY2hpbGRyZW4ucHVzaChhKSxhLmNoaWxkcmVuLnB1c2gobyksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsYSxvKTticmVha319ZWxzZXtjb25zdCBuPW5ldyBJaTtpZihuLmxpbmU9aSx0LmNoaWxkcmVuLnB1c2gobiksaVswXT09PSIjIiYmaVsxXT09PSJkIil7Y29uc3QgYT1pLnJlcGxhY2UoIjsiLCIiKS5zcGxpdCgiICIpO24uYWRkaXRpb25hbERlZmluZUtleT1hWzFdLGEubGVuZ3RoPT09MyYmKG4uYWRkaXRpb25hbERlZmluZVZhbHVlPWFbMl0pfX19cmV0dXJuITF9c3RhdGljIF9FdmFsdWF0ZVByZVByb2Nlc3NvcnMoZSx0LGkpe2NvbnN0IHM9bmV3IElpLHI9bmV3IFFyO3JldHVybiByLmxpbmVJbmRleD0tMSxyLmxpbmVzPWUuc3BsaXQoYApgKSx0aGlzLl9Nb3ZlQ3Vyc29yKHIscykscy5wcm9jZXNzKHQsaSl9c3RhdGljIF9QcmVwYXJlUHJlUHJvY2Vzc29ycyhlLHQpe3ZhciBpO2NvbnN0IHM9ZS5kZWZpbmVzLHI9e307Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3Qgbz1uLnJlcGxhY2UoIiNkZWZpbmUiLCIiKS5yZXBsYWNlKCI7IiwiIikudHJpbSgpLnNwbGl0KCIgIik7cltvWzBdXT1vLmxlbmd0aD4xP29bMV06IiJ9cmV0dXJuKChpPWUucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc2hhZGVyTGFuZ3VhZ2UpPT09WmUuR0xTTCYmKHIuR0xfRVM9InRydWUiKSxyLl9fVkVSU0lPTl9fPWUudmVyc2lvbixyW2UucGxhdGZvcm1OYW1lXT0idHJ1ZSIsdC5fZ2V0R2xvYmFsRGVmaW5lcyhyKSxyfXN0YXRpYyBfUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24oZSx0LGkpe2xldCBzPXRoaXMuX1Byb2Nlc3NQcmVjaXNpb24oZSx0KTtpZighdC5wcm9jZXNzb3J8fHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09WmUuR0xTTCYmcy5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSYmKHM9cy5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKSwhdC5wcm9jZXNzb3IucGFyc2VHTEVTMykpcmV0dXJuIHM7Y29uc3Qgcj10LmRlZmluZXMsbj10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LGkpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxzPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhzLG4sdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQsaSkpLGkuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPWkuaW5saW5lU2hhZGVyQ29kZShzKSksc31zdGF0aWMgX0FwcGx5UHJlUHJvY2Vzc2luZyhlLHQsaSl7dmFyIHMscjtsZXQgbj1lO2NvbnN0IGE9dC5kZWZpbmVzLG89dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4hKChzPXQucHJvY2Vzc29yKT09PW51bGx8fHM9PT12b2lkIDApJiZzLnByZVByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLG49dGhpcy5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzKG4sbyx0KSwhKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnBvc3RQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IobixhLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYobj1pLmlubGluZVNoYWRlckNvZGUobikpLG59c3RhdGljIF9Qcm9jZXNzSW5jbHVkZXMoZSx0LGkpe2xldCBzPWVyLmV4ZWMoZSkscj1uZXcgU3RyaW5nKGUpLG49ITE7Zm9yKDtzIT1udWxsOyl7bGV0IGE9c1sxXTtpZihhLmluZGV4T2YoIl9fZGVjbF9fIikhPT0tMSYmKGE9YS5yZXBsYWNlKC9fX2RlY2xfXy8sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGE9YS5yZXBsYWNlKC9WZXJ0ZXgvLCJVYm8iKSxhPWEucmVwbGFjZSgvRnJhZ21lbnQvLCJVYm8iKSksYT1hKyJEZWNsYXJhdGlvbiIpLHQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV0pe2xldCBvPXQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV07aWYoc1syXSl7Y29uc3QgaD1zWzNdLnNwbGl0KCIsIik7Zm9yKGxldCBsPTA7bDxoLmxlbmd0aDtsKz0yKXtjb25zdCB1PW5ldyBSZWdFeHAoaFtsXSwiZyIpLGQ9aFtsKzFdO289by5yZXBsYWNlKHUsZCl9fWlmKHNbNF0pe2NvbnN0IGg9c1s1XTtpZihoLmluZGV4T2YoIi4uIikhPT0tMSl7Y29uc3QgbD1oLnNwbGl0KCIuLiIpLHU9cGFyc2VJbnQobFswXSk7bGV0IGQ9cGFyc2VJbnQobFsxXSksZj1vLnNsaWNlKDApO289IiIsaXNOYU4oZCkmJihkPXQuaW5kZXhQYXJhbWV0ZXJzW2xbMV1dKTtmb3IobGV0IF89dTtfPGQ7XysrKXQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KGY9Zi5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csKEUsbSk9Pm0rIntYfSIpKSxvKz1mLnJlcGxhY2UoL1x7WFx9L2csXy50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChvPW8ucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLChsLHUpPT51KyJ7WH0iKSksbz1vLnJlcGxhY2UoL1x7WFx9L2csaCl9cj1yLnJlcGxhY2Uoc1swXSxvKSxuPW58fG8uaW5kZXhPZigiI2luY2x1ZGU8Iik+PTB8fG8uaW5kZXhPZigiI2luY2x1ZGUgPCIpPj0wfWVsc2V7Y29uc3Qgbz10LnNoYWRlcnNSZXBvc2l0b3J5KyJTaGFkZXJzSW5jbHVkZS8iK2ErIi5meCI7bmkuX0ZpbGVUb29sc0xvYWRGaWxlKG8saD0+e3QuaW5jbHVkZXNTaGFkZXJzU3RvcmVbYV09aCx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMocix0LGkpfSk7cmV0dXJufXM9ZXIuZXhlYyhlKX1uP3RoaXMuX1Byb2Nlc3NJbmNsdWRlcyhyLnRvU3RyaW5nKCksdCxpKTppKHIpfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEZpbGUoZSx0LGkscyxyLG4pe3Rocm93IFEoIkZpbGVUb29scyIpfX1jbGFzcyBVe3N0YXRpYyBHZXRTaGFkZXJzUmVwb3NpdG9yeShlPVplLkdMU0wpe3JldHVybiBlPT09WmUuR0xTTD9VLlNoYWRlcnNSZXBvc2l0b3J5OlUuU2hhZGVyc1JlcG9zaXRvcnlXR1NMfXN0YXRpYyBHZXRTaGFkZXJzU3RvcmUoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/VS5TaGFkZXJzU3RvcmU6VS5TaGFkZXJzU3RvcmVXR1NMfXN0YXRpYyBHZXRJbmNsdWRlc1NoYWRlcnNTdG9yZShlPVplLkdMU0wpe3JldHVybiBlPT09WmUuR0xTTD9VLkluY2x1ZGVzU2hhZGVyc1N0b3JlOlUuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMfX1VLlNoYWRlcnNSZXBvc2l0b3J5PSJzcmMvU2hhZGVycy8iLFUuU2hhZGVyc1N0b3JlPXt9LFUuSW5jbHVkZXNTaGFkZXJzU3RvcmU9e30sVS5TaGFkZXJzUmVwb3NpdG9yeVdHU0w9InNyYy9TaGFkZXJzV0dTTC8iLFUuU2hhZGVyc1N0b3JlV0dTTD17fSxVLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTD17fTtjbGFzcyBQZXtjb25zdHJ1Y3RvcihlLHQsaSxzPW51bGwscixuPW51bGwsYT1udWxsLG89bnVsbCxoPW51bGwsbCx1PSIiLGQ9WmUuR0xTTCl7dmFyIGYsXyxFO3RoaXMubmFtZT1udWxsLHRoaXMuZGVmaW5lcz0iIix0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLm9uQmluZD1udWxsLHRoaXMudW5pcXVlSWQ9MCx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW51bGwsdGhpcy5fd2FzUHJldmlvdXNseVJlYWR5PSExLHRoaXMuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSx0aGlzLl93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9bnVsbCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMSx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzPXt9LHRoaXMuX211bHRpVGFyZ2V0PSExLHRoaXMuX3NhbXBsZXJzPXt9LHRoaXMuX2lzUmVhZHk9ITEsdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5fa2V5PSIiLHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPW51bGwsdGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5fdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249IiIsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5uYW1lPWUsdGhpcy5fa2V5PXU7bGV0IG0sdj1udWxsO2lmKHQuYXR0cmlidXRlcyl7Y29uc3Qgaz10O2lmKHRoaXMuX2VuZ2luZT1pLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz1rLmF0dHJpYnV0ZXMsdGhpcy5fdW5pZm9ybXNOYW1lcz1rLnVuaWZvcm1zTmFtZXMuY29uY2F0KGsuc2FtcGxlcnMpLHRoaXMuX3NhbXBsZXJMaXN0PWsuc2FtcGxlcnMuc2xpY2UoKSx0aGlzLmRlZmluZXM9ay5kZWZpbmVzLHRoaXMub25FcnJvcj1rLm9uRXJyb3IsdGhpcy5vbkNvbXBpbGVkPWsub25Db21waWxlZCx0aGlzLl9mYWxsYmFja3M9ay5mYWxsYmFja3MsdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWsuaW5kZXhQYXJhbWV0ZXJzLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M9ay50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzfHxudWxsLHRoaXMuX211bHRpVGFyZ2V0PSEhay5tdWx0aVRhcmdldCx0aGlzLl9zaGFkZXJMYW5ndWFnZT0oZj1rLnNoYWRlckxhbmd1YWdlKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpaZS5HTFNMLGsudW5pZm9ybUJ1ZmZlcnNOYW1lcyl7dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9ay51bmlmb3JtQnVmZmVyc05hbWVzLnNsaWNlKCk7Zm9yKGxldCB3PTA7dzxrLnVuaWZvcm1CdWZmZXJzTmFtZXMubGVuZ3RoO3crKyl0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW2sudW5pZm9ybUJ1ZmZlcnNOYW1lc1t3XV09d312PShfPWsucHJvY2Vzc0ZpbmFsQ29kZSkhPT1udWxsJiZfIT09dm9pZCAwP186bnVsbCxtPShFPWsucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKSE9PW51bGwmJkUhPT12b2lkIDA/RTp2b2lkIDB9ZWxzZSB0aGlzLl9lbmdpbmU9cix0aGlzLmRlZmluZXM9bj09bnVsbD8iIjpuLHRoaXMuX3VuaWZvcm1zTmFtZXM9aS5jb25jYXQocyksdGhpcy5fc2FtcGxlckxpc3Q9cz9zLnNsaWNlKCk6W10sdGhpcy5fYXR0cmlidXRlc05hbWVzPXQsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9W10sdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9ZCx0aGlzLm9uRXJyb3I9aCx0aGlzLm9uQ29tcGlsZWQ9byx0aGlzLl9pbmRleFBhcmFtZXRlcnM9bCx0aGlzLl9mYWxsYmFja3M9YTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT17fSx0aGlzLnVuaXF1ZUlkPVBlLl9VbmlxdWVJZFNlZWQrKztsZXQgUyx5O2NvbnN0IEE9amUoKT90aGlzLl9lbmdpbmUuZ2V0SG9zdERvY3VtZW50KCk6bnVsbDtlLnZlcnRleFNvdXJjZT9TPSJzb3VyY2U6IitlLnZlcnRleFNvdXJjZTplLnZlcnRleEVsZW1lbnQ/KFM9QT9BLmdldEVsZW1lbnRCeUlkKGUudmVydGV4RWxlbWVudCk6bnVsbCxTfHwoUz1lLnZlcnRleEVsZW1lbnQpKTpTPWUudmVydGV4fHxlLGUuZnJhZ21lbnRTb3VyY2U/eT0ic291cmNlOiIrZS5mcmFnbWVudFNvdXJjZTplLmZyYWdtZW50RWxlbWVudD8oeT1BP0EuZ2V0RWxlbWVudEJ5SWQoZS5mcmFnbWVudEVsZW1lbnQpOm51bGwseXx8KHk9ZS5mcmFnbWVudEVsZW1lbnQpKTp5PWUuZnJhZ21lbnR8fGUsdGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQ9dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dCh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7bGV0IEM9e2RlZmluZXM6dGhpcy5kZWZpbmVzLnNwbGl0KGAKYCksaW5kZXhQYXJhbWV0ZXJzOnRoaXMuX2luZGV4UGFyYW1ldGVycyxpc0ZyYWdtZW50OiExLHNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI6dGhpcy5fZW5naW5lLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyLHByb2Nlc3Nvcjp0aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3Nvcih0aGlzLl9zaGFkZXJMYW5ndWFnZSksc3VwcG9ydHNVbmlmb3JtQnVmZmVyczp0aGlzLl9lbmdpbmUuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxzaGFkZXJzUmVwb3NpdG9yeTpVLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKSxpbmNsdWRlc1NoYWRlcnNTdG9yZTpVLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKSx2ZXJzaW9uOih0aGlzLl9lbmdpbmUudmVyc2lvbioxMDApLnRvU3RyaW5nKCkscGxhdGZvcm1OYW1lOnRoaXMuX2VuZ2luZS5zaGFkZXJQbGF0Zm9ybU5hbWUscHJvY2Vzc2luZ0NvbnRleHQ6dGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQsaXNORENIYWxmWlJhbmdlOnRoaXMuX2VuZ2luZS5pc05EQ0hhbGZaUmFuZ2UsdXNlUmV2ZXJzZURlcHRoQnVmZmVyOnRoaXMuX2VuZ2luZS51c2VSZXZlcnNlRGVwdGhCdWZmZXIscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOm19O2NvbnN0IGI9W3ZvaWQgMCx2b2lkIDBdLE09KCk9PntpZihiWzBdJiZiWzFdKXtDLmlzRnJhZ21lbnQ9ITA7Y29uc3Rbayx3XT1iO25pLlByb2Nlc3ModyxDLChkZSxjZSk9Pnt0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249Y2UsdiYmKGRlPXYoImZyYWdtZW50IixkZSkpO2NvbnN0IHNlPW5pLkZpbmFsaXplKGssZGUsQyk7Qz1udWxsLHRoaXMuX3VzZUZpbmFsQ29kZShzZS52ZXJ0ZXhDb2RlLHNlLmZyYWdtZW50Q29kZSxlKX0sdGhpcy5fZW5naW5lKX19O3RoaXMuX2xvYWRTaGFkZXIoUywiVmVydGV4IiwiIixrPT57bmkuSW5pdGlhbGl6ZShDKSxuaS5Qcm9jZXNzKGssQywodyxkZSk9Pnt0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPWssdGhpcy5fdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj1kZSx2JiYodz12KCJ2ZXJ0ZXgiLHcpKSxiWzBdPXcsTSgpfSx0aGlzLl9lbmdpbmUpfSksdGhpcy5fbG9hZFNoYWRlcih5LCJGcmFnbWVudCIsIlBpeGVsIixrPT57dGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPWssYlsxXT1rLE0oKX0pO2NvbnN0IEw9ZnVuY3Rpb24oayl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dCYmdGhpcy5fcGlwZWxpbmVDb250ZXh0W2tdLmFwcGx5KHRoaXMuX3BpcGVsaW5lQ29udGV4dCxhcmd1bWVudHMpLHRoaXN9fTtbIkludD8iLCJVSW50PyIsIkludEFycmF5PyIsIlVJbnRBcnJheT8iLCJBcnJheT8iLCJDb2xvcj8iLCJWZWN0b3I/IiwiRmxvYXQ/IiwiTWF0cmljZXMiLCJNYXRyaXgiLCJNYXRyaXgzeDMiLCJNYXRyaXgyeDIiLCJRdWF0ZXJuaW9uIiwiRGlyZWN0Q29sb3I0Il0uZm9yRWFjaChrPT57Y29uc3Qgdz1gc2V0JHtrfWA7dy5lbmRzV2l0aCgiPyIpP1siIiwyLDMsNF0uZm9yRWFjaChkZT0+e3RoaXNbdy5zbGljZSgwLC0xKStkZV09dGhpc1t3LnNsaWNlKDAsLTEpK2RlXXx8TCh3LnNsaWNlKDAsLTEpK2RlKS5iaW5kKHRoaXMpfSk6dGhpc1t3XT10aGlzW3ddfHxMKHcpLmJpbmQodGhpcyl9KX1zdGF0aWMgZ2V0IFNoYWRlcnNSZXBvc2l0b3J5KCl7cmV0dXJuIFUuU2hhZGVyc1JlcG9zaXRvcnl9c3RhdGljIHNldCBTaGFkZXJzUmVwb3NpdG9yeShlKXtVLlNoYWRlcnNSZXBvc2l0b3J5PWV9Z2V0IG9uQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uQmluZE9ic2VydmFibGV9X3VzZUZpbmFsQ29kZShlLHQsaSl7aWYoaSl7Y29uc3Qgcz1pLnZlcnRleEVsZW1lbnR8fGkudmVydGV4fHxpLnNwZWN0b3JOYW1lfHxpLHI9aS5mcmFnbWVudEVsZW1lbnR8fGkuZnJhZ21lbnR8fGkuc3BlY3Rvck5hbWV8fGk7dGhpcy5fdmVydGV4U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1aZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIHZlcnRleDoiK3MrYApgK2UsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PVplLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgZnJhZ21lbnQ6IityK2AKYCt0fWVsc2UgdGhpcy5fdmVydGV4U291cmNlQ29kZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT10O3RoaXMuX3ByZXBhcmVFZmZlY3QoKX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX2tleX1pc1JlYWR5KCl7dHJ5e3JldHVybiB0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKX1jYXRjaHtyZXR1cm4hMX19X2lzUmVhZHlJbnRlcm5hbCgpe3JldHVybiB0aGlzLl9pc1JlYWR5PyEwOnRoaXMuX3BpcGVsaW5lQ29udGV4dD90aGlzLl9waXBlbGluZUNvbnRleHQuaXNSZWFkeTohMX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldFBpcGVsaW5lQ29udGV4dCgpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHR9Z2V0QXR0cmlidXRlc05hbWVzKCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNOYW1lc31nZXRBdHRyaWJ1dGVMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc1tlXX1nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbZV19Z2V0QXR0cmlidXRlc0NvdW50KCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMubGVuZ3RofWdldFVuaWZvcm1JbmRleChlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lcy5pbmRleE9mKGUpfWdldFVuaWZvcm0oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zW2VdfWdldFNhbXBsZXJzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXJMaXN0fWdldFVuaWZvcm1OYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzfWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3R9Z2V0SW5kZXhQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2luZGV4UGFyYW1ldGVyc31nZXRDb21waWxhdGlvbkVycm9yKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3J9YWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCl7cmV0dXJuIHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZH1leGVjdXRlV2hlbkNvbXBpbGVkKGUpe2lmKHRoaXMuaXNSZWFkeSgpKXtlKHRoaXMpO3JldHVybn10aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuYWRkKHQ9PntlKHQpfSksKCF0aGlzLl9waXBlbGluZUNvbnRleHR8fHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jKSYmc2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShudWxsKX0sMTYpfV9jaGVja0lzUmVhZHkoZSl7dHJ5e2lmKHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpKXJldHVybn1jYXRjaCh0KXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnModCxlKTtyZXR1cm59dGhpcy5faXNEaXNwb3NlZHx8c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShlKX0sMTYpfV9sb2FkU2hhZGVyKGUsdCxpLHMpe2lmKHR5cGVvZiBIVE1MRWxlbWVudDwidSImJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgYT1ncyhlKTtzKGEpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09InNvdXJjZToiKXtzKGUuc3Vic3RyKDcpKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJiYXNlNjQ6Iil7Y29uc3QgYT13aW5kb3cuYXRvYihlLnN1YnN0cig3KSk7cyhhKTtyZXR1cm59Y29uc3Qgcj1VLkdldFNoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7aWYocltlK3QrIlNoYWRlciJdKXtzKHJbZSt0KyJTaGFkZXIiXSk7cmV0dXJufWlmKGkmJnJbZStpKyJTaGFkZXIiXSl7cyhyW2UraSsiU2hhZGVyIl0pO3JldHVybn1sZXQgbjtlWzBdPT09Ii4ifHxlWzBdPT09Ii8ifHxlLmluZGV4T2YoImh0dHAiKT4tMT9uPWU6bj1VLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKStlLHRoaXMuX2VuZ2luZS5fbG9hZEZpbGUobisiLiIrdC50b0xvd2VyQ2FzZSgpKyIuZngiLHMpfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2dldFZlcnRleFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fdmVydGV4U291cmNlQ29kZX1nZXQgZnJhZ21lbnRTb3VyY2VDb2RlKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZX1nZXQgdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbigpe3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9ufWdldCBmcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb24oKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9ufWdldCByYXdWZXJ0ZXhTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGV9Z2V0IHJhd0ZyYWdtZW50U291cmNlQ29kZSgpe3JldHVybiB0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGV9X3JlYnVpbGRQcm9ncmFtKGUsdCxpLHMpe3RoaXMuX2lzUmVhZHk9ITEsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9dCx0aGlzLm9uRXJyb3I9KHIsbik9PntzJiZzKG4pfSx0aGlzLm9uQ29tcGlsZWQ9KCk9Pntjb25zdCByPXRoaXMuZ2V0RW5naW5lKCkuc2NlbmVzO2lmKHIpZm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspcltuXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2Myk7dGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhpKX0sdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fcHJlcGFyZUVmZmVjdCgpfV9wcmVwYXJlRWZmZWN0KCl7Y29uc3QgZT10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsdD10aGlzLmRlZmluZXMsaT10aGlzLl9waXBlbGluZUNvbnRleHQ7dGhpcy5faXNSZWFkeT0hMTt0cnl7Y29uc3Qgcz10aGlzLl9lbmdpbmU7dGhpcy5fcGlwZWxpbmVDb250ZXh0PXMuY3JlYXRlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0KSx0aGlzLl9waXBlbGluZUNvbnRleHQuX25hbWU9dGhpcy5fa2V5O2NvbnN0IHI9dGhpcy5fcmVidWlsZFByb2dyYW0uYmluZCh0aGlzKTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3MuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZSwhMCx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxyLG51bGwsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpOnMuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlLCExLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsdCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSkscy5fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQodGhpcy5fcGlwZWxpbmVDb250ZXh0LCgpPT57aWYodGhpcy5fYXR0cmlidXRlcz1bXSx0aGlzLl9waXBlbGluZUNvbnRleHQuX2ZpbGxFZmZlY3RJbmZvcm1hdGlvbih0aGlzLHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXMsdGhpcy5fdW5pZm9ybXNOYW1lcyx0aGlzLl91bmlmb3Jtcyx0aGlzLl9zYW1wbGVyTGlzdCx0aGlzLl9zYW1wbGVycyxlLHRoaXMuX2F0dHJpYnV0ZXMpLGUpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGE9ZVtuXTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVthXT10aGlzLl9hdHRyaWJ1dGVzW25dfXMuYmluZFNhbXBsZXJzKHRoaXMpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5faXNSZWFkeT0hMCx0aGlzLm9uQ29tcGlsZWQmJnRoaXMub25Db21waWxlZCh0aGlzKSx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSxpJiZ0aGlzLmdldEVuZ2luZSgpLl9kZWxldGVQaXBlbGluZUNvbnRleHQoaSl9KSx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYyYmdGhpcy5fY2hlY2tJc1JlYWR5KGkpfWNhdGNoKHMpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhzLGkpfX1fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZShlLHQsaSl7Y29uc3Qgcz1pPy9GUkFHTUVOVCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi86L1ZFUlRFWCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi87bGV0IHI9bnVsbDtpZih0JiZlKXtjb25zdCBuPXQubWF0Y2gocyk7aWYobiYmbi5sZW5ndGg9PT0yKXtjb25zdCBhPXBhcnNlSW50KG5bMV0pLG89ZS5zcGxpdChgCmAsLTEpO28ubGVuZ3RoPj1hJiYocj1gT2ZmZW5kaW5nIGxpbmUgWyR7YX1dIGluICR7aT8iZnJhZ21lbnQiOiJ2ZXJ0ZXgifSBjb2RlOiAke29bYS0xXX1gKX19cmV0dXJuW2Uscl19X3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhlLHQ9bnVsbCl7dmFyIGkscyxyO3RoaXMuX2NvbXBpbGF0aW9uRXJyb3I9ZS5tZXNzYWdlO2NvbnN0IG49dGhpcy5fYXR0cmlidXRlc05hbWVzLGE9dGhpcy5fZmFsbGJhY2tzO2lmKE8uRXJyb3IoIlVuYWJsZSB0byBjb21waWxlIGVmZmVjdDoiKSxPLkVycm9yKCJVbmlmb3JtczogIit0aGlzLl91bmlmb3Jtc05hbWVzLm1hcChmdW5jdGlvbihoKXtyZXR1cm4iICIraH0pKSxPLkVycm9yKCJBdHRyaWJ1dGVzOiAiK24ubWFwKGZ1bmN0aW9uKGgpe3JldHVybiIgIitofSkpLE8uRXJyb3IoYERlZmluZXM6XHIKYCt0aGlzLmRlZmluZXMpLFBlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3Ipe2xldCBoPW51bGwsbD1udWxsLHU9bnVsbDshKChpPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxpPT09dm9pZCAwKSYmaS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpJiYoW3UsaF09dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSh0aGlzLl9waXBlbGluZUNvbnRleHQuX2dldFZlcnRleFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCExKSx1JiYoTy5FcnJvcigiVmVydGV4IGNvZGU6IiksTy5FcnJvcih1KSkpLCEoKHM9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fHM9PT12b2lkIDApJiZzLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSYmKFt1LGxdPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUoKHI9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITApLHUmJihPLkVycm9yKCJGcmFnbWVudCBjb2RlOiIpLE8uRXJyb3IodSkpKSxoJiZPLkVycm9yKGgpLGwmJk8uRXJyb3IobCl9Ty5FcnJvcigiRXJyb3I6ICIrdGhpcy5fY29tcGlsYXRpb25FcnJvcik7Y29uc3Qgbz0oKT0+e3RoaXMub25FcnJvciYmdGhpcy5vbkVycm9yKHRoaXMsdGhpcy5fY29tcGlsYXRpb25FcnJvciksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9O3QmJih0aGlzLl9waXBlbGluZUNvbnRleHQ9dCx0aGlzLl9pc1JlYWR5PSEwLG8oKSksYT8odGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsYS5oYXNNb3JlRmFsbGJhY2tzPyh0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsTy5FcnJvcigiVHJ5aW5nIG5leHQgZmFsbGJhY2suIiksdGhpcy5kZWZpbmVzPWEucmVkdWNlKHRoaXMuZGVmaW5lcyx0aGlzKSx0aGlzLl9wcmVwYXJlRWZmZWN0KCkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsbygpLHRoaXMub25FcnJvck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9mYWxsYmFja3MmJnRoaXMuX2ZhbGxiYWNrcy51bkJpbmRNZXNoKCkpKToodGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwLHR8fG8oKSl9Z2V0IGlzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9PT0iIn1fYmluZFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuX2JpbmRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9c2V0VGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0RGVwdGhTdGVuY2lsVGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0VGV4dHVyZUFycmF5KGUsdCl7Y29uc3QgaT1lKyJFeCI7aWYodGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihpKyIwIik9PT0tMSl7Y29uc3Qgcz10aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGUpO2ZvcihsZXQgbj0xO248dC5sZW5ndGg7bisrKXtjb25zdCBhPWkrKG4tMSkudG9TdHJpbmcoKTt0aGlzLl9zYW1wbGVyTGlzdC5zcGxpY2UocytuLDAsYSl9bGV0IHI9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9zYW1wbGVyTGlzdCl0aGlzLl9zYW1wbGVyc1tuXT1yLHIrPTF9dGhpcy5fZW5naW5lLnNldFRleHR1cmVBcnJheSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3MoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcyh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dCh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfWJpbmRVbmlmb3JtQnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW3RdO2k9PT12b2lkIDB8fFBlLl9CYXNlQ2FjaGVbaV09PT1lJiZ0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVzZVVCT0JpbmRpbmdDYWNoZXx8KFBlLl9CYXNlQ2FjaGVbaV09ZSx0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CdWZmZXJCYXNlKGUsaSx0KSl9YmluZFVuaWZvcm1CbG9jayhlLHQpe3RoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJsb2NrKHRoaXMuX3BpcGVsaW5lQ29udGV4dCxlLHQpfXNldEZsb2F0QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc31zZXRGbG9hdEFycmF5MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkyKGUsdCksdGhpc31zZXRGbG9hdEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc31zZXRGbG9hdEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc31zZXRCb29sKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0PzE6MCksdGhpc31kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZUVmZmVjdCh0aGlzKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfXN0YXRpYyBSZWdpc3RlclNoYWRlcihlLHQsaSxzPVplLkdMU0wpe3QmJihVLkdldFNoYWRlcnNTdG9yZShzKVtgJHtlfVBpeGVsU2hhZGVyYF09dCksaSYmKFUuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9VmVydGV4U2hhZGVyYF09aSl9c3RhdGljIFJlc2V0Q2FjaGUoKXtQZS5fQmFzZUNhY2hlPXt9fX1QZS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yPSEwLFBlLl9VbmlxdWVJZFNlZWQ9MCxQZS5fQmFzZUNhY2hlPXt9LFBlLlNoYWRlcnNTdG9yZT1VLlNoYWRlcnNTdG9yZSxQZS5JbmNsdWRlc1NoYWRlcnNTdG9yZT1VLkluY2x1ZGVzU2hhZGVyc1N0b3JlO2NsYXNzIHJue2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RlcHRoRnVuY0RpcnR5fHx0aGlzLl9pc0RlcHRoVGVzdERpcnR5fHx0aGlzLl9pc0RlcHRoTWFza0RpcnR5fHx0aGlzLl9pc0N1bGxGYWNlRGlydHl8fHRoaXMuX2lzQ3VsbERpcnR5fHx0aGlzLl9pc1pPZmZzZXREaXJ0eXx8dGhpcy5faXNGcm9udEZhY2VEaXJ0eX1nZXQgek9mZnNldCgpe3JldHVybiB0aGlzLl96T2Zmc2V0fXNldCB6T2Zmc2V0KGUpe3RoaXMuX3pPZmZzZXQhPT1lJiYodGhpcy5fek9mZnNldD1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgek9mZnNldFVuaXRzKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXRVbml0c31zZXQgek9mZnNldFVuaXRzKGUpe3RoaXMuX3pPZmZzZXRVbml0cyE9PWUmJih0aGlzLl96T2Zmc2V0VW5pdHM9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9Z2V0IGN1bGxGYWNlKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfXNldCBjdWxsRmFjZShlKXt0aGlzLl9jdWxsRmFjZSE9PWUmJih0aGlzLl9jdWxsRmFjZT1lLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMCl9Z2V0IGN1bGwoKXtyZXR1cm4gdGhpcy5fY3VsbH1zZXQgY3VsbChlKXt0aGlzLl9jdWxsIT09ZSYmKHRoaXMuX2N1bGw9ZSx0aGlzLl9pc0N1bGxEaXJ0eT0hMCl9Z2V0IGRlcHRoRnVuYygpe3JldHVybiB0aGlzLl9kZXB0aEZ1bmN9c2V0IGRlcHRoRnVuYyhlKXt0aGlzLl9kZXB0aEZ1bmMhPT1lJiYodGhpcy5fZGVwdGhGdW5jPWUsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMCl9Z2V0IGRlcHRoTWFzaygpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9c2V0IGRlcHRoTWFzayhlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9Z2V0IGRlcHRoVGVzdCgpe3JldHVybiB0aGlzLl9kZXB0aFRlc3R9c2V0IGRlcHRoVGVzdChlKXt0aGlzLl9kZXB0aFRlc3QhPT1lJiYodGhpcy5fZGVwdGhUZXN0PWUsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCl9Z2V0IGZyb250RmFjZSgpe3JldHVybiB0aGlzLl9mcm9udEZhY2V9c2V0IGZyb250RmFjZShlKXt0aGlzLl9mcm9udEZhY2UhPT1lJiYodGhpcy5fZnJvbnRGYWNlPWUsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMCl9cmVzZXQoKXt0aGlzLl9kZXB0aE1hc2s9ITAsdGhpcy5fZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoRnVuYz1udWxsLHRoaXMuX2N1bGxGYWNlPW51bGwsdGhpcy5fY3VsbD1udWxsLHRoaXMuX3pPZmZzZXQ9MCx0aGlzLl96T2Zmc2V0VW5pdHM9MCx0aGlzLl9mcm9udEZhY2U9bnVsbCx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITAsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITAsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMX1hcHBseShlKXshdGhpcy5pc0RpcnR5fHwodGhpcy5faXNDdWxsRGlydHkmJih0aGlzLmN1bGw/ZS5lbmFibGUoZS5DVUxMX0ZBQ0UpOmUuZGlzYWJsZShlLkNVTExfRkFDRSksdGhpcy5faXNDdWxsRGlydHk9ITEpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eSYmKGUuY3VsbEZhY2UodGhpcy5jdWxsRmFjZSksdGhpcy5faXNDdWxsRmFjZURpcnR5PSExKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5JiYoZS5kZXB0aE1hc2sodGhpcy5kZXB0aE1hc2spLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHkmJih0aGlzLmRlcHRoVGVzdD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHkmJihlLmRlcHRoRnVuYyh0aGlzLmRlcHRoRnVuYyksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNaT2Zmc2V0RGlydHkmJih0aGlzLnpPZmZzZXR8fHRoaXMuek9mZnNldFVuaXRzPyhlLmVuYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUucG9seWdvbk9mZnNldCh0aGlzLnpPZmZzZXQsdGhpcy56T2Zmc2V0VW5pdHMpKTplLmRpc2FibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eSYmKGUuZnJvbnRGYWNlKHRoaXMuZnJvbnRGYWNlKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExKSl9fWNsYXNzIEx0e2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPUx0LkFMV0FZUyx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9THQuS0VFUCx0aGlzLm9wRGVwdGhGYWlsPUx0LktFRVAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9THQuUkVQTEFDRX1nZXQgc3RlbmNpbEZ1bmMoKXtyZXR1cm4gdGhpcy5mdW5jfXNldCBzdGVuY2lsRnVuYyhlKXt0aGlzLmZ1bmM9ZX1nZXQgc3RlbmNpbEZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5mdW5jUmVmfXNldCBzdGVuY2lsRnVuY1JlZihlKXt0aGlzLmZ1bmNSZWY9ZX1nZXQgc3RlbmNpbEZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuZnVuY01hc2t9c2V0IHN0ZW5jaWxGdW5jTWFzayhlKXt0aGlzLmZ1bmNNYXNrPWV9Z2V0IHN0ZW5jaWxPcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMub3BTdGVuY2lsRmFpbH1zZXQgc3RlbmNpbE9wU3RlbmNpbEZhaWwoZSl7dGhpcy5vcFN0ZW5jaWxGYWlsPWV9Z2V0IHN0ZW5jaWxPcERlcHRoRmFpbCgpe3JldHVybiB0aGlzLm9wRGVwdGhGYWlsfXNldCBzdGVuY2lsT3BEZXB0aEZhaWwoZSl7dGhpcy5vcERlcHRoRmFpbD1lfWdldCBzdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzKCl7cmV0dXJuIHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzfXNldCBzdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzKGUpe3RoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWV9Z2V0IHN0ZW5jaWxNYXNrKCl7cmV0dXJuIHRoaXMubWFza31zZXQgc3RlbmNpbE1hc2soZSl7dGhpcy5tYXNrPWV9Z2V0IHN0ZW5jaWxUZXN0KCl7cmV0dXJuIHRoaXMuZW5hYmxlZH1zZXQgc3RlbmNpbFRlc3QoZSl7dGhpcy5lbmFibGVkPWV9fUx0LkFMV0FZUz01MTksTHQuS0VFUD03NjgwLEx0LlJFUExBQ0U9NzY4MTtjbGFzcyBubntjb25zdHJ1Y3Rvcigpe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSg0KSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoMiksdGhpcy5fYmxlbmRDb25zdGFudHM9bmV3IEFycmF5KDQpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSx0aGlzLl9hbHBoYUJsZW5kPSExLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5yZXNldCgpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5fHx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHl8fHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eX1nZXQgYWxwaGFCbGVuZCgpe3JldHVybiB0aGlzLl9hbHBoYUJsZW5kfXNldCBhbHBoYUJsZW5kKGUpe3RoaXMuX2FscGhhQmxlbmQhPT1lJiYodGhpcy5fYWxwaGFCbGVuZD1lLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSEwKX1zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGUsdCxpLHMpe3RoaXMuX2JsZW5kQ29uc3RhbnRzWzBdPT09ZSYmdGhpcy5fYmxlbmRDb25zdGFudHNbMV09PT10JiZ0aGlzLl9ibGVuZENvbnN0YW50c1syXT09PWkmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdPT09c3x8KHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdPWUsdGhpcy5fYmxlbmRDb25zdGFudHNbMV09dCx0aGlzLl9ibGVuZENvbnN0YW50c1syXT1pLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdPXMsdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSEwKX1zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKGUsdCxpLHMpe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09PT10JiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT09PWkmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPT09c3x8KHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT1pLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPXMsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX1zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycyhlLHQpe3RoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09PT10fHwodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMCl9cmVzZXQoKXt0aGlzLl9hbHBoYUJsZW5kPSExLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPW51bGwsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMV09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1syXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdPW51bGwsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITAsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITF9YXBwbHkoZSl7IXRoaXMuaXNEaXJ0eXx8KHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5JiYodGhpcy5fYWxwaGFCbGVuZD9lLmVuYWJsZShlLkJMRU5EKTplLmRpc2FibGUoZS5CTEVORCksdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRGdW5jU2VwYXJhdGUodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM10pLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV0pLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5JiYoZS5ibGVuZENvbG9yKHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEpKX19Y2xhc3MgYW57Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVplLkdMU0x9cG9zdFByb2Nlc3NvcihlLHQsaSxzLHIpe2lmKCFyLmdldENhcHMoKS5kcmF3QnVmZmVyc0V4dGVuc2lvbil7Y29uc3Qgbj0vI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rKGVuYWJsZXxyZXF1aXJlKS9nO2U9ZS5yZXBsYWNlKG4sIiIpfXJldHVybiBlfX1jbGFzcyBvbntjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9WmUuR0xTTH1hdHRyaWJ1dGVQcm9jZXNzb3IoZSl7cmV0dXJuIGUucmVwbGFjZSgiYXR0cmlidXRlIiwiaW4iKX12YXJ5aW5nUHJvY2Vzc29yKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgidmFyeWluZyIsdD8iaW4iOiJvdXQiKX1wb3N0UHJvY2Vzc29yKGUsdCxpKXtjb25zdCBzPWUuc2VhcmNoKC8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLityZXF1aXJlLykhPT0tMSxyPS8jZXh0ZW5zaW9uLisoR0xfT1ZSX211bHRpdmlldzJ8R0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzfEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2R8R0xfRVhUX2ZyYWdfZGVwdGh8R0xfRVhUX2RyYXdfYnVmZmVycykuKyhlbmFibGV8cmVxdWlyZSkvZztpZihlPWUucmVwbGFjZShyLCIiKSxlPWUucmVwbGFjZSgvdGV4dHVyZTJEXHMqXCgvZywidGV4dHVyZSgiKSxpKWU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZUxvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlXHMqXCgvZywidGV4dHVyZSgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RlcHRoRVhUL2csImdsX0ZyYWdEZXB0aCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnQ29sb3IvZywiZ2xGcmFnQ29sb3IiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RhdGEvZywiZ2xGcmFnRGF0YSIpLGU9ZS5yZXBsYWNlKC92b2lkXHMrP21haW5ccypcKC9nLChzPyIiOmBsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgdmVjNCBnbEZyYWdDb2xvcjsKYCkrInZvaWQgbWFpbigiKTtlbHNlIGlmKHQuaW5kZXhPZigiI2RlZmluZSBNVUxUSVZJRVciKSE9PS0xKXJldHVybmAjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZQpsYXlvdXQgKG51bV92aWV3cyA9IDIpIGluOwpgK2U7cmV0dXJuIGV9fWNsYXNzIFBpe2NvbnN0cnVjdG9yKCl7dGhpcy5yZWZlcmVuY2VzPTAsdGhpcy5jYXBhY2l0eT0wLHRoaXMuaXMzMkJpdHM9ITEsdGhpcy51bmlxdWVJZD1QaS5fQ291bnRlcisrfWdldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gbnVsbH19UGkuX0NvdW50ZXI9MDtjbGFzcyBEaSBleHRlbmRzIFBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fYnVmZmVyPWV9Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiB0aGlzLl9idWZmZXJ9fWNvbnN0IGhuPVsiSW50IiwiSW50MiIsIkludDMiLCJJbnQ0IiwiVUludCIsIlVJbnQyIiwiVUludDMiLCJVSW50NCIsIlZlY3RvcjIiLCJWZWN0b3IzIiwiVmVjdG9yNCIsIkZsb2F0MiIsIkZsb2F0IiwiRmxvYXQzIiwiRmxvYXQ0IiwiUXVhdGVybmlvbiIsIkNvbG9yMyIsIkNvbG9yNCIsIkRpcmVjdENvbG9yNCJdO2NsYXNzIGxue2NvbnN0cnVjdG9yKCl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMucHJvZ3JhbUxpbmtFcnJvcj1udWxsLHRoaXMucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1udWxsO2NvbnN0IGU9W10sdD1mdW5jdGlvbigpe2UubGVuZ3RoPTAsQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpLGVbMF09dGhpcy5fdW5pZm9ybXNbZVswXV19LGk9cz0+e2NvbnN0IHI9aG4uaW5jbHVkZXMocy5zdWJzdHJpbmcoMykpJiYiRmxvYXROIjtpZihyKXtjb25zdCBuPXRoaXNbYF9jYWNoZSR7cn1gXTtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBhPXRoaXMuZW5naW5lW3NdO3QuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoYS5hcHBseSh0aGlzLmVuZ2luZSxlKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXT1udWxsKSl9fWVsc2UgcmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgbj10aGlzLmVuZ2luZVtzXTt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhcmd1bWVudHNbMV0hPT12b2lkIDAmJih0aGlzLl92YWx1ZUNhY2hlW2FyZ3VtZW50c1swXV09bnVsbCxuLmFwcGx5KHRoaXMuZW5naW5lLGUpKX19O1siSW50PyIsIlVJbnQ/IiwiSW50QXJyYXk/IiwiVUludEFycmF5PyIsIkFycmF5PyIsIkZsb2F0PyIsIk1hdHJpY2VzIiwiTWF0cml4M3gzIiwiTWF0cml4MngyIl0uZm9yRWFjaChzPT57Y29uc3Qgcj1gc2V0JHtzfWA7dGhpc1tyXXx8KHIuZW5kc1dpdGgoIj8iKT9bIiIsMiwzLDRdLmZvckVhY2gobj0+e3RoaXNbci5zbGljZSgwLC0xKStuXT10aGlzW3Iuc2xpY2UoMCwtMSkrbl18fGkoci5zbGljZSgwLC0xKStuKS5iaW5kKHRoaXMpfSk6dGhpc1tyXT10aGlzW3JdfHxpKHIpLmJpbmQodGhpcykpfSl9Z2V0IGlzQXN5bmMoKXtyZXR1cm4gdGhpcy5pc1BhcmFsbGVsQ29tcGlsZWR9Z2V0IGlzUmVhZHkoKXtyZXR1cm4gdGhpcy5wcm9ncmFtP3RoaXMuaXNQYXJhbGxlbENvbXBpbGVkP3RoaXMuZW5naW5lLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQodGhpcyk6ITA6ITF9X2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGUpe2UmJnRoaXMucHJvZ3JhbSYmZSh0aGlzLnByb2dyYW0pfV9maWxsRWZmZWN0SW5mb3JtYXRpb24oZSx0LGkscyxyLG4sYSxvKXtjb25zdCBoPXRoaXMuZW5naW5lO2lmKGguc3VwcG9ydHNVbmlmb3JtQnVmZmVycylmb3IoY29uc3QgZCBpbiB0KWUuYmluZFVuaWZvcm1CbG9jayhkLHRbZF0pO3RoaXMuZW5naW5lLmdldFVuaWZvcm1zKHRoaXMsaSkuZm9yRWFjaCgoZCxmKT0+e3NbaVtmXV09ZH0pLHRoaXMuX3VuaWZvcm1zPXM7bGV0IHU7Zm9yKHU9MDt1PHIubGVuZ3RoO3UrKyllLmdldFVuaWZvcm0oclt1XSk9PW51bGwmJihyLnNwbGljZSh1LDEpLHUtLSk7ci5mb3JFYWNoKChkLGYpPT57bltkXT1mfSk7Zm9yKGNvbnN0IGQgb2YgaC5nZXRBdHRyaWJ1dGVzKHRoaXMsYSkpby5wdXNoKGQpfWRpc3Bvc2UoKXt0aGlzLl91bmlmb3Jtcz17fX1fY2FjaGVNYXRyaXgoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV0scz10LnVwZGF0ZUZsYWc7cmV0dXJuIGkhPT12b2lkIDAmJmk9PT1zPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITApfV9jYWNoZUZsb2F0TihlLHQsaSxzLHIpe2xldCBuPXRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXTtpZighbnx8bi5sZW5ndGghPT1hcmd1bWVudHMubGVuZ3RoLTEpcmV0dXJuIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHRoaXMuX3ZhbHVlQ2FjaGVbYXJndW1lbnRzWzBdXT1uLCEwO2xldCBhPSExO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7KytvKW5bb10hPT1hcmd1bWVudHNbbysxXSYmKG5bb109YXJndW1lbnRzW28rMV0sYT0hMCk7cmV0dXJuIGF9X2NhY2hlRmxvYXQyKGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FjaGVGbG9hdE4oZSx0LGkpfV9jYWNoZUZsb2F0MyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5fY2FjaGVGbG9hdE4oZSx0LGkscyl9X2NhY2hlRmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX2NhY2hlRmxvYXROKGUsdCxpLHMscil9c2V0TWF0cml4KGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmKHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQudG9BcnJheSgpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFZlY3RvcjIoZSx0KXt0aGlzLnNldEZsb2F0MihlLHQueCx0LnkpfXNldFZlY3RvcjMoZSx0KXt0aGlzLnNldEZsb2F0MyhlLHQueCx0LnksdC56KX1zZXRWZWN0b3I0KGUsdCl7dGhpcy5zZXRGbG9hdDQoZSx0LngsdC55LHQueix0LncpfXNldFF1YXRlcm5pb24oZSx0KXt0aGlzLnNldEZsb2F0NChlLHQueCx0LnksdC56LHQudyl9c2V0Q29sb3IzKGUsdCl7dGhpcy5zZXRGbG9hdDMoZSx0LnIsdC5nLHQuYil9c2V0Q29sb3I0KGUsdCxpKXt0aGlzLnNldEZsb2F0NChlLHQucix0LmcsdC5iLGkpfXNldERpcmVjdENvbG9yNChlLHQpe3RoaXMuc2V0RmxvYXQ0KGUsdC5yLHQuZyx0LmIsdC5hKX1fZ2V0VmVydGV4U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfV9nZXRGcmFnbWVudFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9fWNsYXNzIHRye2NvbnN0cnVjdG9yKGU9bnVsbCx0KXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwsdGhpcy5fY29udGV4dD10LCFlJiYoZT10LmNyZWF0ZVRleHR1cmUoKSwhZSkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHdlYkdMIHRleHR1cmUiKTt0aGlzLnNldChlKX1nZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIHRoaXMuX3dlYkdMVGV4dHVyZX1zZXRVc2FnZSgpe31zZXQoZSl7dGhpcy5fd2ViR0xUZXh0dXJlPWV9cmVzZXQoKXt0aGlzLl93ZWJHTFRleHR1cmU9bnVsbCx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGx9cmVsZWFzZSgpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXImJih0aGlzLl9jb250ZXh0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfX1jbGFzcyBtaXtjb25zdHJ1Y3RvcihlLHQ9ITApe3RoaXMuZWZmZWN0PW51bGwsdGhpcy5kZWZpbmVzPW51bGwsdGhpcy5kcmF3Q29udGV4dD1lLmNyZWF0ZURyYXdDb250ZXh0KCksdCYmKHRoaXMubWF0ZXJpYWxDb250ZXh0PWUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCkpfXN0YXRpYyBJc1dyYXBwZXIoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfXN0YXRpYyBHZXRFZmZlY3QoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwP2UuZWZmZWN0OmV9c2V0RWZmZWN0KGUsdCxpPSEwKXt2YXIgczt0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksaSYmKChzPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5yZXNldCgpKX1kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKX19Y2xhc3MgY257Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHl8fHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eXx8dGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5fWdldCBmdW5jKCl7cmV0dXJuIHRoaXMuX2Z1bmN9c2V0IGZ1bmMoZSl7dGhpcy5fZnVuYyE9PWUmJih0aGlzLl9mdW5jPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX1nZXQgZnVuY1JlZigpe3JldHVybiB0aGlzLl9mdW5jUmVmfXNldCBmdW5jUmVmKGUpe3RoaXMuX2Z1bmNSZWYhPT1lJiYodGhpcy5fZnVuY1JlZj1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzayE9PWUmJih0aGlzLl9mdW5jTWFzaz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH1zZXQgb3BTdGVuY2lsRmFpbChlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsIT09ZSYmKHRoaXMuX29wU3RlbmNpbEZhaWw9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX1nZXQgb3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9c2V0IG9wRGVwdGhGYWlsKGUpe3RoaXMuX29wRGVwdGhGYWlsIT09ZSYmKHRoaXMuX29wRGVwdGhGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IG9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3MhPT1lJiYodGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG1hc2soKXtyZXR1cm4gdGhpcy5fbWFza31zZXQgbWFzayhlKXt0aGlzLl9tYXNrIT09ZSYmKHRoaXMuX21hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITApfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZCE9PWUmJih0aGlzLl9lbmFibGVkPWUsdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwKX1yZXNldCgpe3ZhciBlO3RoaXMuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCwoZT10aGlzLnN0ZW5jaWxHbG9iYWwpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9YXBwbHkoZSl7dmFyIHQ7aWYoIWUpcmV0dXJuO2NvbnN0IGk9IXRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHkmJiEhKCEoKHQ9dGhpcy5zdGVuY2lsTWF0ZXJpYWwpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZW5hYmxlZCk7dGhpcy5lbmFibGVkPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZW5hYmxlZDp0aGlzLnN0ZW5jaWxHbG9iYWwuZW5hYmxlZCx0aGlzLmZ1bmM9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jLHRoaXMuZnVuY1JlZj1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNSZWY6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNSZWYsdGhpcy5mdW5jTWFzaz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNNYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jTWFzayx0aGlzLm9wU3RlbmNpbEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcERlcHRoRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxEZXB0aFBhc3M6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbERlcHRoUGFzcyx0aGlzLm1hc2s9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5tYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5tYXNrLHRoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eSYmKHRoaXMuZW5hYmxlZD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eSYmKGUuc3RlbmNpbE1hc2sodGhpcy5tYXNrKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eSYmKGUuc3RlbmNpbEZ1bmModGhpcy5mdW5jLHRoaXMuZnVuY1JlZix0aGlzLmZ1bmNNYXNrKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHkmJihlLnN0ZW5jaWxPcCh0aGlzLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcyksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSkpfX1jbGFzcyBhaXtzdGF0aWMgZ2V0IE5vdygpe3JldHVybiBwcy5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19Y2xhc3MgdW57fWNsYXNzIG9le2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX25hbWU9IldlYkdMIix0aGlzLmZvcmNlUE9UVGV4dHVyZXM9ITEsdGhpcy5pc0Z1bGxzY3JlZW49ITEsdGhpcy5jdWxsQmFja0ZhY2VzPW51bGwsdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kPSEwLHRoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXM9ITEsdGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zPSExLHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj0hMSx0aGlzLmlzTkRDSGFsZlpSYW5nZT0hMSx0aGlzLmhhc09yaWdpbkJvdHRvbUxlZnQ9ITAsdGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITEsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2ZyYW1lSWQ9MCx0aGlzLl91bmlmb3JtQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fc3RvcmFnZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMSx0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ITAsdGhpcy5fYmFkT1M9ITEsdGhpcy5fYmFkRGVza3RvcE9TPSExLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITEsdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9bmV3IEFycmF5LHRoaXMub25Db250ZXh0TG9zdE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fY29udGV4dFdhc0xvc3Q9ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hMSx0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHM9ITEsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZT1uZXcgcm4sdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXI9bmV3IGNuLHRoaXMuX3N0ZW5jaWxTdGF0ZT1uZXcgTHQsdGhpcy5fYWxwaGFTdGF0ZT1uZXcgbm4sdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZT1uZXcgQXJyYXksdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVDaGFubmVsPTAsdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZT17fSx0aGlzLl9jb21waWxlZEVmZmVjdHM9e30sdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZD1bXSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD0hMSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXI9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2R1bW15RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucz1uZXcgQXJyYXksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITEsdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHM9bmV3IEFycmF5LHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPTAsdGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT1udWxsLHRoaXMuX2FjdGl2ZVJlcXVlc3RzPW5ldyBBcnJheSx0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbz0hMSx0aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpbz0xLHRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmw9bnVsbCx0aGlzLmhvc3RJbmZvcm1hdGlvbj17aXNNb2JpbGU6ITF9LHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSEwLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGU9bmV3IEYsdGhpcy5faXNXZWJHUFU9ITEsdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPTAsdGhpcy5fdXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9ITEsdGhpcy5fdmlld3BvcnRDYWNoZWQ9e3g6MCx5OjAsejowLHc6MH0sdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkPSEwLHRoaXMuX2JvdW5kVW5pZm9ybXM9e30sdGhpcy5zdGFydFRpbWU9YWkuTm93O2xldCByPW51bGw7aWYoaT1pfHx7fSx0aGlzLl9jcmVhdGlvbk9wdGlvbnM9aSx0aGlzLmFkYXB0VG9EZXZpY2VSYXRpbz1zIT1udWxsP3M6ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsVWUuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSwhZSlyZXR1cm47aWYocz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITEsZS5nZXRDb250ZXh0KXtpZihyPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXIsdCE9PXZvaWQgMCYmKGkuYW50aWFsaWFzPXQpLGkuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPT09dm9pZCAwJiYoaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEpLGkubG9ja3N0ZXBNYXhTdGVwcz09PXZvaWQgMCYmKGkubG9ja3N0ZXBNYXhTdGVwcz00KSxpLnRpbWVTdGVwPT09dm9pZCAwJiYoaS50aW1lU3RlcD0xLzYwKSxpLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj09PXZvaWQgMCYmKGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPSExKSxpLmF1ZGlvRW5naW5lPT09dm9pZCAwJiYoaS5hdWRpb0VuZ2luZT0hMCksaS5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJmkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvQ29udGV4dD1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQpLGkuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZpLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uIT09dm9pZCAwJiYodGhpcy5fYXVkaW9EZXN0aW5hdGlvbj1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uKSxpLnN0ZW5jaWw9PT12b2lkIDAmJihpLnN0ZW5jaWw9ITApLGkucHJlbXVsdGlwbGllZEFscGhhPT09ITEmJih0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSksaS54ckNvbXBhdGlibGU9PT12b2lkIDAmJihpLnhyQ29tcGF0aWJsZT0hMCksaS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyE9PXZvaWQgMCYmKHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zPWkudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ISFpLmRvTm90SGFuZGxlQ29udGV4dExvc3QsbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt0aGlzLl9jaGVja0Zvck1vYmlsZT0oKT0+e2NvbnN0IGw9bmF2aWdhdG9yLnVzZXJBZ2VudDt0aGlzLmhvc3RJbmZvcm1hdGlvbi5pc01vYmlsZT1sLmluZGV4T2YoIk1vYmlsZSIpIT09LTF8fGwuaW5kZXhPZigiTWFjIikhPT0tMSYmQ2koKSYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnR9LHRoaXMuX2NoZWNrRm9yTW9iaWxlKCksamUoKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fY2hlY2tGb3JNb2JpbGUpO2NvbnN0IGg9bmF2aWdhdG9yLnVzZXJBZ2VudDtmb3IoY29uc3QgbCBvZiBvZS5FeGNlcHRpb25MaXN0KXtjb25zdCB1PWwua2V5LGQ9bC50YXJnZXRzO2lmKG5ldyBSZWdFeHAodSkudGVzdChoKSl7aWYobC5jYXB0dXJlJiZsLmNhcHR1cmVDb25zdHJhaW50KXtjb25zdCBfPWwuY2FwdHVyZSxFPWwuY2FwdHVyZUNvbnN0cmFpbnQsdj1uZXcgUmVnRXhwKF8pLmV4ZWMoaCk7aWYodiYmdi5sZW5ndGg+MCYmcGFyc2VJbnQodlt2Lmxlbmd0aC0xXSk+PUUpY29udGludWV9Zm9yKGNvbnN0IF8gb2YgZClzd2l0Y2goXyl7Y2FzZSJ1bmlmb3JtQnVmZmVyIjp0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMDticmVhaztjYXNlInZhbyI6dGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSEwO2JyZWFrO2Nhc2UiYW50aWFsaWFzIjppLmFudGlhbGlhcz0hMTticmVhaztjYXNlIm1heE1TQUFTYW1wbGVzIjp0aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlPTE7YnJlYWt9fX19aWYodGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KHRoaXMuX29uQ29udGV4dExvc3Q9aD0+e2gucHJldmVudERlZmF1bHQoKSx0aGlzLl9jb250ZXh0V2FzTG9zdD0hMCxPLldhcm4oIldlYkdMIGNvbnRleHQgbG9zdC4iKSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sdGhpcy5fb25Db250ZXh0UmVzdG9yZWQ9KCk9Pnt0aGlzLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdCh0aGlzLl9pbml0R0xDb250ZXh0LmJpbmQodGhpcykpfSxyLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkLCExKSxpLnBvd2VyUHJlZmVyZW5jZT0iaGlnaC1wZXJmb3JtYW5jZSIpLHRoaXMuX2JhZERlc2t0b3BPUz0vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuX2JhZERlc2t0b3BPUyYmKGkueHJDb21wYXRpYmxlPSExKSwhaS5kaXNhYmxlV2ViR0wyU3VwcG9ydCl0cnl7dGhpcy5fZ2w9ci5nZXRDb250ZXh0KCJ3ZWJnbDIiLGkpfHxyLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbDIiLGkpLHRoaXMuX2dsJiYodGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiLHRoaXMuX2dsLmRlbGV0ZVF1ZXJ5fHwodGhpcy5fd2ViR0xWZXJzaW9uPTEsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiKSl9Y2F0Y2h7fWlmKCF0aGlzLl9nbCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJvdmlkZWQgY2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLiIpO3RyeXt0aGlzLl9nbD1yLmdldENvbnRleHQoIndlYmdsIixpKXx8ci5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLGkpfWNhdGNoe3Rocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfX1pZighdGhpcy5fZ2wpdGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9ZWxzZXt0aGlzLl9nbD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz10aGlzLl9nbC5jYW52YXMsdGhpcy5fZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlPyh0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIpOnRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIjtjb25zdCBoPXRoaXMuX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7aCYmKGkuc3RlbmNpbD1oLnN0ZW5jaWwpfXRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksaS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzIT09dm9pZCAwJiYodGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPWkudXNlSGlnaFByZWNpc2lvbkZsb2F0cyk7Y29uc3Qgbj1qZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxhPWkubGltaXREZXZpY2VSYXRpb3x8bjt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oYSxuKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPW4sdGhpcy5yZXNpemUoKSx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwsdGhpcy5faW5pdEdMQ29udGV4dCgpLHRoaXMuX2luaXRGZWF0dXJlcygpO2ZvcihsZXQgaD0wO2g8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2grKyl0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbaF09bmV3IHVuO3RoaXMuX3NoYWRlclByb2Nlc3Nvcj10aGlzLndlYkdMVmVyc2lvbj4xP25ldyBvbjpuZXcgYW4sdGhpcy5fYmFkT1M9L2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvaVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtjb25zdCBvPWBCYWJ5bG9uLmpzIHYke29lLlZlcnNpb259YDtjb25zb2xlLmxvZyhvK2AgLSAke3RoaXMuZGVzY3JpcHRpb259YCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsbyl9c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuImJhYnlsb25qc0A1LjQ0LjAifXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiI1LjQ0LjAifWdldCBkZXNjcmlwdGlvbigpe2xldCBlPXRoaXMubmFtZSt0aGlzLndlYkdMVmVyc2lvbjtyZXR1cm4gdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJihlKz0iIC0gUGFyYWxsZWwgc2hhZGVyIGNvbXBpbGF0aW9uIiksZX1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfXNldCBuYW1lKGUpe3RoaXMuX25hbWU9ZX1nZXQgdmVyc2lvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBQZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe1BlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9Z2V0IHVzZUV4YWN0U3JnYkNvbnZlcnNpb25zKCl7cmV0dXJuIHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zfXNuYXBzaG90UmVuZGVyaW5nUmVzZXQoKXt0aGlzLnNuYXBzaG90UmVuZGVyaW5nPSExfXN0YXRpYyBfQ3JlYXRlQ2FudmFzKGUsdCl7aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcyhlLHQpO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGkud2lkdGg9ZSxpLmhlaWdodD10LGl9Y3JlYXRlQ2FudmFzKGUsdCl7cmV0dXJuIG9lLl9DcmVhdGVDYW52YXMoZSx0KX1jcmVhdGVDYW52YXNJbWFnZSgpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKX1fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QoZSl7c2V0VGltZW91dChhc3luYygpPT57dmFyIHQ7dGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1udWxsO2NvbnN0IGk9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0LHM9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jLHI9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrLG49dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0O2F3YWl0IGUoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX3JlYnVpbGRFZmZlY3RzKCksKHQ9dGhpcy5fcmVidWlsZENvbXB1dGVFZmZlY3RzKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbCh0aGlzKSx0aGlzLl9yZWJ1aWxkQnVmZmVycygpLHRoaXMuX3JlYnVpbGRJbnRlcm5hbFRleHR1cmVzKCksdGhpcy5fcmVidWlsZFJlbmRlclRhcmdldFdyYXBwZXJzKCksdGhpcy53aXBlQ2FjaGVzKCEwKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9aSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9cyx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9cix0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9bixPLldhcm4odGhpcy5uYW1lKyIgY29udGV4dCBzdWNjZXNzZnVsbHkgcmVzdG9yZWQuIiksdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExfSwwKX1fc2hhcmVkSW5pdChlLHQsaSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzPWV9X2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0KGUpe3JldHVybiBudWxsfV9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpe2NvbnN0IGU9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTt0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEsdC5fcHJlcGFyZUVmZmVjdCgpfVBlLlJlc2V0Q2FjaGUoKX1hcmVBbGxFZmZlY3RzUmVhZHkoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpaWYoIXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGRCdWZmZXJzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdW5pZm9ybUJ1ZmZlcnMpZS5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3N0b3JhZ2VCdWZmZXJzKWUuX3JlYnVpbGQoKX1faW5pdEdMQ29udGV4dCgpe3ZhciBlO3RoaXMuX2NhcHM9e21heFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX1NJWkUpLG1heFNhbXBsZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKToxLG1heEN1YmVtYXBUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSksbWF4UmVuZGVyVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9SRU5ERVJCVUZGRVJfU0laRSksbWF4VmVydGV4QXR0cmliczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKSxtYXhWYXJ5aW5nVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyksbWF4RnJhZ21lbnRVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUyksbWF4VmVydGV4VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTKSxwYXJhbGxlbFNoYWRlckNvbXBpbGU6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKXx8dm9pZCAwLHN0YW5kYXJkRGVyaXZhdGl2ZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIikhPT1udWxsLG1heEFuaXNvdHJvcHk6MSxhc3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSxicHRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIiksczN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksczN0Y19zcmdiOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIikscHZydGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiksZXRjMTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksZXRjMjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9lczNfMCIpLHRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiksdWludEluZGljZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpIT09bnVsbCxmcmFnbWVudERlcHRoU3VwcG9ydGVkOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9mcmFnX2RlcHRoIikhPT1udWxsLGhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ6ITEsdGltZXJRdWVyeTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSxzdXBwb3J0T2NjbHVzaW9uUXVlcnk6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeTohMSxkcmF3QnVmZmVyc0V4dGVuc2lvbjohMSxtYXhNU0FBU2FtcGxlczoxLGNvbG9yQnVmZmVyRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKSx0ZXh0dXJlRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHRleHR1cmVGbG9hdFJlbmRlcjohMSx0ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHZlcnRleEFycmF5T2JqZWN0OiExLGluc3RhbmNlZEFycmF5czohMSx0ZXh0dXJlTE9EOiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiKSksYmxlbmRNaW5NYXg6ITEsbXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT1ZSX211bHRpdmlldzIiKSxvY3VsdXNNdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPQ1VMVVNfbXVsdGl2aWV3IiksZGVwdGhUZXh0dXJlRXh0ZW5zaW9uOiExLGNhblVzZUdMSW5zdGFuY2VJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VHTFZlcnRleElEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHN1cHBvcnRDb21wdXRlU2hhZGVyczohMSxzdXBwb3J0U1JHQkJ1ZmZlcnM6ITEsc3VwcG9ydFRyYW5zZm9ybUZlZWRiYWNrczp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlTWF4TGV2ZWw6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZTJEQXJyYXlNYXhMYXllckNvdW50OnRoaXMuX3dlYkdMVmVyc2lvbj4xPzI1NjoxMjh9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7Y29uc3QgdD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZih0IT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodC5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9KChlPXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl9jYXBzLmV0YzImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0VUQzI9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfRVRDMix0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUMpLHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTUxMzEmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz01MTMxKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXI9dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCksdGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9jYXBzLm1heE1TQUFTYW1wbGVzPXRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGUhPT1udWxsP3RoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKTtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZihpIT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz1pLmRyYXdCdWZmZXJzV0VCR0wuYmluZChpKSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXT1pWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2khPW51bGwmJih0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMCx0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfOD1pLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMKX1pZih0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMTtlbHNlIGlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMCx0aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheT1pLmNyZWF0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5PWkuYmluZFZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXk9aS5kZWxldGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7aSE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1pLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKGkpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1pLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1pLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKGkpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe2NvbnN0IGk9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLlZFUlRFWF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCkscz10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO2kmJnMmJih0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ9aS5wcmVjaXNpb24hPT0wJiZzLnByZWNpc2lvbiE9PTApfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2JsZW5kX21pbm1heCIpO2khPW51bGwmJih0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwLHRoaXMuX2dsLk1BWD1pLk1BWF9FWFQsdGhpcy5fZ2wuTUlOPWkuTUlOX0VYVCl9aWYoIXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzKXtpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2khPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWkuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9aS5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9aS5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztpKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChpKX1faW5pdEZlYXR1cmVzKCl7dGhpcy5fZmVhdHVyZXM9e2ZvcmNlQml0bWFwT3ZlckhUTUxJbWFnZUVsZW1lbnQ6ITEsc3VwcG9ydFJlbmRlckFuZENvcHlUb0xvZEZvckZsb2F0VGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTaGFkb3dTYW1wbGVyczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXg6ITEsYWxsb3dUZXh0dXJlUHJlZmlsdGVyaW5nOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdHJhY2tVYm9zSW5GcmFtZTohMSxjaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkOiExLHN1cHBvcnRDU006dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxiYXNpc05lZWRzUE9UOnRoaXMuX3dlYkdMVmVyc2lvbj09PTEsc3VwcG9ydDNEVGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxuZWVkVHlwZVN1ZmZpeEluU2hhZGVyQ29uc3RhbnRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydE1TQUE6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U1NBTzI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTd2l0Y2hDYXNlSW5TaGFkZXI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3luY1RleHR1cmVSZWFkOiEwLG5lZWRzSW52ZXJ0aW5nQml0bWFwOiEwLHVzZVVCT0JpbmRpbmdDYWNoZTohMCxuZWVkU2hhZGVyQ29kZUlubGluaW5nOiExLG5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVyczohMSxzdXBwb3J0UmVuZGVyUGFzc2VzOiExLHN1cHBvcnRTcHJpdGVJbnN0YW5jaW5nOiEwLF9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lOiExfX1nZXQgd2ViR0xWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGhpbkVuZ2luZSJ9Z2V0IGlzU3RlbmNpbEVuYWJsZSgpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxFbmFibGV9X3ByZXBhcmVXb3JraW5nQ2FudmFzKCl7aWYodGhpcy5fd29ya2luZ0NhbnZhcylyZXR1cm47dGhpcy5fd29ya2luZ0NhbnZhcz10aGlzLmNyZWF0ZUNhbnZhcygxLDEpO2NvbnN0IGU9dGhpcy5fd29ya2luZ0NhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2UmJih0aGlzLl93b3JraW5nQ29udGV4dD1lKX1yZXNldFRleHR1cmVDYWNoZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSkhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSxlKXx8KHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT1udWxsKTt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9LTF9Z2V0SW5mbygpe3JldHVybiB0aGlzLmdldEdsSW5mbygpfWdldEdsSW5mbygpe3JldHVybnt2ZW5kb3I6dGhpcy5fZ2xWZW5kb3IscmVuZGVyZXI6dGhpcy5fZ2xSZW5kZXJlcix2ZXJzaW9uOnRoaXMuX2dsVmVyc2lvbn19c2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoZSl7dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZSx0aGlzLnJlc2l6ZSgpfWdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsfWdldExvYWRlZFRleHR1cmVzQ2FjaGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlfWdldENhcHMoKXtyZXR1cm4gdGhpcy5fY2Fwc31zdG9wUmVuZGVyTG9vcChlKXtpZighZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9W107cmV0dXJufWNvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKTt0Pj0wJiZ0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5zcGxpY2UodCwxKX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7aWYoIXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kJiYoZT0hMSksZSl7dGhpcy5iZWdpbkZyYW1lKCk7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW3RdO2koKX10aGlzLmVuZEZyYW1lKCl9fXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9Z2V0UmVuZGVyaW5nQ2FudmFzKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31nZXRBdWRpb0NvbnRleHQoKXtyZXR1cm4gdGhpcy5fYXVkaW9Db250ZXh0fWdldEF1ZGlvRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9EZXN0aW5hdGlvbn1nZXRIb3N0V2luZG93KCl7cmV0dXJuIGplKCk/dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudCYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6d2luZG93Om51bGx9Z2V0UmVuZGVyV2lkdGgoZT0hMSl7cmV0dXJuIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC53aWR0aDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVyV2lkdGg6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlcldpZHRofWdldFJlbmRlckhlaWdodChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LmhlaWdodDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVySGVpZ2h0OnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJIZWlnaHR9X3F1ZXVlTmV3RnJhbWUoZSx0KXtyZXR1cm4gb2UuUXVldWVOZXdGcmFtZShlLHQpfXJ1blJlbmRlckxvb3AoZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMucHVzaChlKSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkfHwodGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMCx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckxvb3AuYmluZCh0aGlzKSx0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKSkpfWNsZWFyKGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seTt0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSEwLHRoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PXI7bGV0IG49MDt0JiZlJiYodGhpcy5fZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEhPT12b2lkIDA/ZS5hOjEpLG58PXRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQpLGkmJih0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8odGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkdFUVVBTCx0aGlzLl9nbC5jbGVhckRlcHRoKDApKTp0aGlzLl9nbC5jbGVhckRlcHRoKDEpLG58PXRoaXMuX2dsLkRFUFRIX0JVRkZFUl9CSVQpLHMmJih0aGlzLl9nbC5jbGVhclN0ZW5jaWwoMCksbnw9dGhpcy5fZ2wuU1RFTkNJTF9CVUZGRVJfQklUKSx0aGlzLl9nbC5jbGVhcihuKX1fdmlld3BvcnQoZSx0LGkscyl7KGUhPT10aGlzLl92aWV3cG9ydENhY2hlZC54fHx0IT09dGhpcy5fdmlld3BvcnRDYWNoZWQueXx8aSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnp8fHMhPT10aGlzLl92aWV3cG9ydENhY2hlZC53KSYmKHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9ZSx0aGlzLl92aWV3cG9ydENhY2hlZC55PXQsdGhpcy5fdmlld3BvcnRDYWNoZWQuej1pLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9cyx0aGlzLl9nbC52aWV3cG9ydChlLHQsaSxzKSl9c2V0Vmlld3BvcnQoZSx0LGkpe2NvbnN0IHM9dHx8dGhpcy5nZXRSZW5kZXJXaWR0aCgpLHI9aXx8dGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxuPWUueHx8MCxhPWUueXx8MDt0aGlzLl9jYWNoZWRWaWV3cG9ydD1lLHRoaXMuX3ZpZXdwb3J0KG4qcyxhKnIscyplLndpZHRoLHIqZS5oZWlnaHQpfWJlZ2luRnJhbWUoKXt9ZW5kRnJhbWUoKXt0aGlzLl9iYWRPUyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZnJhbWVJZCsrfXJlc2l6ZShlPSExKXtsZXQgdCxpO2lmKHRoaXMuYWRhcHRUb0RldmljZVJhdGlvKXtjb25zdCBzPWplKCkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLHI9dGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW8vczt0aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpbz1zLHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsKj1yfWplKCk/KHQ9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5jbGllbnRXaWR0aHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoOndpbmRvdy5pbm5lcldpZHRoLGk9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5jbGllbnRIZWlnaHR8fHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0KToodD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoOjEwMCxpPXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0OjEwMCksdGhpcy5zZXRTaXplKHQvdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwsaS90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxlKX1zZXRTaXplKGUsdCxpPSExKXtyZXR1cm4hdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwoZT1lfDAsdD10fDAsIWkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aD09PWUmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ9PT10KT8hMToodGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD10LCEwKX1iaW5kRnJhbWVidWZmZXIoZSx0PTAsaSxzLHIsbj0wLGE9MCl7dmFyIG8saCxsLHUsZDtjb25zdCBmPWU7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldCYmdGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KSx0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PWUsdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmLl9NU0FBRnJhbWVidWZmZXI/Zi5fTVNBQUZyYW1lYnVmZmVyOmYuX2ZyYW1lYnVmZmVyKTtjb25zdCBfPXRoaXMuX2dsO2UuaXMyREFycmF5P18uZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoXy5GUkFNRUJVRkZFUixfLkNPTE9SX0FUVEFDSE1FTlQwLChvPWUudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udW5kZXJseWluZ1Jlc291cmNlLG4sYSk6ZS5pc0N1YmUmJl8uZnJhbWVidWZmZXJUZXh0dXJlMkQoXy5GUkFNRUJVRkZFUixfLkNPTE9SX0FUVEFDSE1FTlQwLF8uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3QsKGg9ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC51bmRlcmx5aW5nUmVzb3VyY2Usbik7Y29uc3QgRT1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKEUpe2NvbnN0IG09ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP18uREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOl8uREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9fLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKF8uRlJBTUVCVUZGRVIsbSwobD1FLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZT9fLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsbSxfLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LCh1PUUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxuKTpfLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsbSxfLlRFWFRVUkVfMkQsKGQ9RS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGQ9PT12b2lkIDA/dm9pZCAwOmQudW5kZXJseWluZ1Jlc291cmNlLG4pfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhcj90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LGkscyk6KGl8fChpPWUud2lkdGgsbiYmKGk9aS9NYXRoLnBvdygyLG4pKSksc3x8KHM9ZS5oZWlnaHQsbiYmKHM9cy9NYXRoLnBvdygyLG4pKSksdGhpcy5fdmlld3BvcnQoMCwwLGkscykpLHRoaXMud2lwZUNhY2hlcygpfXNldFN0YXRlKGUsdD0wLGkscz0hMSxyLG4sYT0wKXt2YXIgbyxoOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO2NvbnN0IGw9ISgoaD0obz10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnIpIT09bnVsbCYmaCE9PXZvaWQgMCl8fGg/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhhKTtjb25zdCB1PXM/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT11fHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT11KSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9bn1nZXREZXB0aEJ1ZmZlcigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3R9c2V0RGVwdGhCdWZmZXIoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PWV9c2V0Wk9mZnNldChlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldCgpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1zZXRaT2Zmc2V0VW5pdHMoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldFVuaXRzKCl7Y29uc3QgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9X2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9X2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj09PW51bGx9Z2VuZXJhdGVNaXBtYXBzKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9dW5CaW5kRnJhbWVidWZmZXIoZSx0PSExLGkpe3ZhciBzO2NvbnN0IHI9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7Y29uc3Qgbj10aGlzLl9nbDtpZihyLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxpKTtyZXR1cm59bi5iaW5kRnJhbWVidWZmZXIobi5SRUFEX0ZSQU1FQlVGRkVSLHIuX01TQUFGcmFtZWJ1ZmZlciksbi5iaW5kRnJhbWVidWZmZXIobi5EUkFXX0ZSQU1FQlVGRkVSLHIuX2ZyYW1lYnVmZmVyKSxuLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxuLkNPTE9SX0JVRkZFUl9CSVQsbi5ORUFSRVNUKX0oKHM9ZS50ZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZ2VuZXJhdGVNaXBNYXBzKSYmIXQmJiFlLmlzQ3ViZSYmdGhpcy5nZW5lcmF0ZU1pcG1hcHMoZS50ZXh0dXJlKSxpJiYoci5fTVNBQUZyYW1lYnVmZmVyJiZ0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHIuX2ZyYW1lYnVmZmVyKSxpKCkpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9Zmx1c2hGcmFtZWJ1ZmZlcigpe3RoaXMuX2dsLmZsdXNoKCl9cmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpe3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KTp0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZpZXdwb3J0JiZ0aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0KSx0aGlzLndpcGVDYWNoZXMoKX1fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsfWNyZWF0ZVZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuU1RBVElDX0RSQVcpfV9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggYnVmZmVyIik7Y29uc3Qgcz1uZXcgRGkoaSk7cmV0dXJuIHRoaXMuYmluZEFycmF5QnVmZmVyKHMpLGUgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGUpLHQpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdCksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCkscy5yZWZlcmVuY2VzPTEsc31jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpfV9yZXNldEluZGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGx9Y3JlYXRlSW5kZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpLHM9bmV3IERpKGkpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbmRleCBidWZmZXIiKTt0aGlzLmJpbmRJbmRleEJ1ZmZlcihzKTtjb25zdCByPXRoaXMuX25vcm1hbGl6ZUluZGV4RGF0YShlKTtyZXR1cm4gdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyLHQ/dGhpcy5fZ2wuRFlOQU1JQ19EUkFXOnRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHMuaXMzMkJpdHM9ci5CWVRFU19QRVJfRUxFTUVOVD09PTQsc31fbm9ybWFsaXplSW5kZXhEYXRhKGUpe2lmKGUuQllURVNfUEVSX0VMRU1FTlQ9PT0yKXJldHVybiBlO2lmKHRoaXMuX2NhcHMudWludEluZGljZXMpe2lmKGUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gZTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldPj02NTUzNSlyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO3JldHVybiBuZXcgVWludDE2QXJyYXkoZSl9cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX1iaW5kQXJyYXlCdWZmZXIoZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuQVJSQVlfQlVGRkVSKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCxpKXtjb25zdCBzPWUucHJvZ3JhbSxyPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KHMsdCk7dGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhzLHIsaSl9YmluZEluZGV4QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKX1fYmluZEJ1ZmZlcihlLHQpeyh0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF0hPT1lKSYmKHRoaXMuX2dsLmJpbmRCdWZmZXIodCxlP2UudW5kZXJseWluZ1Jlc291cmNlOm51bGwpLHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XT1lKX11cGRhdGVBcnJheUJ1ZmZlcihlKXt0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpfV92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsdCxpLHMscixuLGEpe2NvbnN0IG89dGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3RdO2lmKCFvKXJldHVybjtsZXQgaD0hMTtvLmFjdGl2ZT8oby5idWZmZXIhPT1lJiYoby5idWZmZXI9ZSxoPSEwKSxvLnNpemUhPT1pJiYoby5zaXplPWksaD0hMCksby50eXBlIT09cyYmKG8udHlwZT1zLGg9ITApLG8ubm9ybWFsaXplZCE9PXImJihvLm5vcm1hbGl6ZWQ9cixoPSEwKSxvLnN0cmlkZSE9PW4mJihvLnN0cmlkZT1uLGg9ITApLG8ub2Zmc2V0IT09YSYmKG8ub2Zmc2V0PWEsaD0hMCkpOihoPSEwLG8uYWN0aXZlPSEwLG8uaW5kZXg9dCxvLnNpemU9aSxvLnR5cGU9cyxvLm5vcm1hbGl6ZWQ9cixvLnN0cmlkZT1uLG8ub2Zmc2V0PWEsby5idWZmZXI9ZSksKGh8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSkscz09PXRoaXMuX2dsLlVOU0lHTkVEX0lOVHx8cz09PXRoaXMuX2dsLklOVD90aGlzLl9nbC52ZXJ0ZXhBdHRyaWJJUG9pbnRlcih0LGkscyxuLGEpOnRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodCxpLHMscixuLGEpKX1fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKGUpe2UhPW51bGwmJnRoaXMuX2NhY2hlZEluZGV4QnVmZmVyIT09ZSYmKHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPWUsdGhpcy5iaW5kSW5kZXhCdWZmZXIoZSksdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ZS5pczMyQml0cyl9X2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHQsaSl7Y29uc3Qgcz10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKGxldCByPTA7cjxzLmxlbmd0aDtyKyspe2NvbnN0IG49dC5nZXRBdHRyaWJ1dGVMb2NhdGlvbihyKTtpZihuPj0wKXtjb25zdCBhPXNbcl07bGV0IG89bnVsbDtpZihpJiYobz1pW2FdKSxvfHwobz1lW2FdKSwhbyljb250aW51ZTt0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuXT0hMCk7Y29uc3QgaD1vLmdldEJ1ZmZlcigpO2gmJih0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsbixvLmdldFNpemUoKSxvLnR5cGUsby5ub3JtYWxpemVkLG8uYnl0ZVN0cmlkZSxvLmJ5dGVPZmZzZXQpLG8uZ2V0SXNJbnN0YW5jZWQoKSYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IobixvLmdldEluc3RhbmNlRGl2aXNvcigpKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobiksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGgpKSkpfX19cmVjb3JkVmVydGV4QXJyYXlPYmplY3QoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBWQU8iKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkociksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLGkscyksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkscn1iaW5kVmVydGV4QXJyYXlPYmplY3QoZSx0KXt0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdCE9PWUmJih0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdD1lLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShlKSx0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD10IT1udWxsJiZ0LmlzMzJCaXRzLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCl9YmluZEJ1ZmZlcnNEaXJlY3RseShlLHQsaSxzLHIpe2lmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09cil7dGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9cjtjb25zdCBuPXIuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtsZXQgYT0wO2ZvcihsZXQgbz0wO288bjtvKyspaWYobzxpLmxlbmd0aCl7Y29uc3QgaD1yLmdldEF0dHJpYnV0ZUxvY2F0aW9uKG8pO2g+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2hdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxoLGlbb10sdGhpcy5fZ2wuRkxPQVQsITEscyxhKSksYSs9aVtvXSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9X3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCl7IXRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0fHwodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfWJpbmRCdWZmZXJzKGUsdCxpLHMpeyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PWkpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9aSx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9dW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl7bGV0IGU7Zm9yKGxldCB0PTAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1zJiZzLnJlZmVyZW5jZXMmJihlPXMsdGhpcy5iaW5kQXJyYXlCdWZmZXIocykpO2NvbnN0IHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9X3JlbGVhc2VCdWZmZXIoZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9X2RlbGV0ZUJ1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfXVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGkpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksaVswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxpLCEwKTtlbHNlIGZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHI9aVtzXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkociksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHIsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxzKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gociksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX1iaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpPSEwKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTtsZXQgcz0wO2lmKGkpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspcys9dFtyXS5hdHRyaWJ1dGVTaXplKjQ7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtuLmluZGV4PT09dm9pZCAwJiYobi5pbmRleD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKG4uYXR0cmlidXRlTmFtZSkpLCEobi5pbmRleDwwKSYmKHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuLmluZGV4KSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW24uaW5kZXhdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsbi5pbmRleCxuLmF0dHJpYnV0ZVNpemUsbi5hdHRyaWJ1dGVUeXBlfHx0aGlzLl9nbC5GTE9BVCxuLm5vcm1hbGl6ZWR8fCExLHMsbi5vZmZzZXQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iobi5pbmRleCxuLmRpdmlzb3I9PT12b2lkIDA/MTpuLmRpdmlzb3IpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4uaW5kZXgpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKSl9fWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZUJ5TmFtZShlKXtpZighdGhpcy5fY3VycmVudEVmZmVjdClyZXR1cm47Y29uc3QgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfWRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZShlKXtsZXQgdD0hMSxpO2Zvcig7KGk9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSkpIT09LTE7KXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5zcGxpY2UoaSwxKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnNwbGljZShpLDEpLHQ9ITAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKTt0JiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihlLDApLHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSkpfWRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpe3RoaXMuX2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdPSExLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1tlXS5hY3RpdmU9ITF9ZHJhdyhlLHQsaSxzKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdQb2ludENsb3VkcyhlLHQsaSl7dGhpcy5kcmF3QXJyYXlzVHlwZSgyLGUsdCxpKX1kcmF3VW5JbmRleGVkKGUsdCxpLHMpe3RoaXMuZHJhd0FycmF5c1R5cGUoZT8wOjEsdCxpLHMpfWRyYXdFbGVtZW50c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKSxuPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0P3RoaXMuX2dsLlVOU0lHTkVEX0lOVDp0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCxhPXRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PzQ6MjtzP3RoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZChyLGksbix0KmEscyk6dGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHIsaSxuLHQqYSl9ZHJhd0FycmF5c1R5cGUoZSx0LGkscyl7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7Y29uc3Qgcj10aGlzLl9kcmF3TW9kZShlKTtzP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQocix0LGkscyk6dGhpcy5fZ2wuZHJhd0FycmF5cyhyLHQsaSl9X2RyYXdNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFUztjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5MSU5FX0xPT1A7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5MSU5FX1NUUklQO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfU1RSSVA7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9GQU47ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTfX1fcmVwb3J0RHJhd0NhbGwoKXt9X3JlbGVhc2VFZmZlY3QoZSl7dGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0mJmRlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTtjb25zdCB0PWUuZ2V0UGlwZWxpbmVDb250ZXh0KCk7dCYmdGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfV9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lO3QmJnQucHJvZ3JhbSYmKHQucHJvZ3JhbS5fX1NQRUNUT1JfcmVidWlsZFByb2dyYW09bnVsbCx0aGlzLl9nbC5kZWxldGVQcm9ncmFtKHQucHJvZ3JhbSkpfV9nZXRHbG9iYWxEZWZpbmVzKGUpe2lmKGUpe3RoaXMuaXNORENIYWxmWlJhbmdlP2UuSVNfTkRDX0hBTEZfWlJBTkdFPSIiOmRlbGV0ZSBlLklTX05EQ19IQUxGX1pSQU5HRSx0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj9lLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSPSIiOmRlbGV0ZSBlLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnM/ZS5VU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUz0iIjpkZWxldGUgZS5VU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUztyZXR1cm59ZWxzZXtsZXQgdD0iIjtyZXR1cm4gdGhpcy5pc05EQ0hhbGZaUmFuZ2UmJih0Kz0iI2RlZmluZSBJU19ORENfSEFMRl9aUkFOR0UiKSx0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHQmJih0Kz1gCmApLHQrPSIjZGVmaW5lIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSIiksdGhpcy51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyYmKHQmJih0Kz1gCmApLHQrPSIjZGVmaW5lIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TIiksdH19Y3JlYXRlRWZmZWN0KGUsdCxpLHMscixuLGEsbyxoLGw9WmUuR0xTTCl7dmFyIHU7Y29uc3QgZD1lLnZlcnRleEVsZW1lbnR8fGUudmVydGV4fHxlLnZlcnRleFRva2VufHxlLnZlcnRleFNvdXJjZXx8ZSxmPWUuZnJhZ21lbnRFbGVtZW50fHxlLmZyYWdtZW50fHxlLmZyYWdtZW50VG9rZW58fGUuZnJhZ21lbnRTb3VyY2V8fGUsXz10aGlzLl9nZXRHbG9iYWxEZWZpbmVzKCk7bGV0IEU9KHU9ciE9bnVsbD9yOnQuZGVmaW5lcykhPT1udWxsJiZ1IT09dm9pZCAwP3U6IiI7XyYmKEUrPV8pO2NvbnN0IG09ZCsiKyIrZisiQCIrRTtpZih0aGlzLl9jb21waWxlZEVmZmVjdHNbbV0pe2NvbnN0IFM9dGhpcy5fY29tcGlsZWRFZmZlY3RzW21dO3JldHVybiBhJiZTLmlzUmVhZHkoKSYmYShTKSxTfWNvbnN0IHY9bmV3IFBlKGUsdCxpLHMsdGhpcyxyLG4sYSxvLGgsbSxsKTtyZXR1cm4gdGhpcy5fY29tcGlsZWRFZmZlY3RzW21dPXYsdn1zdGF0aWMgX0NvbmNhdGVuYXRlU2hhZGVyKGUsdCxpPSIiKXtyZXR1cm4gaSsodD90K2AKYDoiIikrZX1fY29tcGlsZVNoYWRlcihlLHQsaSxzKXtyZXR1cm4gdGhpcy5fY29tcGlsZVJhd1NoYWRlcihvZS5fQ29uY2F0ZW5hdGVTaGFkZXIoZSxpLHMpLHQpfV9jb21waWxlUmF3U2hhZGVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbCxzPWkuY3JlYXRlU2hhZGVyKHQ9PT0idmVydGV4Ij9pLlZFUlRFWF9TSEFERVI6aS5GUkFHTUVOVF9TSEFERVIpO2lmKCFzKXtsZXQgcj1pLk5PX0VSUk9SLG49aS5OT19FUlJPUjtmb3IoOyhuPWkuZ2V0RXJyb3IoKSkhPT1pLk5PX0VSUk9SOylyPW47dGhyb3cgbmV3IEVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmVhdGluZyBhIGdsICR7dH0gc2hhZGVyIG9iamVjdC4gZ2wgZXJyb3I9JHtyfSwgZ2wgaXNDb250ZXh0TG9zdD0ke2kuaXNDb250ZXh0TG9zdCgpfSwgX2NvbnRleHRXYXNMb3N0PSR7dGhpcy5fY29udGV4dFdhc0xvc3R9YCl9cmV0dXJuIGkuc2hhZGVyU291cmNlKHMsZSksaS5jb21waWxlU2hhZGVyKHMpLHN9X2dldFNoYWRlclNvdXJjZShlKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKGUpfWNyZWF0ZVJhd1NoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe3M9c3x8dGhpcy5fZ2w7Y29uc3Qgbj10aGlzLl9jb21waWxlUmF3U2hhZGVyKHQsInZlcnRleCIpLGE9dGhpcy5fY29tcGlsZVJhd1NoYWRlcihpLCJmcmFnbWVudCIpO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsbixhLHMscil9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsO2NvbnN0IGE9dGhpcy5fd2ViR0xWZXJzaW9uPjE/YCN2ZXJzaW9uIDMwMCBlcwojZGVmaW5lIFdFQkdMMiAKYDoiIixvPXRoaXMuX2NvbXBpbGVTaGFkZXIodCwidmVydGV4IixzLGEpLGg9dGhpcy5fY29tcGlsZVNoYWRlcihpLCJmcmFnbWVudCIscyxhKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG8saCxyLG4pfWlubGluZVNoYWRlckNvZGUoZSl7cmV0dXJuIGV9Y3JlYXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9bmV3IGxuO3JldHVybiB0LmVuZ2luZT10aGlzLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYodC5pc1BhcmFsbGVsQ29tcGlsZWQ9ITApLHR9Y3JlYXRlTWF0ZXJpYWxDb250ZXh0KCl7fWNyZWF0ZURyYXdDb250ZXh0KCl7fV9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtjb25zdCBuPXMuY3JlYXRlUHJvZ3JhbSgpO2lmKGUucHJvZ3JhbT1uLCFuKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7cmV0dXJuIHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSxzLmxpbmtQcm9ncmFtKG4pLGUuY29udGV4dD1zLGUudmVydGV4U2hhZGVyPXQsZS5mcmFnbWVudFNoYWRlcj1pLGUuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKSxufV9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWUuY29udGV4dCxpPWUudmVydGV4U2hhZGVyLHM9ZS5mcmFnbWVudFNoYWRlcixyPWUucHJvZ3JhbTtpZighdC5nZXRQcm9ncmFtUGFyYW1ldGVyKHIsdC5MSU5LX1NUQVRVUykpe2lmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoaSx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhpKTtpZihvKXRocm93IGUudmVydGV4Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiVkVSVEVYIFNIQURFUiAiK28pfWlmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIocyx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhzKTtpZihvKXRocm93IGUuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJGUkFHTUVOVCBTSEFERVIgIitvKX1jb25zdCBhPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYoYSl0aHJvdyBlLnByb2dyYW1MaW5rRXJyb3I9YSxuZXcgRXJyb3IoYSl9aWYodGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zJiYodC52YWxpZGF0ZVByb2dyYW0ociksIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuVkFMSURBVEVfU1RBVFVTKSkpe2NvbnN0IG89dC5nZXRQcm9ncmFtSW5mb0xvZyhyKTtpZihvKXRocm93IGUucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1vLG5ldyBFcnJvcihvKX10LmRlbGV0ZVNoYWRlcihpKSx0LmRlbGV0ZVNoYWRlcihzKSxlLnZlcnRleFNoYWRlcj12b2lkIDAsZS5mcmFnbWVudFNoYWRlcj12b2lkIDAsZS5vbkNvbXBpbGVkJiYoZS5vbkNvbXBpbGVkKCksZS5vbkNvbXBpbGVkPXZvaWQgMCl9X3ByZXBhcmVQaXBlbGluZUNvbnRleHQoZSx0LGkscyxyLG4sYSxvLGgsbCl7Y29uc3QgdT1lO3M/dS5wcm9ncmFtPXRoaXMuY3JlYXRlUmF3U2hhZGVyUHJvZ3JhbSh1LHQsaSx2b2lkIDAsaCk6dS5wcm9ncmFtPXRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbSh1LHQsaSxvLHZvaWQgMCxoKSx1LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPWF9X2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZChlKXtjb25zdCB0PWU7cmV0dXJuIHRoaXMuX2dsLmdldFByb2dyYW1QYXJhbWV0ZXIodC5wcm9ncmFtLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik/KHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KHQpLCEwKTohMX1fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQoZSx0KXtjb25zdCBpPWU7aWYoIWkuaXNQYXJhbGxlbENvbXBpbGVkKXt0KCk7cmV0dXJufWNvbnN0IHM9aS5vbkNvbXBpbGVkO3M/aS5vbkNvbXBpbGVkPSgpPT57cygpLHQoKX06aS5vbkNvbXBpbGVkPXR9Z2V0VW5pZm9ybXMoZSx0KXtjb25zdCBpPW5ldyBBcnJheSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaS5wdXNoKHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpO3JldHVybiBpfWdldEF0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPVtdLHM9ZTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl0cnl7aS5wdXNoKHRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHMucHJvZ3JhbSx0W3JdKSl9Y2F0Y2h7aS5wdXNoKC0xKX1yZXR1cm4gaX1lbmFibGVFZmZlY3QoZSl7ZT1lIT09bnVsbCYmbWkuSXNXcmFwcGVyKGUpP2UuZWZmZWN0OmUsISghZXx8ZT09PXRoaXMuX2N1cnJlbnRFZmZlY3QpJiYodGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCxlPWUsdGhpcy5iaW5kU2FtcGxlcnMoZSksdGhpcy5fY3VycmVudEVmZmVjdD1lLGUub25CaW5kJiZlLm9uQmluZChlKSxlLl9vbkJpbmRPYnNlcnZhYmxlJiZlLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c2V0SW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaShlLHQpLCEwKTohMX1zZXRJbnQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJpKGUsdCxpKSwhMCk6ITF9c2V0SW50MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNpKGUsdCxpLHMpLCEwKTohMX1zZXRJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00aShlLHQsaSxzLHIpLCEwKTohMX1zZXRJbnRBcnJheShlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWl2KGUsdCksITApOiExfXNldEludEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJpdihlLHQpLCEwKX1zZXRJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zaXYoZSx0KSwhMCl9c2V0SW50QXJyYXk0KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGl2KGUsdCksITApfXNldFVJbnQoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTF1aShlLHQpLCEwKTohMX1zZXRVSW50MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0ydWkoZSx0LGkpLCEwKTohMX1zZXRVSW50MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTN1aShlLHQsaSxzKSwhMCk6ITF9c2V0VUludDQoZSx0LGkscyxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTR1aShlLHQsaSxzLHIpLCEwKTohMX1zZXRVSW50QXJyYXkoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTF1aXYoZSx0KSwhMCk6ITF9c2V0VUludEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJ1aXYoZSx0KSwhMCl9c2V0VUludEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTN1aXYoZSx0KSwhMCl9c2V0VUludEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTR1aXYoZSx0KSwhMCl9c2V0QXJyYXkoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGg8MT8hMToodGhpcy5fZ2wudW5pZm9ybTFmdihlLHQpLCEwKX1zZXRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yZnYoZSx0KSwhMCl9c2V0QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2Z2KGUsdCksITApfXNldEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRmdihlLHQpLCEwKX1zZXRNYXRyaWNlcyhlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KGUsITEsdCksITApOiExfXNldE1hdHJpeDN4MyhlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4M2Z2KGUsITEsdCksITApOiExfXNldE1hdHJpeDJ4MihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4MmZ2KGUsITEsdCksITApOiExfXNldEZsb2F0KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xZihlLHQpLCEwKTohMX1zZXRGbG9hdDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMmYoZSx0LGkpLCEwKTohMX1zZXRGbG9hdDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zZihlLHQsaSxzKSwhMCk6ITF9c2V0RmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00ZihlLHQsaSxzLHIpLCEwKTohMX1hcHBseVN0YXRlcygpe2lmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5hcHBseSh0aGlzLl9nbCksdGhpcy5fYWxwaGFTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQpe3RoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSExO2NvbnN0IGU9dGhpcy5fY29sb3JXcml0ZTt0aGlzLl9nbC5jb2xvck1hc2soZSxlLGUsZSl9fXNldENvbG9yV3JpdGUoZSl7ZSE9PXRoaXMuX2NvbG9yV3JpdGUmJih0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9jb2xvcldyaXRlPWUpfWdldENvbG9yV3JpdGUoKXtyZXR1cm4gdGhpcy5fY29sb3JXcml0ZX1nZXQgZGVwdGhDdWxsaW5nU3RhdGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGV9Z2V0IGFscGhhU3RhdGUoKXtyZXR1cm4gdGhpcy5fYWxwaGFTdGF0ZX1nZXQgc3RlbmNpbFN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZX1nZXQgc3RlbmNpbFN0YXRlQ29tcG9zZXIoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXJ9Y2xlYXJJbnRlcm5hbFRleHR1cmVzQ2FjaGUoKXt0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUubGVuZ3RoPTB9d2lwZUNhY2hlcyhlKXt0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzJiYhZXx8KHRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbCx0aGlzLl92aWV3cG9ydENhY2hlZC54PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQueT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLno9MCx0aGlzLl92aWV3cG9ydENhY2hlZC53PTAsdGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSxlJiYodGhpcy5fY3VycmVudFByb2dyYW09bnVsbCx0aGlzLnJlc2V0VGV4dHVyZUNhY2hlKCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5yZXNldCgpLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fYWxwaGFTdGF0ZS5yZXNldCgpLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9jb2xvcldyaXRlPSEwLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsMCksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSl9X2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5fZ2w7bGV0IHM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO3N3aXRjaChlKXtjYXNlIDExOnM9aS5MSU5FQVIsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAzOnM9aS5MSU5FQVIsdD9yPWkuTElORUFSX01JUE1BUF9MSU5FQVI6cj1pLkxJTkVBUjticmVhaztjYXNlIDg6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTElORUFSOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgNDpzPWkuTkVBUkVTVCx0P3I9aS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgNTpzPWkuTkVBUkVTVCx0P3I9aS5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6cj1pLkxJTkVBUjticmVhaztjYXNlIDY6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9MSU5FQVI6cj1pLkxJTkVBUjticmVhaztjYXNlIDc6cz1pLk5FQVJFU1Qscj1pLkxJTkVBUjticmVhaztjYXNlIDE6cz1pLk5FQVJFU1Qscj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSA5OnM9aS5MSU5FQVIsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDEwOnM9aS5MSU5FQVIsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTElORUFSOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgMjpzPWkuTElORUFSLHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxMjpzPWkuTElORUFSLHI9aS5ORUFSRVNUO2JyZWFrfXJldHVybnttaW46cixtYWc6c319X2NyZWF0ZVRleHR1cmUoKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZVRleHR1cmUoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGV4dHVyZSIpO3JldHVybiBlfV9jcmVhdGVIYXJkd2FyZVRleHR1cmUoKXtyZXR1cm4gbmV3IHRyKHRoaXMuX2NyZWF0ZVRleHR1cmUoKSx0aGlzLl9nbCl9X2NyZWF0ZUludGVybmFsVGV4dHVyZShlLHQsaT0hMCxzPU5lLlVua25vd24pe3ZhciByO2xldCBuPSExLGE9MCxvPTMsaD01LGw9ITEsdT0xO3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8obj0hIXQuZ2VuZXJhdGVNaXBNYXBzLGE9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLG89dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxoPXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsbD10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyLHU9KHI9dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxKTpuPSEhdCxsJiYobD10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFUpKSwoYT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8YT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYobz0xKSxhPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoYT0wLE8uV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFR5cGUgZm9yY2VkIHRvIFRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEUiKSk7Y29uc3QgZD10aGlzLl9nbCxmPW5ldyBPdCh0aGlzLHMpLF89ZS53aWR0aHx8ZSxFPWUuaGVpZ2h0fHxlLG09ZS5sYXllcnN8fDAsdj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMobyxuKSxTPW0hPT0wP2QuVEVYVFVSRV8yRF9BUlJBWTpkLlRFWFRVUkVfMkQseT10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChhLGgsbCksQT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChoKSxDPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYSk7cmV0dXJuIHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoUyxmKSxtIT09MD8oZi5pczJEQXJyYXk9ITAsZC50ZXhJbWFnZTNEKFMsMCx5LF8sRSxtLDAsQSxDLG51bGwpKTpkLnRleEltYWdlMkQoUywwLHksXyxFLDAsQSxDLG51bGwpLGQudGV4UGFyYW1ldGVyaShTLGQuVEVYVFVSRV9NQUdfRklMVEVSLHYubWFnKSxkLnRleFBhcmFtZXRlcmkoUyxkLlRFWFRVUkVfTUlOX0ZJTFRFUix2Lm1pbiksZC50ZXhQYXJhbWV0ZXJpKFMsZC5URVhUVVJFX1dSQVBfUyxkLkNMQU1QX1RPX0VER0UpLGQudGV4UGFyYW1ldGVyaShTLGQuVEVYVFVSRV9XUkFQX1QsZC5DTEFNUF9UT19FREdFKSxuJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChTKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KFMsbnVsbCksZi5fdXNlU1JHQkJ1ZmZlcj1sLGYuYmFzZVdpZHRoPV8sZi5iYXNlSGVpZ2h0PUUsZi53aWR0aD1fLGYuaGVpZ2h0PUUsZi5kZXB0aD1tLGYuaXNSZWFkeT0hMCxmLnNhbXBsZXM9dSxmLmdlbmVyYXRlTWlwTWFwcz1uLGYuc2FtcGxpbmdNb2RlPW8sZi50eXBlPWEsZi5mb3JtYXQ9aCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChmKSxmfV9nZXRVc2VTUkdCQnVmZmVyKGUsdCl7cmV0dXJuIGUmJnRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVXx8dCl9X2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscj0zLG49bnVsbCxhPW51bGwsbyxoLGw9bnVsbCx1PW51bGwsZD1udWxsLGY9bnVsbCxfLEUsbSl7ZT1lfHwiIjtjb25zdCB2PWUuc3Vic3RyKDAsNSk9PT0iZGF0YToiLFM9ZS5zdWJzdHIoMCw1KT09PSJibG9iOiIseT12JiZlLmluZGV4T2YoIjtiYXNlNjQsIikhPT0tMSxBPXV8fG5ldyBPdCh0aGlzLE5lLlVybCksQz1lO3RoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwmJiF5JiYhdSYmIWwmJihlPXRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwoZSkpLEMhPT1lJiYoQS5fb3JpZ2luYWxVcmw9Qyk7Y29uc3QgYj1lLmxhc3RJbmRleE9mKCIuIik7bGV0IE09Znx8KGI+LTE/ZS5zdWJzdHJpbmcoYikudG9Mb3dlckNhc2UoKToiIiksTD1udWxsO00uaW5kZXhPZigiPyIpPi0xJiYoTT1NLnNwbGl0KCI/IilbMF0pO2Zvcihjb25zdCBjZSBvZiBvZS5fVGV4dHVyZUxvYWRlcnMpaWYoY2UuY2FuTG9hZChNLF8pKXtMPWNlO2JyZWFrfXMmJnMuYWRkUGVuZGluZ0RhdGEoQSksQS51cmw9ZSxBLmdlbmVyYXRlTWlwTWFwcz0hdCxBLnNhbXBsaW5nTW9kZT1yLEEuaW52ZXJ0WT1pLEEuX3VzZVNSR0JCdWZmZXI9dGhpcy5fZ2V0VXNlU1JHQkJ1ZmZlcighIW0sdCksdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KEEuX2J1ZmZlcj1sKTtsZXQgdz1udWxsO24mJiF1JiYodz1BLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQobikpLHV8fHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKEEpO2NvbnN0IGRlPShjZSxzZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKEEpLGU9PT1DPyh3JiZBLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUodyksZmUuVXNlRmFsbGJhY2tUZXh0dXJlJiZ0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShmZS5GYWxsYmFja1RleHR1cmUsdCxBLmludmVydFkscyxyLG51bGwsYSxvLGgsbCxBKSxjZT0oY2V8fCJVbmtub3duIGVycm9yIikrKGZlLlVzZUZhbGxiYWNrVGV4dHVyZT8iIC0gRmFsbGJhY2sgdGV4dHVyZSB3YXMgdXNlZCI6IiIpLEEub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHttZXNzYWdlOmNlLGV4Y2VwdGlvbjpzZX0pLGEmJmEoY2Usc2UpKTooTy5XYXJuKGBGYWlsZWQgdG8gbG9hZCAke2V9LCBmYWxsaW5nIGJhY2sgdG8gJHtDfWApLHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKEMsdCxBLmludmVydFkscyxyLG4sYSxvLGgsbCxBLGQsZixfLEUsbSkpfTtpZihMKXtjb25zdCBjZT1zZT0+e0wubG9hZERhdGEoc2UsQSwodGUsRmUsd2UsSGUsS2UsWWUpPT57WWU/ZGUoIlRleHR1cmVMb2FkZXIgZmFpbGVkIHRvIGxvYWQgZGF0YSIpOm8oQSxNLHMse3dpZHRoOnRlLGhlaWdodDpGZX0sQS5pbnZlcnRZLCF3ZSxIZSwoKT0+KEtlKCksITEpLHIpfSxFKX07bD9sIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/Y2UobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9jZShsKTphJiZhKCJVbmFibGUgdG8gbG9hZDogb25seSBBcnJheUJ1ZmZlciBvciBBcnJheUJ1ZmZlclZpZXcgaXMgc3VwcG9ydGVkIixudWxsKTp0aGlzLl9sb2FkRmlsZShlLHNlPT5jZShuZXcgVWludDhBcnJheShzZSkpLHZvaWQgMCxzP3Mub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCwhMCwoc2UsdGUpPT57ZGUoIlVuYWJsZSB0byBsb2FkICIrKHNlJiZzZS5yZXNwb25zZVVSTCx0ZSkpfSl9ZWxzZXtjb25zdCBjZT1zZT0+e1MmJiF0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoQS5fYnVmZmVyPXNlKSxvKEEsTSxzLHNlLEEuaW52ZXJ0WSx0LCExLGgscil9OyF2fHx5P2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP2NlKGwpOm9lLl9GaWxlVG9vbHNMb2FkSW1hZ2UoZSxjZSxkZSxzP3Mub2ZmbGluZVByb3ZpZGVyOm51bGwsXyxBLmludmVydFkmJnRoaXMuX2ZlYXR1cmVzLm5lZWRzSW52ZXJ0aW5nQml0bWFwP3tpbWFnZU9yaWVudGF0aW9uOiJmbGlwWSJ9OnZvaWQgMCk6dHlwZW9mIGw9PSJzdHJpbmcifHxsIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhsKXx8bCBpbnN0YW5jZW9mIEJsb2I/b2UuX0ZpbGVUb29sc0xvYWRJbWFnZShsLGNlLGRlLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxfLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZjZShsKX1yZXR1cm4gQX1jcmVhdGVUZXh0dXJlKGUsdCxpLHMscj0zLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwsdT1udWxsLGQsZixfLEUpe3JldHVybiB0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShlLHQsaSxzLHIsbixhLHRoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmUuYmluZCh0aGlzKSwobSx2LFMseSxBLEMpPT57Y29uc3QgYj10aGlzLl9nbCxNPVMud2lkdGg9PT1tJiZTLmhlaWdodD09PXYsTD1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwsQS5fdXNlU1JHQkJ1ZmZlcik6eT09PSIuanBnIiYmIUEuX3VzZVNSR0JCdWZmZXI/Yi5SR0I6QS5fdXNlU1JHQkJ1ZmZlcj9iLlNSR0I4X0FMUEhBODpiLlJHQkE7bGV0IGs9bD90aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChsKTp5PT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj9iLlJHQjpiLlJHQkE7aWYoQS5fdXNlU1JHQkJ1ZmZlciYmdGhpcy53ZWJHTFZlcnNpb249PT0xJiYoaz1MKSxNKXJldHVybiBiLnRleEltYWdlMkQoYi5URVhUVVJFXzJELDAsTCxrLGIuVU5TSUdORURfQllURSxTKSwhMTtjb25zdCB3PXRoaXMuX2NhcHMubWF4VGV4dHVyZVNpemU7aWYoUy53aWR0aD53fHxTLmhlaWdodD53fHwhdGhpcy5fc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcpcmV0dXJuIHRoaXMuX3ByZXBhcmVXb3JraW5nQ2FudmFzKCksIXRoaXMuX3dvcmtpbmdDYW52YXN8fCF0aGlzLl93b3JraW5nQ29udGV4dHx8KHRoaXMuX3dvcmtpbmdDYW52YXMud2lkdGg9bSx0aGlzLl93b3JraW5nQ2FudmFzLmhlaWdodD12LHRoaXMuX3dvcmtpbmdDb250ZXh0LmRyYXdJbWFnZShTLDAsMCxTLndpZHRoLFMuaGVpZ2h0LDAsMCxtLHYpLGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxMLGssYi5VTlNJR05FRF9CWVRFLHRoaXMuX3dvcmtpbmdDYW52YXMpLEEud2lkdGg9bSxBLmhlaWdodD12KSwhMTt7Y29uc3QgZGU9bmV3IE90KHRoaXMsTmUuVGVtcCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShiLlRFWFRVUkVfMkQsZGUsITApLGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxMLGssYi5VTlNJR05FRF9CWVRFLFMpLHRoaXMuX3Jlc2NhbGVUZXh0dXJlKGRlLEEscyxMLCgpPT57dGhpcy5fcmVsZWFzZVRleHR1cmUoZGUpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYi5URVhUVVJFXzJELEEsITApLEMoKX0pfXJldHVybiEwfSxvLGgsbCx1LGQsZixFKX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRJbWFnZShlLHQsaSxzLHIsbil7dGhyb3cgUSgiRmlsZVRvb2xzIil9X3Jlc2NhbGVUZXh0dXJlKGUsdCxpLHMscil7fWNyZWF0ZVJhd1RleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwsaD0wLGw9MCx1PSExKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd0N1YmVUZXh0dXJlKGUsdCxpLHMscixuLGEsbz1udWxsKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUzRChlLHQsaSxzLHIsbixhLG8saD1udWxsLGw9MCl7dGhyb3cgUSgiRW5naW5lLlJhd1RleHR1cmUiKX1jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShlLHQsaSxzLHIsbixhLG8saD1udWxsLGw9MCl7dGhyb3cgUSgiRW5naW5lLlJhd1RleHR1cmUiKX1fdW5wYWNrRmxpcFkoZSl7dGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQhPT1lJiYodGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlPzE6MCksdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZCYmKHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPWUpKX1fZ2V0VW5wYWNrQWxpZ25lbWVudCgpe3JldHVybiB0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVU5QQUNLX0FMSUdOTUVOVCl9X2dldFRleHR1cmVUYXJnZXQoZSl7cmV0dXJuIGUuaXNDdWJlP3RoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVA6ZS5pczNEP3RoaXMuX2dsLlRFWFRVUkVfM0Q6ZS5pczJEQXJyYXl8fGUuaXNNdWx0aXZpZXc/dGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWTp0aGlzLl9nbC5URVhUVVJFXzJEfXVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoZSx0LGk9ITEpe2NvbnN0IHM9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KSxyPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLHQuZ2VuZXJhdGVNaXBNYXBzfHxpKTt0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUixyLm1hZyx0KSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUixyLm1pbiksaSYmKHQuZ2VuZXJhdGVNaXBNYXBzPSEwLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHMpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCksdC5zYW1wbGluZ01vZGU9ZX11cGRhdGVUZXh0dXJlRGltZW5zaW9ucyhlLHQsaSxzPTEpe311cGRhdGVUZXh0dXJlV3JhcHBpbmdNb2RlKGUsdCxpPW51bGwscz1udWxsKXtjb25zdCByPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSk7dCE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0KSxlKSxlLl9jYWNoZWRXcmFwVT10KSxpIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKGkpLGUpLGUuX2NhY2hlZFdyYXBWPWkpLChlLmlzMkRBcnJheXx8ZS5pczNEKSYmcyE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShzKSxlKSxlLl9jYWNoZWRXcmFwUj1zKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCl9X3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzLHIsbj0xKXtjb25zdCBhPXQud2lkdGh8fHQsbz10LmhlaWdodHx8dCxoPXQubGF5ZXJzfHwwO2UuYmFzZVdpZHRoPWEsZS5iYXNlSGVpZ2h0PW8sZS53aWR0aD1hLGUuaGVpZ2h0PW8sZS5pczJEQXJyYXk9aD4wLGUuZGVwdGg9aCxlLmlzUmVhZHk9ITAsZS5zYW1wbGVzPW4sZS5nZW5lcmF0ZU1pcE1hcHM9ITEsZS5zYW1wbGluZ01vZGU9cz8yOjEsZS50eXBlPTAsZS5fY29tcGFyaXNvbkZ1bmN0aW9uPXI7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSksZD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZS5zYW1wbGluZ01vZGUsITEpO2wudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NQUdfRklMVEVSLGQubWFnKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfTUlOX0ZJTFRFUixkLm1pbiksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfUyxsLkNMQU1QX1RPX0VER0UpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9XUkFQX1QsbC5DTEFNUF9UT19FREdFKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYocj09PTA/KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuTk9ORSkpOihsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5DT01QQVJFX1JFRl9UT19URVhUVVJFKSkpfV91cGxvYWRDb21wcmVzc2VkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpLHMscixuPTAsYT0wKXtjb25zdCBvPXRoaXMuX2dsO2xldCBoPW8uVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGg9by5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbiksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNzQ5MjpjYXNlIDM2MTk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNzQ5Njp0aGlzLl9jYXBzLmV0YzI/dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNjQ5Mjp0PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzc6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3OTp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztkZWZhdWx0OmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWt9dGhpcy5fZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoaCxhLHQsaSxzLDAscil9X3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaT0wLHM9MCxyLG49ITEpe2NvbnN0IGE9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksaD10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1yPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IHU9YS5URVhUVVJFXzJEO2UuaXNDdWJlJiYodT1hLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKTtjb25zdCBkPU1hdGgucm91bmQoTWF0aC5sb2coZS53aWR0aCkqTWF0aC5MT0cyRSksZj1NYXRoLnJvdW5kKE1hdGgubG9nKGUuaGVpZ2h0KSpNYXRoLkxPRzJFKSxfPW4/ZS53aWR0aDpNYXRoLnBvdygyLE1hdGgubWF4KGQtcywwKSksRT1uP2UuaGVpZ2h0Ok1hdGgucG93KDIsTWF0aC5tYXgoZi1zLDApKTthLnRleEltYWdlMkQodSxzLGwsXyxFLDAsaCxvLHQpfXVwZGF0ZVRleHR1cmVEYXRhKGUsdCxpLHMscixuLGE9MCxvPTAsaD0hMSl7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxkPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBmPWwuVEVYVFVSRV8yRCxfPWwuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKF89bC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxmPWwuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLGUsITApLGwudGV4U3ViSW1hZ2UyRChfLG8saSxzLHIsbixkLHUsdCksaCYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoXyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLG51bGwpfV91cGxvYWRBcnJheUJ1ZmZlclZpZXdUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobixlLCEwKSx0aGlzLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwsITApfV9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLl9nbDtpZighbilyZXR1cm47Y29uc3QgYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMociwhaSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixhLm1hZyksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixhLm1pbiksIWkmJiFzJiZuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5yZW1vdmVQZW5kaW5nRGF0YShlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKX1fcHJlcGFyZVdlYkdMVGV4dHVyZShlLHQsaSxzLHIsbixhLG8saD0zKXtjb25zdCBsPXRoaXMuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLHU9TWF0aC5taW4obCx0aGlzLm5lZWRQT1RUZXh0dXJlcz9vZS5HZXRFeHBvbmVudE9mVHdvKHMud2lkdGgsbCk6cy53aWR0aCksZD1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP29lLkdldEV4cG9uZW50T2ZUd28ocy5oZWlnaHQsbCk6cy5oZWlnaHQpLGY9dGhpcy5fZ2w7aWYoISFmKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXtpJiZpLnJlbW92ZVBlbmRpbmdEYXRhKGUpO3JldHVybn10aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShyPT09dm9pZCAwPyEwOiEhciksZS5iYXNlV2lkdGg9cy53aWR0aCxlLmJhc2VIZWlnaHQ9cy5oZWlnaHQsZS53aWR0aD11LGUuaGVpZ2h0PWQsZS5pc1JlYWR5PSEwLCFvKHUsZCxzLHQsZSwoKT0+e3RoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxpLG4sYSxoKX0pJiZ0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9fV9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhlLHQsaSxzLHI9MSl7Y29uc3Qgbj10aGlzLl9nbDtpZihlJiZ0KXJldHVybiB0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsbi5ERVBUSF9TVEVOQ0lMLG4uREVQVEgyNF9TVEVOQ0lMOCxuLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCk7aWYodCl7bGV0IGE9bi5ERVBUSF9DT01QT05FTlQxNjtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjEmJihhPW4uREVQVEhfQ09NUE9ORU5UMzJGKSx0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsYSxhLG4uREVQVEhfQVRUQUNITUVOVCl9cmV0dXJuIGU/dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0lOREVYOCxuLlNURU5DSUxfQVRUQUNITUVOVCk6bnVsbH1fY3JlYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGE9ITApe2NvbnN0IGg9dGhpcy5fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuX3VwZGF0ZVJlbmRlckJ1ZmZlcihoLGUsdCxpLHMscixuLGEpfV91cGRhdGVSZW5kZXJCdWZmZXIoZSx0LGkscyxyLG4sYSxvPSEwKXtjb25zdCBoPXRoaXMuX2dsO3JldHVybiBoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsZSkscz4xJiZoLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT9oLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShoLlJFTkRFUkJVRkZFUixzLG4sdCxpKTpoLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoaC5SRU5ERVJCVUZGRVIscix0LGkpLGguZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaC5GUkFNRUJVRkZFUixhLGguUkVOREVSQlVGRkVSLGUpLG8mJmguYmluZFJlbmRlcmJ1ZmZlcihoLlJFTkRFUkJVRkZFUixudWxsKSxlfV9yZWxlYXNlVGV4dHVyZShlKXt2YXIgdDt0aGlzLl9kZWxldGVUZXh0dXJlKCh0PWUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnVuZGVybHlpbmdSZXNvdXJjZSksdGhpcy51bmJpbmRBbGxUZXh0dXJlcygpO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc3BsaWNlKGksMSksZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtjb25zdCB0PXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNwbGljZSh0LDEpfV9kZWxldGVUZXh0dXJlKGUpe2UmJnRoaXMuX2dsLmRlbGV0ZVRleHR1cmUoZSl9X3NldFByb2dyYW0oZSl7dGhpcy5fY3VycmVudFByb2dyYW0hPT1lJiYodGhpcy5fZ2wudXNlUHJvZ3JhbShlKSx0aGlzLl9jdXJyZW50UHJvZ3JhbT1lKX1iaW5kU2FtcGxlcnMoZSl7Y29uc3QgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX3NldFByb2dyYW0odC5wcm9ncmFtKTtjb25zdCBpPWUuZ2V0U2FtcGxlcnMoKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lLmdldFVuaWZvcm0oaVtzXSk7ciYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbc109cil9dGhpcy5fY3VycmVudEVmZmVjdD1udWxsfV9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCl7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsIT09dGhpcy5fYWN0aXZlQ2hhbm5lbCYmKHRoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRTArdGhpcy5fYWN0aXZlQ2hhbm5lbCksdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPXRoaXMuX2FjdGl2ZUNoYW5uZWwpfV9iaW5kVGV4dHVyZURpcmVjdGx5KGUsdCxpPSExLHM9ITEpe3ZhciByLG47bGV0IGE9ITE7Y29uc3Qgbz10JiZ0Ll9hc3NvY2lhdGVkQ2hhbm5lbD4tMTtpZihpJiZvJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD10Ll9hc3NvY2lhdGVkQ2hhbm5lbCksdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW3RoaXMuX2FjdGl2ZUNoYW5uZWxdIT09dHx8cyl7aWYodGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpLHQmJnQuaXNNdWx0aXZpZXcpdGhyb3cgY29uc29sZS5lcnJvcihlLHQpLCJfYmluZFRleHR1cmVEaXJlY3RseSBjYWxsZWQgd2l0aCBhIG11bHRpdmlldyB0ZXh0dXJlISI7dGhpcy5fZ2wuYmluZFRleHR1cmUoZSwobj0ocj10PT1udWxsP3ZvaWQgMDp0Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci51bmRlcmx5aW5nUmVzb3VyY2UpIT09bnVsbCYmbiE9PXZvaWQgMD9uOm51bGwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXT10LHQmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1lbHNlIGkmJihhPSEwLHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSk7cmV0dXJuIG8mJiFpJiZ0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwodC5fYXNzb2NpYXRlZENoYW5uZWwsdGhpcy5fYWN0aXZlQ2hhbm5lbCksYX1fYmluZFRleHR1cmUoZSx0LGkpe2lmKGU9PT12b2lkIDApcmV0dXJuO3QmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD1lKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7Y29uc3Qgcz10P3RoaXMuX2dldFRleHR1cmVUYXJnZXQodCk6dGhpcy5fZ2wuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsdCl9dW5iaW5kQWxsVGV4dHVyZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2UrKyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSl9c2V0VGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksdGhpcy5fc2V0VGV4dHVyZShlLGkpKX1fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKGUsdCl7Y29uc3QgaT10aGlzLl9ib3VuZFVuaWZvcm1zW2VdOyFpfHxpLl9jdXJyZW50U3RhdGU9PT10fHwodGhpcy5fZ2wudW5pZm9ybTFpKGksdCksaS5fY3VycmVudFN0YXRlPXQpfV9nZXRUZXh0dXJlV3JhcE1vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuUkVQRUFUO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLk1JUlJPUkVEX1JFUEVBVH1yZXR1cm4gdGhpcy5fZ2wuUkVQRUFUfV9zZXRUZXh0dXJlKGUsdCxpPSExLHM9ITEscj0iIil7aWYoIXQpcmV0dXJuIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXSE9bnVsbCYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKSksITE7aWYodC52aWRlbyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdC51cGRhdGUoKTtlbHNlIGlmKHQuZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiB0LmRlbGF5TG9hZCgpLCExO2xldCBuO3M/bj10LmRlcHRoU3RlbmNpbFRleHR1cmU6dC5pc1JlYWR5KCk/bj10LmdldEludGVybmFsVGV4dHVyZSgpOnQuaXNDdWJlP249dGhpcy5lbXB0eUN1YmVUZXh0dXJlOnQuaXMzRD9uPXRoaXMuZW1wdHlUZXh0dXJlM0Q6dC5pczJEQXJyYXk/bj10aGlzLmVtcHR5VGV4dHVyZTJEQXJyYXk6bj10aGlzLmVtcHR5VGV4dHVyZSwhaSYmbiYmKG4uX2Fzc29jaWF0ZWRDaGFubmVsPWUpO2xldCBhPSEwO3RoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT09PW4mJihpfHx0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwobi5fYXNzb2NpYXRlZENoYW5uZWwsZSksYT0hMSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IG89dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChuKTtpZihhJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8sbixpKSxuJiYhbi5pc011bHRpdmlldyl7aWYobi5pc0N1YmUmJm4uX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXQuY29vcmRpbmF0ZXNNb2RlKXtuLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dC5jb29yZGluYXRlc01vZGU7Y29uc3QgaD10LmNvb3JkaW5hdGVzTW9kZSE9PTMmJnQuY29vcmRpbmF0ZXNNb2RlIT09NT8xOjA7dC53cmFwVT1oLHQud3JhcFY9aH1uLl9jYWNoZWRXcmFwVSE9PXQud3JhcFUmJihuLl9jYWNoZWRXcmFwVT10LndyYXBVLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFUpLG4pKSxuLl9jYWNoZWRXcmFwViE9PXQud3JhcFYmJihuLl9jYWNoZWRXcmFwVj10LndyYXBWLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFYpLG4pKSxuLmlzM0QmJm4uX2NhY2hlZFdyYXBSIT09dC53cmFwUiYmKG4uX2NhY2hlZFdyYXBSPXQud3JhcFIsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobyx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUix0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwUiksbikpLHRoaXMuX3NldEFuaXNvdHJvcGljTGV2ZWwobyxuLHQuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCl9cmV0dXJuITB9c2V0VGV4dHVyZUFycmF5KGUsdCxpLHMpe2lmKCEoZT09PXZvaWQgMHx8IXQpKXsoIXRoaXMuX3RleHR1cmVVbml0c3x8dGhpcy5fdGV4dHVyZVVuaXRzLmxlbmd0aCE9PWkubGVuZ3RoKSYmKHRoaXMuX3RleHR1cmVVbml0cz1uZXcgSW50MzJBcnJheShpLmxlbmd0aCkpO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKXtjb25zdCBuPWlbcl0uZ2V0SW50ZXJuYWxUZXh0dXJlKCk7bj8odGhpcy5fdGV4dHVyZVVuaXRzW3JdPWUrcixuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lK3IpOnRoaXMuX3RleHR1cmVVbml0c1tyXT0tMX10aGlzLl9nbC51bmlmb3JtMWl2KHQsdGhpcy5fdGV4dHVyZVVuaXRzKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLl9zZXRUZXh0dXJlKHRoaXMuX3RleHR1cmVVbml0c1tyXSxpW3JdLCEwKX19X3NldEFuaXNvdHJvcGljTGV2ZWwoZSx0LGkpe2NvbnN0IHM9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb247dC5zYW1wbGluZ01vZGUhPT0xMSYmdC5zYW1wbGluZ01vZGUhPT0zJiZ0LnNhbXBsaW5nTW9kZSE9PTImJihpPTEpLHMmJnQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwhPT1pJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUscy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihpLHRoaXMuX2NhcHMubWF4QW5pc290cm9weSksdCksdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1pKX1fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUsdCxpLHMpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJmKGUsdCxpKX1fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoZSx0LGkscyl7cyYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShlLHMsITAsITApLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkoZSx0LGkpfXVuYmluZEFsbEF0dHJpYnV0ZXMoKXtpZih0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXMpe3RoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMTtmb3IobGV0IGU9MDtlPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztlKyspdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKTtyZXR1cm59Zm9yKGxldCBlPTAsdD10aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkLmxlbmd0aDtlPHQ7ZSsrKWU+PXRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlic3x8IXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV18fHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl9cmVsZWFzZUVmZmVjdHMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe2NvbnN0IHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX10aGlzLl9jb21waWxlZEVmZmVjdHM9e319ZGlzcG9zZSgpe3ZhciBlO3RoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LGplKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLFBlLlJlc2V0Q2FjaGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVSZXF1ZXN0cyl0LmFib3J0KCk7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX1hdHRhY2hDb250ZXh0TG9zdEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfWF0dGFjaENvbnRleHRSZXN0b3JlZEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixlLCExKX1nZXRFcnJvcigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfV9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9X2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMil9X2NhblJlbmRlclRvRnJhbWVidWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbDtmb3IoO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtsZXQgaT0hMDtjb25zdCBzPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHMpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO2NvbnN0IHI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHMsMCk7Y29uc3Qgbj10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik7aWYoaT1pJiZuPT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IsaSYmKHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUKSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IpLGkpe3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7Y29uc3QgYT10LlJHQkEsbz10LlVOU0lHTkVEX0JZVEUsaD1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxhLG8saCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUocyksdC5kZWxldGVGcmFtZWJ1ZmZlcihyKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFpJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIGl9X2dldFdlYkdMVGV4dHVyZVR5cGUoZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfV9nZXRJbnRlcm5hbEZvcm1hdChlLHQ9ITEpe2xldCBpPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDppPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTppPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6aT10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2Omk9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzppPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDppPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1Omk9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4Omk9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5Omk9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOmk9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTppPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gaX1fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSx0LGk9ITEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe2lmKHQhPT12b2lkIDApc3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7Y2FzZSA0OnJldHVybiBpP3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCfXJldHVybiB0aGlzLl9nbC5SR0JBfXN3aXRjaChlKXtjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjhfU05PUk07Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzhfU05PUk07Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0I4X1NOT1JNO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOEk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQThfU05PUk19Y2FzZSAwOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4O2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4O2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCODp0aGlzLl9nbC5SR0I4O2Nhc2UgNTpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTg7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOFVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOFVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4VUk7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOH1jYXNlIDQ6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkl9Y2FzZSA1OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUl9Y2FzZSA2OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMySTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJJfWNhc2UgNzpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJfWNhc2UgMTpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMzJGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkczMkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IzMkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkZ9Y2FzZSAyOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIxNkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzE2RjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjE2RjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2Rn1jYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I1NjU7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuUjExRl9HMTFGX0IxMEY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOV9FNTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlJHQkE0O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkdCNV9BMTtjYXNlIDExOnN3aXRjaCh0KXtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJ9fXJldHVybiBpP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBOH1fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9X2xvYWRGaWxlKGUsdCxpLHMscixuKXtjb25zdCBhPW9lLl9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2goYSksYS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQobz0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKG8pLDEpfSksYX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX1yZWFkUGl4ZWxzKGUsdCxpLHMscj0hMCxuPSEwKXtjb25zdCBhPXI/NDozLG89cj90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixoPW5ldyBVaW50OEFycmF5KHMqaSphKTtyZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQsaSxzLG8sdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSxQcm9taXNlLnJlc29sdmUoaCl9c3RhdGljIGdldCBJc1N1cHBvcnRlZEFzeW5jKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfXN0YXRpYyBpc1N1cHBvcnRlZCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiKXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTt0aGlzLl9Jc1N1cHBvcnRlZD10IT1udWxsJiYhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9Y2F0Y2h7dGhpcy5fSXNTdXBwb3J0ZWQ9ITF9cmV0dXJuIHRoaXMuX0lzU3VwcG9ydGVkfXN0YXRpYyBnZXQgSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9PT1udWxsKXRyeXtjb25zdCBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fXN0YXRpYyBDZWlsaW5nUE9UKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX1zdGF0aWMgRmxvb3JQT1QoZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX1zdGF0aWMgTmVhcmVzdFBPVChlKXtjb25zdCB0PW9lLkNlaWxpbmdQT1QoZSksaT1vZS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtaT9pOnR9c3RhdGljIEdldEV4cG9uZW50T2ZUd28oZSx0LGk9Mil7bGV0IHM7c3dpdGNoKGkpe2Nhc2UgMTpzPW9lLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpzPW9lLk5lYXJlc3RQT1QoZSk7YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6cz1vZS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihzLHQpfXN0YXRpYyBRdWV1ZU5ld0ZyYW1lKGUsdCl7aWYoamUoKSl7Y29uc3R7cmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZTppLHJlcXVlc3RBbmltYXRpb25GcmFtZTpzfT10fHx3aW5kb3c7aWYodHlwZW9mIGk9PSJmdW5jdGlvbiIpcmV0dXJuIGkoZSk7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpcmV0dXJuIHMoZSl9ZWxzZSBpZih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT0iZnVuY3Rpb24iKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJuIHNldFRpbWVvdXQoZSwxNil9Z2V0SG9zdERvY3VtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6Q2koKT9kb2N1bWVudDpudWxsfX1vZS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLG9lLl9UZXh0dXJlTG9hZGVycz1bXSxvZS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLG9lLl9Jc1N1cHBvcnRlZD1udWxsLG9lLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PW51bGw7Y2xhc3MgZG57Y29uc3RydWN0b3IoZT0zMCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBmbihlKX1zYW1wbGVGcmFtZShlPWFpLk5vdyl7aWYoISF0aGlzLl9lbmFibGVkKXtpZih0aGlzLl9sYXN0RnJhbWVUaW1lTXMhPW51bGwpe2NvbnN0IHQ9ZS10aGlzLl9sYXN0RnJhbWVUaW1lTXM7dGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hZGQodCl9dGhpcy5fbGFzdEZyYW1lVGltZU1zPWV9fWdldCBhdmVyYWdlRnJhbWVUaW1lKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYXZlcmFnZX1nZXQgYXZlcmFnZUZyYW1lVGltZVZhcmlhbmNlKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUudmFyaWFuY2V9Z2V0IGluc3RhbnRhbmVvdXNGcmFtZVRpbWUoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5oaXN0b3J5KDApfWdldCBhdmVyYWdlRlBTKCl7cmV0dXJuIDFlMy90aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9Z2V0IGluc3RhbnRhbmVvdXNGUFMoKXtjb25zdCBlPXRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKTtyZXR1cm4gZT09PTA/MDoxZTMvZX1nZXQgaXNTYXR1cmF0ZWQoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5pc1NhdHVyYXRlZCgpfWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbGFzdEZyYW1lVGltZU1zPW51bGx9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXJlc2V0KCl7dGhpcy5fbGFzdEZyYW1lVGltZU1zPW51bGwsdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5yZXNldCgpfX1jbGFzcyBmbntjb25zdHJ1Y3RvcihlKXt0aGlzLl9zYW1wbGVzPW5ldyBBcnJheShlKSx0aGlzLnJlc2V0KCl9YWRkKGUpe2xldCB0O2lmKHRoaXMuaXNTYXR1cmF0ZWQoKSl7Y29uc3QgaT10aGlzLl9zYW1wbGVzW3RoaXMuX3Bvc107dD1pLXRoaXMuYXZlcmFnZSx0aGlzLmF2ZXJhZ2UtPXQvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX20yLT10KihpLXRoaXMuYXZlcmFnZSl9ZWxzZSB0aGlzLl9zYW1wbGVDb3VudCsrO3Q9ZS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlKz10L3RoaXMuX3NhbXBsZUNvdW50LHRoaXMuX20yKz10KihlLXRoaXMuYXZlcmFnZSksdGhpcy52YXJpYW5jZT10aGlzLl9tMi8odGhpcy5fc2FtcGxlQ291bnQtMSksdGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdPWUsdGhpcy5fcG9zKyssdGhpcy5fcG9zJT10aGlzLl9zYW1wbGVzLmxlbmd0aH1oaXN0b3J5KGUpe2lmKGU+PXRoaXMuX3NhbXBsZUNvdW50fHxlPj10aGlzLl9zYW1wbGVzLmxlbmd0aClyZXR1cm4gMDtjb25zdCB0PXRoaXMuX3dyYXBQb3NpdGlvbih0aGlzLl9wb3MtMSk7cmV0dXJuIHRoaXMuX3NhbXBsZXNbdGhpcy5fd3JhcFBvc2l0aW9uKHQtZSldfWlzU2F0dXJhdGVkKCl7cmV0dXJuIHRoaXMuX3NhbXBsZUNvdW50Pj10aGlzLl9zYW1wbGVzLmxlbmd0aH1yZXNldCgpe3RoaXMuYXZlcmFnZT0wLHRoaXMudmFyaWFuY2U9MCx0aGlzLl9zYW1wbGVDb3VudD0wLHRoaXMuX3Bvcz0wLHRoaXMuX20yPTB9X3dyYXBQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuX3NhbXBsZXMubGVuZ3RoO3JldHVybihlJXQrdCkldH19Y2xhc3MgUnR7Y29uc3RydWN0b3IoKXt0aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lPTAsdGhpcy5fbWluPTAsdGhpcy5fbWF4PTAsdGhpcy5fYXZlcmFnZT0wLHRoaXMuX2xhc3RTZWNBdmVyYWdlPTAsdGhpcy5fY3VycmVudD0wLHRoaXMuX3RvdGFsVmFsdWVDb3VudD0wLHRoaXMuX3RvdGFsQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVGltZT0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50PTB9Z2V0IG1pbigpe3JldHVybiB0aGlzLl9taW59Z2V0IG1heCgpe3JldHVybiB0aGlzLl9tYXh9Z2V0IGF2ZXJhZ2UoKXtyZXR1cm4gdGhpcy5fYXZlcmFnZX1nZXQgbGFzdFNlY0F2ZXJhZ2UoKXtyZXR1cm4gdGhpcy5fbGFzdFNlY0F2ZXJhZ2V9Z2V0IGN1cnJlbnQoKXtyZXR1cm4gdGhpcy5fY3VycmVudH1nZXQgdG90YWwoKXtyZXR1cm4gdGhpcy5fdG90YWxBY2N1bXVsYXRlZH1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fdG90YWxWYWx1ZUNvdW50fWZldGNoTmV3RnJhbWUoKXt0aGlzLl90b3RhbFZhbHVlQ291bnQrKyx0aGlzLl9jdXJyZW50PTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQrK31hZGRDb3VudChlLHQpeyFSdC5FbmFibGVkfHwodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX1iZWdpbk1vbml0b3JpbmcoKXshUnQuRW5hYmxlZHx8KHRoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9YWkuTm93KX1lbmRNb25pdG9yaW5nKGU9ITApe2lmKCFSdC5FbmFibGVkKXJldHVybjtlJiZ0aGlzLmZldGNoTmV3RnJhbWUoKTtjb25zdCB0PWFpLk5vdzt0aGlzLl9jdXJyZW50PXQtdGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZSxlJiZ0aGlzLl9mZXRjaFJlc3VsdCgpfV9mZXRjaFJlc3VsdCgpe3RoaXMuX3RvdGFsQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX21pbj1NYXRoLm1pbih0aGlzLl9taW4sdGhpcy5fY3VycmVudCksdGhpcy5fbWF4PU1hdGgubWF4KHRoaXMuX21heCx0aGlzLl9jdXJyZW50KSx0aGlzLl9hdmVyYWdlPXRoaXMuX3RvdGFsQWNjdW11bGF0ZWQvdGhpcy5fdG90YWxWYWx1ZUNvdW50O2NvbnN0IGU9YWkuTm93O2UtdGhpcy5fbGFzdFNlY1RpbWU+MWUzJiYodGhpcy5fbGFzdFNlY0F2ZXJhZ2U9dGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkL3RoaXMuX2xhc3RTZWNWYWx1ZUNvdW50LHRoaXMuX2xhc3RTZWNUaW1lPWUsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MCl9fVJ0LkVuYWJsZWQ9ITAsb2UucHJvdG90eXBlLnNldEFscGhhQ29uc3RhbnRzPWZ1bmN0aW9uKGMsZSx0LGkpe3RoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cyhjLGUsdCxpKX0sb2UucHJvdG90eXBlLnNldEFscGhhTW9kZT1mdW5jdGlvbihjLGU9ITEpe2lmKHRoaXMuX2FscGhhTW9kZSE9PWMpe3N3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSExO2JyZWFrO2Nhc2UgNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgODp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA5OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuQ09OU1RBTlRfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDExOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrfWV8fCh0aGlzLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1jPT09MCksdGhpcy5fYWxwaGFNb2RlPWN9fSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sb2UucHJvdG90eXBlLnNldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oYyl7aWYodGhpcy5fYWxwaGFFcXVhdGlvbiE9PWMpe3N3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NCwzMjc3NCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzgsMzI3NzgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc5LDMyNzc5KTticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NiwzMjc3Nik7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzUpO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc0KTticmVha310aGlzLl9hbHBoYUVxdWF0aW9uPWN9fSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUVxdWF0aW9ufTtmdW5jdGlvbiBfbihjLGUsdD0hMSxpKXtzd2l0Y2goYyl7Y2FzZSAzOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50OEFycmF5KGUpOm5ldyBJbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQ4QXJyYXkoaSkpLHJ9Y2FzZSAwOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQ4QXJyYXkoaSkpLHJ9Y2FzZSA0Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MTZBcnJheShlKTpuZXcgSW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDE2QXJyYXkoaSkpLHJ9Y2FzZSA1OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDI6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MTZBcnJheShlKTpuZXcgVWludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MTZBcnJheShpKSkscn1jYXNlIDY6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQzMkFycmF5KGUpOm5ldyBJbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MzJBcnJheShpKSkscn1jYXNlIDc6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDMyQXJyYXkoZSk6bmV3IFVpbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDMyQXJyYXkoaSkpLHJ9Y2FzZSAxOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRmxvYXQzMkFycmF5KGUpOm5ldyBGbG9hdDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBGbG9hdDMyQXJyYXkoaSkpLHJ9fWNvbnN0IHM9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZzLnNldChuZXcgVWludDhBcnJheShpKSksc31vZS5wcm90b3R5cGUuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3ZhciBsLHU7Y29uc3QgZD10aGlzLl9nbDtpZighZCl0aHJvdyBuZXcgRXJyb3IoIkVuZ2luZSBkb2VzIG5vdCBoYXZlIGdsIHJlbmRlcmluZyBjb250ZXh0LiIpO2lmKCF0aGlzLl9kdW1teUZyYW1lYnVmZmVyKXtjb25zdCBfPWQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighXyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHVtbXkgZnJhbWVidWZmZXIiKTt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPV99ZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSxpPi0xP2QuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2ksKGw9Yy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLHMpOmQuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV8yRCwodT1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2Uscyk7bGV0IGY9Yy50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYy50eXBlKTpkLlVOU0lHTkVEX0JZVEU7aWYoYSlyfHwocj1fbihjLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaChmKXtjYXNlIGQuVU5TSUdORURfQllURTpyfHwocj1uZXcgVWludDhBcnJheSg0KmUqdCkpLGY9ZC5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6cnx8KHI9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLGY9ZC5GTE9BVDticmVha31yZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksZC5yZWFkUGl4ZWxzKG8saCxlLHQsZC5SR0JBLGYsciksZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLHJ9LG9lLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oYyxlLHQsaT0tMSxzPTAscj1udWxsLG49ITAsYT0hMSxvPTAsaD0wKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhjLGUsdCxpLHMscixuLGEsbyxoKSl9LG9lLnByb3RvdHlwZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQ9MCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGMpO2xldCBpO2MuaXMzMkJpdHM/aT1lIGluc3RhbmNlb2YgVWludDMyQXJyYXk/ZTpuZXcgVWludDMyQXJyYXkoZSk6aT1lIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZTpuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKX0sb2UucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kQXJyYXlCdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCk7Y29uc3Qgcz1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO2k9PT12b2lkIDB8fGk+PXMmJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQsaSk6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxpKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07Y2xhc3MgSSBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUsdCxpLHM9ITEpe2lmKHN1cGVyKGUsdCxpLHMpLHRoaXMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ITEsdGhpcy5kaXNhYmxlTWFuaWZlc3RDaGVjaz0hMSx0aGlzLmRpc2FibGVDb250ZXh0TWVudT0hMCx0aGlzLnNjZW5lcz1uZXcgQXJyYXksdGhpcy5fdmlydHVhbFNjZW5lcz1uZXcgQXJyYXksdGhpcy5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXksdGhpcy5pc1BvaW50ZXJMb2NrPSExLHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj1udWxsLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IEYsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9NCx0aGlzLl90aW1lU3RlcD0xLzYwLHRoaXMuX2Zwcz02MCx0aGlzLl9kZWx0YVRpbWU9MCx0aGlzLl9kcmF3Q2FsbHM9bmV3IFJ0LHRoaXMuY2FudmFzVGFiSW5kZXg9MSx0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQ9ITEsdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yPW5ldyBkbix0aGlzLl9jb21wYXRpYmlsaXR5TW9kZT0hMCx0aGlzLmN1cnJlbnRSZW5kZXJQYXNzSWQ9MCx0aGlzLl9yZW5kZXJQYXNzTmFtZXM9WyJtYWluIl0sSS5JbnN0YW5jZXMucHVzaCh0aGlzKSwhIWUpe2lmKHRoaXMuX2ZlYXR1cmVzLnN1cHBvcnRSZW5kZXJQYXNzZXM9ITAsaT10aGlzLl9jcmVhdGlvbk9wdGlvbnMsZS5nZXRDb250ZXh0KXtjb25zdCByPWU7dGhpcy5fc2hhcmVkSW5pdChyLCEhaS5kb05vdEhhbmRsZVRvdWNoQWN0aW9uLGkuYXVkaW9FbmdpbmUpLENpKCkmJih0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2U9KCk9Pnt0aGlzLmlzRnVsbHNjcmVlbj0hIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LHRoaXMuaXNGdWxsc2NyZWVuJiZ0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZCYmciYmSS5fUmVxdWVzdFBvaW50ZXJsb2NrKHIpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZT0oKT0+e3RoaXMuaXNQb2ludGVyTG9jaz1kb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQ9PT1yfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLCFJLmF1ZGlvRW5naW5lJiZpLmF1ZGlvRW5naW5lJiZJLkF1ZGlvRW5naW5lRmFjdG9yeSYmKEkuYXVkaW9FbmdpbmU9SS5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSkpLHRoaXMuX2Nvbm5lY3RWUkV2ZW50cygpLHRoaXMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9SS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5IT09dm9pZCAwLHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hIWkuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9aS5sb2Nrc3RlcE1heFN0ZXBzfHwwLHRoaXMuX3RpbWVTdGVwPWkudGltZVN0ZXB8fDEvNjB9dGhpcy5fcHJlcGFyZVZSQ29tcG9uZW50KCksaS5hdXRvRW5hYmxlV2ViVlImJnRoaXMuaW5pdFdlYlZSKCl9fXN0YXRpYyBnZXQgTnBtUGFja2FnZSgpe3JldHVybiBvZS5OcG1QYWNrYWdlfXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiBvZS5WZXJzaW9ufXN0YXRpYyBnZXQgSW5zdGFuY2VzKCl7cmV0dXJuIGZlLkluc3RhbmNlc31zdGF0aWMgZ2V0IExhc3RDcmVhdGVkRW5naW5lKCl7cmV0dXJuIGZlLkxhc3RDcmVhdGVkRW5naW5lfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiBmZS5MYXN0Q3JlYXRlZFNjZW5lfV9jcmVhdGVJbWFnZUJpdG1hcEZyb21Tb3VyY2UoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pntjb25zdCBuPW5ldyBJbWFnZTtuLm9ubG9hZD0oKT0+e24uZGVjb2RlKCkudGhlbigoKT0+e3RoaXMuY3JlYXRlSW1hZ2VCaXRtYXAobix0KS50aGVuKGE9PntzKGEpfSl9KX0sbi5vbmVycm9yPSgpPT57cihgRXJyb3IgbG9hZGluZyBpbWFnZSAke24uc3JjfWApfSxuLnNyYz1lfSl9Y3JlYXRlSW1hZ2VCaXRtYXAoZSx0KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoZSx0KX1yZXNpemVJbWFnZUJpdG1hcChlLHQsaSl7Y29uc3Qgcj10aGlzLmNyZWF0ZUNhbnZhcyh0LGkpLmdldENvbnRleHQoIjJkIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IDJkIGNvbnRleHQgZm9yIHJlc2l6ZUltYWdlQml0bWFwIik7cmV0dXJuIHIuZHJhd0ltYWdlKGUsMCwwKSxyLmdldEltYWdlRGF0YSgwLDAsdCxpKS5kYXRhfXN0YXRpYyBNYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpe2ZvcihsZXQgaT0wO2k8SS5JbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz1JLkluc3RhbmNlc1tpXTtmb3IobGV0IHI9MDtyPHMuc2NlbmVzLmxlbmd0aDtyKyspcy5zY2VuZXNbcl0ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoZSx0KX19c3RhdGljIERlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeShlKXt0aHJvdyBRKCJMb2FkaW5nU2NyZWVuIil9Z2V0IF9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZygpe3JldHVybiEhSS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeX1nZXQgcGVyZm9ybWFuY2VNb25pdG9yKCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcn1nZXQgY29tcGF0aWJpbGl0eU1vZGUoKXtyZXR1cm4gdGhpcy5fY29tcGF0aWJpbGl0eU1vZGV9c2V0IGNvbXBhdGliaWxpdHlNb2RlKGUpe3RoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwfWdldElucHV0RWxlbWVudCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9X2luaXRHTENvbnRleHQoKXtzdXBlci5faW5pdEdMQ29udGV4dCgpLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcz1udWxsfV9zaGFyZWRJbml0KGUsdCxpKXtzdXBlci5fc2hhcmVkSW5pdChlLHQsaSksdGhpcy5fb25DYW52YXNGb2N1cz0oKT0+e3RoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0JsdXI9KCk9Pnt0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51PXI9Pnt0aGlzLmRpc2FibGVDb250ZXh0TWVudSYmci5wcmV2ZW50RGVmYXVsdCgpfSxlLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkNhbnZhc0ZvY3VzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksZS5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSksdGhpcy5fb25CbHVyPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZGlzYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMH0sdGhpcy5fb25Gb2N1cz0oKT0+e3RoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmVuYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMX0sdGhpcy5fb25DYW52YXNQb2ludGVyT3V0PXI9Pntkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHIuY2xpZW50WCxyLmNsaWVudFkpIT09ZSYmdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX07Y29uc3Qgcz10aGlzLmdldEhvc3RXaW5kb3coKTtzJiZ0eXBlb2Ygcy5hZGRFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiYocy5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLHMuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKSxlLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdHx8dGhpcy5fZGlzYWJsZVRvdWNoQWN0aW9uKCksIUkuYXVkaW9FbmdpbmUmJmkmJkkuQXVkaW9FbmdpbmVGYWN0b3J5JiYoSS5hdWRpb0VuZ2luZT1JLkF1ZGlvRW5naW5lRmFjdG9yeSh0aGlzLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuZ2V0QXVkaW9Db250ZXh0KCksdGhpcy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKX1nZXRBc3BlY3RSYXRpbyhlLHQ9ITEpe2NvbnN0IGk9ZS52aWV3cG9ydDtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCh0KSppLndpZHRoLyh0aGlzLmdldFJlbmRlckhlaWdodCh0KSppLmhlaWdodCl9Z2V0U2NyZWVuQXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCghMCkvdGhpcy5nZXRSZW5kZXJIZWlnaHQoITApfWdldFJlbmRlcmluZ0NhbnZhc0NsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWdldElucHV0RWxlbWVudENsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH1pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpe3JldHVybiB0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXB9Z2V0TG9ja3N0ZXBNYXhTdGVwcygpe3JldHVybiB0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzfWdldFRpbWVTdGVwKCl7cmV0dXJuIHRoaXMuX3RpbWVTdGVwKjFlM31nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKGUsdD0hMCl7aWYoZS5nZW5lcmF0ZU1pcE1hcHMpe2NvbnN0IGk9dGhpcy5fZ2w7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksaS5nZW5lcmF0ZU1pcG1hcChpLlRFWFRVUkVfQ1VCRV9NQVApLHQmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaS5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX1nZXREZXB0aFdyaXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFza31zZXREZXB0aFdyaXRlKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1lfWdldFN0ZW5jaWxCdWZmZXIoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0fXNldFN0ZW5jaWxCdWZmZXIoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PWV9Z2V0U3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrfXNldFN0ZW5jaWxNYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFzaz1lfWdldFN0ZW5jaWxGdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmN9Z2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZn1nZXRTdGVuY2lsRnVuY3Rpb25NYXNrKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2t9c2V0U3RlbmNpbEZ1bmN0aW9uKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuYz1lfXNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZShlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWY9ZX1zZXRTdGVuY2lsRnVuY3Rpb25NYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2s9ZX1nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsfWdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzfXNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzPWV9c2V0RGl0aGVyaW5nU3RhdGUoZSl7ZT90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuRElUSEVSKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkRJVEhFUil9c2V0UmFzdGVyaXplclN0YXRlKGUpe2U/dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpOnRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpfWdldERlcHRoRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jfXNldERlcHRoRnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPWV9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlcigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTYpfXNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXJPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxOCl9c2V0RGVwdGhGdW5jdGlvblRvTGVzcygpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTMpfXNldERlcHRoRnVuY3Rpb25Ub0xlc3NPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNSl9Y2FjaGVTdGVuY2lsU3RhdGUoKXt0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyPXRoaXMuZ2V0U3RlbmNpbEJ1ZmZlcigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbj10aGlzLmdldFN0ZW5jaWxGdW5jdGlvbigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrPXRoaXMuZ2V0U3RlbmNpbE1hc2soKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcz10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZT10aGlzLmdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSgpfXJlc3RvcmVTdGVuY2lsU3RhdGUoKXt0aGlzLnNldFN0ZW5jaWxGdW5jdGlvbih0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb24pLHRoaXMuc2V0U3RlbmNpbE1hc2sodGhpcy5fY2FjaGVkU3RlbmNpbE1hc2spLHRoaXMuc2V0U3RlbmNpbEJ1ZmZlcih0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCksdGhpcy5zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UodGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZSl9c2V0RGlyZWN0Vmlld3BvcnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9jYWNoZWRWaWV3cG9ydDtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnQ9bnVsbCx0aGlzLl92aWV3cG9ydChlLHQsaSxzKSxyfXNjaXNzb3JDbGVhcihlLHQsaSxzLHIpe3RoaXMuZW5hYmxlU2Npc3NvcihlLHQsaSxzKSx0aGlzLmNsZWFyKHIsITAsITAsITApLHRoaXMuZGlzYWJsZVNjaXNzb3IoKX1lbmFibGVTY2lzc29yKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2w7ci5lbmFibGUoci5TQ0lTU09SX1RFU1QpLHIuc2Npc3NvcihlLHQsaSxzKX1kaXNhYmxlU2Npc3Nvcigpe2NvbnN0IGU9dGhpcy5fZ2w7ZS5kaXNhYmxlKGUuU0NJU1NPUl9URVNUKX1fcmVwb3J0RHJhd0NhbGwoZT0xKXt0aGlzLl9kcmF3Q2FsbHMuYWRkQ291bnQoZSwhMSl9aW5pdFdlYlZSKCl7dGhyb3cgUSgiV2ViVlJDYW1lcmEiKX1fcHJlcGFyZVZSQ29tcG9uZW50KCl7fV9jb25uZWN0VlJFdmVudHMoZSx0KXt9X3N1Ym1pdFZSRnJhbWUoKXt9ZGlzYWJsZVZSKCl7fWlzVlJQcmVzZW50aW5nKCl7cmV0dXJuITF9X3JlcXVlc3RWUkZyYW1lKCl7fV9sb2FkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9sb2FkRmlsZShlLG49PntzKG4pfSx2b2lkIDAsdCxpLChuLGEpPT57cihhKX0pfSl9Z2V0VmVydGV4U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzBdKTpudWxsfWdldEZyYWdtZW50U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzFdKTpudWxsfXNldERlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLCFpfHwhaS5kZXB0aFN0ZW5jaWxUZXh0dXJlP3RoaXMuX3NldFRleHR1cmUoZSxudWxsLHZvaWQgMCx2b2lkIDAscyk6dGhpcy5fc2V0VGV4dHVyZShlLGksITEsITAscykpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3MoZSx0LGkpe3ZhciBzO2xldCByPW51bGw7dCYmKHQuX3RleHR1cmVzLmRhdGFbdC5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdP3I9dC5fdGV4dHVyZXMuZGF0YVt0Ll9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF06dC5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHI9dC5fZm9yY2VkT3V0cHV0VGV4dHVyZSkpLHRoaXMuX2JpbmRUZXh0dXJlKGUsKHM9cj09bnVsbD92b2lkIDA6ci50ZXh0dXJlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLGkpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0LGkpe3ZhciBzLHI7dGhpcy5fYmluZFRleHR1cmUoZSwocj0ocz10PT1udWxsP3ZvaWQgMDp0Ll9vdXRwdXRUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudGV4dHVyZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6bnVsbCxpKX1fcmVidWlsZEJ1ZmZlcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3ZpcnR1YWxTY2VuZXMpZS5yZXNldENhY2hlZE1hdGVyaWFsKCksZS5fcmVidWlsZEdlb21ldHJpZXMoKSxlLl9yZWJ1aWxkVGV4dHVyZXMoKTtzdXBlci5fcmVidWlsZEJ1ZmZlcnMoKX1fcmVuZGVyRnJhbWUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbZV07dCgpfX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7IXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kJiYoZT0hMSksZSYmKHRoaXMuYmVnaW5GcmFtZSgpLHRoaXMuX3JlbmRlclZpZXdzKCl8fHRoaXMuX3JlbmRlckZyYW1lKCksdGhpcy5lbmRGcmFtZSgpKX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPyh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRD10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVuZGVyRnVuY3Rpb258fHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3RlciksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEKTp0aGlzLmlzVlJQcmVzZW50aW5nKCk/dGhpcy5fcmVxdWVzdFZSRnJhbWUoKTp0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfV9yZW5kZXJWaWV3cygpe3JldHVybiExfXN3aXRjaEZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKGUpfWVudGVyRnVsbHNjcmVlbihlKXt0aGlzLmlzRnVsbHNjcmVlbnx8KHRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZJLl9SZXF1ZXN0RnVsbHNjcmVlbih0aGlzLl9yZW5kZXJpbmdDYW52YXMpKX1leGl0RnVsbHNjcmVlbigpe3RoaXMuaXNGdWxsc2NyZWVuJiZJLl9FeGl0RnVsbHNjcmVlbigpfWVudGVyUG9pbnRlcmxvY2soKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJkkuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfWV4aXRQb2ludGVybG9jaygpe0kuX0V4aXRQb2ludGVybG9jaygpfWJlZ2luRnJhbWUoKXt0aGlzLl9tZWFzdXJlRnBzKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxzdXBlci5iZWdpbkZyYW1lKCl9ZW5kRnJhbWUoKXtzdXBlci5lbmRGcmFtZSgpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXNpemUoZT0hMSl7dGhpcy5pc1ZSUHJlc2VudGluZygpfHxzdXBlci5yZXNpemUoZSl9c2V0U2l6ZShlLHQsaT0hMSl7aWYoIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXN1cGVyLnNldFNpemUoZSx0LGkpKXJldHVybiExO2lmKHRoaXMuc2NlbmVzKXtmb3IobGV0IHM9MDtzPHRoaXMuc2NlbmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zY2VuZXNbc107Zm9yKGxldCBuPTA7bjxyLmNhbWVyYXMubGVuZ3RoO24rKyl7Y29uc3QgYT1yLmNhbWVyYXNbbl07YS5fY3VycmVudFJlbmRlcklkPTB9fXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiZ0LnRyYW5zZm9ybUZlZWRiYWNrJiYodGhpcy5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0LnRyYW5zZm9ybUZlZWRiYWNrKSx0LnRyYW5zZm9ybUZlZWRiYWNrPW51bGwpLHN1cGVyLl9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsLHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9c3VwZXIuY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYX1fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO2lmKHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyKXtjb25zdCBhPXRoaXMuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTt0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhhKSx0aGlzLnNldFRyYW5mb3JtRmVlZGJhY2tWYXJ5aW5ncyhuLHIpLGUudHJhbnNmb3JtRmVlZGJhY2s9YX1yZXR1cm4gcy5saW5rUHJvZ3JhbShuKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyJiZ0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhudWxsKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fcmVsZWFzZVRleHR1cmUoZSl7c3VwZXIuX3JlbGVhc2VUZXh0dXJlKGUpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSksdGhpcy5zY2VuZXMuZm9yRWFjaCh0PT57dC5wb3N0UHJvY2Vzc2VzLmZvckVhY2goaT0+e2kuX291dHB1dFRleHR1cmU9PT1lJiYoaS5fb3V0cHV0VGV4dHVyZT1udWxsKX0pLHQuY2FtZXJhcy5mb3JFYWNoKGk9PntpLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2gocz0+e3MmJnMuX291dHB1dFRleHR1cmU9PT1lJiYocy5fb3V0cHV0VGV4dHVyZT1udWxsKX0pfSl9KX1nZXRSZW5kZXJQYXNzTmFtZXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfWdldEN1cnJlbnRSZW5kZXJQYXNzTmFtZSgpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkXX1jcmVhdGVSZW5kZXJQYXNzSWQoZSl7Y29uc3QgdD0rK0kuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0XT1lIT1udWxsP2U6Ik5PTkFNRSIsdH1yZWxlYXNlUmVuZGVyUGFzc0lkKGUpe3RoaXMuX3JlbmRlclBhc3NOYW1lc1tlXT12b2lkIDA7Zm9yKGxldCB0PTA7dDx0aGlzLnNjZW5lcy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMuc2NlbmVzW3RdO2ZvcihsZXQgcz0wO3M8aS5tZXNoZXMubGVuZ3RoOysrcyl7Y29uc3Qgcj1pLm1lc2hlc1tzXTtpZihyLnN1Yk1lc2hlcylmb3IobGV0IG49MDtuPHIuc3ViTWVzaGVzLmxlbmd0aDsrK24pci5zdWJNZXNoZXNbbl0uX3JlbW92ZURyYXdXcmFwcGVyKGUpfX19X3Jlc2NhbGVUZXh0dXJlKGUsdCxpLHMscil7dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpO2NvbnN0IG49dGhpcy5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH0se2dlbmVyYXRlTWlwTWFwczohMSx0eXBlOjAsc2FtcGxpbmdNb2RlOjIsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMSxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITF9KTshdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiZJLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5JiYodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzPUkuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkodGhpcykpLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZ2V0RWZmZWN0KCkuZXhlY3V0ZVdoZW5Db21waWxlZCgoKT0+e3RoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5vbkFwcGx5PWZ1bmN0aW9uKG8pe28uX2JpbmRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsZSl9O2xldCBhPWk7YXx8KGE9dGhpcy5zY2VuZXNbdGhpcy5zY2VuZXMubGVuZ3RoLTFdKSxhLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIoW3RoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzc10sbiwhMCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELHQsITApLHRoaXMuX2dsLmNvcHlUZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCxzLDAsMCx0LndpZHRoLHQuaGVpZ2h0LDApLHRoaXMudW5CaW5kRnJhbWVidWZmZXIobiksbi5kaXNwb3NlKCksciYmcigpfSkpfWdldEZwcygpe3JldHVybiB0aGlzLl9mcHN9Z2V0RGVsdGFUaW1lKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX1fbWVhc3VyZUZwcygpe3RoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5zYW1wbGVGcmFtZSgpLHRoaXMuX2Zwcz10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuYXZlcmFnZUZQUyx0aGlzLl9kZWx0YVRpbWU9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmluc3RhbnRhbmVvdXNGcmFtZVRpbWV8fDB9d3JhcFdlYkdMVGV4dHVyZShlKXtjb25zdCB0PW5ldyB0cihlLHRoaXMuX2dsKSxpPW5ldyBPdCh0aGlzLE5lLlVua25vd24sITApO3JldHVybiBpLl9oYXJkd2FyZVRleHR1cmU9dCxpLmlzUmVhZHk9ITAsaX1fdXBsb2FkSW1hZ2VUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksYT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbz10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlLnR5cGUsYSksaD1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBsPXIuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGw9ci5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSksci50ZXhJbWFnZTJEKGwscyxvLGEsbix0KSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGgsbnVsbCwhMCl9dXBkYXRlVGV4dHVyZUNvbXBhcmlzb25GdW5jdGlvbihlLHQpe2lmKHRoaXMud2ViR0xWZXJzaW9uPT09MSl7Ty5FcnJvcigiV2ViR0wgMSBkb2VzIG5vdCBzdXBwb3J0IHRleHR1cmUgY29tcGFyaXNvbi4iKTtyZXR1cm59Y29uc3QgaT10aGlzLl9nbDtlLmlzQ3ViZT8odGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpKToodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpKSxlLl9jb21wYXJpc29uRnVuY3Rpb249dH1jcmVhdGVJbnN0YW5jZXNCdWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5zdGFuY2UgYnVmZmVyIik7Y29uc3QgaT1uZXcgRGkodCk7cmV0dXJuIGkuY2FwYWNpdHk9ZSx0aGlzLmJpbmRBcnJheUJ1ZmZlcihpKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksaS5yZWZlcmVuY2VzPTEsaX1kZWxldGVJbnN0YW5jZXNCdWZmZXIoZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUpfV9jbGllbnRXYWl0QXN5bmMoZSx0PTAsaT0xMCl7Y29uc3Qgcz10aGlzLl9nbDtyZXR1cm4gbmV3IFByb21pc2UoKHIsbik9Pntjb25zdCBhPSgpPT57Y29uc3Qgbz1zLmNsaWVudFdhaXRTeW5jKGUsdCwwKTtpZihvPT1zLldBSVRfRkFJTEVEKXtuKCk7cmV0dXJufWlmKG89PXMuVElNRU9VVF9FWFBJUkVEKXtzZXRUaW1lb3V0KGEsaSk7cmV0dXJufXIoKX07YSgpfSl9X3JlYWRQaXhlbHNBc3luYyhlLHQsaSxzLHIsbixhKXtpZih0aGlzLl93ZWJHTFZlcnNpb248Mil0aHJvdyBuZXcgRXJyb3IoIl9yZWFkUGl4ZWxzQXN5bmMgb25seSB3b3JrIG9uIFdlYkdMMisiKTtjb25zdCBvPXRoaXMuX2dsLGg9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmJ1ZmZlckRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUixhLmJ5dGVMZW5ndGgsby5TVFJFQU1fUkVBRCksby5yZWFkUGl4ZWxzKGUsdCxpLHMscixuLDApLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpO2NvbnN0IGw9by5mZW5jZVN5bmMoby5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwwKTtyZXR1cm4gbD8oby5mbHVzaCgpLHRoaXMuX2NsaWVudFdhaXRBc3luYyhsLDAsMTApLnRoZW4oKCk9PihvLmRlbGV0ZVN5bmMobCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsaCksby5nZXRCdWZmZXJTdWJEYXRhKG8uUElYRUxfUEFDS19CVUZGRVIsMCxhKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixudWxsKSxvLmRlbGV0ZUJ1ZmZlcihoKSxhKSkpOm51bGx9ZGlzcG9zZSgpe2Zvcih0aGlzLmhpZGVMb2FkaW5nVUkoKSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKTt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJnRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5kaXNwb3NlKCk7dGhpcy5zY2VuZXMubGVuZ3RoOyl0aGlzLnNjZW5lc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLl92aXJ0dWFsU2NlbmVzLmxlbmd0aDspdGhpcy5fdmlydHVhbFNjZW5lc1swXS5kaXNwb3NlKCk7SS5JbnN0YW5jZXMubGVuZ3RoPT09MSYmSS5hdWRpb0VuZ2luZSYmKEkuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLEkuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKTtjb25zdCBlPXRoaXMuZ2V0SG9zdFdpbmRvdygpO2UmJnR5cGVvZiBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSksQ2koKSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSksc3VwZXIuZGlzcG9zZSgpO2NvbnN0IHQ9SS5JbnN0YW5jZXMuaW5kZXhPZih0aGlzKTt0Pj0wJiZJLkluc3RhbmNlcy5zcGxpY2UodCwxKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCl9X2Rpc2FibGVUb3VjaEFjdGlvbigpeyF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fCF0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlfHwodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgidG91Y2gtYWN0aW9uIiwibm9uZSIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIpfWRpc3BsYXlMb2FkaW5nVUkoKXtpZighamUoKSlyZXR1cm47Y29uc3QgZT10aGlzLmxvYWRpbmdTY3JlZW47ZSYmZS5kaXNwbGF5TG9hZGluZ1VJKCl9aGlkZUxvYWRpbmdVSSgpe2lmKCFqZSgpKXJldHVybjtjb25zdCBlPXRoaXMuX2xvYWRpbmdTY3JlZW47ZSYmZS5oaWRlTG9hZGluZ1VJKCl9Z2V0IGxvYWRpbmdTY3JlZW4oKXtyZXR1cm4hdGhpcy5fbG9hZGluZ1NjcmVlbiYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fbG9hZGluZ1NjcmVlbj1JLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeSh0aGlzLl9yZW5kZXJpbmdDYW52YXMpKSx0aGlzLl9sb2FkaW5nU2NyZWVufXNldCBsb2FkaW5nU2NyZWVuKGUpe3RoaXMuX2xvYWRpbmdTY3JlZW49ZX1zZXQgbG9hZGluZ1VJVGV4dChlKXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJVGV4dD1lfXNldCBsb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3IoZSl7dGhpcy5sb2FkaW5nU2NyZWVuLmxvYWRpbmdVSUJhY2tncm91bmRDb2xvcj1lfWNyZWF0ZVZpZGVvRWxlbWVudChlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidmlkZW8iKX1zdGF0aWMgX1JlcXVlc3RQb2ludGVybG9jayhlKXtlLnJlcXVlc3RQb2ludGVyTG9jayYmKGUucmVxdWVzdFBvaW50ZXJMb2NrKCksZS5mb2N1cygpKX1zdGF0aWMgX0V4aXRQb2ludGVybG9jaygpe2RvY3VtZW50LmV4aXRQb2ludGVyTG9jayYmZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCl9c3RhdGljIF9SZXF1ZXN0RnVsbHNjcmVlbihlKXtjb25zdCB0PWUucmVxdWVzdEZ1bGxzY3JlZW58fGUud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW47IXR8fHQuY2FsbChlKX1zdGF0aWMgX0V4aXRGdWxsc2NyZWVuKCl7Y29uc3QgZT1kb2N1bWVudDtkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmZS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCl9Z2V0Rm9udE9mZnNldChlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt0LmlubmVySFRNTD0iSGciLHQuc2V0QXR0cmlidXRlKCJzdHlsZSIsYGZvbnQ6ICR7ZX0gIWltcG9ydGFudGApO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLGkuc3R5bGUud2lkdGg9IjFweCIsaS5zdHlsZS5oZWlnaHQ9IjBweCIsaS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJib3R0b20iO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHMuYXBwZW5kQ2hpbGQodCkscy5hcHBlbmRDaGlsZChpKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpO2xldCByPTAsbj0wO3RyeXtuPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYmFzZWxpbmUiLHI9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3B9ZmluYWxseXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHMpfXJldHVybnthc2NlbnQ6cixoZWlnaHQ6bixkZXNjZW50Om4tcn19fUkuQUxQSEFfRElTQUJMRT0wLEkuQUxQSEFfQUREPTEsSS5BTFBIQV9DT01CSU5FPTIsSS5BTFBIQV9TVUJUUkFDVD0zLEkuQUxQSEFfTVVMVElQTFk9NCxJLkFMUEhBX01BWElNSVpFRD01LEkuQUxQSEFfT05FT05FPTYsSS5BTFBIQV9QUkVNVUxUSVBMSUVEPTcsSS5BTFBIQV9QUkVNVUxUSVBMSUVEX1BPUlRFUkRVRkY9OCxJLkFMUEhBX0lOVEVSUE9MQVRFPTksSS5BTFBIQV9TQ1JFRU5NT0RFPTEwLEkuREVMQVlMT0FEU1RBVEVfTk9ORT0wLEkuREVMQVlMT0FEU1RBVEVfTE9BREVEPTEsSS5ERUxBWUxPQURTVEFURV9MT0FESU5HPTIsSS5ERUxBWUxPQURTVEFURV9OT1RMT0FERUQ9NCxJLk5FVkVSPTUxMixJLkFMV0FZUz01MTksSS5MRVNTPTUxMyxJLkVRVUFMPTUxNCxJLkxFUVVBTD01MTUsSS5HUkVBVEVSPTUxNixJLkdFUVVBTD01MTgsSS5OT1RFUVVBTD01MTcsSS5LRUVQPTc2ODAsSS5SRVBMQUNFPTc2ODEsSS5JTkNSPTc2ODIsSS5ERUNSPTc2ODMsSS5JTlZFUlQ9NTM4NixJLklOQ1JfV1JBUD0zNDA1NSxJLkRFQ1JfV1JBUD0zNDA1NixJLlRFWFRVUkVfQ0xBTVBfQUREUkVTU01PREU9MCxJLlRFWFRVUkVfV1JBUF9BRERSRVNTTU9ERT0xLEkuVEVYVFVSRV9NSVJST1JfQUREUkVTU01PREU9MixJLlRFWFRVUkVGT1JNQVRfQUxQSEE9MCxJLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFPTEsSS5URVhUVVJFRk9STUFUX0xVTUlOQU5DRV9BTFBIQT0yLEkuVEVYVFVSRUZPUk1BVF9SR0I9NCxJLlRFWFRVUkVGT1JNQVRfUkdCQT01LEkuVEVYVFVSRUZPUk1BVF9SRUQ9NixJLlRFWFRVUkVGT1JNQVRfUj02LEkuVEVYVFVSRUZPUk1BVF9SRz03LEkuVEVYVFVSRUZPUk1BVF9SRURfSU5URUdFUj04LEkuVEVYVFVSRUZPUk1BVF9SX0lOVEVHRVI9OCxJLlRFWFRVUkVGT1JNQVRfUkdfSU5URUdFUj05LEkuVEVYVFVSRUZPUk1BVF9SR0JfSU5URUdFUj0xMCxJLlRFWFRVUkVGT1JNQVRfUkdCQV9JTlRFR0VSPTExLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfQllURT0wLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UPTAsSS5URVhUVVJFVFlQRV9GTE9BVD0xLEkuVEVYVFVSRVRZUEVfSEFMRl9GTE9BVD0yLEkuVEVYVFVSRVRZUEVfQllURT0zLEkuVEVYVFVSRVRZUEVfU0hPUlQ9NCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUPTUsSS5URVhUVVJFVFlQRV9JTlQ9NixJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVEVHRVI9NyxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzRfNF80XzQ9OCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNV81XzE9OSxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNl81PTEwLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWPTExLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzI0Xzg9MTIsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWPTEzLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzVfOV85XzlfUkVWPTE0LEkuVEVYVFVSRVRZUEVfRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWPTE1LEkuVEVYVFVSRV9ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLEkuVEVYVFVSRV9CSUxJTkVBUl9TQU1QTElOR01PREU9MixJLlRFWFRVUkVfVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLEkuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsSS5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxJLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxJLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxJLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LEkuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixJLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVI9NyxJLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUPTEsSS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxJLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLEkuVEVYVFVSRV9MSU5FQVJfTElORUFSPTIsSS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUPTEyLEkuVEVYVFVSRV9FWFBMSUNJVF9NT0RFPTAsSS5URVhUVVJFX1NQSEVSSUNBTF9NT0RFPTEsSS5URVhUVVJFX1BMQU5BUl9NT0RFPTIsSS5URVhUVVJFX0NVQklDX01PREU9MyxJLlRFWFRVUkVfUFJPSkVDVElPTl9NT0RFPTQsSS5URVhUVVJFX1NLWUJPWF9NT0RFPTUsSS5URVhUVVJFX0lOVkNVQklDX01PREU9NixJLlRFWFRVUkVfRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxJLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxJLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxJLlNDQUxFTU9ERV9GTE9PUj0xLEkuU0NBTEVNT0RFX05FQVJFU1Q9MixJLlNDQUxFTU9ERV9DRUlMSU5HPTMsSS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeT1udWxsLEkuX1JlbmRlclBhc3NJZENvdW50ZXI9MCxvZS5wcm90b3R5cGUuX2RlYnVnUHVzaEdyb3VwPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnUG9wR3JvdXA9ZnVuY3Rpb24oYyl7fSxvZS5wcm90b3R5cGUuX2RlYnVnSW5zZXJ0TWFya2VyPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnRmx1c2hQZW5kaW5nQ29tbWFuZHM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGduKGMpe3JldHVybiBuZXcgSShjLCEwLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsc3RlbmNpbDohMH0pfWNsYXNzIHJle2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aX10b1N0cmluZygpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yMyJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiByZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b0NvbG9yNChlPTEpe3JldHVybiBuZXcgZ2UodGhpcy5yLHRoaXMuZyx0aGlzLmIsZSl9YXNBcnJheSgpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYl19dG9MdW1pbmFuY2UoKXtyZXR1cm4gdGhpcy5yKi4zK3RoaXMuZyouNTkrdGhpcy5iKi4xMX1tdWx0aXBseShlKXtyZXR1cm4gbmV3IHJlKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iKX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5ifWVxdWFsc0Zsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj09PWUmJnRoaXMuZz09PXQmJnRoaXMuYj09PWl9c2NhbGUoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9WC5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9WC5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9WC5DbGFtcCh0aGlzLmIsZSx0KSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHJlKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iKX1hZGRUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yK2Uucix0Lmc9dGhpcy5nK2UuZyx0LmI9dGhpcy5iK2UuYix0aGlzfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgcmUodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgcmUodGhpcy5yLHRoaXMuZyx0aGlzLmIpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpc31zZXQoZSx0LGkpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKX10b0hleFN0cmluZygpe2NvbnN0IGU9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSx0PU1hdGgucm91bmQodGhpcy5nKjI1NSksaT1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO3JldHVybiIjIitYLlRvSGV4KGUpK1guVG9IZXgodCkrWC5Ub0hleChpKX10b0xpbmVhclNwYWNlKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9dG9IU1YoKXtjb25zdCBlPW5ldyByZTtyZXR1cm4gdGhpcy50b0hTVlRvUmVmKGUpLGV9dG9IU1ZUb1JlZihlKXtjb25zdCB0PXRoaXMucixpPXRoaXMuZyxzPXRoaXMuYixyPU1hdGgubWF4KHQsaSxzKSxuPU1hdGgubWluKHQsaSxzKTtsZXQgYT0wLG89MDtjb25zdCBoPXIsbD1yLW47ciE9PTAmJihvPWwvciksciE9biYmKHI9PXQ/KGE9KGktcykvbCxpPHMmJihhKz02KSk6cj09aT9hPShzLXQpL2wrMjpyPT1zJiYoYT0odC1pKS9sKzQpLGEqPTYwKSxlLnI9YSxlLmc9byxlLmI9aH10b0xpbmVhclNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIseWUpLGUuZz1NYXRoLnBvdyh0aGlzLmcseWUpLGUuYj1NYXRoLnBvdyh0aGlzLmIseWUpLHRoaXN9dG9HYW1tYVNwYWNlKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoZSksZX10b0dhbW1hU3BhY2VUb1JlZihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixTZSksZS5nPU1hdGgucG93KHRoaXMuZyxTZSksZS5iPU1hdGgucG93KHRoaXMuYixTZSksdGhpc31zdGF0aWMgSFNWdG9SR0JUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqdCxuPWUvNjAsYT1yKigxLU1hdGguYWJzKG4lMi0xKSk7bGV0IG89MCxoPTAsbD0wO24+PTAmJm48PTE/KG89cixoPWEpOm4+PTEmJm48PTI/KG89YSxoPXIpOm4+PTImJm48PTM/KGg9cixsPWEpOm4+PTMmJm48PTQ/KGg9YSxsPXIpOm4+PTQmJm48PTU/KG89YSxsPXIpOm4+PTUmJm48PTYmJihvPXIsbD1hKTtjb25zdCB1PWktcjtzLnNldChvK3UsaCt1LGwrdSl9c3RhdGljIEZyb21IU1YoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuSFNWdG9SR0JUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBGcm9tSGV4U3RyaW5nKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09NylyZXR1cm4gbmV3IHJlKDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KTtyZXR1cm4gcmUuRnJvbUludHModCxpLHMpfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgcmUoZVt0XSxlW3QrMV0sZVt0KzJdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdfXN0YXRpYyBGcm9tSW50cyhlLHQsaSl7cmV0dXJuIG5ldyByZShlLzI1NSx0LzI1NSxpLzI1NSl9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IHJlKDAsMCwwKTtyZXR1cm4gcmUuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5yKm8raS5yKmgrdC5yKmwrcy5yKnUsZj1lLmcqbytpLmcqaCt0LmcqbCtzLmcqdSxfPWUuYipvK2kuYipoK3QuYipsK3MuYip1O3JldHVybiBuZXcgcmUoZCxmLF8pfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49cmUuQmxhY2soKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLnI9KGEtcikqNiplLnIrKDMqYS00KnIrMSkqdC5yKygtYStyKSo2KmkucisoMyphLTIqcikqcy5yLG4uZz0oYS1yKSo2KmUuZysoMyphLTQqcisxKSp0LmcrKC1hK3IpKjYqaS5nKygzKmEtMipyKSpzLmcsbi5iPShhLXIpKjYqZS5iKygzKmEtNCpyKzEpKnQuYisoLWErcikqNippLmIrKDMqYS0yKnIpKnMuYn1zdGF0aWMgUmVkKCl7cmV0dXJuIG5ldyByZSgxLDAsMCl9c3RhdGljIEdyZWVuKCl7cmV0dXJuIG5ldyByZSgwLDEsMCl9c3RhdGljIEJsdWUoKXtyZXR1cm4gbmV3IHJlKDAsMCwxKX1zdGF0aWMgQmxhY2soKXtyZXR1cm4gbmV3IHJlKDAsMCwwKX1zdGF0aWMgZ2V0IEJsYWNrUmVhZE9ubHkoKXtyZXR1cm4gcmUuX0JsYWNrUmVhZE9ubHl9c3RhdGljIFdoaXRlKCl7cmV0dXJuIG5ldyByZSgxLDEsMSl9c3RhdGljIFB1cnBsZSgpe3JldHVybiBuZXcgcmUoLjUsMCwuNSl9c3RhdGljIE1hZ2VudGEoKXtyZXR1cm4gbmV3IHJlKDEsMCwxKX1zdGF0aWMgWWVsbG93KCl7cmV0dXJuIG5ldyByZSgxLDEsMCl9c3RhdGljIEdyYXkoKXtyZXR1cm4gbmV3IHJlKC41LC41LC41KX1zdGF0aWMgVGVhbCgpe3JldHVybiBuZXcgcmUoMCwxLDEpfXN0YXRpYyBSYW5kb20oKXtyZXR1cm4gbmV3IHJlKE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpKX19cmUuX0JsYWNrUmVhZE9ubHk9cmUuQmxhY2soKTtjbGFzcyBnZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCxzPTEpe3RoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXMuYT1zfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMucis9ZS5yLHRoaXMuZys9ZS5nLHRoaXMuYis9ZS5iLHRoaXMuYSs9ZS5hLHRoaXN9YXNBcnJheSgpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmFdfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsZVt0KzNdPXRoaXMuYSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIGdlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYiYmdGhpcy5hPT09ZS5hfWFkZChlKXtyZXR1cm4gbmV3IGdlKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iLHRoaXMuYStlLmEpfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgZ2UodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIsdGhpcy5hLWUuYSl9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yLWUucix0Lmc9dGhpcy5nLWUuZyx0LmI9dGhpcy5iLWUuYix0LmE9dGhpcy5hLWUuYSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgZ2UodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUsdGhpcy5hKmUpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpcy5hKj1lLHRoaXN9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0LmE9dGhpcy5hKmUsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHQuYSs9dGhpcy5hKmUsdGhpc31jbGFtcFRvUmVmKGU9MCx0PTEsaSl7cmV0dXJuIGkucj1YLkNsYW1wKHRoaXMucixlLHQpLGkuZz1YLkNsYW1wKHRoaXMuZyxlLHQpLGkuYj1YLkNsYW1wKHRoaXMuYixlLHQpLGkuYT1YLkNsYW1wKHRoaXMuYSxlLHQpLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyBnZSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYix0aGlzLmEqZS5hKX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHQuYT10aGlzLmEqZS5hLHR9dG9TdHJpbmcoKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIiBBOiIrdGhpcy5hKyJ9In1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ29sb3I0In1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMucioyNTV8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5nKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmIqMjU1fDApLGU9ZSozOTdeKHRoaXMuYSoyNTV8MCksZX1jbG9uZSgpe3JldHVybiBuZXcgZ2UodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpcy5hPWUuYSx0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzLmE9cyx0aGlzfXNldChlLHQsaSxzKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKX10b0hleFN0cmluZyhlPSExKXtjb25zdCB0PU1hdGgucm91bmQodGhpcy5yKjI1NSksaT1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLHM9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtpZihlKXJldHVybiIjIitYLlRvSGV4KHQpK1guVG9IZXgoaSkrWC5Ub0hleChzKTtjb25zdCByPU1hdGgucm91bmQodGhpcy5hKjI1NSk7cmV0dXJuIiMiK1guVG9IZXgodCkrWC5Ub0hleChpKStYLlRvSGV4KHMpK1guVG9IZXgocil9dG9MaW5lYXJTcGFjZSgpe2NvbnN0IGU9bmV3IGdlO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihlKSxlfXRvTGluZWFyU3BhY2VUb1JlZihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucix5ZSksZS5nPU1hdGgucG93KHRoaXMuZyx5ZSksZS5iPU1hdGgucG93KHRoaXMuYix5ZSksZS5hPXRoaXMuYSx0aGlzfXRvR2FtbWFTcGFjZSgpe2NvbnN0IGU9bmV3IGdlO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9dG9HYW1tYVNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsU2UpLGUuZz1NYXRoLnBvdyh0aGlzLmcsU2UpLGUuYj1NYXRoLnBvdyh0aGlzLmIsU2UpLGUuYT10aGlzLmEsdGhpc31zdGF0aWMgRnJvbUhleFN0cmluZyhlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTkmJmUubGVuZ3RoIT09NylyZXR1cm4gbmV3IGdlKDAsMCwwLDApO2NvbnN0IHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNiksaT1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxzPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpLHI9ZS5sZW5ndGg9PT05P3BhcnNlSW50KGUuc3Vic3RyaW5nKDcsOSksMTYpOjI1NTtyZXR1cm4gZ2UuRnJvbUludHModCxpLHMscil9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGdlKDAsMCwwLDApO3JldHVybiBnZS5MZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTGVycFRvUmVmKGUsdCxpLHMpe3Mucj1lLnIrKHQuci1lLnIpKmkscy5nPWUuZysodC5nLWUuZykqaSxzLmI9ZS5iKyh0LmItZS5iKSppLHMuYT1lLmErKHQuYS1lLmEpKml9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUucipvK2kucipoK3QucipsK3Mucip1LGY9ZS5nKm8raS5nKmgrdC5nKmwrcy5nKnUsXz1lLmIqbytpLmIqaCt0LmIqbCtzLmIqdSxFPWUuYSpvK2kuYSpoK3QuYSpsK3MuYSp1O3JldHVybiBuZXcgZ2UoZCxmLF8sRSl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZ2U7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi5yPShhLXIpKjYqZS5yKygzKmEtNCpyKzEpKnQucisoLWErcikqNippLnIrKDMqYS0yKnIpKnMucixuLmc9KGEtcikqNiplLmcrKDMqYS00KnIrMSkqdC5nKygtYStyKSo2KmkuZysoMyphLTIqcikqcy5nLG4uYj0oYS1yKSo2KmUuYisoMyphLTQqcisxKSp0LmIrKC1hK3IpKjYqaS5iKygzKmEtMipyKSpzLmIsbi5hPShhLXIpKjYqZS5hKygzKmEtNCpyKzEpKnQuYSsoLWErcikqNippLmErKDMqYS0yKnIpKnMuYX1zdGF0aWMgRnJvbUNvbG9yMyhlLHQ9MSl7cmV0dXJuIG5ldyBnZShlLnIsZS5nLGUuYix0KX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IGdlKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQ9MCxpKXtpLnI9ZVt0XSxpLmc9ZVt0KzFdLGkuYj1lW3QrMl0saS5hPWVbdCszXX1zdGF0aWMgRnJvbUludHMoZSx0LGkscyl7cmV0dXJuIG5ldyBnZShlLzI1NSx0LzI1NSxpLzI1NSxzLzI1NSl9c3RhdGljIENoZWNrQ29sb3JzNChlLHQpe2lmKGUubGVuZ3RoPT09dCozKXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9Myl7Y29uc3Qgcj1zLzMqNDtpW3JdPWVbc10saVtyKzFdPWVbcysxXSxpW3IrMl09ZVtzKzJdLGlbciszXT0xfXJldHVybiBpfXJldHVybiBlfX1jbGFzcyBFaXt9RWkuQ29sb3IzPUJlLkJ1aWxkQXJyYXkoMyxyZS5CbGFjayksRWkuQ29sb3I0PUJlLkJ1aWxkQXJyYXkoMywoKT0+bmV3IGdlKDAsMCwwLDApKSxpdCgiQkFCWUxPTi5Db2xvcjMiLHJlKSxpdCgiQkFCWUxPTi5Db2xvcjQiLGdlKTtjb25zdCBpcj0oYyxlKT0+IWN8fGMuZ2V0Q2xhc3NOYW1lJiZjLmdldENsYXNzTmFtZSgpPT09Ik1lc2giP251bGw6Yy5nZXRDbGFzc05hbWUmJmMuZ2V0Q2xhc3NOYW1lKCk9PT0iU3ViTWVzaCI/Yy5jbG9uZShlKTpjLmNsb25lP2MuY2xvbmUoKTpudWxsO2Z1bmN0aW9uIHBuKGMpe2NvbnN0IGU9W107ZG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYykuZm9yRWFjaChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpfSk7d2hpbGUoYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYykpO3JldHVybiBlfWNsYXNzIHZze3N0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtjb25zdCByPXBuKGUpO2Zvcihjb25zdCBuIG9mIHIpe2lmKG5bMF09PT0iXyImJighc3x8cy5pbmRleE9mKG4pPT09LTEpfHxuLmVuZHNXaXRoKCJPYnNlcnZhYmxlIil8fGkmJmkuaW5kZXhPZihuKSE9PS0xKWNvbnRpbnVlO2NvbnN0IGE9ZVtuXSxvPXR5cGVvZiBhO2lmKG8hPT0iZnVuY3Rpb24iKXRyeXtpZihvPT09Im9iamVjdCIpaWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZih0W25dPVtdLGEubGVuZ3RoPjApaWYodHlwZW9mIGFbMF09PSJvYmplY3QiKWZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWlyKGFbaF0sdCk7dFtuXS5pbmRleE9mKGwpPT09LTEmJnRbbl0ucHVzaChsKX1lbHNlIHRbbl09YS5zbGljZSgwKX1lbHNlIHRbbl09aXIoYSx0KTtlbHNlIHRbbl09YX1jYXRjaChoKXtPLldhcm4oaC5tZXNzYWdlKX19fX1mdW5jdGlvbiBtbigpe3JldHVybiB0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q/bmV3IF9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fWNsYXNzIGN0e2NvbnN0cnVjdG9yKCl7dGhpcy5feGhyPW1uKCksdGhpcy5fcmVxdWVzdFVSTD0iIn1faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKXtpZighdGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHRoaXMuX3JlcXVlc3RVUkwpKWZvcihjb25zdCBlIGluIGN0LkN1c3RvbVJlcXVlc3RIZWFkZXJzKXtjb25zdCB0PWN0LkN1c3RvbVJlcXVlc3RIZWFkZXJzW2VdO3QmJnRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9fV9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnMoZSl7cmV0dXJuIGN0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETiYmKGUuaW5jbHVkZXMoInByZXZpZXcuYmFieWxvbmpzLmNvbSIpfHxlLmluY2x1ZGVzKCJjZG4uYmFieWxvbmpzLmNvbSIpKX1nZXQgb25wcm9ncmVzcygpe3JldHVybiB0aGlzLl94aHIub25wcm9ncmVzc31zZXQgb25wcm9ncmVzcyhlKXt0aGlzLl94aHIub25wcm9ncmVzcz1lfWdldCByZWFkeVN0YXRlKCl7cmV0dXJuIHRoaXMuX3hoci5yZWFkeVN0YXRlfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c31nZXQgc3RhdHVzVGV4dCgpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzVGV4dH1nZXQgcmVzcG9uc2UoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlfWdldCByZXNwb25zZVVSTCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VVUkx9Z2V0IHJlc3BvbnNlVGV4dCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUZXh0fWdldCByZXNwb25zZVR5cGUoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVHlwZX1zZXQgcmVzcG9uc2VUeXBlKGUpe3RoaXMuX3hoci5yZXNwb25zZVR5cGU9ZX1nZXQgdGltZW91dCgpe3JldHVybiB0aGlzLl94aHIudGltZW91dH1zZXQgdGltZW91dChlKXt0aGlzLl94aHIudGltZW91dD1lfWFkZEV2ZW50TGlzdGVuZXIoZSx0LGkpe3RoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKGUsdCxpKX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl9YWJvcnQoKXt0aGlzLl94aHIuYWJvcnQoKX1zZW5kKGUpe2N0LkN1c3RvbVJlcXVlc3RIZWFkZXJzJiZ0aGlzLl9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycygpLHRoaXMuX3hoci5zZW5kKGUpfW9wZW4oZSx0KXtmb3IoY29uc3QgaSBvZiBjdC5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzKXtpZih0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModCkpcmV0dXJuO2kodGhpcy5feGhyLHQpfXJldHVybiB0PXQucmVwbGFjZSgiZmlsZTpodHRwOiIsImh0dHA6IiksdD10LnJlcGxhY2UoImZpbGU6aHR0cHM6IiwiaHR0cHM6IiksdGhpcy5fcmVxdWVzdFVSTD10LHRoaXMuX3hoci5vcGVuKGUsdCwhMCl9c2V0UmVxdWVzdEhlYWRlcihlLHQpe3RoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9Z2V0UmVzcG9uc2VIZWFkZXIoZSl7cmV0dXJuIHRoaXMuX3hoci5nZXRSZXNwb25zZUhlYWRlcihlKX19Y3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnM9e30sY3QuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycz1uZXcgQXJyYXksY3QuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROPSEwO2NsYXNzIEZpe31GaS5GaWxlc1RvTG9hZD17fTtjbGFzcyBFbntzdGF0aWMgRXhwb25lbnRpYWxCYWNrb2ZmKGU9Myx0PTUwMCl7cmV0dXJuKGkscyxyKT0+cy5zdGF0dXMhPT0wfHxyPj1lfHxpLmluZGV4T2YoImZpbGU6IikhPT0tMT8tMTpNYXRoLnBvdygyLHIpKnR9fWNsYXNzIHZpIGV4dGVuZHMgRXJyb3J7fXZpLl9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgoYyxlKT0+KGMuX19wcm90b19fPWUsYykpO2NvbnN0IG9pPXtNZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yOjAsVW5zdXBwb3J0ZWRUZXh0dXJlRXJyb3I6MWUzLEdMVEZMb2FkZXJVbmV4cGVjdGVkTWFnaWNFcnJvcjoyZTMsU2NlbmVMb2FkZXJFcnJvcjozZTMsTG9hZEZpbGVFcnJvcjo0ZTMsUmVxdWVzdEZpbGVFcnJvcjo0MDAxLFJlYWRGaWxlRXJyb3I6NDAwMn07Y2xhc3MgTnQgZXh0ZW5kcyB2aXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSksdGhpcy5lcnJvckNvZGU9dCx0aGlzLmlubmVyRXJyb3I9aSx0aGlzLm5hbWU9IlJ1bnRpbWVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsTnQucHJvdG90eXBlKX19Y29uc3Qgc3I9Yz0+e2NvbnN0IGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IjtsZXQgdD0iIixpLHMscixuLGEsbyxoLGw9MDtjb25zdCB1PUFycmF5QnVmZmVyLmlzVmlldyhjKT9uZXcgVWludDhBcnJheShjLmJ1ZmZlcixjLmJ5dGVPZmZzZXQsYy5ieXRlTGVuZ3RoKTpuZXcgVWludDhBcnJheShjKTtmb3IoO2w8dS5sZW5ndGg7KWk9dVtsKytdLHM9bDx1Lmxlbmd0aD91W2wrK106TnVtYmVyLk5hTixyPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4sbj1pPj4yLGE9KGkmMyk8PDR8cz4+NCxvPShzJjE1KTw8MnxyPj42LGg9ciY2Myxpc05hTihzKT9vPWg9NjQ6aXNOYU4ocikmJihoPTY0KSx0Kz1lLmNoYXJBdChuKStlLmNoYXJBdChhKStlLmNoYXJBdChvKStlLmNoYXJBdChoKTtyZXR1cm4gdH0scnI9Yz0+YXRvYihjKSx2bj1jPT57Y29uc3QgZT1ycihjKSx0PWUubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQpKTtmb3IobGV0IHM9MDtzPHQ7cysrKWlbc109ZS5jaGFyQ29kZUF0KHMpO3JldHVybiBpLmJ1ZmZlcn07Y2xhc3MgWGl7c3RhdGljIFNldEltbWVkaWF0ZShlKXtqZSgpJiZ3aW5kb3cuc2V0SW1tZWRpYXRlP3dpbmRvdy5zZXRJbW1lZGlhdGUoZSk6c2V0VGltZW91dChlLDEpfX1jb25zdCBucj1uZXcgUmVnRXhwKC9eZGF0YTooW14sXStcL1teLF0rKT87YmFzZTY0LC9pKTtjbGFzcyBIaSBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxvaS5Mb2FkRmlsZUVycm9yKSx0aGlzLm5hbWU9IkxvYWRGaWxlRXJyb3IiLHZpLl9zZXRQcm90b3R5cGVPZih0aGlzLEhpLnByb3RvdHlwZSksdCBpbnN0YW5jZW9mIGN0P3RoaXMucmVxdWVzdD10OnRoaXMuZmlsZT10fX1jbGFzcyBLaSBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxvaS5SZXF1ZXN0RmlsZUVycm9yKSx0aGlzLnJlcXVlc3Q9dCx0aGlzLm5hbWU9IlJlcXVlc3RGaWxlRXJyb3IiLHZpLl9zZXRQcm90b3R5cGVPZih0aGlzLEtpLnByb3RvdHlwZSl9fWNsYXNzIFRzIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLG9pLlJlYWRGaWxlRXJyb3IpLHRoaXMuZmlsZT10LHRoaXMubmFtZT0iUmVhZEZpbGVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsVHMucHJvdG90eXBlKX19Y29uc3QgcWU9e0RlZmF1bHRSZXRyeVN0cmF0ZWd5OkVuLkV4cG9uZW50aWFsQmFja29mZigpLEJhc2VVcmw6IiIsQ29yc0JlaGF2aW9yOiJhbm9ueW1vdXMiLFByZXByb2Nlc3NVcmw6Yz0+Y30sYXI9Yz0+KGM9Yy5yZXBsYWNlKC8jL2dtLCIlMjMiKSxjKSxicz0oYyxlKT0+e2lmKCEoYyYmYy5pbmRleE9mKCJkYXRhOiIpPT09MCkmJnFlLkNvcnNCZWhhdmlvcilpZih0eXBlb2YgcWUuQ29yc0JlaGF2aW9yPT0ic3RyaW5nInx8cWUuQ29yc0JlaGF2aW9yIGluc3RhbmNlb2YgU3RyaW5nKWUuY3Jvc3NPcmlnaW49cWUuQ29yc0JlaGF2aW9yO2Vsc2V7Y29uc3QgdD1xZS5Db3JzQmVoYXZpb3IoYyk7dCYmKGUuY3Jvc3NPcmlnaW49dCl9fSxTcz0oYyxlLHQsaSxzPSIiLHIpPT57dmFyIG47bGV0IGEsbz0hMTtjIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhjKT90eXBlb2YgQmxvYjwidSImJnR5cGVvZiBVUkw8InUiPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NdLHt0eXBlOnN9KSksbz0hMCk6YT1gZGF0YToke3N9O2Jhc2U2NCxgK3NyKGMpOmMgaW5zdGFuY2VvZiBCbG9iPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwoYyksbz0hMCk6KGE9YXIoYyksYT1xZS5QcmVwcm9jZXNzVXJsKGMpKTtjb25zdCBoPWZlLkxhc3RDcmVhdGVkRW5naW5lLGw9Yj0+e2lmKHQpe2NvbnN0IE09YXx8Yy50b1N0cmluZygpO3QoYEVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAke00uaW5kZXhPZigiaHR0cCIpPT09MHx8TS5sZW5ndGg8PTEyOD9NOk0uc2xpY2UoMCwxMjgpKyIuLi4ifWAsYil9fTtpZih0eXBlb2YgSW1hZ2U+InUifHwoKG49aD09bnVsbD92b2lkIDA6aC5fZmVhdHVyZXMuZm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudCkhPT1udWxsJiZuIT09dm9pZCAwP246ITEpKXJldHVybiBqdChhLGI9PntoLmNyZWF0ZUltYWdlQml0bWFwKG5ldyBCbG9iKFtiXSx7dHlwZTpzfSkse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLC4uLnJ9KS50aGVuKE09PntlKE0pLG8mJlVSTC5yZXZva2VPYmplY3RVUkwoYSl9KS5jYXRjaChNPT57dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIrYyxNKX0pfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChiLE0pPT57bChNKX0pLG51bGw7Y29uc3QgdT1uZXcgSW1hZ2U7YnMoYSx1KTtjb25zdCBkPVtdLGY9KCk9PntkLmZvckVhY2goYj0+e2IudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoYi5uYW1lLGIuaGFuZGxlcil9KX0sXz0oKT0+e2QuZm9yRWFjaChiPT57Yi50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLm5hbWUsYi5oYW5kbGVyKX0pLGQubGVuZ3RoPTB9LEU9KCk9PntfKCksZSh1KSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyl9LG09Yj0+e18oKSxsKGIpLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKX0sdj1iPT57XygpO2NvbnN0IE09bmV3IEVycm9yKGBDU1AgdmlvbGF0aW9uIG9mIHBvbGljeSAke2IuZWZmZWN0aXZlRGlyZWN0aXZlfSAke2IuYmxvY2tlZFVSSX0uIEN1cnJlbnQgcG9saWN5IGlzICR7Yi5vcmlnaW5hbFBvbGljeX1gKTtmZS5Vc2VGYWxsYmFja1RleHR1cmU9ITEsbChNKSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyksdS5zcmM9IiJ9O2QucHVzaCh7dGFyZ2V0OnUsbmFtZToibG9hZCIsaGFuZGxlcjpFfSksZC5wdXNoKHt0YXJnZXQ6dSxuYW1lOiJlcnJvciIsaGFuZGxlcjptfSksZC5wdXNoKHt0YXJnZXQ6ZG9jdW1lbnQsbmFtZToic2VjdXJpdHlwb2xpY3l2aW9sYXRpb24iLGhhbmRsZXI6dn0pLGYoKTtjb25zdCBTPWEuc3Vic3RyaW5nKDAsNSk9PT0iYmxvYjoiLHk9YS5zdWJzdHJpbmcoMCw1KT09PSJkYXRhOiIsQT0oKT0+e1N8fHk/dS5zcmM9YTpqdChhLChiLE0sTCk9Pntjb25zdCBrPSFzJiZMP0w6cyx3PW5ldyBCbG9iKFtiXSx7dHlwZTprfSksZGU9VVJMLmNyZWF0ZU9iamVjdFVSTCh3KTtvPSEwLHUuc3JjPWRlfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChiLE0pPT57bChNKX0pfSxDPSgpPT57aSYmaS5sb2FkSW1hZ2UoYSx1KX07aWYoIVMmJiF5JiZpJiZpLmVuYWJsZVRleHR1cmVzT2ZmbGluZSlpLm9wZW4oQyxBKTtlbHNle2lmKGEuaW5kZXhPZigiZmlsZToiKSE9PS0xKXtjb25zdCBiPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyg1KS50b0xvd2VyQ2FzZSgpKTtpZihGaS5GaWxlc1RvTG9hZFtiXSYmdHlwZW9mIFVSTDwidSIpe3RyeXtsZXQgTTt0cnl7TT1VUkwuY3JlYXRlT2JqZWN0VVJMKEZpLkZpbGVzVG9Mb2FkW2JdKX1jYXRjaHtNPVVSTC5jcmVhdGVPYmplY3RVUkwoRmkuRmlsZXNUb0xvYWRbYl0pfXUuc3JjPU0sbz0hMH1jYXRjaHt1LnNyYz0iIn1yZXR1cm4gdX19QSgpfXJldHVybiB1fSx3aT0oYyxlLHQsaSxzKT0+e2NvbnN0IHI9bmV3IEZpbGVSZWFkZXIsbj17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IEYsYWJvcnQ6KCk9PnIuYWJvcnQoKX07cmV0dXJuIHIub25sb2FkZW5kPSgpPT5uLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSxzJiYoci5vbmVycm9yPSgpPT57cyhuZXcgVHMoYFVuYWJsZSB0byByZWFkICR7Yy5uYW1lfWAsYykpfSksci5vbmxvYWQ9YT0+e2UoYS50YXJnZXQucmVzdWx0KX0sdCYmKHIub25wcm9ncmVzcz10KSxpP3IucmVhZEFzQXJyYXlCdWZmZXIoYyk6ci5yZWFkQXNUZXh0KGMpLG59LGp0PShjLGUsdCxpLHMscixuKT0+e2lmKGMubmFtZSlyZXR1cm4gd2koYyxlLHQscyxyP2w9PntyKHZvaWQgMCxsKX06dm9pZCAwKTtjb25zdCBhPWM7aWYoYS5pbmRleE9mKCJmaWxlOiIpIT09LTEpe2xldCBsPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyg1KS50b0xvd2VyQ2FzZSgpKTtsLmluZGV4T2YoIi4vIik9PT0wJiYobD1sLnN1YnN0cmluZygyKSk7Y29uc3QgdT1GaS5GaWxlc1RvTG9hZFtsXTtpZih1KXJldHVybiB3aSh1LGUsdCxzLHI/ZD0+cih2b2lkIDAsbmV3IEhpKGQubWVzc2FnZSxkLmZpbGUpKTp2b2lkIDApfWNvbnN0e21hdGNoOm8sdHlwZTpofT1UbihhKTtpZihvKXtjb25zdCBsPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgRixhYm9ydDooKT0+KCk9Pnt9fTt0cnl7Y29uc3QgdT1zP0FzKGEpOmhyKGEpO2UodSx2b2lkIDAsaCl9Y2F0Y2godSl7cj9yKHZvaWQgMCx1KTpPLkVycm9yKHUubWVzc2FnZXx8IkZhaWxlZCB0byBwYXJzZSB0aGUgRGF0YSBVUkwiKX1yZXR1cm4gWGkuU2V0SW1tZWRpYXRlKCgpPT57bC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCl9KSxsfXJldHVybiB4cyhhLChsLHUpPT57ZShsLHU9PW51bGw/dm9pZCAwOnUucmVzcG9uc2VVUkwsdT09bnVsbD92b2lkIDA6dS5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpfSx0LGkscyxyP2w9PntyKGwucmVxdWVzdCxuZXcgSGkobC5tZXNzYWdlLGwucmVxdWVzdCkpfTp2b2lkIDAsbil9LHhzPShjLGUsdCxpLHMscixuKT0+e2M9YXIoYyksYz1xZS5QcmVwcm9jZXNzVXJsKGMpO2NvbnN0IGE9cWUuQmFzZVVybCtjO2xldCBvPSExO2NvbnN0IGg9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT5vPSEwfSxsPSgpPT57bGV0IHU9bmV3IGN0LGQ9bnVsbCxmO2NvbnN0IF89KCk9PnshdXx8KHQmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLGYmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZiksdS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIixFKSl9O2xldCBFPSgpPT57XygpLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLGgub25Db21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKSx0PXZvaWQgMCxmPW51bGwsRT1udWxsLHI9dm9pZCAwLG49dm9pZCAwLGU9dm9pZCAwfTtoLmFib3J0PSgpPT57bz0hMCxFJiZFKCksdSYmdS5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZ1LmFib3J0KCksZCE9PW51bGwmJihjbGVhclRpbWVvdXQoZCksZD1udWxsKSx1PW51bGx9O2NvbnN0IG09Uz0+e2NvbnN0IHk9Uy5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7ciYmdT9yKG5ldyBLaSh5LHUpKTpPLkVycm9yKHkpfSx2PVM9PntpZighIXUpe2lmKHUub3BlbigiR0VUIixhKSxuKXRyeXtuKHUpfWNhdGNoKHkpe20oeSk7cmV0dXJufXMmJih1LnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0JiZ1LmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSxFJiZ1LmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLEUpLGY9KCk9PntpZighKG98fCF1KSYmdS5yZWFkeVN0YXRlPT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpKXtpZihmJiZ1LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGYpLHUuc3RhdHVzPj0yMDAmJnUuc3RhdHVzPDMwMHx8dS5zdGF0dXM9PT0wJiYoIWplKCl8fG9yKCkpKXt0cnl7ZSYmZShzP3UucmVzcG9uc2U6dS5yZXNwb25zZVRleHQsdSl9Y2F0Y2goQyl7bShDKX1yZXR1cm59Y29uc3QgeT1xZS5EZWZhdWx0UmV0cnlTdHJhdGVneTtpZih5KXtjb25zdCBDPXkoYSx1LFMpO2lmKEMhPT0tMSl7XygpLHU9bmV3IGN0LGQ9c2V0VGltZW91dCgoKT0+dihTKzEpLEMpO3JldHVybn19Y29uc3QgQT1uZXcgS2koIkVycm9yIHN0YXR1czogIit1LnN0YXR1cysiICIrdS5zdGF0dXNUZXh0KyIgLSBVbmFibGUgdG8gbG9hZCAiK2EsdSk7ciYmcihBKX19LHUuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZiksdS5zZW5kKCl9fTt2KDApfTtpZihpJiZpLmVuYWJsZVNjZW5lT2ZmbGluZSl7Y29uc3QgdT1mPT57ZiYmZi5zdGF0dXM+NDAwP3ImJnIoZik6bCgpfSxkPSgpPT57aSYmaS5sb2FkRmlsZShxZS5CYXNlVXJsK2MsZj0+eyFvJiZlJiZlKGYpLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpfSx0P2Y9PnshbyYmdCYmdChmKX06dm9pZCAwLHUscyl9O2kub3BlbihkLHUpfWVsc2UgbCgpO3JldHVybiBofSxvcj0oKT0+dHlwZW9mIGxvY2F0aW9uPCJ1IiYmbG9jYXRpb24ucHJvdG9jb2w9PT0iZmlsZToiLE1zPWM9Pm5yLnRlc3QoYyksVG49Yz0+e2NvbnN0IGU9bnIuZXhlYyhjKTtpZihlPT09bnVsbHx8ZS5sZW5ndGg9PT0wKXJldHVybnttYXRjaDohMSx0eXBlOiIifTt7Y29uc3QgdD1lWzBdLnJlcGxhY2UoImRhdGE6IiwiIikucmVwbGFjZSgiYmFzZTY0LCIsIiIpO3JldHVybnttYXRjaDohMCx0eXBlOnR9fX07ZnVuY3Rpb24gQXMoYyl7cmV0dXJuIHZuKGMuc3BsaXQoIiwiKVsxXSl9Y29uc3QgaHI9Yz0+cnIoYy5zcGxpdCgiLCIpWzFdKTsoKCk9PntvZS5fRmlsZVRvb2xzTG9hZEltYWdlPVNzLG9lLl9GaWxlVG9vbHNMb2FkRmlsZT1qdCxuaS5fRmlsZVRvb2xzTG9hZEZpbGU9anR9KSgpO2xldCBPaTsoKGMsZSx0LGkscyxyLG4sYSxvLGgpPT57T2k9e0RlY29kZUJhc2U2NFVybFRvQmluYXJ5OmMsRGVjb2RlQmFzZTY0VXJsVG9TdHJpbmc6ZSxEZWZhdWx0UmV0cnlTdHJhdGVneTp0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5LEJhc2VVcmw6dC5CYXNlVXJsLENvcnNCZWhhdmlvcjp0LkNvcnNCZWhhdmlvcixQcmVwcm9jZXNzVXJsOnQuUHJlcHJvY2Vzc1VybCxJc0Jhc2U2NERhdGFVcmw6aSxJc0ZpbGVVUkw6cyxMb2FkRmlsZTpyLExvYWRJbWFnZTpuLFJlYWRGaWxlOmEsUmVxdWVzdEZpbGU6byxTZXRDb3JzQmVoYXZpb3I6aH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLCJEZWZhdWx0UmV0cnlTdHJhdGVneSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24obCl7dC5EZWZhdWx0UmV0cnlTdHJhdGVneT1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPaSwiQmFzZVVybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkJhc2VVcmx9LHNldDpmdW5jdGlvbihsKXt0LkJhc2VVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2ksIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5QcmVwcm9jZXNzVXJsfSxzZXQ6ZnVuY3Rpb24obCl7dC5QcmVwcm9jZXNzVXJsPWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Db3JzQmVoYXZpb3J9LHNldDpmdW5jdGlvbihsKXt0LkNvcnNCZWhhdmlvcj1sfX0pfSkoQXMsaHIscWUsTXMsb3IsanQsU3Msd2kseHMsYnMpO2NsYXNzIExpe3N0YXRpYyBJbnN0YW50aWF0ZShlKXtpZih0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMmJnRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXSlyZXR1cm4gdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdO2NvbnN0IHQ9cmkoZSk7aWYodClyZXR1cm4gdDtPLldhcm4oZSsiIG5vdCBmb3VuZCwgeW91IG1heSBoYXZlIG1pc3NlZCBhbiBpbXBvcnQuIik7Y29uc3QgaT1lLnNwbGl0KCIuIik7bGV0IHM9d2luZG93fHx0aGlzO2ZvcihsZXQgcj0wLG49aS5sZW5ndGg7cjxuO3IrKylzPXNbaVtyXV07cmV0dXJuIHR5cGVvZiBzIT0iZnVuY3Rpb24iP251bGw6c319TGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz17fTtmdW5jdGlvbiBscigpe3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxjPT57Y29uc3QgZT1NYXRoLnJhbmRvbSgpKjE2fDA7cmV0dXJuKGM9PT0ieCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9Y2xhc3MgSHtzdGF0aWMgZ2V0IEJhc2VVcmwoKXtyZXR1cm4gcWUuQmFzZVVybH1zdGF0aWMgc2V0IEJhc2VVcmwoZSl7cWUuQmFzZVVybD1lfXN0YXRpYyBnZXQgRGVmYXVsdFJldHJ5U3RyYXRlZ3koKXtyZXR1cm4gcWUuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9c3RhdGljIHNldCBEZWZhdWx0UmV0cnlTdHJhdGVneShlKXtxZS5EZWZhdWx0UmV0cnlTdHJhdGVneT1lfXN0YXRpYyBnZXQgQ29yc0JlaGF2aW9yKCl7cmV0dXJuIHFlLkNvcnNCZWhhdmlvcn1zdGF0aWMgc2V0IENvcnNCZWhhdmlvcihlKXtxZS5Db3JzQmVoYXZpb3I9ZX1zdGF0aWMgZ2V0IFVzZUZhbGxiYWNrVGV4dHVyZSgpe3JldHVybiBmZS5Vc2VGYWxsYmFja1RleHR1cmV9c3RhdGljIHNldCBVc2VGYWxsYmFja1RleHR1cmUoZSl7ZmUuVXNlRmFsbGJhY2tUZXh0dXJlPWV9c3RhdGljIGdldCBSZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzKCl7cmV0dXJuIExpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXN9c3RhdGljIHNldCBSZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzKGUpe0xpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9ZX1zdGF0aWMgZ2V0IGZhbGxiYWNrVGV4dHVyZSgpe3JldHVybiBmZS5GYWxsYmFja1RleHR1cmV9c3RhdGljIHNldCBmYWxsYmFja1RleHR1cmUoZSl7ZmUuRmFsbGJhY2tUZXh0dXJlPWV9c3RhdGljIEZldGNoVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9TWF0aC5hYnMoZSkqaSVpfDAsbz1NYXRoLmFicyh0KSpzJXN8MCxoPShhK28qaSkqNDtuLnI9cltoXS8yNTUsbi5nPXJbaCsxXS8yNTUsbi5iPXJbaCsyXS8yNTUsbi5hPXJbaCszXS8yNTV9c3RhdGljIE1peChlLHQsaSl7cmV0dXJuIGUqKDEtaSkrdCppfXN0YXRpYyBJbnN0YW50aWF0ZShlKXtyZXR1cm4gTGkuSW5zdGFudGlhdGUoZSl9c3RhdGljIFNldEltbWVkaWF0ZShlKXtYaS5TZXRJbW1lZGlhdGUoZSl9c3RhdGljIElzRXhwb25lbnRPZlR3byhlKXtsZXQgdD0xO2RvIHQqPTI7d2hpbGUodDxlKTtyZXR1cm4gdD09PWV9c3RhdGljIEZsb2F0Um91bmQoZSl7cmV0dXJuIE1hdGguZnJvdW5kP01hdGguZnJvdW5kKGUpOihILl9UbXBGbG9hdEFycmF5WzBdPWUsSC5fVG1wRmxvYXRBcnJheVswXSl9c3RhdGljIEdldEZpbGVuYW1lKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PDA/ZTplLnN1YnN0cmluZyh0KzEpfXN0YXRpYyBHZXRGb2xkZXJQYXRoKGUsdD0hMSl7Y29uc3QgaT1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIGk8MD90P2U6IiI6ZS5zdWJzdHJpbmcoMCxpKzEpfXN0YXRpYyBUb0RlZ3JlZXMoZSl7cmV0dXJuIGUqMTgwL01hdGguUEl9c3RhdGljIFRvUmFkaWFucyhlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH1zdGF0aWMgU21vb3RoQW5nbGVDaGFuZ2UoZSx0LGk9Ljkpe2NvbnN0IHM9dGhpcy5Ub1JhZGlhbnMoZSkscj10aGlzLlRvUmFkaWFucyh0KTtyZXR1cm4gdGhpcy5Ub0RlZ3JlZXMoTWF0aC5hdGFuMigoMS1pKSpNYXRoLnNpbihyKStpKk1hdGguc2luKHMpLCgxLWkpKk1hdGguY29zKHIpK2kqTWF0aC5jb3MocykpKX1zdGF0aWMgTWFrZUFycmF5KGUsdCl7cmV0dXJuIHQhPT0hMCYmKGU9PT12b2lkIDB8fGU9PW51bGwpP251bGw6QXJyYXkuaXNBcnJheShlKT9lOltlXX1zdGF0aWMgR2V0UG9pbnRlclByZWZpeChlKXtsZXQgdD0icG9pbnRlciI7cmV0dXJuIGplKCkmJiF3aW5kb3cuUG9pbnRlckV2ZW50JiYodD0ibW91c2UiKSxlLl9iYWREZXNrdG9wT1MmJiFlLl9iYWRPUyYmIShkb2N1bWVudCYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnQpJiYodD0ibW91c2UiKSx0fXN0YXRpYyBTZXRDb3JzQmVoYXZpb3IoZSx0KXticyhlLHQpfXN0YXRpYyBTZXRSZWZlcnJlclBvbGljeUJlaGF2aW9yKGUsdCl7dC5yZWZlcnJlclBvbGljeT1lfXN0YXRpYyBDbGVhblVybChlKXtyZXR1cm4gZT1lLnJlcGxhY2UoLyMvZ20sIiUyMyIpLGV9c3RhdGljIGdldCBQcmVwcm9jZXNzVXJsKCl7cmV0dXJuIHFlLlByZXByb2Nlc3NVcmx9c3RhdGljIHNldCBQcmVwcm9jZXNzVXJsKGUpe3FlLlByZXByb2Nlc3NVcmw9ZX1zdGF0aWMgTG9hZEltYWdlKGUsdCxpLHMscixuKXtyZXR1cm4gU3MoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZShlLHQsaSxzLHIsbil7cmV0dXJuIGp0KGUsdCxpLHMscixuKX1zdGF0aWMgTG9hZEZpbGVBc3luYyhlLHQ9ITApe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e2p0KGUscj0+e2kocil9LHZvaWQgMCx2b2lkIDAsdCwocixuKT0+e3Mobil9KX0pfXN0YXRpYyBMb2FkU2NyaXB0KGUsdCxpLHMpe2lmKHR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iKXt0cnl7aW1wb3J0U2NyaXB0cyhlKSx0KCl9Y2F0Y2goYSl7aT09bnVsbHx8aShgVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcke2V9JyBpbiB3b3JrZXJgLGEpfXJldHVybn1lbHNlIGlmKCFqZSgpKXtpPT1udWxsfHxpKGBDYW5ub3QgbG9hZCBzY3JpcHQgJyR7ZX0nIG91dHNpZGUgb2YgYSB3aW5kb3cgb3IgYSB3b3JrZXJgKTtyZXR1cm59Y29uc3Qgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKSxuLnNldEF0dHJpYnV0ZSgic3JjIixlKSxzJiYobi5pZD1zKSxuLm9ubG9hZD0oKT0+e3QmJnQoKX0sbi5vbmVycm9yPWE9PntpJiZpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nYCxhKX0sci5hcHBlbmRDaGlsZChuKX1zdGF0aWMgTG9hZFNjcmlwdEFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxpKT0+e3RoaXMuTG9hZFNjcmlwdChlLCgpPT57dCgpfSwocyxyKT0+e2kocnx8bmV3IEVycm9yKHMpKX0pfSl9c3RhdGljIFJlYWRGaWxlQXNEYXRhVVJMKGUsdCxpKXtjb25zdCBzPW5ldyBGaWxlUmVhZGVyLHI9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT5zLmFib3J0KCl9O3JldHVybiBzLm9ubG9hZGVuZD0oKT0+e3Iub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfSxzLm9ubG9hZD1uPT57dChuLnRhcmdldC5yZXN1bHQpfSxzLm9ucHJvZ3Jlc3M9aSxzLnJlYWRBc0RhdGFVUkwoZSkscn1zdGF0aWMgUmVhZEZpbGUoZSx0LGkscyxyKXtyZXR1cm4gd2koZSx0LGkscyxyKX1zdGF0aWMgRmlsZUFzVVJMKGUpe2NvbnN0IHQ9bmV3IEJsb2IoW2VdKTtyZXR1cm4gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCl9c3RhdGljIEZvcm1hdChlLHQ9Mil7cmV0dXJuIGUudG9GaXhlZCh0KX1zdGF0aWMgRGVlcENvcHkoZSx0LGkscyl7dnMuRGVlcENvcHkoZSx0LGkscyl9c3RhdGljIElzRW1wdHkoZSl7Zm9yKGNvbnN0IHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1zdGF0aWMgUmVnaXN0ZXJUb3BSb290RXZlbnRzKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtlLmFkZEV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlciwhMSk7dHJ5e3dpbmRvdy5wYXJlbnQmJndpbmRvdy5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKX1jYXRjaHt9fX1zdGF0aWMgVW5yZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKTt0cnl7ZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlcil9Y2F0Y2h7fX19c3RhdGljIGFzeW5jIER1bXBGcmFtZWJ1ZmZlcihlLHQsaSxzLHI9ImltYWdlL3BuZyIsbil7dGhyb3cgUSgiRHVtcFRvb2xzIil9c3RhdGljIER1bXBEYXRhKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuLGE9ITEsbz0hMSxoKXt0aHJvdyBRKCJEdW1wVG9vbHMiKX1zdGF0aWMgRHVtcERhdGFBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHIsbj0hMSxhPSExLG8pe3Rocm93IFEoIkR1bXBUb29scyIpfXN0YXRpYyBUb0Jsb2IoZSx0LGk9ImltYWdlL3BuZyIscyl7ZS50b0Jsb2J8fChlLnRvQmxvYj1mdW5jdGlvbihyLG4sYSl7c2V0VGltZW91dCgoKT0+e2NvbnN0IG89YXRvYih0aGlzLnRvRGF0YVVSTChuLGEpLnNwbGl0KCIsIilbMV0pLGg9by5sZW5ndGgsbD1uZXcgVWludDhBcnJheShoKTtmb3IobGV0IHU9MDt1PGg7dSsrKWxbdV09by5jaGFyQ29kZUF0KHUpO3IobmV3IEJsb2IoW2xdKSl9KX0pLGUudG9CbG9iKGZ1bmN0aW9uKHIpe3Qocil9LGkscyl9c3RhdGljIERvd25sb2FkQmxvYihlLHQpe2lmKCJkb3dubG9hZCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpe2lmKCF0KXtjb25zdCBpPW5ldyBEYXRlLHM9KGkuZ2V0RnVsbFllYXIoKSsiLSIrKGkuZ2V0TW9udGgoKSsxKSkuc2xpY2UoMikrIi0iK2kuZ2V0RGF0ZSgpKyJfIitpLmdldEhvdXJzKCkrIi0iKygiMCIraS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTt0PSJzY3JlZW5zaG90XyIrcysiLnBuZyJ9SC5Eb3dubG9hZChlLHQpfWVsc2UgaWYoZSYmdHlwZW9mIFVSTDwidSIpe2NvbnN0IGk9VVJMLmNyZWF0ZU9iamVjdFVSTChlKSxzPXdpbmRvdy5vcGVuKCIiKTtpZighcylyZXR1cm47Y29uc3Qgcj1zLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3Iub25sb2FkPWZ1bmN0aW9uKCl7VVJMLnJldm9rZU9iamVjdFVSTChpKX0sci5zcmM9aSxzLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocil9fXN0YXRpYyBFbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShlLHQsaT0iaW1hZ2UvcG5nIixzLHIpe2lmKHQpe2NvbnN0IG49ZS50b0RhdGFVUkwoaSxyKTt0KG4pfWVsc2UgdGhpcy5Ub0Jsb2IoZSxmdW5jdGlvbihuKXtuJiZILkRvd25sb2FkQmxvYihuLHMpfSxpLHIpfXN0YXRpYyBEb3dubG9hZChlLHQpe2lmKHR5cGVvZiBVUkw+InUiKXJldHVybjtjb25zdCBpPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocykscy5zdHlsZS5kaXNwbGF5PSJub25lIixzLmhyZWY9aSxzLmRvd25sb2FkPXQscy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntzLnBhcmVudEVsZW1lbnQmJnMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzKX0pLHMuY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChpKX1zdGF0aWMgQmFja0NvbXBhdENhbWVyYU5vUHJldmVudERlZmF1bHQoZSl7cmV0dXJuIHR5cGVvZiBlWzBdPT0iYm9vbGVhbiI/ZVswXTp0eXBlb2YgZVsxXT09ImJvb2xlYW4iP2VbMV06ITF9c3RhdGljIENyZWF0ZVNjcmVlbnNob3QoZSx0LGkscyxyPSJpbWFnZS9wbmciKXt0aHJvdyBRKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdEFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIpe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXQoZSx0LGkscyxyPSJpbWFnZS9wbmciLG49MSxhPSExLG8pe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXRBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHI9MSxuPSExLGEpe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBSYW5kb21JZCgpe3JldHVybiBscigpfXN0YXRpYyBJc0Jhc2U2NChlKXtyZXR1cm4gTXMoZSl9c3RhdGljIERlY29kZUJhc2U2NChlKXtyZXR1cm4gQXMoZSl9c3RhdGljIGdldCBlcnJvcnNDb3VudCgpe3JldHVybiBPLmVycm9yc0NvdW50fXN0YXRpYyBMb2coZSl7Ty5Mb2coZSl9c3RhdGljIFdhcm4oZSl7Ty5XYXJuKGUpfXN0YXRpYyBFcnJvcihlKXtPLkVycm9yKGUpfXN0YXRpYyBnZXQgTG9nQ2FjaGUoKXtyZXR1cm4gTy5Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uQ2xlYXJMb2dDYWNoZSgpfXN0YXRpYyBzZXQgTG9nTGV2ZWxzKGUpe08uTG9nTGV2ZWxzPWV9c3RhdGljIHNldCBQZXJmb3JtYW5jZUxvZ0xldmVsKGUpe2lmKChlJkguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKT09PUguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKXtILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUguX1N0YXJ0VXNlck1hcmssSC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fRW5kVXNlck1hcms7cmV0dXJufWlmKChlJkguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWwpPT09SC5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1ILl9TdGFydFBlcmZvcm1hbmNlQ29uc29sZSxILkVuZFBlcmZvcm1hbmNlQ291bnRlcj1ILl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU7cmV0dXJufUguU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxILkVuZFBlcmZvcm1hbmNlQ291bnRlcj1ILl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZH1zdGF0aWMgX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX1N0YXJ0VXNlck1hcmsoZSx0PSEwKXtpZighSC5fUGVyZm9ybWFuY2Upe2lmKCFqZSgpKXJldHVybjtILl9QZXJmb3JtYW5jZT13aW5kb3cucGVyZm9ybWFuY2V9IXR8fCFILl9QZXJmb3JtYW5jZS5tYXJrfHxILl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1CZWdpbiIpfXN0YXRpYyBfRW5kVXNlck1hcmsoZSx0PSEwKXshdHx8IUguX1BlcmZvcm1hbmNlLm1hcmt8fChILl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1FbmQiKSxILl9QZXJmb3JtYW5jZS5tZWFzdXJlKGUsZSsiLUJlZ2luIixlKyItRW5kIikpfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvbnNvbGUoZSx0PSEwKXshdHx8KEguX1N0YXJ0VXNlck1hcmsoZSx0KSxjb25zb2xlLnRpbWUmJmNvbnNvbGUudGltZShlKSl9c3RhdGljIF9FbmRQZXJmb3JtYW5jZUNvbnNvbGUoZSx0PSEwKXshdHx8KEguX0VuZFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lRW5kKGUpKX1zdGF0aWMgZ2V0IE5vdygpe3JldHVybiBhaS5Ob3d9c3RhdGljIEdldENsYXNzTmFtZShlLHQ9ITEpe2xldCBpPW51bGw7cmV0dXJuIXQmJmUuZ2V0Q2xhc3NOYW1lP2k9ZS5nZXRDbGFzc05hbWUoKTooZSBpbnN0YW5jZW9mIE9iamVjdCYmKGk9KHQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX18pLGl8fChpPXR5cGVvZiBlKSksaX1zdGF0aWMgRmlyc3QoZSx0KXtmb3IoY29uc3QgaSBvZiBlKWlmKHQoaSkpcmV0dXJuIGk7cmV0dXJuIG51bGx9c3RhdGljIGdldEZ1bGxDbGFzc05hbWUoZSx0PSExKXtsZXQgaT1udWxsLHM9bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpaT1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7Y29uc3Qgcj10P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2k9ci5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fLHM9ci5jb25zdHJ1Y3Rvci5fX2Jqc21vZHVsZU5hbWVfX31pfHwoaT10eXBlb2YgZSl9cmV0dXJuIGk/KHMhPW51bGw/cysiLiI6IiIpK2k6bnVsbH1zdGF0aWMgRGVsYXlBc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3NldFRpbWVvdXQoKCk9Pnt0KCl9LGUpfSl9c3RhdGljIElzU2FmYXJpKCl7cmV0dXJuIEpzKCk/L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTohMX19SC5Vc2VDdXN0b21SZXF1ZXN0SGVhZGVycz0hMSxILkN1c3RvbVJlcXVlc3RIZWFkZXJzPWN0LkN1c3RvbVJlcXVlc3RIZWFkZXJzLEguX1RtcEZsb2F0QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgxKSxILkdldERPTVRleHRDb250ZW50PWdzLEguR2V0QWJzb2x1dGVVcmw9dHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Ij9jPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1jLGUuaHJlZn06dHlwZW9mIFVSTD09ImZ1bmN0aW9uIiYmdHlwZW9mIGxvY2F0aW9uPT0ib2JqZWN0Ij9jPT5uZXcgVVJMKGMsbG9jYXRpb24ub3JpZ2luKS5ocmVmOigpPT57dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IGFic29sdXRlIFVSTC4gT3ZlcnJpZGUgQkFCWUxPTi5Ub29scy5HZXRBYnNvbHV0ZVVybCB0byBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgY29udGV4dC4iKX0sSC5Ob25lTG9nTGV2ZWw9Ty5Ob25lTG9nTGV2ZWwsSC5NZXNzYWdlTG9nTGV2ZWw9Ty5NZXNzYWdlTG9nTGV2ZWwsSC5XYXJuaW5nTG9nTGV2ZWw9Ty5XYXJuaW5nTG9nTGV2ZWwsSC5FcnJvckxvZ0xldmVsPU8uRXJyb3JMb2dMZXZlbCxILkFsbExvZ0xldmVsPU8uQWxsTG9nTGV2ZWwsSC5Jc1dpbmRvd09iamVjdEV4aXN0PWplLEguUGVyZm9ybWFuY2VOb25lTG9nTGV2ZWw9MCxILlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbD0xLEguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWw9MixILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUguX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsSC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ7Y2xhc3MgWWl7Y29uc3RydWN0b3IoZSx0LGkscz0wKXt0aGlzLml0ZXJhdGlvbnM9ZSx0aGlzLmluZGV4PXMtMSx0aGlzLl9kb25lPSExLHRoaXMuX2ZuPXQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPWl9ZXhlY3V0ZU5leHQoKXt0aGlzLl9kb25lfHwodGhpcy5pbmRleCsxPHRoaXMuaXRlcmF0aW9ucz8oKyt0aGlzLmluZGV4LHRoaXMuX2ZuKHRoaXMpKTp0aGlzLmJyZWFrTG9vcCgpKX1icmVha0xvb3AoKXt0aGlzLl9kb25lPSEwLHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaygpfXN0YXRpYyBSdW4oZSx0LGkscz0wKXtjb25zdCByPW5ldyBZaShlLHQsaSxzKTtyZXR1cm4gci5leGVjdXRlTmV4dCgpLHJ9c3RhdGljIFN5bmNBc3luY0Zvckxvb3AoZSx0LGkscyxyLG49MCl7cmV0dXJuIFlpLlJ1bihNYXRoLmNlaWwoZS90KSxhPT57ciYmcigpP2EuYnJlYWtMb29wKCk6c2V0VGltZW91dCgoKT0+e2ZvcihsZXQgbz0wO288dDsrK28pe2NvbnN0IGg9YS5pbmRleCp0K287aWYoaD49ZSlicmVhaztpZihpKGgpLHImJnIoKSl7YS5icmVha0xvb3AoKTticmVha319YS5leGVjdXRlTmV4dCgpfSxuKX0scyl9fWZlLkZhbGxiYWNrVGV4dHVyZT0iZGF0YTppbWFnZS9qcGc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVBWUFCZ0FBRC80UUJtUlhocFpnQUFUVTBBS2dBQUFBZ0FCQUVhQUFVQUFBQUJBQUFBUGdFYkFBVUFBQUFCQUFBQVJnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQVFBQUFBVGdBQUFBQUFBQUJnQUFBQUFRQUFBR0FBQUFBQmNHRnBiblF1Ym1WMElEUXVNQzQxQVAvYkFFTUFCQUlEQXdNQ0JBTURBd1FFQkFRRkNRWUZCUVVGQ3dnSUJna05DdzBORFFzTURBNFFGQkVPRHhNUERBd1NHQklURlJZWEZ4Y09FUmtiR1JZYUZCWVhGdi9iQUVNQkJBUUVCUVVGQ2dZR0NoWVBEQThXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0Z2L0FBQkVJQVFBQkFBTUJJZ0FDRVFFREVRSC94QUFmQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFQUFDQVFNREFnUURCUVVFQkFBQUFYMEJBZ01BQkJFRkVpRXhRUVlUVVdFSEluRVVNb0dSb1FnalFySEJGVkxSOENRelluS0NDUW9XRnhnWkdpVW1KeWdwS2pRMU5qYzRPVHBEUkVWR1IwaEpTbE5VVlZaWFdGbGFZMlJsWm1kb2FXcHpkSFYyZDNoNWVvT0VoWWFIaUltS2twT1VsWmFYbUptYW9xT2twYWFucUttcXNyTzB0YmEzdUxtNndzUEV4Y2JIeU1uSzB0UFUxZGJYMk5uYTRlTGo1T1htNStqcDZ2SHk4L1QxOXZmNCtmci94QUFmQVFBREFRRUJBUUVCQVFFQkFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFUUFDQVFJRUJBTUVCd1VFQkFBQkFuY0FBUUlERVFRRklURUdFa0ZSQjJGeEV5SXlnUWdVUXBHaHNjRUpJek5TOEJWaWN0RUtGaVEwNFNYeEZ4Z1pHaVluS0NrcU5UWTNPRGs2UTBSRlJrZElTVXBUVkZWV1YxaFpXbU5rWldabmFHbHFjM1IxZG5kNGVYcUNnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmk0K1RsNXVmbzZlcnk4L1QxOXZmNCtmci8yZ0FNQXdFQUFoRURFUUEvQVBINktLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlAvL1oiO2NsYXNzIFFle2NvbnN0cnVjdG9yKGUpe3RoaXMubGVuZ3RoPTAsdGhpcy5kYXRhPW5ldyBBcnJheShlKSx0aGlzLl9pZD1RZS5fR2xvYmFsSWQrK31wdXNoKGUpe3RoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT1lLHRoaXMubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoKj0yKX1mb3JFYWNoKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX1zb3J0KGUpe3RoaXMuZGF0YS5zb3J0KGUpfXJlc2V0KCl7dGhpcy5sZW5ndGg9MH1kaXNwb3NlKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCl9Y29uY2F0KGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109KGUuZGF0YXx8ZSlbdF19fWluZGV4T2YoZSl7Y29uc3QgdD10aGlzLmRhdGEuaW5kZXhPZihlKTtyZXR1cm4gdD49dGhpcy5sZW5ndGg/LTE6dH1jb250YWlucyhlKXtyZXR1cm4gdGhpcy5pbmRleE9mKGUpIT09LTF9fVFlLl9HbG9iYWxJZD0wO2NsYXNzIGhpIGV4dGVuZHMgUWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2R1cGxpY2F0ZUlkPTB9cHVzaChlKXtzdXBlci5wdXNoKGUpLGUuX19zbWFydEFycmF5RmxhZ3N8fChlLl9fc21hcnRBcnJheUZsYWdzPXt9KSxlLl9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT10aGlzLl9kdXBsaWNhdGVJZH1wdXNoTm9EdXBsaWNhdGUoZSl7cmV0dXJuIGUuX19zbWFydEFycmF5RmxhZ3MmJmUuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaChlKSwhMCl9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2R1cGxpY2F0ZUlkKyt9Y29uY2F0V2l0aE5vRHVwbGljYXRlKGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT0oZS5kYXRhfHxlKVt0XTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShpKX19fX1jbGFzcyBjcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvdW50PTAsdGhpcy5fZGF0YT17fX1jb3B5RnJvbShlKXt0aGlzLmNsZWFyKCksZS5mb3JFYWNoKCh0LGkpPT50aGlzLmFkZCh0LGkpKX1nZXQoZSl7Y29uc3QgdD10aGlzLl9kYXRhW2VdO2lmKHQhPT12b2lkIDApcmV0dXJuIHR9Z2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpe2xldCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwfHwoaT10KGUpLGkmJnRoaXMuYWRkKGUsaSkpLGl9Z2V0T3JBZGQoZSx0KXtjb25zdCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwP2k6KHRoaXMuYWRkKGUsdCksdCl9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDB9YWRkKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX1zZXQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXT09PXZvaWQgMD8hMToodGhpcy5fZGF0YVtlXT10LCEwKX1nZXRBbmRSZW1vdmUoZSl7Y29uc3QgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5jb250YWlucyhlKT8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCwhMCk6ITF9Y2xlYXIoKXt0aGlzLl9kYXRhPXt9LHRoaXMuX2NvdW50PTB9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX2NvdW50fWZvckVhY2goZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdO2UodCxpKX19Zmlyc3QoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdLHM9ZSh0LGkpO2lmKHMpcmV0dXJuIHN9cmV0dXJuIG51bGx9fWNsYXNzIGxpe3N0YXRpYyBFdmFsKGUsdCl7cmV0dXJuIGUubWF0Y2goL1woW14oKV0qXCkvZyk/ZT1lLnJlcGxhY2UoL1woW14oKV0qXCkvZyxpPT4oaT1pLnNsaWNlKDEsaS5sZW5ndGgtMSksbGkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChpLHQpKSk6ZT1saS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCksZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTpsaS5FdmFsKGUsdCl9c3RhdGljIF9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoZSx0KXt0PXR8fChyPT5yPT09InRydWUiKTtsZXQgaTtjb25zdCBzPWUuc3BsaXQoInx8Iik7Zm9yKGNvbnN0IHIgaW4gcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxyKSl7bGV0IG49bGkuX1NpbXBsaWZ5TmVnYXRpb24oc1tyXS50cmltKCkpO2NvbnN0IGE9bi5zcGxpdCgiJiYiKTtpZihhLmxlbmd0aD4xKWZvcihsZXQgbz0wO288YS5sZW5ndGg7KytvKXtjb25zdCBoPWxpLl9TaW1wbGlmeU5lZ2F0aW9uKGFbb10udHJpbSgpKTtpZihoIT09InRydWUiJiZoIT09ImZhbHNlIj9oWzBdPT09IiEiP2k9IXQoaC5zdWJzdHJpbmcoMSkpOmk9dChoKTppPWg9PT0idHJ1ZSIsIWkpe249ImZhbHNlIjticmVha319aWYoaXx8bj09PSJ0cnVlIil7aT0hMDticmVha31uIT09InRydWUiJiZuIT09ImZhbHNlIj9uWzBdPT09IiEiP2k9IXQobi5zdWJzdHJpbmcoMSkpOmk9dChuKTppPW49PT0idHJ1ZSJ9cmV0dXJuIGk/InRydWUiOiJmYWxzZSJ9c3RhdGljIF9TaW1wbGlmeU5lZ2F0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sdD0+KHQ9dC5yZXBsYWNlKC9bXHNdL2csKCk9PiIiKSx0Lmxlbmd0aCUyPyIhIjoiIikpLGU9ZS50cmltKCksZT09PSIhdHJ1ZSI/ZT0iZmFsc2UiOmU9PT0iIWZhbHNlIiYmKGU9InRydWUiKSxlfX1jbGFzcyBwZXtzdGF0aWMgRW5hYmxlRm9yKGUpe2UuX3RhZ3M9ZS5fdGFnc3x8e30sZS5oYXNUYWdzPSgpPT5wZS5IYXNUYWdzKGUpLGUuYWRkVGFncz10PT5wZS5BZGRUYWdzVG8oZSx0KSxlLnJlbW92ZVRhZ3M9dD0+cGUuUmVtb3ZlVGFnc0Zyb20oZSx0KSxlLm1hdGNoZXNUYWdzUXVlcnk9dD0+cGUuTWF0Y2hlc1F1ZXJ5KGUsdCl9c3RhdGljIERpc2FibGVGb3IoZSl7ZGVsZXRlIGUuX3RhZ3MsZGVsZXRlIGUuaGFzVGFncyxkZWxldGUgZS5hZGRUYWdzLGRlbGV0ZSBlLnJlbW92ZVRhZ3MsZGVsZXRlIGUubWF0Y2hlc1RhZ3NRdWVyeX1zdGF0aWMgSGFzVGFncyhlKXtpZighZS5fdGFncylyZXR1cm4hMTtjb25zdCB0PWUuX3RhZ3M7Zm9yKGNvbnN0IGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgR2V0VGFncyhlLHQ9ITApe2lmKCFlLl90YWdzKXJldHVybiBudWxsO2lmKHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgaW4gZS5fdGFncylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fdGFncyxzKSYmZS5fdGFnc1tzXT09PSEwJiZpLnB1c2gocyk7cmV0dXJuIGkuam9pbigiICIpfWVsc2UgcmV0dXJuIGUuX3RhZ3N9c3RhdGljIEFkZFRhZ3NUbyhlLHQpe2lmKCF0fHx0eXBlb2YgdCE9InN0cmluZyIpcmV0dXJuO3Quc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe3BlLl9BZGRUYWdUbyhlLHMpfSl9c3RhdGljIF9BZGRUYWdUbyhlLHQpe3Q9dC50cmltKCksISh0PT09IiJ8fHQ9PT0idHJ1ZSJ8fHQ9PT0iZmFsc2UiKSYmKHQubWF0Y2goL1tcc10vKXx8dC5tYXRjaCgvXihbIV18KFt8XXxbJl0pezJ9KS8pfHwocGUuRW5hYmxlRm9yKGUpLGUuX3RhZ3NbdF09ITApKX1zdGF0aWMgUmVtb3ZlVGFnc0Zyb20oZSx0KXtpZighcGUuSGFzVGFncyhlKSlyZXR1cm47Y29uc3QgaT10LnNwbGl0KCIgIik7Zm9yKGNvbnN0IHMgaW4gaSlwZS5fUmVtb3ZlVGFnRnJvbShlLGlbc10pfXN0YXRpYyBfUmVtb3ZlVGFnRnJvbShlLHQpe2RlbGV0ZSBlLl90YWdzW3RdfXN0YXRpYyBNYXRjaGVzUXVlcnkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMD8hMDp0PT09IiI/cGUuSGFzVGFncyhlKTpsaS5FdmFsKHQsaT0+cGUuSGFzVGFncyhlKSYmZS5fdGFnc1tpXSl9fWNsYXNzIFppe2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZXM9bmV3IEFycmF5LHRoaXMuY2FtZXJhcz1uZXcgQXJyYXksdGhpcy5saWdodHM9bmV3IEFycmF5LHRoaXMubWVzaGVzPW5ldyBBcnJheSx0aGlzLnNrZWxldG9ucz1uZXcgQXJyYXksdGhpcy5wYXJ0aWNsZVN5c3RlbXM9bmV3IEFycmF5LHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLmFuaW1hdGlvbkdyb3Vwcz1uZXcgQXJyYXksdGhpcy5tdWx0aU1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5nZW9tZXRyaWVzPW5ldyBBcnJheSx0aGlzLnRyYW5zZm9ybU5vZGVzPW5ldyBBcnJheSx0aGlzLmFjdGlvbk1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLnRleHR1cmVzPW5ldyBBcnJheSx0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9bnVsbCx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXN0YXRpYyBBZGRQYXJzZXIoZSx0KXt0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH1zdGF0aWMgR2V0UGFyc2VyKGUpe3JldHVybiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9c3RhdGljIEFkZEluZGl2aWR1YWxQYXJzZXIoZSx0KXt0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9c3RhdGljIEdldEluZGl2aWR1YWxQYXJzZXIoZSl7cmV0dXJuIHRoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSxzKXtmb3IoY29uc3QgciBpbiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycyxyKSYmdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW3JdKGUsdCxpLHMpfWdldCBlbnZpcm9ubWVudFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfXNldCBlbnZpcm9ubWVudFRleHR1cmUoZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWV9Z2V0Tm9kZXMoKXtsZXQgZT1uZXcgQXJyYXk7cmV0dXJuIGU9ZS5jb25jYXQodGhpcy5tZXNoZXMpLGU9ZS5jb25jYXQodGhpcy5saWdodHMpLGU9ZS5jb25jYXQodGhpcy5jYW1lcmFzKSxlPWUuY29uY2F0KHRoaXMudHJhbnNmb3JtTm9kZXMpLHRoaXMuc2tlbGV0b25zLmZvckVhY2godD0+ZT1lLmNvbmNhdCh0LmJvbmVzKSksZX19WmkuX0JhYnlsb25GaWxlUGFyc2Vycz17fSxaaS5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vycz17fTtmdW5jdGlvbiBUKGMsZSx0LGkpe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGgscj1zPDM/ZTppPT09bnVsbD9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTppLG47aWYodHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiJiZ0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZT09ImZ1bmN0aW9uIilyPVJlZmxlY3QuZGVjb3JhdGUoYyxlLHQsaSk7ZWxzZSBmb3IodmFyIGE9Yy5sZW5ndGgtMTthPj0wO2EtLSkobj1jW2FdKSYmKHI9KHM8Mz9uKHIpOnM+Mz9uKGUsdCxyKTpuKGUsdCkpfHxyKTtyZXR1cm4gcz4zJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLHJ9Y29uc3QgcWk9e30samk9e30sdXI9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9YygpO3BlJiZwZS5BZGRUYWdzVG8oaSxlLnRhZ3MpO2NvbnN0IHM9UnMoaSk7Zm9yKGNvbnN0IHIgaW4gcyl7Y29uc3Qgbj1zW3JdLGE9ZVtyXSxvPW4udHlwZTtpZihhIT1udWxsJiYociE9PSJ1bmlxdWVJZCJ8fGFlLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSlzd2l0Y2gobyl7Y2FzZSAwOmNhc2UgNjpjYXNlIDExOmlbcl09YTticmVhaztjYXNlIDE6aVtyXT10fHxhLmlzUmVuZGVyVGFyZ2V0P2E6YS5jbG9uZSgpO2JyZWFrO2Nhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDc6Y2FzZSAxMDpjYXNlIDEyOmlbcl09dD9hOmEuY2xvbmUoKTticmVha319cmV0dXJuIGl9O2Z1bmN0aW9uIGJuKGMpe2NvbnN0IGU9Yy5nZXRDbGFzc05hbWUoKTtyZXR1cm4gcWlbZV18fChxaVtlXT17fSkscWlbZV19ZnVuY3Rpb24gUnMoYyl7Y29uc3QgZT1jLmdldENsYXNzTmFtZSgpO2lmKGppW2VdKXJldHVybiBqaVtlXTtqaVtlXT17fTtjb25zdCB0PWppW2VdO2xldCBpPWMscz1lO2Zvcig7czspe2NvbnN0IHI9cWlbc107Zm9yKGNvbnN0IG8gaW4gcil0W29dPXJbb107bGV0IG4sYT0hMTtkb3tpZihuPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKSwhbi5nZXRDbGFzc05hbWUpe2E9ITA7YnJlYWt9aWYobi5nZXRDbGFzc05hbWUoKSE9PXMpYnJlYWs7aT1ufXdoaWxlKG4pO2lmKGEpYnJlYWs7cz1uLmdldENsYXNzTmFtZSgpLGk9bn1yZXR1cm4gdH1mdW5jdGlvbiB5dChjLGUpe3JldHVybih0LGkpPT57Y29uc3Qgcz1ibih0KTtzW2ldfHwoc1tpXT17dHlwZTpjLHNvdXJjZU5hbWU6ZX0pfX1mdW5jdGlvbiBTbihjLGU9bnVsbCl7cmV0dXJuKHQsaSk9Pntjb25zdCBzPWV8fCJfIitpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3NdfSxzZXQ6ZnVuY3Rpb24ocil7dHlwZW9mIHRoaXMuZXF1YWxzPT0iZnVuY3Rpb24iJiZ0aGlzLmVxdWFscyhyKXx8dGhpc1tzXSE9PXImJih0aGlzW3NdPXIsdFtjXS5hcHBseSh0aGlzKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fWZ1bmN0aW9uIGJlKGMsZT1udWxsKXtyZXR1cm4gU24oYyxlKX1mdW5jdGlvbiBSKGMpe3JldHVybiB5dCgwLGMpfWZ1bmN0aW9uIG10KGMpe3JldHVybiB5dCgxLGMpfWZ1bmN0aW9uIGNpKGMpe3JldHVybiB5dCgyLGMpfWZ1bmN0aW9uIE5pKGMpe3JldHVybiB5dCgzLGMpfWZ1bmN0aW9uIHhuKGMpe3JldHVybiB5dCg0LGMpfWZ1bmN0aW9uIEJ0KGMpe3JldHVybiB5dCg1LGMpfWZ1bmN0aW9uIE1uKGMpe3JldHVybiB5dCg2LGMpfWZ1bmN0aW9uIEFuKGMpe3JldHVybiB5dCg3LGMpfWZ1bmN0aW9uIGRyKGMpe3JldHVybiB5dCg4LGMpfWZ1bmN0aW9uIFJuKGMpe3JldHVybiB5dCgxMCxjKX1jbGFzcyBhZXtzdGF0aWMgQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMoZSx0KXtpZihlLmFuaW1hdGlvbnMpe3QuYW5pbWF0aW9ucz1bXTtmb3IobGV0IGk9MDtpPGUuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXtjb25zdCBzPWUuYW5pbWF0aW9uc1tpXTt0LmFuaW1hdGlvbnMucHVzaChzLnNlcmlhbGl6ZSgpKX19fXN0YXRpYyBTZXJpYWxpemUoZSx0KXt0fHwodD17fSkscGUmJih0LnRhZ3M9cGUuR2V0VGFncyhlKSk7Y29uc3QgaT1ScyhlKTtmb3IoY29uc3QgcyBpbiBpKXtjb25zdCByPWlbc10sbj1yLnNvdXJjZU5hbWV8fHMsYT1yLnR5cGUsbz1lW3NdO2lmKG8hPW51bGwmJihzIT09InVuaXF1ZUlkInx8YWUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChhKXtjYXNlIDA6dFtuXT1vO2JyZWFrO2Nhc2UgMTp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAyOnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSAzOnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDQ6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDU6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDY6dFtuXT1vLmlkO2JyZWFrO2Nhc2UgNzp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA4OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA5OnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDEwOnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSAxMTp0W25dPW8uaWQ7YnJlYWs7Y2FzZSAxMjp0W25dPW8uYXNBcnJheSgpO2JyZWFrfX1yZXR1cm4gdH1zdGF0aWMgUGFyc2UoZSx0LGkscz1udWxsKXtjb25zdCByPWUoKTtzfHwocz0iIikscGUmJnBlLkFkZFRhZ3NUbyhyLHQudGFncyk7Y29uc3Qgbj1ScyhyKTtmb3IoY29uc3QgYSBpbiBuKXtjb25zdCBvPW5bYV0saD10W28uc291cmNlTmFtZXx8YV0sbD1vLnR5cGU7aWYoaCE9bnVsbCYmKGEhPT0idW5pcXVlSWQifHxhZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpe2NvbnN0IHU9cjtzd2l0Y2gobCl7Y2FzZSAwOnVbYV09aDticmVhaztjYXNlIDE6aSYmKHVbYV09YWUuX1RleHR1cmVQYXJzZXIoaCxpLHMpKTticmVhaztjYXNlIDI6dVthXT1yZS5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSAzOnVbYV09YWUuX0ZyZXNuZWxQYXJhbWV0ZXJzUGFyc2VyKGgpO2JyZWFrO2Nhc2UgNDp1W2FdPXZlLkZyb21BcnJheShoKTticmVhaztjYXNlIDU6dVthXT1wLkZyb21BcnJheShoKTticmVhaztjYXNlIDY6aSYmKHVbYV09aS5nZXRMYXN0TWVzaEJ5SWQoaCkpO2JyZWFrO2Nhc2UgNzp1W2FdPWFlLl9Db2xvckN1cnZlc1BhcnNlcihoKTticmVhaztjYXNlIDg6dVthXT1nZS5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSA5OnVbYV09YWUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXIoaCk7YnJlYWs7Y2FzZSAxMDp1W2FdPVouRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgMTE6aSYmKHVbYV09aS5nZXRDYW1lcmFCeUlkKGgpKTticmVhaztjYXNlIDEyOnVbYV09eC5Gcm9tQXJyYXkoaCk7YnJlYWt9fX1yZXR1cm4gcn1zdGF0aWMgQ2xvbmUoZSx0KXtyZXR1cm4gdXIoZSx0LCExKX1zdGF0aWMgSW5zdGFuY2lhdGUoZSx0KXtyZXR1cm4gdXIoZSx0LCEwKX19YWUuQWxsb3dMb2FkaW5nVW5pcXVlSWQ9ITEsYWUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9Yz0+e3Rocm93IFEoIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24iKX0sYWUuX0ZyZXNuZWxQYXJhbWV0ZXJzUGFyc2VyPWM9Pnt0aHJvdyBRKCJGcmVzbmVsUGFyYW1ldGVycyIpfSxhZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9Yz0+e3Rocm93IFEoIkNvbG9yQ3VydmVzIil9LGFlLl9UZXh0dXJlUGFyc2VyPShjLGUsdCk9Pnt0aHJvdyBRKCJUZXh0dXJlIil9O2Z1bmN0aW9uIFF0KGMsZSx0LGkpe2NvbnN0IHM9dC52YWx1ZTt0LnZhbHVlPSguLi5yKT0+e2xldCBuPXM7aWYodHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlW2VdKXtjb25zdCBhPV9uYXRpdmVbZV07aT9uPSguLi5vKT0+aSguLi5vKT9hKC4uLm8pOnMoLi4ubyk6bj1hfXJldHVybiBjW2VdPW4sbiguLi5yKX19UXQuZmlsdGVyPWZ1bmN0aW9uKGMpe3JldHVybihlLHQsaSk9PlF0KGUsdCxpLGMpfTtjbGFzcyB5c3tjb25zdHJ1Y3RvcihlKXtpZih0aGlzLl9rZXlzPVtdLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5fbm9ybWFscz0hMSx0aGlzLl91dnM9ITEsdGhpcy5fbmVlZE5vcm1hbHM9ITEsdGhpcy5fbmVlZFVWcz0hMSx0aGlzLl9leHRlcm5hbFByb3BlcnRpZXM9ZSxlKWZvcihjb25zdCB0IGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJnRoaXMuX3NldERlZmF1bHRWYWx1ZSh0KX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RpcnR5fW1hcmtBc1Byb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSExLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITEsdGhpcy5fYXJlRnJlc25lbERpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSExLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMSx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITEsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITF9bWFya0FzVW5wcm9jZXNzZWQoKXt0aGlzLl9pc0RpcnR5PSEwfW1hcmtBbGxBc0RpcnR5KCl7dGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPXRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkfHxlLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNGcmVzbmVsRGlydHkoKXt0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNNaXNjRGlydHkoKXt0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNQcmVQYXNzRGlydHkoKXt0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1yZWJ1aWxkKCl7dGhpcy5fa2V5cy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzKSllWzBdIT09Il8iJiZ0aGlzLl9rZXlzLnB1c2goZSk7aWYodGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKWZvcihjb25zdCBlIGluIHRoaXMuX2V4dGVybmFsUHJvcGVydGllcyl0aGlzLl9rZXlzLmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fa2V5cy5wdXNoKGUpfWlzRXF1YWwoZSl7aWYodGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2lmKHRoaXNbaV0hPT1lW2ldKXJldHVybiExfXJldHVybiEwfWNsb25lVG8oZSl7dGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aCYmKGUuX2tleXM9dGhpcy5fa2V5cy5zbGljZSgwKSk7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XTtlW2ldPXRoaXNbaV19fXJlc2V0KCl7dGhpcy5fa2V5cy5mb3JFYWNoKGU9PnRoaXMuX3NldERlZmF1bHRWYWx1ZShlKSl9X3NldERlZmF1bHRWYWx1ZShlKXt2YXIgdCxpLHMscixuO2NvbnN0IGE9KHM9KGk9KHQ9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50eXBlKSE9PW51bGwmJnMhPT12b2lkIDA/czp0eXBlb2YgdGhpc1tlXSxvPShuPShyPXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZGVmYXVsdDtzd2l0Y2goYSl7Y2FzZSJudW1iZXIiOnRoaXNbZV09byE9bnVsbD9vOjA7YnJlYWs7Y2FzZSJzdHJpbmciOnRoaXNbZV09byE9bnVsbD9vOiIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT1vIT1udWxsP286ITE7YnJlYWt9fXRvU3RyaW5nKCl7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XSxzPXRoaXNbaV07c3dpdGNoKHR5cGVvZiBzKXtjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmUrPSIjZGVmaW5lICIraSsiICIrcytgCmA7YnJlYWs7ZGVmYXVsdDpzJiYoZSs9IiNkZWZpbmUgIitpK2AKYCk7YnJlYWt9fXJldHVybiBlfX1jbGFzcyBBZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3RlbXBDb2xvcj1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fZ2xvYmFsQ3VydmU9bmV3IGdlKDAsMCwwLDApLHRoaXMuX2hpZ2hsaWdodHNDdXJ2ZT1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fbWlkdG9uZXNDdXJ2ZT1uZXcgZ2UoMCwwLDAsMCksdGhpcy5fc2hhZG93c0N1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9wb3NpdGl2ZUN1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9uZWdhdGl2ZUN1cnZlPW5ldyBnZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxIdWU9MzAsdGhpcy5fZ2xvYmFsRGVuc2l0eT0wLHRoaXMuX2dsb2JhbFNhdHVyYXRpb249MCx0aGlzLl9nbG9iYWxFeHBvc3VyZT0wLHRoaXMuX2hpZ2hsaWdodHNIdWU9MzAsdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9MCx0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj0wLHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT0wLHRoaXMuX21pZHRvbmVzSHVlPTMwLHRoaXMuX21pZHRvbmVzRGVuc2l0eT0wLHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj0wLHRoaXMuX21pZHRvbmVzRXhwb3N1cmU9MCx0aGlzLl9zaGFkb3dzSHVlPTMwLHRoaXMuX3NoYWRvd3NEZW5zaXR5PTAsdGhpcy5fc2hhZG93c1NhdHVyYXRpb249MCx0aGlzLl9zaGFkb3dzRXhwb3N1cmU9MH1nZXQgZ2xvYmFsSHVlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEh1ZX1zZXQgZ2xvYmFsSHVlKGUpe3RoaXMuX2dsb2JhbEh1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2dsb2JhbERlbnNpdHl9c2V0IGdsb2JhbERlbnNpdHkoZSl7dGhpcy5fZ2xvYmFsRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFNhdHVyYXRpb259c2V0IGdsb2JhbFNhdHVyYXRpb24oZSl7dGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9nbG9iYWxFeHBvc3VyZX1zZXQgZ2xvYmFsRXhwb3N1cmUoZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0h1ZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzSHVlfXNldCBoaWdobGlnaHRzSHVlKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHl9c2V0IGhpZ2hsaWdodHNEZW5zaXR5KGUpe3RoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufXNldCBoaWdobGlnaHRzU2F0dXJhdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlfXNldCBoaWdobGlnaHRzRXhwb3N1cmUoZSl7dGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzSHVlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfXNldCBtaWR0b25lc0h1ZShlKXt0aGlzLl9taWR0b25lc0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNEZW5zaXR5fXNldCBtaWR0b25lc0RlbnNpdHkoZSl7dGhpcy5fbWlkdG9uZXNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259c2V0IG1pZHRvbmVzU2F0dXJhdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9taWR0b25lc0V4cG9zdXJlfXNldCBtaWR0b25lc0V4cG9zdXJlKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0h1ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzSHVlfXNldCBzaGFkb3dzSHVlKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0RlbnNpdHl9c2V0IHNoYWRvd3NEZW5zaXR5KGUpe3RoaXMuX3NoYWRvd3NEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufXNldCBzaGFkb3dzU2F0dXJhdGlvbihlKXt0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0V4cG9zdXJlfXNldCBzaGFkb3dzRXhwb3N1cmUoZSl7dGhpcy5fc2hhZG93c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yQ3VydmVzIn1zdGF0aWMgQmluZChlLHQsaT0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIscz0idkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIixyPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil7ZS5fZGlydHkmJihlLl9kaXJ0eT0hMSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fZ2xvYmFsSHVlLGUuX2dsb2JhbERlbnNpdHksZS5fZ2xvYmFsU2F0dXJhdGlvbixlLl9nbG9iYWxFeHBvc3VyZSxlLl9nbG9iYWxDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fbWlkdG9uZXNIdWUsZS5fbWlkdG9uZXNEZW5zaXR5LGUuX21pZHRvbmVzU2F0dXJhdGlvbixlLl9taWR0b25lc0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fbWlkdG9uZXNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX3NoYWRvd3NIdWUsZS5fc2hhZG93c0RlbnNpdHksZS5fc2hhZG93c1NhdHVyYXRpb24sZS5fc2hhZG93c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fc2hhZG93c0N1cnZlKSxlLl9oaWdobGlnaHRzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9taWR0b25lc0N1cnZlLGUuX3Bvc2l0aXZlQ3VydmUpLGUuX21pZHRvbmVzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9zaGFkb3dzQ3VydmUsZS5fbmVnYXRpdmVDdXJ2ZSkpLHQmJih0LnNldEZsb2F0NChpLGUuX3Bvc2l0aXZlQ3VydmUucixlLl9wb3NpdGl2ZUN1cnZlLmcsZS5fcG9zaXRpdmVDdXJ2ZS5iLGUuX3Bvc2l0aXZlQ3VydmUuYSksdC5zZXRGbG9hdDQocyxlLl9taWR0b25lc0N1cnZlLnIsZS5fbWlkdG9uZXNDdXJ2ZS5nLGUuX21pZHRvbmVzQ3VydmUuYixlLl9taWR0b25lc0N1cnZlLmEpLHQuc2V0RmxvYXQ0KHIsZS5fbmVnYXRpdmVDdXJ2ZS5yLGUuX25lZ2F0aXZlQ3VydmUuZyxlLl9uZWdhdGl2ZUN1cnZlLmIsZS5fbmVnYXRpdmVDdXJ2ZS5hKSl9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9X2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLHQsaSxzLHIpe2UhPW51bGwmJihlPUFlLl9DbGFtcChlLDAsMzYwKSx0PUFlLl9DbGFtcCh0LC0xMDAsMTAwKSxpPUFlLl9DbGFtcChpLC0xMDAsMTAwKSxzPUFlLl9DbGFtcChzLC0xMDAsMTAwKSx0PUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcih0KSx0Kj0uNSxzPUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihzKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxBZS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqcyxyKSxyLnNjYWxlVG9SZWYoMixyKSxyLmE9MSsuMDEqaSl9c3RhdGljIF9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihlKXtlLz0xMDA7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHQ9TWF0aC5wb3codCwyKSxlPDAmJih0Kj0tMSksdCo9MTAwLHR9c3RhdGljIF9Gcm9tSFNCVG9SZWYoZSx0LGkscyl7bGV0IHI9QWUuX0NsYW1wKGUsMCwzNjApO2NvbnN0IG49QWUuX0NsYW1wKHQvMTAwLDAsMSksYT1BZS5fQ2xhbXAoaS8xMDAsMCwxKTtpZihuPT09MClzLnI9YSxzLmc9YSxzLmI9YTtlbHNle3IvPTYwO2NvbnN0IG89TWF0aC5mbG9vcihyKSxoPXItbyxsPWEqKDEtbiksdT1hKigxLW4qaCksZD1hKigxLW4qKDEtaCkpO3N3aXRjaChvKXtjYXNlIDA6cy5yPWEscy5nPWQscy5iPWw7YnJlYWs7Y2FzZSAxOnMucj11LHMuZz1hLHMuYj1sO2JyZWFrO2Nhc2UgMjpzLnI9bCxzLmc9YSxzLmI9ZDticmVhaztjYXNlIDM6cy5yPWwscy5nPXUscy5iPWE7YnJlYWs7Y2FzZSA0OnMucj1kLHMuZz1sLHMuYj1hO2JyZWFrO2RlZmF1bHQ6cy5yPWEscy5nPWwscy5iPXU7YnJlYWt9fXMuYT0xfXN0YXRpYyBfQ2xhbXAoZSx0LGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWNsb25lKCl7cmV0dXJuIGFlLkNsb25lKCgpPT5uZXcgQWUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIGFlLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7cmV0dXJuIGFlLlBhcnNlKCgpPT5uZXcgQWUsZSxudWxsLG51bGwpfX1UKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbEh1ZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbERlbnNpdHkiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsRXhwb3N1cmUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzSHVlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNFeHBvc3VyZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNEZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxhZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9QWUuUGFyc2U7Y2xhc3MgbWV7Y29uc3RydWN0b3IoKXt0aGlzLmNvbG9yQ3VydmVzPW5ldyBBZSx0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD0hMCx0aGlzLl9jb2xvckdyYWRpbmdCR1I9ITAsdGhpcy5fZXhwb3N1cmU9MSx0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5fdG9uZU1hcHBpbmdUeXBlPW1lLlRPTkVNQVBQSU5HX1NUQU5EQVJELHRoaXMuX2NvbnRyYXN0PTEsdGhpcy52aWduZXR0ZVN0cmV0Y2g9MCx0aGlzLnZpZ25ldHRlQ2VudGVyWD0wLHRoaXMudmlnbmV0dGVDZW50ZXJZPTAsdGhpcy52aWduZXR0ZVdlaWdodD0xLjUsdGhpcy52aWduZXR0ZUNvbG9yPW5ldyBnZSgwLDAsMCwwKSx0aGlzLnZpZ25ldHRlQ2FtZXJhRm92PS41LHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPW1lLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fZGl0aGVyaW5nRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9MS8yNTUsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyBGfWdldCBjb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9c2V0IGNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nQkdSKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0JHUn1zZXQgY29sb3JHcmFkaW5nQkdSKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0JHUiE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdCR1I9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBleHBvc3VyZSgpe3JldHVybiB0aGlzLl9leHBvc3VyZX1zZXQgZXhwb3N1cmUoZSl7dGhpcy5fZXhwb3N1cmUhPT1lJiYodGhpcy5fZXhwb3N1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB0b25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkfXNldCB0b25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nVHlwZSgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9c2V0IHRvbmVNYXBwaW5nVHlwZShlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29udHJhc3QoKXtyZXR1cm4gdGhpcy5fY29udHJhc3R9c2V0IGNvbnRyYXN0KGUpe3RoaXMuX2NvbnRyYXN0IT09ZSYmKHRoaXMuX2NvbnRyYXN0PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVDZW50cmVZKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJZfXNldCB2aWduZXR0ZUNlbnRyZVkoZSl7dGhpcy52aWduZXR0ZUNlbnRlclk9ZX1nZXQgdmlnbmV0dGVDZW50cmVYKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJYfXNldCB2aWduZXR0ZUNlbnRyZVgoZSl7dGhpcy52aWduZXR0ZUNlbnRlclg9ZX1nZXQgdmlnbmV0dGVCbGVuZE1vZGUoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9c2V0IHZpZ25ldHRlQmxlbmRNb2RlKGUpe3RoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlIT09ZSYmKHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlRW5hYmxlZH1zZXQgdmlnbmV0dGVFbmFibGVkKGUpe3RoaXMuX3ZpZ25ldHRlRW5hYmxlZCE9PWUmJih0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0VuYWJsZWR9c2V0IGRpdGhlcmluZ0VuYWJsZWQoZSl7dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9kaXRoZXJpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZGl0aGVyaW5nSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eX1zZXQgZGl0aGVyaW5nSW50ZW5zaXR5KGUpe3RoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSE9PWUmJih0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBza2lwRmluYWxDb2xvckNsYW1wKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9c2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoZSl7dGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcCE9PWUmJih0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgYXBwbHlCeVBvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc31zZXQgYXBwbHlCeVBvc3RQcm9jZXNzKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkfXNldCBpc0VuYWJsZWQoZSl7dGhpcy5faXNFbmFibGVkIT09ZSYmKHRoaXMuX2lzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9X3VwZGF0ZVBhcmFtZXRlcnMoKXt0aGlzLm9uVXBkYXRlUGFyYW1ldGVycy5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ifXN0YXRpYyBQcmVwYXJlVW5pZm9ybXMoZSx0KXt0LkVYUE9TVVJFJiZlLnB1c2goImV4cG9zdXJlTGluZWFyIiksdC5DT05UUkFTVCYmZS5wdXNoKCJjb250cmFzdCIpLHQuQ09MT1JHUkFESU5HJiZlLnB1c2goImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiKSwodC5WSUdORVRURXx8dC5ESVRIRVIpJiZlLnB1c2goInZJbnZlcnNlU2NyZWVuU2l6ZSIpLHQuVklHTkVUVEUmJihlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MxIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMiIpKSx0LkNPTE9SQ1VSVkVTJiZBZS5QcmVwYXJlVW5pZm9ybXMoZSksdC5ESVRIRVImJmUucHVzaCgiZGl0aGVySW50ZW5zaXR5Iil9c3RhdGljIFByZXBhcmVTYW1wbGVycyhlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX1wcmVwYXJlRGVmaW5lcyhlLHQ9ITEpe2lmKHQhPT10aGlzLmFwcGx5QnlQb3N0UHJvY2Vzc3x8IXRoaXMuX2lzRW5hYmxlZCl7ZS5WSUdORVRURT0hMSxlLlRPTkVNQVBQSU5HPSExLGUuVE9ORU1BUFBJTkdfQUNFUz0hMSxlLkNPTlRSQVNUPSExLGUuRVhQT1NVUkU9ITEsZS5DT0xPUkNVUlZFUz0hMSxlLkNPTE9SR1JBRElORz0hMSxlLkNPTE9SR1JBRElORzNEPSExLGUuRElUSEVSPSExLGUuSU1BR0VQUk9DRVNTSU5HPSExLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faXNFbmFibGVkO3JldHVybn1zd2l0Y2goZS5WSUdORVRURT10aGlzLnZpZ25ldHRlRW5hYmxlZCxlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9dGhpcy52aWduZXR0ZUJsZW5kTW9kZT09PW1lLl9WSUdORVRURU1PREVfTVVMVElQTFksZS5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZLGUuVE9ORU1BUFBJTkc9dGhpcy50b25lTWFwcGluZ0VuYWJsZWQsdGhpcy5fdG9uZU1hcHBpbmdUeXBlKXtjYXNlIG1lLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5ESVRIRVI9dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkc9ZS5WSUdORVRURXx8ZS5UT05FTUFQUElOR3x8ZS5DT05UUkFTVHx8ZS5FWFBPU1VSRXx8ZS5DT0xPUkNVUlZFU3x8ZS5DT0xPUkdSQURJTkd8fGUuRElUSEVSfWlzUmVhZHkoKXtyZXR1cm4hdGhpcy5jb2xvckdyYWRpbmdFbmFibGVkfHwhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlfHx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXNSZWFkeSgpfWJpbmQoZSx0KXtpZih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQmJnRoaXMuY29sb3JDdXJ2ZXMmJkFlLkJpbmQodGhpcy5jb2xvckN1cnZlcyxlKSx0aGlzLl92aWduZXR0ZUVuYWJsZWR8fHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQpe2NvbnN0IGk9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCkscz0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7aWYoZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIsaSxzKSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkJiZlLnNldEZsb2F0KCJkaXRoZXJJbnRlbnNpdHkiLC41KnRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSksdGhpcy5fdmlnbmV0dGVFbmFibGVkKXtjb25zdCByPXQhPW51bGw/dDpzL2k7bGV0IG49TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksYT1uKnI7Y29uc3Qgbz1NYXRoLnNxcnQoYSpuKTthPUguTWl4KGEsbyx0aGlzLnZpZ25ldHRlU3RyZXRjaCksbj1ILk1peChuLG8sdGhpcy52aWduZXR0ZVN0cmV0Y2gpLGUuc2V0RmxvYXQ0KCJ2aWduZXR0ZVNldHRpbmdzMSIsYSxuLC1hKnRoaXMudmlnbmV0dGVDZW50ZXJYLC1uKnRoaXMudmlnbmV0dGVDZW50ZXJZKTtjb25zdCBoPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixoKX19aWYoZS5zZXRGbG9hdCgiZXhwb3N1cmVMaW5lYXIiLHRoaXMuZXhwb3N1cmUpLGUuc2V0RmxvYXQoImNvbnRyYXN0Iix0aGlzLmNvbnRyYXN0KSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpe2Uuc2V0VGV4dHVyZSgidHhDb2xvclRyYW5zZm9ybSIsdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKTtjb25zdCBpPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwoaS0xKS9pLC41L2ksaSx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX1jbG9uZSgpe3JldHVybiBhZS5DbG9uZSgoKT0+bmV3IG1lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9c3RhdGljIFBhcnNlKGUpe2NvbnN0IHQ9YWUuUGFyc2UoKCk9Pm5ldyBtZSxlLG51bGwsbnVsbCk7cmV0dXJuIGUudmlnbmV0dGVDZW50cmVYIT09dm9pZCAwJiYodC52aWduZXR0ZUNlbnRlclg9ZS52aWduZXR0ZUNlbnRyZVgpLGUudmlnbmV0dGVDZW50cmVZIT09dm9pZCAwJiYodC52aWduZXR0ZUNlbnRlclk9ZS52aWduZXR0ZUNlbnRyZVkpLHR9c3RhdGljIGdldCBWSUdORVRURU1PREVfTVVMVElQTFkoKXtyZXR1cm4gdGhpcy5fVklHTkVUVEVNT0RFX01VTFRJUExZfXN0YXRpYyBnZXQgVklHTkVUVEVNT0RFX09QQVFVRSgpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfT1BBUVVFfX1tZS5UT05FTUFQUElOR19TVEFOREFSRD0wLG1lLlRPTkVNQVBQSU5HX0FDRVM9MSxtZS5fVklHTkVUVEVNT0RFX01VTFRJUExZPTAsbWUuX1ZJR05FVFRFTU9ERV9PUEFRVUU9MSxUKFtBbigpXSxtZS5wcm90b3R5cGUsImNvbG9yQ3VydmVzIix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJfY29sb3JDdXJ2ZXNFbmFibGVkIix2b2lkIDApLFQoW210KCJjb2xvckdyYWRpbmdUZXh0dXJlIildLG1lLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1RleHR1cmUiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdFbmFibGVkIix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdCR1IiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsIl9leHBvc3VyZSIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwiX3RvbmVNYXBwaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwiX3RvbmVNYXBwaW5nVHlwZSIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwiX2NvbnRyYXN0Iix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJ2aWduZXR0ZVN0cmV0Y2giLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsInZpZ25ldHRlQ2VudGVyWCIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwidmlnbmV0dGVDZW50ZXJZIix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJ2aWduZXR0ZVdlaWdodCIsdm9pZCAwKSxUKFtkcigpXSxtZS5wcm90b3R5cGUsInZpZ25ldHRlQ29sb3IiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsInZpZ25ldHRlQ2FtZXJhRm92Iix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJfdmlnbmV0dGVCbGVuZE1vZGUiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsIl92aWduZXR0ZUVuYWJsZWQiLHZvaWQgMCksVChbUigpXSxtZS5wcm90b3R5cGUsIl9kaXRoZXJpbmdFbmFibGVkIix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJfZGl0aGVyaW5nSW50ZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0sbWUucHJvdG90eXBlLCJfc2tpcEZpbmFsQ29sb3JDbGFtcCIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwiX2FwcGx5QnlQb3N0UHJvY2VzcyIsdm9pZCAwKSxUKFtSKCldLG1lLnByb3RvdHlwZSwiX2lzRW5hYmxlZCIsdm9pZCAwKSxhZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1tZS5QYXJzZSxvZS5wcm90b3R5cGUuY3JlYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB1bmlmb3JtIGJ1ZmZlciIpO2NvbnN0IHQ9bmV3IERpKGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjLHRoaXMuX2dsLlNUQVRJQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoYyksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sb2UucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGR5bmFtaWMgdW5pZm9ybSBidWZmZXIiKTtjb25zdCB0PW5ldyBEaShlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYyx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShjKSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sb2UucHJvdG90eXBlLnVwZGF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihjKSx0PT09dm9pZCAwJiYodD0wKSxpPT09dm9pZCAwP2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LGUpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxuZXcgRmxvYXQzMkFycmF5KGUpKTplIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxlLnN1YmFycmF5KHQsdCtpKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLG5ldyBGbG9hdDMyQXJyYXkoZSkuc3ViYXJyYXkodCx0K2kpKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjP2MudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXJCYXNlPWZ1bmN0aW9uKGMsZSx0KXt0aGlzLl9nbC5iaW5kQnVmZmVyQmFzZSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixlLGM/Yy51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LG9lLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJsb2NrPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPWMucHJvZ3JhbSxzPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KGksZSk7cyE9PTQyOTQ5NjcyOTUmJnRoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcoaSxzLHQpfTtjbGFzcyBWe2NvbnN0cnVjdG9yKGUsdCxpLHMscj0hMSl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9ub1VCTz0hZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHxyLHRoaXMuX2R5bmFtaWM9aSx0aGlzLl9uYW1lPXMhPW51bGw/czoibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludEFycmF5PXRoaXMuX3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeD10aGlzLl91cGRhdGVNYXRyaXhGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjQ9dGhpcy5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRGlyZWN0Q29sb3I0PXRoaXMuX3VwZGF0ZURpcmVjdENvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQzPXRoaXMuX3VwZGF0ZUludDNGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50PXRoaXMuX3VwZGF0ZVVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50Mj10aGlzLl91cGRhdGVVSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDQ9dGhpcy5fdXBkYXRlVUludDRGb3JFZmZlY3QpOih0aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLnB1c2godGhpcyksdGhpcy51cGRhdGVNYXRyaXgzeDM9dGhpcy5fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQyPXRoaXMuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXRBcnJheT10aGlzLl91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnRBcnJheT10aGlzLl91cGRhdGVVSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludD10aGlzLl91cGRhdGVVSW50Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQyPXRoaXMuX3VwZGF0ZVVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQ0PXRoaXMuX3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybSl9Z2V0IHVzZVVibygpe3JldHVybiF0aGlzLl9ub1VCT31nZXQgaXNTeW5jKCl7cmV0dXJuIXRoaXMuX25lZWRTeW5jfWlzRHluYW1pYygpe3JldHVybiB0aGlzLl9keW5hbWljIT09dm9pZCAwfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfV9maWxsQWxpZ25tZW50KGUpe2xldCB0O2lmKGU8PTI/dD1lOnQ9NCx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQhPT0wKXtjb25zdCBpPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLWk7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9kYXRhLnB1c2goMCl9fWFkZFVuaWZvcm0oZSx0LGk9MCl7aWYodGhpcy5fbm9VQk98fHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV0hPT12b2lkIDApcmV0dXJuO2xldCBzO2lmKGk+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOml9LHQ9PTE2KXQ9dCppO2Vsc2V7Y29uc3Qgbj0oNC10KSppO3Q9dCppK259cz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSlzPXQsdD1zLmxlbmd0aDtlbHNle3Q9dCxzPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspcy5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKGxldCByPTA7cjx0O3IrKyl0aGlzLl9kYXRhLnB1c2goc1tyXSk7dGhpcy5fbmVlZFN5bmM9ITB9YWRkTWF0cml4KGUsdCl7dGhpcy5hZGRVbmlmb3JtKGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC50b0FycmF5KCkpKX1hZGRGbG9hdDIoZSx0LGkpe2NvbnN0IHM9W3QsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkRmxvYXQzKGUsdCxpLHMpe2NvbnN0IHI9W3QsaSxzXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX1hZGRDb2xvcjMoZSx0KXtjb25zdCBpPVt0LnIsdC5nLHQuYl07dGhpcy5hZGRVbmlmb3JtKGUsaSl9YWRkQ29sb3I0KGUsdCxpKXtjb25zdCBzPVt0LnIsdC5nLHQuYixpXTt0aGlzLmFkZFVuaWZvcm0oZSxzKX1hZGRWZWN0b3IzKGUsdCl7Y29uc3QgaT1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZE1hdHJpeDN4MyhlKXt0aGlzLmFkZFVuaWZvcm0oZSwxMil9YWRkTWF0cml4MngyKGUpe3RoaXMuYWRkVW5pZm9ybShlLDgpfWNyZWF0ZSgpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfV9yZWJ1aWxkKCl7dGhpcy5fbm9VQk98fCF0aGlzLl9idWZmZXJEYXRhfHwodGhpcy5fZHluYW1pYz90aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzLnB1c2goW3RoaXMuX2J1ZmZlcix0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLmNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ/dGhpcy5fYnVmZmVyRGF0YS5zbGljZSgpOnZvaWQgMF0pLHRoaXMuX2J1ZmZlckluZGV4PXRoaXMuX2J1ZmZlcnMubGVuZ3RoLTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSkpfWdldCBfbnVtQnVmZmVycygpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH1nZXQgX2luZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9X2J1ZmZlcnNFcXVhbChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKGVbaV0hPT10W2ldKXJldHVybiExO3JldHVybiEwfV9jb3B5QnVmZmVyKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpdFtpXT1lW2ldfXVwZGF0ZSgpe2lmKCF0aGlzLl9ub1VCTyl7aWYodGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcigpLCF0aGlzLl9idWZmZXIpe3RoaXMuY3JlYXRlKCk7cmV0dXJufWlmKCF0aGlzLl9keW5hbWljJiYhdGhpcy5fbmVlZFN5bmMpe3RoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1pZih0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4xJiZ0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSlpZih0aGlzLl9idWZmZXJzRXF1YWwodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSkpe3RoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1lbHNlIHRoaXMuX2NvcHlCdWZmZXIodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSk7dGhpcy5fZW5naW5lLnVwZGF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWUmJihWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV18fChWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV09MCksVi5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdKyspLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lfX1fY3JlYXRlTmV3QnVmZmVyKCl7dGhpcy5fYnVmZmVySW5kZXgrMTx0aGlzLl9idWZmZXJzLmxlbmd0aD8odGhpcy5fYnVmZmVySW5kZXgrKyx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0sdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9uZWVkU3luYz0hMCk6dGhpcy5fcmVidWlsZCgpfV9jaGVja05ld0ZyYW1lKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX11cGRhdGVVbmlmb3JtKGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7bGV0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihzPT09dm9pZCAwKXtpZih0aGlzLl9idWZmZXIpe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBhZnRlciBVQk8gaGFzIGJlZW4gY3JlYXRlZC4iKTtyZXR1cm59dGhpcy5hZGRVbmlmb3JtKGUsaSkscz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdfWlmKHRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKSx0aGlzLl9keW5hbWljKWZvcihsZXQgcj0wO3I8aTtyKyspdGhpcy5fYnVmZmVyRGF0YVtzK3JdPXRbcl07ZWxzZXtsZXQgcj0hMTtmb3IobGV0IG49MDtuPGk7bisrKShpPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbcytuXSE9PUguRmxvYXRSb3VuZCh0W25dKSkmJihyPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbcytuXT10W25dKTt0aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8cn19dXBkYXRlVW5pZm9ybUFycmF5KGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybSBhbmQgbWFrZSBzdXJlIHRoYXQgdW5pZm9ybSBidWZmZXJzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn10aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCk7Y29uc3Qgcj10aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXTtpZih0aGlzLl9keW5hbWljKWZvcihsZXQgbj0wO248aTtuKyspdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl07ZWxzZXtsZXQgbj0hMSxhPTAsbz0wO2ZvcihsZXQgaD0wO2g8aTtoKyspaWYodGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXSE9PUguRmxvYXRSb3VuZCh0W2hdKSYmKG49ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT10W2hdKSxhKyssYT09PXIuc3RyaWRlU2l6ZSl7Zm9yKDthPDQ7YSsrKXRoaXMuX2J1ZmZlckRhdGFbcytvKjQrYV09MDthPTAsbysrfXRoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxufX1fY2FjaGVNYXRyaXgoZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybShlLHQpe2ZvcihsZXQgaT0wO2k8MztpKyspVi5fVGVtcEJ1ZmZlcltpKjRdPXRbaSozXSxWLl9UZW1wQnVmZmVyW2kqNCsxXT10W2kqMysxXSxWLl9UZW1wQnVmZmVyW2kqNCsyXT10W2kqMysyXSxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMTIpfV91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDJ4MihlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwyO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjJdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSoyKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPTAsVi5fVGVtcEJ1ZmZlcltpKjQrM109MDt0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDgpfV91cGRhdGVGbG9hdEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX1fdXBkYXRlRmxvYXRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUZsb2F0MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK3MsdCxpKX1fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVGbG9hdDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK3IsdCxpLHMpfV91cGRhdGVGbG9hdDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJbMF09dCxWLl9UZW1wQnVmZmVyWzFdPWksVi5fVGVtcEJ1ZmZlclsyXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUZsb2F0NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStuLHQsaSxzLHIpfV91cGRhdGVGbG9hdDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsVi5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0QXJyYXkoZSx0KX1fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0QXJyYXkoZSx0KX1fdXBkYXRlQXJyYXlGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSx0LHQubGVuZ3RoKX1fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9X3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXcuc2V0KHQpLHRoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsVi5fVGVtcEJ1ZmZlcix0Lmxlbmd0aCl9X3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludEFycmF5KGUsdCl9X3VwZGF0ZVVJbnRBcnJheUZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyVUludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlTWF0cml4Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX1fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybShlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX1fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpY2VzKGUsdCl9X3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfV91cGRhdGVWZWN0b3IzRm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9X3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlVmVjdG9yNEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfV91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC54LFYuX1RlbXBCdWZmZXJbMV09dC55LFYuX1RlbXBCdWZmZXJbMl09dC56LFYuX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUNvbG9yM0ZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStpLHQpfV91cGRhdGVDb2xvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrcyx0LGkpfV91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RGlyZWN0Q29sb3I0KGUraSx0KX1fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsVi5fVGVtcEJ1ZmZlclszXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUraSx0KX1fdXBkYXRlSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVJbnQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK3MsdCxpKX1fdXBkYXRlSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK3IsdCxpLHMpfV91cGRhdGVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStuLHQsaSxzLHIpfV91cGRhdGVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVVSW50Rm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQoZStpLHQpfV91cGRhdGVVSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlVUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50MihlK3MsdCxpKX1fdXBkYXRlVUludDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlVUludDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQzKGUrcix0LGkscyl9X3VwZGF0ZVVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVVSW50NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50NChlK24sdCxpLHMscil9X3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRUZXh0dXJlKGUsdCl9dXBkYXRlVW5pZm9ybURpcmVjdGx5KGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX1iaW5kVG9FZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH1iaW5kVW5pZm9ybUJ1ZmZlcigpeyF0aGlzLl9ub1VCTyYmdGhpcy5fYnVmZmVyJiZ0aGlzLl9jdXJyZW50RWZmZWN0JiZ0aGlzLl9jdXJyZW50RWZmZWN0LmJpbmRVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9jdXJyZW50RWZmZWN0TmFtZSl9dW5iaW5kRWZmZWN0KCl7dGhpcy5fY3VycmVudEVmZmVjdD12b2lkIDAsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dm9pZCAwfXNldERhdGFCdWZmZXIoZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3QpaWYodGhpcy5fYnVmZmVyc1t0XVswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMDtyZXR1cm4hMX1kaXNwb3NlKCl7aWYodGhpcy5fbm9VQk8pcmV0dXJuO2NvbnN0IGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcihsZXQgaT0wO2k8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytpKXtjb25zdCBzPXRoaXMuX2J1ZmZlcnNbaV1bMF07dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHMpfWVsc2UgdGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsKX19Vi5fVXBkYXRlZFVib3NJbkZyYW1lPXt9LFYuX01BWF9VTklGT1JNX1NJWkU9MjU2LFYuX1RlbXBCdWZmZXI9bmV3IEZsb2F0MzJBcnJheShWLl9NQVhfVU5JRk9STV9TSVpFKSxWLl9UZW1wQnVmZmVySW50MzJWaWV3PW5ldyBJbnQzMkFycmF5KFYuX1RlbXBCdWZmZXIuYnVmZmVyKSxWLl9UZW1wQnVmZmVyVUludDMyVmlldz1uZXcgVWludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpO2NsYXNzIFFpe2NvbnN0cnVjdG9yKGUsdCxpLHM9MCxyPSExLG49ITEsYT0hMSxvKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMSxlLmdldFNjZW5lP3RoaXMuX2VuZ2luZT1lLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk6dGhpcy5fZW5naW5lPWUsdGhpcy5fdXBkYXRhYmxlPWksdGhpcy5faW5zdGFuY2VkPW4sdGhpcy5fZGl2aXNvcj1vfHwxLHQgaW5zdGFuY2VvZiBQaT8odGhpcy5fZGF0YT1udWxsLHRoaXMuX2J1ZmZlcj10KToodGhpcy5fZGF0YT10LHRoaXMuX2J1ZmZlcj1udWxsKSx0aGlzLmJ5dGVTdHJpZGU9YT9zOnMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHJ8fHRoaXMuY3JlYXRlKCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxpLHMscixuPSExLGEpe2NvbnN0IG89bj90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGg9cz9uP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ6dGhpcy5ieXRlU3RyaWRlO3JldHVybiBuZXcgZyh0aGlzLl9lbmdpbmUsdGhpcyxlLHRoaXMuX3VwZGF0YWJsZSwhMCxoLHI9PT12b2lkIDA/dGhpcy5faW5zdGFuY2VkOnIsbyxpLHZvaWQgMCx2b2lkIDAsITAsdGhpcy5fZGl2aXNvcnx8YSl9aXNVcGRhdGFibGUoKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH1jcmVhdGUoZT1udWxsKXshZSYmdGhpcy5fYnVmZmVyfHwoZT1lfHx0aGlzLl9kYXRhLGUmJih0aGlzLl9idWZmZXI/dGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fdXBkYXRhYmxlPyh0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIoZSksdGhpcy5fZGF0YT1lKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVZlcnRleEJ1ZmZlcihlKSkpfV9yZWJ1aWxkKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9dXBkYXRlKGUpe3RoaXMuY3JlYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpLHM9ITEpeyF0aGlzLl9idWZmZXJ8fHRoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlLHM/dDp0KkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxpP2kqdGhpcy5ieXRlU3RyaWRlOnZvaWQgMCksdD09PTAmJmk9PT12b2lkIDA/dGhpcy5fZGF0YT1lOnRoaXMuX2RhdGE9bnVsbCl9X2luY3JlYXNlUmVmZXJlbmNlcygpe2lmKCEhdGhpcy5fYnVmZmVyKXtpZighdGhpcy5faXNBbHJlYWR5T3duZWQpe3RoaXMuX2lzQWxyZWFkeU93bmVkPSEwO3JldHVybn10aGlzLl9idWZmZXIucmVmZXJlbmNlcysrfX1kaXNwb3NlKCl7IXRoaXMuX2J1ZmZlcnx8dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2J1ZmZlcikmJih0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kYXRhPW51bGwpfX1jbGFzcyBne2NvbnN0cnVjdG9yKGUsdCxpLHMscixuLGEsbyxoLGwsdT0hMSxkPSExLGY9MSxfPSExKXtpZih0IGluc3RhbmNlb2YgUWk/KHRoaXMuX2J1ZmZlcj10LHRoaXMuX293bnNCdWZmZXI9Xyk6KHRoaXMuX2J1ZmZlcj1uZXcgUWkoZSx0LHMsbixyLGEsZCksdGhpcy5fb3duc0J1ZmZlcj0hMCksdGhpcy51bmlxdWVJZD1nLl9Db3VudGVyKyssdGhpcy5fa2luZD1pLGw9PW51bGwpe2NvbnN0IG09dGhpcy5nZXREYXRhKCk7dGhpcy50eXBlPWcuRkxPQVQsbSBpbnN0YW5jZW9mIEludDhBcnJheT90aGlzLnR5cGU9Zy5CWVRFOm0gaW5zdGFuY2VvZiBVaW50OEFycmF5P3RoaXMudHlwZT1nLlVOU0lHTkVEX0JZVEU6bSBpbnN0YW5jZW9mIEludDE2QXJyYXk/dGhpcy50eXBlPWcuU0hPUlQ6bSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P3RoaXMudHlwZT1nLlVOU0lHTkVEX1NIT1JUOm0gaW5zdGFuY2VvZiBJbnQzMkFycmF5P3RoaXMudHlwZT1nLklOVDptIGluc3RhbmNlb2YgVWludDMyQXJyYXkmJih0aGlzLnR5cGU9Zy5VTlNJR05FRF9JTlQpfWVsc2UgdGhpcy50eXBlPWw7Y29uc3QgRT1nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSk7ZD8odGhpcy5fc2l6ZT1ofHwobj9uL0U6Zy5EZWR1Y2VTdHJpZGUoaSkpLHRoaXMuYnl0ZVN0cmlkZT1ufHx0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSpFLHRoaXMuYnl0ZU9mZnNldD1vfHwwKToodGhpcy5fc2l6ZT1ofHxufHxnLkRlZHVjZVN0cmlkZShpKSx0aGlzLmJ5dGVTdHJpZGU9bj9uKkU6dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqRSx0aGlzLmJ5dGVPZmZzZXQ9KG98fDApKkUpLHRoaXMubm9ybWFsaXplZD11LHRoaXMuX2luc3RhbmNlZD1hIT09dm9pZCAwP2E6ITEsdGhpcy5faW5zdGFuY2VEaXZpc29yPWE/ZjowLHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpfWdldCBpbnN0YW5jZURpdmlzb3IoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfXNldCBpbnN0YW5jZURpdmlzb3IoZSl7Y29uc3QgdD1lIT0wO3RoaXMuX2luc3RhbmNlRGl2aXNvcj1lLHQhPT10aGlzLl9pbnN0YW5jZWQmJih0aGlzLl9pbnN0YW5jZWQ9dCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKSl9X2NvbXB1dGVIYXNoQ29kZSgpe3RoaXMuaGFzaENvZGU9KHRoaXMudHlwZS01MTIwPDwwKSsoKHRoaXMubm9ybWFsaXplZD8xOjApPDwzKSsodGhpcy5fc2l6ZTw8NCkrKCh0aGlzLl9pbnN0YW5jZWQ/MTowKTw8NikrKHRoaXMuYnl0ZVN0cmlkZTw8MTIpfV9yZWJ1aWxkKCl7IXRoaXMuX2J1ZmZlcnx8dGhpcy5fYnVmZmVyLl9yZWJ1aWxkKCl9Z2V0S2luZCgpe3JldHVybiB0aGlzLl9raW5kfWlzVXBkYXRhYmxlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5pc1VwZGF0YWJsZSgpfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldERhdGEoKX1nZXRGbG9hdERhdGEoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RGF0YSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5nZXRTaXplKCkqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpLHI9ZSp0aGlzLmdldFNpemUoKTtpZih0aGlzLnR5cGUhPT1nLkZMT0FUfHx0aGlzLmJ5dGVTdHJpZGUhPT1zKXtjb25zdCBuPW5ldyBGbG9hdDMyQXJyYXkocik7cmV0dXJuIHRoaXMuZm9yRWFjaChyLChhLG8pPT5uW29dPWEpLG59aWYoIShpIGluc3RhbmNlb2YgQXJyYXl8fGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpfHx0aGlzLmJ5dGVPZmZzZXQhPT0wfHxpLmxlbmd0aCE9PXIpaWYoaSBpbnN0YW5jZW9mIEFycmF5KXtjb25zdCBuPXRoaXMuYnl0ZU9mZnNldC80O3JldHVybiBpLnNsaWNlKG4sbityKX1lbHNle2lmKGkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShpLHRoaXMuYnl0ZU9mZnNldCxyKTt7bGV0IG49aS5ieXRlT2Zmc2V0K3RoaXMuYnl0ZU9mZnNldDtpZih0KXtjb25zdCBvPW5ldyBGbG9hdDMyQXJyYXkociksaD1uZXcgRmxvYXQzMkFycmF5KGkuYnVmZmVyLG4scik7cmV0dXJuIG8uc2V0KGgpLG99Y29uc3QgYT1uJTQ7cmV0dXJuIGEmJihuPU1hdGgubWF4KDAsbi1hKSksbmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpfX1yZXR1cm4gdD9pLnNsaWNlKCk6aX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldEJ1ZmZlcigpfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0L2cuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX1nZXRTaXplKGU9ITEpe3JldHVybiBlP3RoaXMuX3NpemUqZy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpOnRoaXMuX3NpemV9Z2V0SXNJbnN0YW5jZWQoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VkfWdldEluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9Y3JlYXRlKGUpe3RoaXMuX2J1ZmZlci5jcmVhdGUoZSl9dXBkYXRlKGUpe3RoaXMuX2J1ZmZlci51cGRhdGUoZSl9dXBkYXRlRGlyZWN0bHkoZSx0LGk9ITEpe3RoaXMuX2J1ZmZlci51cGRhdGVEaXJlY3RseShlLHQsdm9pZCAwLGkpfWRpc3Bvc2UoKXt0aGlzLl9vd25zQnVmZmVyJiZ0aGlzLl9idWZmZXIuZGlzcG9zZSgpfWZvckVhY2goZSx0KXtnLkZvckVhY2godGhpcy5fYnVmZmVyLmdldERhdGEoKSx0aGlzLmJ5dGVPZmZzZXQsdGhpcy5ieXRlU3RyaWRlLHRoaXMuX3NpemUsdGhpcy50eXBlLGUsdGhpcy5ub3JtYWxpemVkLHQpfXN0YXRpYyBEZWR1Y2VTdHJpZGUoZSl7c3dpdGNoKGUpe2Nhc2UgZy5VVktpbmQ6Y2FzZSBnLlVWMktpbmQ6Y2FzZSBnLlVWM0tpbmQ6Y2FzZSBnLlVWNEtpbmQ6Y2FzZSBnLlVWNUtpbmQ6Y2FzZSBnLlVWNktpbmQ6cmV0dXJuIDI7Y2FzZSBnLk5vcm1hbEtpbmQ6Y2FzZSBnLlBvc2l0aW9uS2luZDpyZXR1cm4gMztjYXNlIGcuQ29sb3JLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNLaW5kOmNhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZDpjYXNlIGcuVGFuZ2VudEtpbmQ6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2luZCAnIitlKyInIil9fXN0YXRpYyBHZXRUeXBlQnl0ZUxlbmd0aChlKXtzd2l0Y2goZSl7Y2FzZSBnLkJZVEU6Y2FzZSBnLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBnLlNIT1JUOmNhc2UgZy5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIGcuSU5UOmNhc2UgZy5VTlNJR05FRF9JTlQ6Y2FzZSBnLkZMT0FUOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJyR7ZX0nYCl9fXN0YXRpYyBGb3JFYWNoKGUsdCxpLHMscixuLGEsbyl7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXtsZXQgaD10LzQ7Y29uc3QgbD1pLzQ7Zm9yKGxldCB1PTA7dTxuO3UrPXMpe2ZvcihsZXQgZD0wO2Q8cztkKyspbyhlW2grZF0sdStkKTtoKz1sfX1lbHNle2NvbnN0IGg9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBEYXRhVmlldyhlKTpuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksbD1nLkdldFR5cGVCeXRlTGVuZ3RoKHIpO2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtsZXQgZD10O2ZvcihsZXQgZj0wO2Y8cztmKyspe2NvbnN0IF89Zy5fR2V0RmxvYXRWYWx1ZShoLHIsZCxhKTtvKF8sdStmKSxkKz1sfXQrPWl9fX1zdGF0aWMgX0dldEZsb2F0VmFsdWUoZSx0LGkscyl7c3dpdGNoKHQpe2Nhc2UgZy5CWVRFOntsZXQgcj1lLmdldEludDgoaSk7cmV0dXJuIHMmJihyPU1hdGgubWF4KHIvMTI3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfQllURTp7bGV0IHI9ZS5nZXRVaW50OChpKTtyZXR1cm4gcyYmKHI9ci8yNTUpLHJ9Y2FzZSBnLlNIT1JUOntsZXQgcj1lLmdldEludDE2KGksITApO3JldHVybiBzJiYocj1NYXRoLm1heChyLzMyNzY3LC0xKSkscn1jYXNlIGcuVU5TSUdORURfU0hPUlQ6e2xldCByPWUuZ2V0VWludDE2KGksITApO3JldHVybiBzJiYocj1yLzY1NTM1KSxyfWNhc2UgZy5JTlQ6cmV0dXJuIGUuZ2V0SW50MzIoaSwhMCk7Y2FzZSBnLlVOU0lHTkVEX0lOVDpyZXR1cm4gZS5nZXRVaW50MzIoaSwhMCk7Y2FzZSBnLkZMT0FUOnJldHVybiBlLmdldEZsb2F0MzIoaSwhMCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29tcG9uZW50IHR5cGUgJHt0fWApfX19Zy5fQ291bnRlcj0wLGcuQllURT01MTIwLGcuVU5TSUdORURfQllURT01MTIxLGcuU0hPUlQ9NTEyMixnLlVOU0lHTkVEX1NIT1JUPTUxMjMsZy5JTlQ9NTEyNCxnLlVOU0lHTkVEX0lOVD01MTI1LGcuRkxPQVQ9NTEyNixnLlBvc2l0aW9uS2luZD0icG9zaXRpb24iLGcuTm9ybWFsS2luZD0ibm9ybWFsIixnLlRhbmdlbnRLaW5kPSJ0YW5nZW50IixnLlVWS2luZD0idXYiLGcuVVYyS2luZD0idXYyIixnLlVWM0tpbmQ9InV2MyIsZy5VVjRLaW5kPSJ1djQiLGcuVVY1S2luZD0idXY1IixnLlVWNktpbmQ9InV2NiIsZy5Db2xvcktpbmQ9ImNvbG9yIixnLkNvbG9ySW5zdGFuY2VLaW5kPSJpbnN0YW5jZUNvbG9yIixnLk1hdHJpY2VzSW5kaWNlc0tpbmQ9Im1hdHJpY2VzSW5kaWNlcyIsZy5NYXRyaWNlc1dlaWdodHNLaW5kPSJtYXRyaWNlc1dlaWdodHMiLGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kPSJtYXRyaWNlc0luZGljZXNFeHRyYSIsZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ9Im1hdHJpY2VzV2VpZ2h0c0V4dHJhIjtjbGFzcyBVdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaGl0PSExLHRoaXMuZGlzdGFuY2U9MCx0aGlzLnBpY2tlZFBvaW50PW51bGwsdGhpcy5waWNrZWRNZXNoPW51bGwsdGhpcy5idT0wLHRoaXMuYnY9MCx0aGlzLmZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hGYWNlSWQ9LTEsdGhpcy5zdWJNZXNoSWQ9MCx0aGlzLnBpY2tlZFNwcml0ZT1udWxsLHRoaXMudGhpbkluc3RhbmNlSW5kZXg9LTEsdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbk1lc2g9bnVsbCx0aGlzLmFpbVRyYW5zZm9ybT1udWxsLHRoaXMuZ3JpcFRyYW5zZm9ybT1udWxsfWdldE5vcm1hbChlPSExLHQ9ITApe2lmKCF0aGlzLnBpY2tlZE1lc2h8fHQmJiF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2xldCBzO2lmKHQpe2NvbnN0IG49dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2xldCBhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyk7YT1hLnNjYWxlKHRoaXMuYnUpLG89by5zY2FsZSh0aGlzLmJ2KSxoPWguc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLHM9bmV3IHAoYS54K28ueCtoLngsYS55K28ueStoLnksYS56K28ueitoLnopfWVsc2V7Y29uc3Qgbj10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxhPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozXSozKSxvPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzFdKjMpLGg9cC5Gcm9tQXJyYXkobixpW3RoaXMuZmFjZUlkKjMrMl0qMyksbD1hLnN1YnRyYWN0KG8pLHU9aC5zdWJ0cmFjdChvKTtzPXAuQ3Jvc3MobCx1KX1jb25zdCByPShuLGEpPT57bGV0IG89bi5nZXRXb3JsZE1hdHJpeCgpO24ubm9uVW5pZm9ybVNjYWxpbmcmJihELk1hdHJpeFswXS5jb3B5RnJvbShvKSxvPUQuTWF0cml4WzBdLG8uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxvLmludmVydCgpLG8udHJhbnNwb3NlVG9SZWYoRC5NYXRyaXhbMV0pLG89RC5NYXRyaXhbMV0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSxvLGEpfTtpZihlJiZyKHRoaXMucGlja2VkTWVzaCxzKSx0aGlzLnJheSl7Y29uc3Qgbj1ELlZlY3RvcjNbMF0uY29weUZyb20ocyk7ZXx8cih0aGlzLnBpY2tlZE1lc2gsbikscC5Eb3Qobix0aGlzLnJheS5kaXJlY3Rpb24pPjAmJnMubmVnYXRlSW5QbGFjZSgpfXJldHVybiBzLm5vcm1hbGl6ZSgpLHN9Z2V0VGV4dHVyZUNvb3JkaW5hdGVzKCl7aWYoIXRoaXMucGlja2VkTWVzaHx8IXRoaXMucGlja2VkTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2lmKCF0KXJldHVybiBudWxsO2xldCBpPXZlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqM10qMikscz12ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMV0qMikscj12ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjMrMl0qMik7cmV0dXJuIGk9aS5zY2FsZSh0aGlzLmJ1KSxzPXMuc2NhbGUodGhpcy5idikscj1yLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuZXcgdmUoaS54K3MueCtyLngsaS55K3MueStyLnkpfX1jbGFzcyBWZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbil7dGhpcy5zb3VyY2U9ZSx0aGlzLnBvaW50ZXJYPXQsdGhpcy5wb2ludGVyWT1pLHRoaXMubWVzaFVuZGVyUG9pbnRlcj1zLHRoaXMuc291cmNlRXZlbnQ9cix0aGlzLmFkZGl0aW9uYWxEYXRhPW59c3RhdGljIENyZWF0ZU5ldyhlLHQsaSl7Y29uc3Qgcz1lLmdldFNjZW5lKCk7cmV0dXJuIG5ldyBWZShlLHMucG9pbnRlclgscy5wb2ludGVyWSxzLm1lc2hVbmRlclBvaW50ZXJ8fGUsdCxpKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVNwcml0ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC5wb2ludGVyWCx0LnBvaW50ZXJZLHQubWVzaFVuZGVyUG9pbnRlcixpLHMpfXN0YXRpYyBDcmVhdGVOZXdGcm9tU2NlbmUoZSx0KXtyZXR1cm4gbmV3IFZlKG51bGwsZS5wb2ludGVyWCxlLnBvaW50ZXJZLGUubWVzaFVuZGVyUG9pbnRlcix0KX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVByaW1pdGl2ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC54LHQueSxudWxsLGkscyl9fWNsYXNzICRpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5fc2NlbmU9ZX1fcHJlcGFyZUJ1ZmZlcnMoKXtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXSlyZXR1cm47Y29uc3QgZT1bXTtlLnB1c2goMSwxKSxlLnB1c2goLTEsMSksZS5wdXNoKC0xLC0xKSxlLnB1c2goMSwtMSksdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF09bmV3IGcodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZSxnLlBvc2l0aW9uS2luZCwhMSwhMSwyKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCl9X2J1aWxkSW5kZXhCdWZmZXIoKXtjb25zdCBlPVtdO2UucHVzaCgwKSxlLnB1c2goMSksZS5wdXNoKDIpLGUucHVzaCgwKSxlLnB1c2goMiksZS5wdXNoKDMpLHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZUluZGV4QnVmZmVyKGUpfV9yZWJ1aWxkKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTshZXx8KGUuX3JlYnVpbGQoKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCkpfV9wcmVwYXJlRnJhbWUoZT1udWxsLHQ9bnVsbCl7Y29uc3QgaT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7cmV0dXJuIWl8fCh0PXR8fGkuX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKHM9PnMhPW51bGwpLCF0fHx0Lmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCk/ITE6KHRbMF0uYWN0aXZhdGUoaSxlLHQhPW51bGwpLCEwKX1kaXJlY3RSZW5kZXIoZSx0PW51bGwsaT0hMSxzPTAscj0wLG49ITEpe3ZhciBhO2NvbnN0IG89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zm9yKGxldCBoPTA7aDxlLmxlbmd0aDtoKyspe2g8ZS5sZW5ndGgtMT9lW2grMV0uYWN0aXZhdGUodGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/by5iaW5kRnJhbWVidWZmZXIodCxzLHZvaWQgMCx2b2lkIDAsaSxyKTpufHxvLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSwoYT1vLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxhPT09dm9pZCAwfHxhLmNhbGwobyxgcG9zdCBwcm9jZXNzICR7ZVtoXS5uYW1lfSBvdXRwdXRgKSk7Y29uc3QgbD1lW2hdLHU9bC5hcHBseSgpO3UmJihsLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSxvLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsdSksby5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSxsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSl9by5zZXREZXB0aEJ1ZmZlcighMCksby5zZXREZXB0aFdyaXRlKCEwKX1fZmluYWxpemVGcmFtZShlLHQsaSxzLHI9ITEpe3ZhciBuO2NvbnN0IGE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCFhfHwocz1zfHxhLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihoPT5oIT1udWxsKSxzLmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCkpcmV0dXJuO2NvbnN0IG89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zm9yKGxldCBoPTAsbD1zLmxlbmd0aDtoPGw7aCsrKXtjb25zdCB1PXNbaF07aWYoaDxsLTE/dS5fb3V0cHV0VGV4dHVyZT1zW2grMV0uYWN0aXZhdGUoYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0PyhvLmJpbmRGcmFtZWJ1ZmZlcih0LGksdm9pZCAwLHZvaWQgMCxyKSx1Ll9vdXRwdXRUZXh0dXJlPXQpOihvLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx1Ll9vdXRwdXRUZXh0dXJlPW51bGwpLChuPW8uX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbChvLGBwb3N0IHByb2Nlc3MgJHtzW2hdLm5hbWV9IG91dHB1dGApKSxlKWJyZWFrO2NvbnN0IGQ9dS5hcHBseSgpO2QmJih1Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSxvLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsZCksby5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSx1Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSl9by5zZXREZXB0aEJ1ZmZlcighMCksby5zZXREZXB0aFdyaXRlKCEwKSxvLnNldEFscGhhTW9kZSgwKX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF09bnVsbCksdGhpcy5faW5kZXhCdWZmZXImJih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCl9fWNsYXNzIFN0e2NvbnN0cnVjdG9yKGUsdCxpPW51bGwscz1udWxsLHI9bnVsbCl7dGhpcy5pbmRleD1lLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcz1uZXcgUWUoMjU2KSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcz1uZXcgUWUoMjU2KSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXM9bmV3IFFlKDI1NiksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzPW5ldyBRZSgyNTYpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcz1uZXcgUWUoMjU2KSx0aGlzLl9zcHJpdGVNYW5hZ2Vycz1uZXcgUWUoMjU2KSx0aGlzLl9lbXB0eT0hMCx0aGlzLl9lZGdlc1JlbmRlcmVycz1uZXcgaGkoMTYpLHRoaXMuX3NjZW5lPXQsdGhpcy5vcGFxdWVTb3J0Q29tcGFyZUZuPWksdGhpcy5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXMsdGhpcy50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49cn1zZXQgb3BhcXVlU29ydENvbXBhcmVGbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPVN0LlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJPcGFxdWU9dGhpcy5fcmVuZGVyT3BhcXVlU29ydGVkfXNldCBhbHBoYVRlc3RTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49U3QuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlckFscGhhVGVzdD10aGlzLl9yZW5kZXJBbHBoYVRlc3RTb3J0ZWR9c2V0IHRyYW5zcGFyZW50U29ydENvbXBhcmVGbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1TdC5kZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJUcmFuc3BhcmVudD10aGlzLl9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZH1yZW5kZXIoZSx0LGkscyl7aWYoZSl7ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMsdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyk7cmV0dXJufWNvbnN0IHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmxlbmd0aCE9PTAmJihyLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpLHIuc2V0Q29sb3JXcml0ZSghMCkpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJPcGFxdWUodGhpcy5fb3BhcXVlU3ViTWVzaGVzKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyk7Y29uc3Qgbj1yLmdldFN0ZW5jaWxCdWZmZXIoKTtpZihyLnNldFN0ZW5jaWxCdWZmZXIoITEpLHQmJnRoaXMuX3JlbmRlclNwcml0ZXMoKSxpJiZ0aGlzLl9yZW5kZXJQYXJ0aWNsZXMocyksdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nJiZ0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5sZW5ndGghPT0wfHx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtpZihyLnNldFN0ZW5jaWxCdWZmZXIobiksdGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7Y29uc3QgYT10aGlzLl9zY2VuZS5kZXB0aFBlZWxpbmdSZW5kZXJlci5yZW5kZXIodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO2EubGVuZ3RoJiZ0aGlzLl9yZW5kZXJUcmFuc3BhcmVudChhKX1lbHNlIHRoaXMuX3JlbmRlclRyYW5zcGFyZW50KHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzKTtyLnNldEFscGhhTW9kZSgwKX1pZihyLnNldFN0ZW5jaWxCdWZmZXIoITEpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aCl7Zm9yKGxldCBhPTA7YTx0aGlzLl9lZGdlc1JlbmRlcmVycy5sZW5ndGg7YSsrKXRoaXMuX2VkZ2VzUmVuZGVyZXJzLmRhdGFbYV0ucmVuZGVyKCk7ci5zZXRBbHBoYU1vZGUoMCl9ci5zZXRTdGVuY2lsQnVmZmVyKG4pfV9yZW5kZXJPcGFxdWVTb3J0ZWQoZSl7cmV0dXJuIFN0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9X3JlbmRlckFscGhhVGVzdFNvcnRlZChlKXtyZXR1cm4gU3QuX1JlbmRlclNvcnRlZChlLHRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX1fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWQoZSl7cmV0dXJuIFN0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCEwKX1zdGF0aWMgX1JlbmRlclNvcnRlZChlLHQsaSxzKXtsZXQgcj0wLG47Y29uc3QgYT1pP2kuZ2xvYmFsUG9zaXRpb246U3QuX1plcm9WZWN0b3I7aWYocylmb3IoO3I8ZS5sZW5ndGg7cisrKW49ZS5kYXRhW3JdLG4uX2FscGhhSW5kZXg9bi5nZXRNZXNoKCkuYWxwaGFJbmRleCxuLl9kaXN0YW5jZVRvQ2FtZXJhPXAuRGlzdGFuY2Uobi5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxhKTtjb25zdCBvPWUubGVuZ3RoPT09ZS5kYXRhLmxlbmd0aD9lLmRhdGE6ZS5kYXRhLnNsaWNlKDAsZS5sZW5ndGgpO3QmJm8uc29ydCh0KTtjb25zdCBoPW9bMF0uZ2V0TWVzaCgpLmdldFNjZW5lKCk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKylpZihuPW9bcl0sIShoLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmcmJiFuLmlzSW5GcnVzdHVtKGguX2ZydXN0dW1QbGFuZXMpKSl7aWYocyl7Y29uc3QgbD1uLmdldE1hdGVyaWFsKCk7aWYobCYmbC5uZWVkRGVwdGhQcmVQYXNzKXtjb25zdCB1PWwuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt1LnNldENvbG9yV3JpdGUoITEpLHUuc2V0QWxwaGFNb2RlKDApLG4ucmVuZGVyKCExKSx1LnNldENvbG9yV3JpdGUoITApfX1uLnJlbmRlcihzKX19c3RhdGljIGRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2FscGhhSW5kZXg+dC5fYWxwaGFJbmRleD8xOmUuX2FscGhhSW5kZXg8dC5fYWxwaGFJbmRleD8tMTpTdC5iYWNrVG9Gcm9udFNvcnRDb21wYXJlKGUsdCl9c3RhdGljIGJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOjB9c3RhdGljIGZyb250VG9CYWNrU29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9c3RhdGljIFBhaW50ZXJTb3J0Q29tcGFyZShlLHQpe2NvbnN0IGk9ZS5nZXRNZXNoKCkscz10LmdldE1lc2goKTtyZXR1cm4gaS5tYXRlcmlhbCYmcy5tYXRlcmlhbD9pLm1hdGVyaWFsLnVuaXF1ZUlkLXMubWF0ZXJpYWwudW5pcXVlSWQ6aS51bmlxdWVJZC1zLnVuaXF1ZUlkfXByZXBhcmUoKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMucHJlcGFyZVNwcml0ZXMoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5yZXNldCgpLHRoaXMuX2VtcHR5PSEwfXByZXBhcmVTcHJpdGVzKCl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucmVzZXQoKX1kaXNwb3NlKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fc3ByaXRlTWFuYWdlcnMuZGlzcG9zZSgpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmRpc3Bvc2UoKX1kaXNwYXRjaChlLHQsaSl7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLGk9PT12b2lkIDAmJihpPWUuZ2V0TWF0ZXJpYWwoKSksaSE9bnVsbCYmKGkubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpP3RoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnB1c2goZSk6aS5uZWVkQWxwaGFUZXN0aW5nKCk/KGkubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnB1c2goZSkpOihpLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5wdXNoKGUpKSx0Ll9yZW5kZXJpbmdHcm91cD10aGlzLHQuX2VkZ2VzUmVuZGVyZXImJnQuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodC5fZWRnZXNSZW5kZXJlciksdGhpcy5fZW1wdHk9ITEpfWRpc3BhdGNoU3ByaXRlcyhlKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5wdXNoKGUpLHRoaXMuX2VtcHR5PSExfWRpc3BhdGNoUGFydGljbGVzKGUpe3RoaXMuX3BhcnRpY2xlU3lzdGVtcy5wdXNoKGUpLHRoaXMuX2VtcHR5PSExfV9yZW5kZXJQYXJ0aWNsZXMoZSl7aWYodGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2ZvcihsZXQgaT0wO2k8dGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fcGFydGljbGVTeXN0ZW1zLmRhdGFbaV07aWYoKHQmJnQubGF5ZXJNYXNrJnMubGF5ZXJNYXNrKT09PTApY29udGludWU7Y29uc3Qgcj1zLmVtaXR0ZXI7KCFyLnBvc2l0aW9ufHwhZXx8ZS5pbmRleE9mKHIpIT09LTEpJiZ0aGlzLl9zY2VuZS5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KHMucmVuZGVyKCksITEpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSl9X3JlbmRlclNwcml0ZXMoKXtpZighdGhpcy5fc2NlbmUuc3ByaXRlc0VuYWJsZWR8fHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IobGV0IHQ9MDt0PHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fc3ByaXRlTWFuYWdlcnMuZGF0YVt0XTsoZSYmZS5sYXllck1hc2smaS5sYXllck1hc2spIT09MCYmaS5yZW5kZXIoKX10aGlzLl9zY2VuZS5vbkFmdGVyU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19U3QuX1plcm9WZWN0b3I9cC5aZXJvKCk7Y2xhc3MgeW57fWNsYXNzIFdle2NvbnN0cnVjdG9yKGUpe3RoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITEsdGhpcy5fcmVuZGVyaW5nR3JvdXBzPW5ldyBBcnJheSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9e30sdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbj17fSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbj17fSx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bmV3IHluLHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuX3NjZW5lPWU7Zm9yKGxldCB0PVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7dDxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO3QrKyl0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbdF09e2F1dG9DbGVhcjohMCxkZXB0aDohMCxzdGVuY2lsOiEwfX1nZXQgbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXN9c2V0IG1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKGUpe2lmKGUhPT10aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmKHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPWUsIXRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUubWVzaGVzKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuX3dhc0Rpc3BhdGNoZWQ9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpdC5fd2FzRGlzcGF0Y2hlZD0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMpdC5fd2FzRGlzcGF0Y2hlZD0hMX19Z2V0UmVuZGVyaW5nR3JvdXAoZSl7Y29uc3QgdD1lfHwwO3JldHVybiB0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAodCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW3RdfV9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihlPSEwLHQ9ITApe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkfHwodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY2xlYXIobnVsbCwhMSxlLHQpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPSEwKX1yZW5kZXIoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cEluZm87aWYoci5zY2VuZT10aGlzLl9zY2VuZSxyLmNhbWVyYT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMmJnMpZm9yKGxldCBuPTA7bjx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzW25dO3RoaXMuZGlzcGF0Y2hTcHJpdGVzKGEpfWZvcihsZXQgbj1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO248V2UuTUFYX1JFTkRFUklOR0dST1VQUztuKyspe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPW49PT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2NvbnN0IGE9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW25dO2lmKCFhfHxhLl9lbXB0eSljb250aW51ZTtjb25zdCBvPU1hdGgucG93KDIsbik7aWYoci5yZW5kZXJpbmdHcm91cElkPW4sdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyksV2UuQVVUT0NMRUFSKXtjb25zdCBoPXRoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA/dGhpcy5fc2NlbmUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAobik6dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW25dO2gmJmguYXV0b0NsZWFyJiZ0aGlzLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihoLmRlcHRoLGguc3RlbmNpbCl9Zm9yKGNvbnN0IGggb2YgdGhpcy5fc2NlbmUuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO2EucmVuZGVyKGUscyxpLHQpO2Zvcihjb25zdCBoIG9mIHRoaXMuX3NjZW5lLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO3RoaXMuX3NjZW5lLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyl9fXJlc2V0KCl7aWYoIXRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMpZm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5wcmVwYXJlKCl9fXJlc2V0U3ByaXRlcygpe2lmKCF0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKWZvcihsZXQgZT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8V2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZVNwcml0ZXMoKX19ZGlzcG9zZSgpe3RoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwcy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bnVsbH1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7Zm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5kaXNwb3NlKCl9fV9wcmVwYXJlUmVuZGVyaW5nR3JvdXAoZSl7dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdPT09dm9pZCAwJiYodGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdPW5ldyBTdChlLHRoaXMuX3NjZW5lLHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV0pKX1kaXNwYXRjaFNwcml0ZXMoZSl7dGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZHx8KGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cChlLnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoU3ByaXRlcyhlKSl9ZGlzcGF0Y2hQYXJ0aWNsZXMoZSl7dGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZHx8KGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cChlLnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoUGFydGljbGVzKGUpKX1kaXNwYXRjaChlLHQsaSl7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLCEodGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZCkmJihlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAodC5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaChlLHQsaSkpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe2lmKHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV09dCx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdPWksdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdPXMsdGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdKXtjb25zdCByPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTtyLm9wYXF1ZVNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSxyLmFscGhhVGVzdFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSxyLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV19fXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQsaT0hMCxzPSEwKXt0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV09e2F1dG9DbGVhcjp0LGRlcHRoOmksc3RlbmNpbDpzfX1nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChlKXtyZXR1cm4gdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdfX1XZS5NQVhfUkVOREVSSU5HR1JPVVBTPTQsV2UuTUlOX1JFTkRFUklOR0dST1VQUz0wLFdlLkFVVE9DTEVBUj0hMDtjbGFzcyBxe31xLk5BTUVfRUZGRUNUTEFZRVI9IkVmZmVjdExheWVyIixxLk5BTUVfTEFZRVI9IkxheWVyIixxLk5BTUVfTEVOU0ZMQVJFU1lTVEVNPSJMZW5zRmxhcmVTeXN0ZW0iLHEuTkFNRV9CT1VORElOR0JPWFJFTkRFUkVSPSJCb3VuZGluZ0JveFJlbmRlcmVyIixxLk5BTUVfUEFSVElDTEVTWVNURU09IlBhcnRpY2xlU3lzdGVtIixxLk5BTUVfR0FNRVBBRD0iR2FtZXBhZCIscS5OQU1FX1NJTVBMSUZJQ0FUSU9OUVVFVUU9IlNpbXBsaWZpY2F0aW9uUXVldWUiLHEuTkFNRV9HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPSJHZW9tZXRyeUJ1ZmZlclJlbmRlcmVyIixxLk5BTUVfUFJFUEFTU1JFTkRFUkVSPSJQcmVQYXNzUmVuZGVyZXIiLHEuTkFNRV9ERVBUSFJFTkRFUkVSPSJEZXB0aFJlbmRlcmVyIixxLk5BTUVfREVQVEhQRUVMSU5HUkVOREVSRVI9IkRlcHRoUGVlbGluZ1JlbmRlcmVyIixxLk5BTUVfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9IlBvc3RQcm9jZXNzUmVuZGVyUGlwZWxpbmVNYW5hZ2VyIixxLk5BTUVfU1BSSVRFPSJTcHJpdGUiLHEuTkFNRV9TVUJTVVJGQUNFPSJTdWJTdXJmYWNlIixxLk5BTUVfT1VUTElORVJFTkRFUkVSPSJPdXRsaW5lIixxLk5BTUVfUFJPQ0VEVVJBTFRFWFRVUkU9IlByb2NlZHVyYWxUZXh0dXJlIixxLk5BTUVfU0hBRE9XR0VORVJBVE9SPSJTaGFkb3dHZW5lcmF0b3IiLHEuTkFNRV9PQ1RSRUU9Ik9jdHJlZSIscS5OQU1FX1BIWVNJQ1NFTkdJTkU9IlBoeXNpY3NFbmdpbmUiLHEuTkFNRV9BVURJTz0iQXVkaW8iLHEuTkFNRV9GTFVJRFJFTkRFUkVSPSJGbHVpZFJlbmRlcmVyIixxLlNURVBfSVNSRUFEWUZPUk1FU0hfRUZGRUNUTEFZRVI9MCxxLlNURVBfQkVGT1JFRVZBTFVBVEVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxxLlNURVBfRVZBTFVBVEVTVUJNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxxLlNURVBfUFJFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAscS5TVEVQX0NBTUVSQURSQVdSRU5ERVJUQVJHRVRfRUZGRUNUTEFZRVI9MSxxLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19QUkVQQVNTPTAscS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxxLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19MQVlFUj0yLHEuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxxLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLHEuU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxxLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEscS5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAscS5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEscS5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0VGRkVDVExBWUVSX0RSQVc9MCxxLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfQk9VTkRJTkdCT1hSRU5ERVJFUj0xLHEuU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfU0lNUExJRklDQVRJT05RVUVVRT0wLHEuU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfR0FNRVBBRD0xLHEuU1RFUF9CRUZPUkVDTEVBUl9QUk9DRURVUkFMVEVYVFVSRT0wLHEuU1RFUF9CRUZPUkVDTEVBUl9QUkVQQVNTPTEscS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVENMRUFSX1BSRVBBU1M9MCxxLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxxLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19QUkVQQVNTPTAscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLHEuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEVOU0ZMQVJFU1lTVEVNPTIscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTMscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MQVlFUj00LHEuU1RFUF9BRlRFUkNBTUVSQURSQVdfRkxVSURSRU5ERVJFUj01LHEuU1RFUF9BRlRFUkNBTUVSQVBPU1RQUk9DRVNTX0xBWUVSPTAscS5TVEVQX0FGVEVSUkVOREVSVEFSR0VUUE9TVFBST0NFU1NfTEFZRVI9MCxxLlNURVBfQUZURVJSRU5ERVJfQVVESU89MCxxLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAscS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0xLHEuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUj0yLHEuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPTMscS5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLHEuU1RFUF9HQVRIRVJBQ1RJVkVDQU1FUkFSRU5ERVJUQVJHRVRTX0ZMVUlEUkVOREVSRVI9MSxxLlNURVBfUE9JTlRFUk1PVkVfU1BSSVRFPTAscS5TVEVQX1BPSU5URVJET1dOX1NQUklURT0wLHEuU1RFUF9QT0lOVEVSVVBfU1BSSVRFPTA7Y2xhc3MgSWUgZXh0ZW5kcyBBcnJheXtjb25zdHJ1Y3RvcihlKXtzdXBlciguLi5lKX1zdGF0aWMgQ3JlYXRlKCl7cmV0dXJuIE9iamVjdC5jcmVhdGUoSWUucHJvdG90eXBlKX1yZWdpc3RlclN0ZXAoZSx0LGkpe2xldCBzPTAscj1OdW1iZXIuTUFYX1ZBTFVFO2Zvcig7czx0aGlzLmxlbmd0aCYmKHI9dGhpc1tzXS5pbmRleCwhKGU8cikpO3MrKyk7dGhpcy5zcGxpY2UocywwLHtpbmRleDplLGNvbXBvbmVudDp0LGFjdGlvbjppLmJpbmQodCl9KX1jbGVhcigpe3RoaXMubGVuZ3RoPTB9fWNsYXNzIFRle31UZS5QT0lOVEVSRE9XTj0xLFRlLlBPSU5URVJVUD0yLFRlLlBPSU5URVJNT1ZFPTQsVGUuUE9JTlRFUldIRUVMPTgsVGUuUE9JTlRFUlBJQ0s9MTYsVGUuUE9JTlRFUlRBUD0zMixUZS5QT0lOVEVSRE9VQkxFVEFQPTY0O2NsYXNzIGZye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5ldmVudD10fX1jbGFzcyBDbiBleHRlbmRzIGZye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3N1cGVyKGUsdCksdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbmFsUGlja2luZ0luZm89bnVsbCx0aGlzLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlPSExLHRoaXMubG9jYWxQb3NpdGlvbj1uZXcgdmUoaSxzKX19Y2xhc3MgdWkgZXh0ZW5kcyBmcntjb25zdHJ1Y3RvcihlLHQsaSxzPW51bGwpe3N1cGVyKGUsdCksdGhpcy5fcGlja0luZm89aSx0aGlzLl9pbnB1dE1hbmFnZXI9c31nZXQgcGlja0luZm8oKXtyZXR1cm4gdGhpcy5fcGlja0luZm98fHRoaXMuX2dlbmVyYXRlUGlja0luZm8oKSx0aGlzLl9waWNrSW5mb31fZ2VuZXJhdGVQaWNrSW5mbygpe3RoaXMuX2lucHV0TWFuYWdlciYmKHRoaXMuX3BpY2tJbmZvPXRoaXMuX2lucHV0TWFuYWdlci5fcGlja01vdmUodGhpcy5ldmVudC5wb2ludGVySWQpLHRoaXMuX2lucHV0TWFuYWdlci5fc2V0UmF5T25Qb2ludGVySW5mbyh0aGlzLl9waWNrSW5mbyx0aGlzLmV2ZW50KSx0aGlzLl9pbnB1dE1hbmFnZXI9bnVsbCl9fWNsYXNzIHV0e2NvbnN0cnVjdG9yKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9c3RhdGljIGdldCBIYXNUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIHV0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1dC5UcmlnZ2VycyxlKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgZ2V0IEhhc1BpY2tUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIHV0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1dC5UcmlnZ2VycyxlKSl7Y29uc3QgdD1wYXJzZUludChlKTtpZih0Pj0xJiZ0PD03KXJldHVybiEwfXJldHVybiExfXN0YXRpYyBIYXNTcGVjaWZpY1RyaWdnZXIoZSl7Zm9yKGNvbnN0IHQgaW4gdXQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHV0LlRyaWdnZXJzLHQpJiZwYXJzZUludCh0KT09PWUpcmV0dXJuITA7cmV0dXJuITF9fXV0LlRyaWdnZXJzPXt9O2NsYXNzIEppe31KaS5LRVlET1dOPTEsSmkuS0VZVVA9MjtjbGFzcyBDc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgX3IgZXh0ZW5kcyBDc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy50eXBlPWUsdGhpcy5ldmVudD10LHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPSExfWdldCBza2lwT25Qb2ludGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZX1zZXQgc2tpcE9uUG9pbnRlck9ic2VydmFibGUoZSl7dGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9ZX19dmFyIHo7KGZ1bmN0aW9uKGMpe2NbYy5HZW5lcmljPTBdPSJHZW5lcmljIixjW2MuS2V5Ym9hcmQ9MV09IktleWJvYXJkIixjW2MuTW91c2U9Ml09Ik1vdXNlIixjW2MuVG91Y2g9M109IlRvdWNoIixjW2MuRHVhbFNob2NrPTRdPSJEdWFsU2hvY2siLGNbYy5YYm94PTVdPSJYYm94IixjW2MuU3dpdGNoPTZdPSJTd2l0Y2giLGNbYy5EdWFsU2Vuc2U9N109IkR1YWxTZW5zZSJ9KSh6fHwoej17fSkpO3ZhciAkOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLk1vdmU9MTJdPSJNb3ZlIn0pKCR8fCgkPXt9KSk7dmFyIGVzOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLkRlbHRhSG9yaXpvbnRhbD0xMF09IkRlbHRhSG9yaXpvbnRhbCIsY1tjLkRlbHRhVmVydGljYWw9MTFdPSJEZWx0YVZlcnRpY2FsIn0pKGVzfHwoZXM9e30pKTt2YXIgZ3I7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuU2hhcmU9OF09IlNoYXJlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKGdyfHwoZ3I9e30pKTt2YXIgcHI7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuQ3JlYXRlPThdPSJDcmVhdGUiLGNbYy5PcHRpb25zPTldPSJPcHRpb25zIixjW2MuTDM9MTBdPSJMMyIsY1tjLlIzPTExXT0iUjMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkocHJ8fChwcj17fSkpO3ZhciBtcjsoZnVuY3Rpb24oYyl7Y1tjLkE9MF09IkEiLGNbYy5CPTFdPSJCIixjW2MuWD0yXT0iWCIsY1tjLlk9M109IlkiLGNbYy5MQj00XT0iTEIiLGNbYy5SQj01XT0iUkIiLGNbYy5MVD02XT0iTFQiLGNbYy5SVD03XT0iUlQiLGNbYy5CYWNrPThdPSJCYWNrIixjW2MuU3RhcnQ9OV09IlN0YXJ0IixjW2MuTFM9MTBdPSJMUyIsY1tjLlJTPTExXT0iUlMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuTFN0aWNrWEF4aXM9MTddPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE4XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0xOV09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjBdPSJSU3RpY2tZQXhpcyJ9KShtcnx8KG1yPXt9KSk7dmFyIEVyOyhmdW5jdGlvbihjKXtjW2MuQj0wXT0iQiIsY1tjLkE9MV09IkEiLGNbYy5ZPTJdPSJZIixjW2MuWD0zXT0iWCIsY1tjLkw9NF09IkwiLGNbYy5SPTVdPSJSIixjW2MuWkw9Nl09IlpMIixjW2MuWlI9N109IlpSIixjW2MuTWludXM9OF09Ik1pbnVzIixjW2MuUGx1cz05XT0iUGx1cyIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkNhcHR1cmU9MTddPSJDYXB0dXJlIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShFcnx8KEVyPXt9KSk7dmFyIHZyOyhmdW5jdGlvbihjKXtjW2MuUG9pbnRlck1vdmU9MF09IlBvaW50ZXJNb3ZlIixjW2MuUG9pbnRlckRvd249MV09IlBvaW50ZXJEb3duIixjW2MuUG9pbnRlclVwPTJdPSJQb2ludGVyVXAifSkodnJ8fCh2cj17fSkpO2NsYXNzIHRze310cy5ET01fREVMVEFfUElYRUw9MCx0cy5ET01fREVMVEFfTElORT0xLHRzLkRPTV9ERUxUQV9QQUdFPTI7Y2xhc3MgZGl7c3RhdGljIENyZWF0ZURldmljZUV2ZW50KGUsdCxpLHMscixuKXtzd2l0Y2goZSl7Y2FzZSB6LktleWJvYXJkOnJldHVybiB0aGlzLl9DcmVhdGVLZXlib2FyZEV2ZW50KGkscyxyLG4pO2Nhc2Ugei5Nb3VzZTppZihpPT09JC5Nb3VzZVdoZWVsWHx8aT09PSQuTW91c2VXaGVlbFl8fGk9PT0kLk1vdXNlV2hlZWxaKXJldHVybiB0aGlzLl9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKTtjYXNlIHouVG91Y2g6cmV0dXJuIHRoaXMuX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQsaSxzLHIsbik7ZGVmYXVsdDp0aHJvd2BVbmFibGUgdG8gZ2VuZXJhdGUgZXZlbnQgZm9yIGRldmljZSAke3pbZV19YH19c3RhdGljIF9DcmVhdGVQb2ludGVyRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbik7cmV0dXJuIGU9PT16Lk1vdXNlPyhhLmRldmljZVR5cGU9ei5Nb3VzZSxhLnBvaW50ZXJJZD0xLGEucG9pbnRlclR5cGU9Im1vdXNlIik6KGEuZGV2aWNlVHlwZT16LlRvdWNoLGEucG9pbnRlcklkPXQsYS5wb2ludGVyVHlwZT0idG91Y2giKSxpPT09JC5Nb3ZlP2EudHlwZT0icG9pbnRlcm1vdmUiOmk+PSQuTGVmdENsaWNrJiZpPD0kLlJpZ2h0Q2xpY2smJihhLnR5cGU9cz09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixhLmJ1dHRvbj1pLTIpLGF9c3RhdGljIF9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3N3aXRjaChhLnR5cGU9IndoZWVsIixhLmRlbHRhTW9kZT10cy5ET01fREVMVEFfUElYRUwsYS5kZWx0YVg9MCxhLmRlbHRhWT0wLGEuZGVsdGFaPTAsaSl7Y2FzZSAkLk1vdXNlV2hlZWxYOmEuZGVsdGFYPXM7YnJlYWs7Y2FzZSAkLk1vdXNlV2hlZWxZOmEuZGVsdGFZPXM7YnJlYWs7Y2FzZSAkLk1vdXNlV2hlZWxaOmEuZGVsdGFaPXM7YnJlYWt9cmV0dXJuIGF9c3RhdGljIF9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZUV2ZW50KG4pLG89ci5wb2xsSW5wdXQoZSx0LCQuSG9yaXpvbnRhbCksaD1yLnBvbGxJbnB1dChlLHQsJC5WZXJ0aWNhbCk7cmV0dXJuIG4/KGEubW92ZW1lbnRYPTAsYS5tb3ZlbWVudFk9MCxhLm9mZnNldFg9YS5tb3ZlbWVudFgtbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LGEub2Zmc2V0WT1hLm1vdmVtZW50WS1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkpOihhLm1vdmVtZW50WD1yLnBvbGxJbnB1dChlLHQsZXMuRGVsdGFIb3Jpem9udGFsKSxhLm1vdmVtZW50WT1yLnBvbGxJbnB1dChlLHQsZXMuRGVsdGFWZXJ0aWNhbCksYS5vZmZzZXRYPTAsYS5vZmZzZXRZPTApLHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhhLHIpLGEuY2xpZW50WD1vLGEuY2xpZW50WT1oLGEueD1vLGEueT1oLGEuZGV2aWNlVHlwZT1lLGEuZGV2aWNlU2xvdD10LGEuaW5wdXRJbmRleD1pLGF9c3RhdGljIF9DcmVhdGVLZXlib2FyZEV2ZW50KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fQ3JlYXRlRXZlbnQocyk7cmV0dXJuIHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhyLGkpLHIuZGV2aWNlVHlwZT16LktleWJvYXJkLHIuZGV2aWNlU2xvdD0wLHIuaW5wdXRJbmRleD1lLHIudHlwZT10PT09MT8ia2V5ZG93biI6ImtleXVwIixyLmtleT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpLHIua2V5Q29kZT1lLHJ9c3RhdGljIF9DaGVja05vbkNoYXJhY3RlcktleXMoZSx0KXtjb25zdCBpPXQuaXNEZXZpY2VBdmFpbGFibGUoei5LZXlib2FyZCkscz1pJiZ0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsMTgpPT09MSxyPWkmJnQucG9sbElucHV0KHouS2V5Ym9hcmQsMCwxNyk9PT0xLG49aSYmKHQucG9sbElucHV0KHouS2V5Ym9hcmQsMCw5MSk9PT0xfHx0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsOTIpPT09MXx8dC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDkzKT09PTEpLGE9aSYmdC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDE2KT09PTE7ZS5hbHRLZXk9cyxlLmN0cmxLZXk9cixlLm1ldGFLZXk9bixlLnNoaWZ0S2V5PWF9c3RhdGljIF9DcmVhdGVFdmVudChlKXtjb25zdCB0PXt9O3JldHVybiB0LnByZXZlbnREZWZhdWx0PSgpPT57fSx0LnRhcmdldD1lLHR9fWNsYXNzIElue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9uYXRpdmVJbnB1dD1fbmF0aXZlLkRldmljZUlucHV0U3lzdGVtP25ldyBfbmF0aXZlLkRldmljZUlucHV0U3lzdGVtKGUsdCwocyxyLG4sYSk9Pntjb25zdCBvPWRpLkNyZWF0ZURldmljZUV2ZW50KHMscixuLGEsdGhpcyk7aShzLHIsbyl9KTp0aGlzLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl9cG9sbElucHV0KGUsdCxpKXtyZXR1cm4gdGhpcy5fbmF0aXZlSW5wdXQucG9sbElucHV0KGUsdCxpKX1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gZT09PXouTW91c2V8fGU9PT16LlRvdWNofWRpc3Bvc2UoKXt0aGlzLl9uYXRpdmVJbnB1dC5kaXNwb3NlKCl9X2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKXtyZXR1cm57cG9sbElucHV0OigpPT4wLGlzRGV2aWNlQXZhaWxhYmxlOigpPT4hMSxkaXNwb3NlOigpPT57fX19fWNvbnN0IFRyPTI1NSxicj1PYmplY3Qua2V5cygkKS5sZW5ndGgvMjtjbGFzcyBQbntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl9pbnB1dHM9W10sdGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITEsdGhpcy5fcG9pbnRlckFjdGl2ZT0hMSx0aGlzLl91c2luZ1NhZmFyaT1ILklzU2FmYXJpKCksdGhpcy5fdXNpbmdNYWNPUz0vKE1hY3xpUGhvbmV8aVBvZHxpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSx0aGlzLl9rZXlib2FyZERvd25FdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9cj0+e30sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlck1vdmVFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJVcEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyQmx1ckV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50c0F0dGFjaGVkPSExLHRoaXMuX21vdXNlSWQ9LTEsdGhpcy5faXNVc2luZ0ZpcmVmb3g9cHMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikhPT0tMSx0aGlzLl9tYXhUb3VjaFBvaW50cz0wLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9bnVsbCx0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50UHJlZml4PUguR2V0UG9pbnRlclByZWZpeChlKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9vbkRldmljZUNvbm5lY3RlZD10LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPWksdGhpcy5fb25JbnB1dENoYW5nZWQ9cyx0aGlzLl9lbmFibGVFdmVudHMoKSx0aGlzLl91c2luZ01hY09TJiYodGhpcy5fbWV0YUtleXM9W10pLHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZHx8KHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZD0oKT0+e3RoaXMuX2VuYWJsZUV2ZW50cygpfSl9cG9sbElucHV0KGUsdCxpKXtjb25zdCBzPXRoaXMuX2lucHV0c1tlXVt0XTtpZighcyl0aHJvd2BVbmFibGUgdG8gZmluZCBkZXZpY2UgJHt6W2VdfWA7ZT49ei5EdWFsU2hvY2smJmU8PXouRHVhbFNlbnNlJiZ0aGlzLl91cGRhdGVEZXZpY2UoZSx0LGkpO2NvbnN0IHI9c1tpXTtpZihyPT09dm9pZCAwKXRocm93YFVuYWJsZSB0byBmaW5kIGlucHV0ICR7aX0gZm9yIGRldmljZSAke3pbZV19IGluIHNsb3QgJHt0fWA7cmV0dXJuIGk9PT0kLk1vdmUmJkguV2FybigiVW5hYmxlIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gZm9yIFBvaW50ZXJJbnB1dC5Nb3ZlLiAgVHJ5IHVzaW5nIFBvaW50ZXJJbnB1dC5Ib3Jpem9udGFsIG9yIFBvaW50ZXJJbnB1dC5WZXJ0aWNhbCBmb3IgbW92ZSBkYXRhLiIpLHJ9aXNEZXZpY2VBdmFpbGFibGUoZSl7cmV0dXJuIHRoaXMuX2lucHV0c1tlXSE9PXZvaWQgMH1kaXNwb3NlKCl7dGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPSgpPT57fSx0aGlzLl9vbklucHV0Q2hhbmdlZD0oKT0+e30sZGVsZXRlIHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZCx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmdGhpcy5fZGlzYWJsZUV2ZW50cygpfV9lbmFibGVFdmVudHMoKXtjb25zdCBlPXRoaXM9PT1udWxsfHx0aGlzPT09dm9pZCAwP3ZvaWQgMDp0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSYmKCF0aGlzLl9ldmVudHNBdHRhY2hlZHx8dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8hPT1lKSl7aWYodGhpcy5fZGlzYWJsZUV2ZW50cygpLHRoaXMuX2lucHV0cyl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5faW5wdXRzKWlmKHQpZm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgcz0raSxyPXRbc107aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dPTB9fXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvPWUsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXghPT0tMT90aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleDp0aGlzLl9lbmdpbmUuY2FudmFzVGFiSW5kZXgsdGhpcy5faGFuZGxlS2V5QWN0aW9ucygpLHRoaXMuX2hhbmRsZVBvaW50ZXJBY3Rpb25zKCksdGhpcy5faGFuZGxlR2FtZXBhZEFjdGlvbnMoKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMCx0aGlzLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXMoKX19X2Rpc2FibGVFdmVudHMoKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9X2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcyl7Y29uc3QgZT1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtmb3IoY29uc3QgdCBvZiBlKXQmJnRoaXMuX2FkZEdhbWVQYWQodCl9dHlwZW9mIG1hdGNoTWVkaWE9PSJmdW5jdGlvbiImJm1hdGNoTWVkaWEoIihwb2ludGVyOmZpbmUpIikubWF0Y2hlcyYmdGhpcy5fYWRkUG9pbnRlckRldmljZSh6Lk1vdXNlLDAsMCwwKX1fYWRkR2FtZVBhZChlKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuaWQpLGk9ZS5pbmRleDt0aGlzLl9nYW1lcGFkcz10aGlzLl9nYW1lcGFkc3x8bmV3IEFycmF5KGUuaW5kZXgrMSksdGhpcy5fcmVnaXN0ZXJEZXZpY2UodCxpLGUuYnV0dG9ucy5sZW5ndGgrZS5heGVzLmxlbmd0aCksdGhpcy5fZ2FtZXBhZHNbaV09dH1fYWRkUG9pbnRlckRldmljZShlLHQsaSxzKXt0aGlzLl9wb2ludGVyQWN0aXZlfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCksdGhpcy5fcmVnaXN0ZXJEZXZpY2UoZSx0LGJyKTtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtyWzBdPWksclsxXT1zfV9yZWdpc3RlckRldmljZShlLHQsaSl7aWYodD09PXZvaWQgMCl0aHJvd2BVbmFibGUgdG8gcmVnaXN0ZXIgZGV2aWNlICR7eltlXX0gdG8gdW5kZWZpbmVkIHNsb3QuYDtpZih0aGlzLl9pbnB1dHNbZV18fCh0aGlzLl9pbnB1dHNbZV09e30pLCF0aGlzLl9pbnB1dHNbZV1bdF0pe2NvbnN0IHM9bmV3IEFycmF5KGkpO3MuZmlsbCgwKSx0aGlzLl9pbnB1dHNbZV1bdF09cyx0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX1fdW5yZWdpc3RlckRldmljZShlLHQpe3RoaXMuX2lucHV0c1tlXVt0XSYmKGRlbGV0ZSB0aGlzLl9pbnB1dHNbZV1bdF0sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9X2hhbmRsZUtleUFjdGlvbnMoKXt0aGlzLl9rZXlib2FyZERvd25FdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZSh6LktleWJvYXJkLDAsVHIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1t6LktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MTtjb25zdCBpPWU7aS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLm1ldGFLZXkmJmUua2V5IT09Ik1ldGEiJiYodGhpcy5fbWV0YUtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKXx8dGhpcy5fbWV0YUtleXMucHVzaChlLmtleUNvZGUpKSx0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZT0+e3RoaXMuX2tleWJvYXJkQWN0aXZlfHwodGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2Uoei5LZXlib2FyZCwwLFRyKSk7Y29uc3QgdD10aGlzLl9pbnB1dHNbei5LZXlib2FyZF1bMF07aWYodCl7dFtlLmtleUNvZGVdPTA7Y29uc3QgaT1lO2lmKGkuaW5wdXRJbmRleD1lLmtleUNvZGUsdGhpcy5fdXNpbmdNYWNPUyYmZS5rZXk9PT0iTWV0YSImJnRoaXMuX21ldGFLZXlzLmxlbmd0aD4wKXtmb3IoY29uc3QgcyBvZiB0aGlzLl9tZXRhS2V5cyl7Y29uc3Qgcj1kaS5DcmVhdGVEZXZpY2VFdmVudCh6LktleWJvYXJkLDAscywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3Rbc109MCx0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAscil9dGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX10aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD0oKT0+e2lmKHRoaXMuX2tleWJvYXJkQWN0aXZlKXtjb25zdCBlPXRoaXMuX2lucHV0c1t6LktleWJvYXJkXVswXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdIT09MCl7ZVt0XT0wO2NvbnN0IGk9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5LZXlib2FyZCwwLHQsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9dGhpcy5fdXNpbmdNYWNPUyYmdGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9rZXlib2FyZEJsdXJFdmVudCl9X2hhbmRsZVBvaW50ZXJBY3Rpb25zKCl7dGhpcy5fbWF4VG91Y2hQb2ludHM9cHMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzfHwyLHRoaXMuX2FjdGl2ZVRvdWNoSWRzfHwodGhpcy5fYWN0aXZlVG91Y2hJZHM9bmV3IEFycmF5KHRoaXMuX21heFRvdWNoUG9pbnRzKSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhUb3VjaFBvaW50cztpKyspdGhpcy5fYWN0aXZlVG91Y2hJZHNbaV09LTE7dGhpcy5fcG9pbnRlck1vdmVFdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxyPXM9PT16Lk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl18fHRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9aTthLmlucHV0SW5kZXg9JC5Nb3ZlLG5bJC5Ib3Jpem9udGFsXT1pLmNsaWVudFgsblskLlZlcnRpY2FsXT1pLmNsaWVudFksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpLCF0aGlzLl91c2luZ1NhZmFyaSYmaS5idXR0b24hPT0tMSYmKGEuaW5wdXRJbmRleD1pLmJ1dHRvbisyLG5baS5idXR0b24rMl09bltpLmJ1dHRvbisyXT8wOjEsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9aT0+e2NvbnN0IHM9dGhpcy5fZ2V0UG9pbnRlclR5cGUoaSk7bGV0IHI9cz09PXouTW91c2U/MDppLnBvaW50ZXJJZDtpZihzPT09ei5Ub3VjaCl7Y29uc3QgYT10aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKC0xKTtpZihhPj0wKXI9YSx0aGlzLl9hY3RpdmVUb3VjaElkc1thXT1pLnBvaW50ZXJJZDtlbHNle0guV2FybihgTWF4IG51bWJlciBvZiB0b3VjaGVzIGV4Y2VlZGVkLiAgSWdub3JpbmcgdG91Y2hlcyBpbiBleGNlc3Mgb2YgJHt0aGlzLl9tYXhUb3VjaFBvaW50c31gKTtyZXR1cm59fXRoaXMuX2lucHV0c1tzXXx8KHRoaXMuX2lucHV0c1tzXT17fSksdGhpcy5faW5wdXRzW3NdW3JdP3M9PT16LlRvdWNoJiZ0aGlzLl9vbkRldmljZUNvbm5lY3RlZChzLHIpOnRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9blskLkhvcml6b250YWxdLG89blskLlZlcnRpY2FsXTtpZihzPT09ei5Nb3VzZSl7aWYodGhpcy5fbW91c2VJZD09PS0xJiYoaS5wb2ludGVySWQ9PT12b2lkIDA/dGhpcy5fbW91c2VJZD10aGlzLl9pc1VzaW5nRmlyZWZveD8wOjE6dGhpcy5fbW91c2VJZD1pLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKGkucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCl9Y2F0Y2h7fW5bJC5Ib3Jpem9udGFsXT1pLmNsaWVudFgsblskLlZlcnRpY2FsXT1pLmNsaWVudFksbltpLmJ1dHRvbisyXT0xO2NvbnN0IGg9aTtoLmlucHV0SW5kZXg9aS5idXR0b24rMix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCksKGEhPT1pLmNsaWVudFh8fG8hPT1pLmNsaWVudFkpJiYoaC5pbnB1dEluZGV4PSQuTW92ZSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9aT0+e3ZhciBzLHIsbixhLG87Y29uc3QgaD10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxsPWg9PT16Lk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7aWYoaD09PXouVG91Y2gpe2lmKGw9PT0tMSlyZXR1cm47dGhpcy5fYWN0aXZlVG91Y2hJZHNbbF09LTF9Y29uc3QgdT0ocz10aGlzLl9pbnB1dHNbaF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1tsXTtpZih1JiZ1W2kuYnV0dG9uKzJdIT09MCl7Y29uc3QgZD11WyQuSG9yaXpvbnRhbF0sZj11WyQuVmVydGljYWxdO3VbJC5Ib3Jpem9udGFsXT1pLmNsaWVudFgsdVskLlZlcnRpY2FsXT1pLmNsaWVudFksdVtpLmJ1dHRvbisyXT0wO2NvbnN0IF89aTsoZCE9PWkuY2xpZW50WHx8ZiE9PWkuY2xpZW50WSkmJihfLmlucHV0SW5kZXg9JC5Nb3ZlLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxfKSksXy5pbnB1dEluZGV4PWkuYnV0dG9uKzIsaD09PXouTW91c2UmJnRoaXMuX21vdXNlSWQ+PTAmJigobj0ocj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5jYWxsKHIsdGhpcy5fbW91c2VJZCkpP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTppLnBvaW50ZXJJZCYmKChvPShhPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmNhbGwoYSxpLnBvaW50ZXJJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxfKSxoPT09ei5Ub3VjaCYmdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoaCxsKX19LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1pPT57dmFyIHMscixuLGE7aWYoaS5wb2ludGVyVHlwZT09PSJtb3VzZSIpe2NvbnN0IG89dGhpcy5faW5wdXRzW3ouTW91c2VdWzBdO3RoaXMuX21vdXNlSWQ+PTAmJigocj0ocz10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5jYWxsKHMsdGhpcy5fbW91c2VJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCk7Zm9yKGxldCBoPSQuTGVmdENsaWNrO2g8PSQuQnJvd3NlckZvcndhcmQ7aCsrKWlmKG9baF09PT0xKXtvW2hdPTA7Y29uc3QgbD1kaS5DcmVhdGVEZXZpY2VFdmVudCh6Lk1vdXNlLDAsaCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKHouTW91c2UsMCxsKX19ZWxzZXtjb25zdCBvPXRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoaS5wb2ludGVySWQpOyEoKGE9KG49dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGE9PT12b2lkIDApJiZhLmNhbGwobixpLnBvaW50ZXJJZCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5faW5wdXRzW3ouVG91Y2hdW29dWyQuTGVmdENsaWNrXT0wO2NvbnN0IGg9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5Ub3VjaCxvLCQuTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Ub3VjaCxvLGgpLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW29dPS0xLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKHouVG91Y2gsbyl9fSx0aGlzLl93aGVlbEV2ZW50TmFtZT0ib253aGVlbCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8id2hlZWwiOmRvY3VtZW50Lm9ubW91c2V3aGVlbCE9PXZvaWQgMD8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIjtsZXQgZT0hMTtjb25zdCB0PWZ1bmN0aW9uKCl7fTt0cnl7Y29uc3QgaT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtlPSEwfX0pO3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLHQsaSksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKX1jYXRjaHt9dGhpcy5fcG9pbnRlckJsdXJFdmVudD0oKT0+e3ZhciBpLHMscixuLGE7aWYodGhpcy5pc0RldmljZUF2YWlsYWJsZSh6Lk1vdXNlKSl7Y29uc3Qgbz10aGlzLl9pbnB1dHNbei5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKChzPShpPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmNhbGwoaSx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9JC5MZWZ0Q2xpY2s7aDw9JC5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWRpLkNyZWF0ZURldmljZUV2ZW50KHouTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Nb3VzZSwwLGwpfX1pZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKHouVG91Y2gpKXtjb25zdCBvPXRoaXMuX2lucHV0c1t6LlRvdWNoXTtmb3IobGV0IGg9MDtoPHRoaXMuX2FjdGl2ZVRvdWNoSWRzLmxlbmd0aDtoKyspe2NvbnN0IGw9dGhpcy5fYWN0aXZlVG91Y2hJZHNbaF07aWYoISgobj0ocj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4uY2FsbChyLGwpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUobCksbCE9PS0xJiYoKGE9b1toXSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphWyQuTGVmdENsaWNrXSk9PT0xKXtvW2hdWyQuTGVmdENsaWNrXT0wO2NvbnN0IHU9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5Ub3VjaCxoLCQuTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Ub3VjaCxoLHUpLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW2hdPS0xLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKHouVG91Y2gsaCl9fX19LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWk9Pntjb25zdCBzPXouTW91c2Uscj0wO3RoaXMuX2lucHV0c1tzXXx8KHRoaXMuX2lucHV0c1tzXT1bXSksdGhpcy5faW5wdXRzW3NdW3JdfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShzLHIsYnIpKTtjb25zdCBuPXRoaXMuX2lucHV0c1tzXVtyXTtpZihuKXtuWyQuTW91c2VXaGVlbFhdPWkuZGVsdGFYfHwwLG5bJC5Nb3VzZVdoZWVsWV09aS5kZWx0YVl8fGkud2hlZWxEZWx0YXx8MCxuWyQuTW91c2VXaGVlbFpdPWkuZGVsdGFafHwwO2NvbnN0IGE9aTtuWyQuTW91c2VXaGVlbFhdIT09MCYmKGEuaW5wdXRJbmRleD0kLk1vdXNlV2hlZWxYLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSksblskLk1vdXNlV2hlZWxZXSE9PTAmJihhLmlucHV0SW5kZXg9JC5Nb3VzZVdoZWVsWSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bJC5Nb3VzZVdoZWVsWl0hPT0wJiYoYS5pbnB1dEluZGV4PSQuTW91c2VXaGVlbFosdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrIm1vdmUiLHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImRvd24iLHRoaXMuX3BvaW50ZXJEb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrInVwIix0aGlzLl9wb2ludGVyVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiY2FuY2VsIix0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fd2hlZWxFdmVudE5hbWUsdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQsZT97cGFzc2l2ZTohMX06ITEpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9dGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmFkZCgoKT0+e2lmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoei5Nb3VzZSkpe2NvbnN0IGk9dGhpcy5faW5wdXRzW3ouTW91c2VdWzBdO2lbJC5Nb3VzZVdoZWVsWF09MCxpWyQuTW91c2VXaGVlbFldPTAsaVskLk1vdXNlV2hlZWxaXT0wfX0pfV9oYW5kbGVHYW1lcGFkQWN0aW9ucygpe3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1lPT57dGhpcy5fYWRkR2FtZVBhZChlLmdhbWVwYWQpfSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZT0+e2lmKHRoaXMuX2dhbWVwYWRzKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuZ2FtZXBhZC5pZCksaT1lLmdhbWVwYWQuaW5kZXg7dGhpcy5fdW5yZWdpc3RlckRldmljZSh0LGkpLGRlbGV0ZSB0aGlzLl9nYW1lcGFkc1tpXX19LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkZGlzY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQpfV91cGRhdGVEZXZpY2UoZSx0LGkpe2NvbnN0IHM9bmF2aWdhdG9yLmdldEdhbWVwYWRzKClbdF07aWYocyYmZT09PXRoaXMuX2dhbWVwYWRzW3RdKXtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtpPj1zLmJ1dHRvbnMubGVuZ3RoP3JbaV09cy5heGVzW2ktcy5idXR0b25zLmxlbmd0aF0udmFsdWVPZigpOnJbaV09cy5idXR0b25zW2ldLnZhbHVlfX1fZ2V0R2FtZXBhZERldmljZVR5cGUoZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT96LkR1YWxTZW5zZTp6LkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/ei5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/ei5Td2l0Y2g6ei5HZW5lcmljfV9nZXRQb2ludGVyVHlwZShlKXtsZXQgdD16Lk1vdXNlO3JldHVybihlLnBvaW50ZXJUeXBlPT09InRvdWNoInx8ZS5wb2ludGVyVHlwZT09PSJwZW4ifHxlLnRvdWNoZXMpJiYodD16LlRvdWNoKSx0fX1jbGFzcyBTcntjb25zdHJ1Y3RvcihlLHQsaT0wKXt0aGlzLmRldmljZVR5cGU9dCx0aGlzLmRldmljZVNsb3Q9aSx0aGlzLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1lfWdldElucHV0KGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX19Y2xhc3MgRG57Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLl9yZWZDb3VudD0wLHRoaXMucmVnaXN0ZXJNYW5hZ2VyPW49Pntmb3IobGV0IGE9MDthPHRoaXMuX2RldmljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10aGlzLl9kZXZpY2VzW2FdO2Zvcihjb25zdCBoIGluIG8pe2NvbnN0IGw9K2g7bi5fYWRkRGV2aWNlKG5ldyBTcih0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbSxhLGwpKX19dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnB1c2gobil9LHRoaXMudW5yZWdpc3Rlck1hbmFnZXI9bj0+e2NvbnN0IGE9dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLmluZGV4T2Yobik7YT4tMSYmdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnNwbGljZShhLDEpfTtjb25zdCB0PU9iamVjdC5rZXlzKHopLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpO2NvbnN0IGk9KG4sYSk9Pnt0aGlzLl9kZXZpY2VzW25dfHwodGhpcy5fZGV2aWNlc1tuXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbbl1bYV18fCh0aGlzLl9kZXZpY2VzW25dW2FdPWEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycyl7Y29uc3QgaD1uZXcgU3IodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sbixhKTtvLl9hZGREZXZpY2UoaCl9fSxzPShuLGEpPT57dmFyIG87ISgobz10aGlzLl9kZXZpY2VzW25dKT09PW51bGx8fG89PT12b2lkIDApJiZvW2FdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tuXVthXTtmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fcmVtb3ZlRGV2aWNlKG4sYSl9LHI9KG4sYSxvKT0+e2lmKG8pZm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX29uSW5wdXRDaGFuZ2VkKG4sYSxvKX07dHlwZW9mIF9uYXRpdmU8InUiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBJbihpLHMscik6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IFBuKGUsaSxzLHIpfWRpc3Bvc2UoKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9fWNsYXNzIEZue2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXMoeikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkodCksdGhpcy5fZmlyc3REZXZpY2U9bmV3IEFycmF5KHQpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcnx8KHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgRG4oZSkpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQrKyx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgRihpPT57Zm9yKGNvbnN0IHMgb2YgdGhpcy5fZGV2aWNlcylpZihzKWZvcihjb25zdCByIG9mIHMpciYmdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXIoaSxyKX0pLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5yZWdpc3Rlck1hbmFnZXIodGhpcyksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9ZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZGlzcG9zZSgpfSl9Z2V0RGV2aWNlU291cmNlKGUsdCl7aWYodD09PXZvaWQgMCl7aWYodGhpcy5fZmlyc3REZXZpY2VbZV09PT12b2lkIDApcmV0dXJuIG51bGw7dD10aGlzLl9maXJzdERldmljZVtlXX1yZXR1cm4hdGhpcy5fZGV2aWNlc1tlXXx8dGhpcy5fZGV2aWNlc1tlXVt0XT09PXZvaWQgMD9udWxsOnRoaXMuX2RldmljZXNbZV1bdF19Z2V0RGV2aWNlU291cmNlcyhlKXtyZXR1cm4gdGhpcy5fZGV2aWNlc1tlXT90aGlzLl9kZXZpY2VzW2VdLmZpbHRlcih0PT4hIXQpOltdfWRpc3Bvc2UoKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnVucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLC0tdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudDwxJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyKSksdGhpcy5fZW5naW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKX1fYWRkRGV2aWNlKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfV9yZW1vdmVEZXZpY2UoZSx0KXt2YXIgaSxzO2NvbnN0IHI9KGk9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSwhKChzPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cz09PXZvaWQgMCkmJnNbdF0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW2VdW3RdLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlKX1fb25JbnB1dENoYW5nZWQoZSx0LGkpe3ZhciBzLHI7KHI9KHM9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdKT09PW51bGx8fHI9PT12b2lkIDB8fHIub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKX1fdXBkYXRlRmlyc3REZXZpY2VzKGUpe3N3aXRjaChlKXtjYXNlIHouS2V5Ym9hcmQ6Y2FzZSB6Lk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSB6LlRvdWNoOmNhc2Ugei5EdWFsU2Vuc2U6Y2FzZSB6LkR1YWxTaG9jazpjYXNlIHouWGJveDpjYXNlIHouU3dpdGNoOmNhc2Ugei5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07Y29uc3QgdD10aGlzLl9kZXZpY2VzW2VdO2lmKHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0pe3RoaXMuX2ZpcnN0RGV2aWNlW2VdPWk7YnJlYWt9fWJyZWFrfX19fWNsYXNzIHhye2NvbnN0cnVjdG9yKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1nZXQgc2luZ2xlQ2xpY2soKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9Z2V0IGRvdWJsZUNsaWNrKCl7cmV0dXJuIHRoaXMuX2RvdWJsZUNsaWNrfWdldCBoYXNTd2lwZWQoKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfWdldCBpZ25vcmUoKXtyZXR1cm4gdGhpcy5faWdub3JlfXNldCBzaW5nbGVDbGljayhlKXt0aGlzLl9zaW5nbGVDbGljaz1lfXNldCBkb3VibGVDbGljayhlKXt0aGlzLl9kb3VibGVDbGljaz1lfXNldCBoYXNTd2lwZWQoZSl7dGhpcy5faGFzU3dpcGVkPWV9c2V0IGlnbm9yZShlKXt0aGlzLl9pZ25vcmU9ZX19Y2xhc3MgRGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEsdGhpcy5fc2tpcFBvaW50ZXJUYXA9ITEsdGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMSx0aGlzLl9wb2ludGVyWD0wLHRoaXMuX3BvaW50ZXJZPTAsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHZlKDAsMCksdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgdmUoMCwwKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcG9pbnRlckNhcHR1cmVzPXt9LHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZD17fSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCx0aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50PTAsdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX3NjZW5lPWV8fGZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmV9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5fbW92ZVBvaW50ZXJJbmZvJiYodGhpcy5fbW92ZVBvaW50ZXJJbmZvLl9nZW5lcmF0ZVBpY2tJbmZvKCksdGhpcy5fbW92ZVBvaW50ZXJJbmZvPW51bGwpLHRoaXMuX3BvaW50ZXJPdmVyTWVzaH1nZXRNZXNoVW5kZXJQb2ludGVyQnlQb2ludGVySWQoZSl7cmV0dXJuIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFtlXXx8bnVsbH1nZXQgdW5UcmFuc2xhdGVkUG9pbnRlcigpe3JldHVybiBuZXcgdmUodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclkpfWdldCBwb2ludGVyWCgpe3JldHVybiB0aGlzLl9wb2ludGVyWH1zZXQgcG9pbnRlclgoZSl7dGhpcy5fcG9pbnRlclg9ZX1nZXQgcG9pbnRlclkoKXtyZXR1cm4gdGhpcy5fcG9pbnRlcll9c2V0IHBvaW50ZXJZKGUpe3RoaXMuX3BvaW50ZXJZPWV9X3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldElucHV0RWxlbWVudENsaWVudFJlY3QoKTshdHx8KHRoaXMuX3BvaW50ZXJYPWUuY2xpZW50WC10LmxlZnQsdGhpcy5fcG9pbnRlclk9ZS5jbGllbnRZLXQudG9wLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYPXRoaXMuX3BvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZPXRoaXMuX3BvaW50ZXJZKX1fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZSxzPWkuZ2V0RW5naW5lKCkscj1zLmdldElucHV0RWxlbWVudCgpO3ImJihyLnRhYkluZGV4PXMuY2FudmFzVGFiSW5kZXgsaS5kb05vdEhhbmRsZUN1cnNvcnN8fChyLnN0eWxlLmN1cnNvcj1pLmRlZmF1bHRDdXJzb3IpKSx0aGlzLl9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goZSx0LnBvaW50ZXJJZCxpKTtmb3IoY29uc3QgbyBvZiBpLl9wb2ludGVyTW92ZVN0YWdlKXtjb25zdCBoPSEhKGUhPW51bGwmJmUucGlja2VkTWVzaCk7ZT1vLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLGgscil9Y29uc3Qgbj10LmlucHV0SW5kZXg+PSQuTW91c2VXaGVlbFgmJnQuaW5wdXRJbmRleDw9JC5Nb3VzZVdoZWVsWj9UZS5QT0lOVEVSV0hFRUw6VGUuUE9JTlRFUk1PVkU7aS5vblBvaW50ZXJNb3ZlJiYoZT1lfHx0aGlzLl9waWNrTW92ZSh0LnBvaW50ZXJJZCksaS5vblBvaW50ZXJNb3ZlKHQsZSxuKSk7bGV0IGE7ZT8oYT1uZXcgdWkobix0LGUpLHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSk6KGE9bmV3IHVpKG4sdCxudWxsLHRoaXMpLHRoaXMuX21vdmVQb2ludGVySW5mbz1hKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJmkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX1fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7ZSYmaS5fcGlja2luZ0F2YWlsYWJsZSYmKGUucmF5fHwoZS5yYXk9aS5jcmVhdGVQaWNraW5nUmF5KHQub2Zmc2V0WCx0Lm9mZnNldFkseC5JZGVudGl0eSgpLGkuYWN0aXZlQ2FtZXJhKSkpfV9hZGRDYW1lcmFQb2ludGVyT2JzZXJ2ZXIoZSx0KXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudCsrLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKGUsdCl9X3JlbW92ZUNhbWVyYVBvaW50ZXJPYnNlcnZlcihlKXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudC0tLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUucmVtb3ZlKGUpfV9jaGVja0ZvclBpY2tpbmcoKXtyZXR1cm4hISh0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLm9ic2VydmVycy5sZW5ndGg+dGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudHx8dGhpcy5fc2NlbmUub25Qb2ludGVyUGljayl9X2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmUscj1uZXcgQ24oaSx0LHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZKTtyZXR1cm4gZSYmKHIub3JpZ2luYWxQaWNraW5nSW5mbz1lLHIucmF5PWUucmF5LGUub3JpZ2luTWVzaCYmKHIubmVhckludGVyYWN0aW9uUGlja2luZ0luZm89ZSkpLHMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixpKSwhIXIuc2tpcE9uUG9pbnRlck9ic2VydmFibGV9X3BpY2tNb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUsaT10LnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksdC5wb2ludGVyTW92ZVByZWRpY2F0ZSwhMSx0LmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMsdC5wb2ludGVyTW92ZVRyaWFuZ2xlUHJlZGljYXRlKTtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGksZSx0KSxpfV9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goZSx0LGkpe2NvbnN0IHI9aS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKGUucGlja2VkTWVzaCx0LGUpLCFpLmRvTm90SGFuZGxlQ3Vyc29ycyYmciYmdGhpcy5fcG9pbnRlck92ZXJNZXNoKXtjb25zdCBuPXRoaXMuX3BvaW50ZXJPdmVyTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtuJiZuLmhhc1BvaW50ZXJUcmlnZ2VycyYmKHIuc3R5bGUuY3Vyc29yPW4uaG92ZXJDdXJzb3J8fGkuaG92ZXJDdXJzb3IpfX1lbHNlIHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKG51bGwsdCxlKX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVybW92ZSIsdCk7aS5pbnB1dEluZGV4PSQuTW92ZSwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLGksVGUuUE9JTlRFUk1PVkUpJiZ0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUoZSxpKX1zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7aS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLFRlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUsaSl9X3Byb2Nlc3NQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXt0aGlzLl9waWNrZWREb3duTWVzaD1lLnBpY2tlZE1lc2g7Y29uc3Qgbj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYobil7aWYobi5oYXNQaWNrVHJpZ2dlcnMpc3dpdGNoKG4ucHJvY2Vzc1RyaWdnZXIoNSxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKSx0LmJ1dHRvbil7Y2FzZSAwOm4ucHJvY2Vzc1RyaWdnZXIoMixWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDE6bi5wcm9jZXNzVHJpZ2dlcig0LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMjpuLnByb2Nlc3NUcmlnZ2VyKDMsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWt9bi5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJndpbmRvdy5zZXRUaW1lb3V0KCgpPT57Y29uc3QgYT1pLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksbz0+by5pc1BpY2thYmxlJiZvLmlzVmlzaWJsZSYmby5pc1JlYWR5KCkmJm8uYWN0aW9uTWFuYWdlciYmby5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmbz09PXRoaXMuX3BpY2tlZERvd25NZXNoLCExLGkuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7KGE9PW51bGw/dm9pZCAwOmEucGlja2VkTWVzaCkmJm4mJnRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmRGF0ZS5ub3coKS10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPkRlLkxvbmdQcmVzc0RlbGF5JiYhdGhpcy5faXNQb2ludGVyU3dpcGluZygpJiYodGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLG4ucHJvY2Vzc1RyaWdnZXIoOCxWZS5DcmVhdGVOZXcoYS5waWNrZWRNZXNoLHQpKSl9LERlLkxvbmdQcmVzc0RlbGF5KX19ZWxzZSBmb3IoY29uc3QgbiBvZiBpLl9wb2ludGVyRG93blN0YWdlKWU9bi5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0LCExKTtsZXQgcztjb25zdCByPVRlLlBPSU5URVJET1dOO2U/KGkub25Qb2ludGVyRG93biYmaS5vblBvaW50ZXJEb3duKHQsZSxyKSxzPW5ldyB1aShyLHQsZSksdGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpKTpzPW5ldyB1aShyLHQsbnVsbCx0aGlzKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJmkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxyKX1faXNQb2ludGVyU3dpcGluZygpe3JldHVybiB0aGlzLl9pc1N3aXBpbmd9c2ltdWxhdGVQb2ludGVyVXAoZSx0LGkpe2NvbnN0IHM9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcnVwIix0KTtzLmlucHV0SW5kZXg9JC5Nb3ZlO2NvbnN0IHI9bmV3IHhyO2k/ci5kb3VibGVDbGljaz0hMDpyLnNpbmdsZUNsaWNrPSEwLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUscyxUZS5QT0lOVEVSVVApJiZ0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGUscyxyKX1fcHJvY2Vzc1BvaW50ZXJVcChlLHQsaSl7Y29uc3Qgcz10aGlzLl9zY2VuZTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuX3BpY2tlZFVwTWVzaD1lLnBpY2tlZE1lc2gsdGhpcy5fcGlja2VkRG93bk1lc2g9PT10aGlzLl9waWNrZWRVcE1lc2gmJihzLm9uUG9pbnRlclBpY2smJnMub25Qb2ludGVyUGljayh0LGUpLGkuc2luZ2xlQ2xpY2smJiFpLmlnbm9yZSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLm9ic2VydmVycy5sZW5ndGg+dGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudCkpe2NvbnN0IG49VGUuUE9JTlRFUlBJQ0ssYT1uZXcgdWkobix0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSxzLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsbil9Y29uc3Qgcj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYociYmIWkuaWdub3JlKXtyLnByb2Nlc3NUcmlnZ2VyKDcsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKSwhaS5oYXNTd2lwZWQmJmkuc2luZ2xlQ2xpY2smJnIucHJvY2Vzc1RyaWdnZXIoMSxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpO2NvbnN0IG49ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig2KTtpLmRvdWJsZUNsaWNrJiZuJiZuLnByb2Nlc3NUcmlnZ2VyKDYsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKX19ZWxzZSBpZighaS5pZ25vcmUpZm9yKGNvbnN0IHIgb2Ygcy5fcG9pbnRlclVwU3RhZ2UpZT1yLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQsaS5kb3VibGVDbGljayk7aWYodGhpcy5fcGlja2VkRG93bk1lc2gmJnRoaXMuX3BpY2tlZERvd25NZXNoIT09dGhpcy5fcGlja2VkVXBNZXNoKXtjb25zdCByPXRoaXMuX3BpY2tlZERvd25NZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxNik7ciYmci5wcm9jZXNzVHJpZ2dlcigxNixWZS5DcmVhdGVOZXcodGhpcy5fcGlja2VkRG93bk1lc2gsdCkpfWlmKCFpLmlnbm9yZSl7Y29uc3Qgcj1uZXcgdWkoVGUuUE9JTlRFUlVQLHQsZSk7aWYodGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixUZS5QT0lOVEVSVVApLHMub25Qb2ludGVyVXAmJnMub25Qb2ludGVyVXAodCxlLFRlLlBPSU5URVJVUCksIWkuaGFzU3dpcGVkJiYhdGhpcy5fc2tpcFBvaW50ZXJUYXAmJiF0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlKXtsZXQgbj0wO2lmKGkuc2luZ2xlQ2xpY2s/bj1UZS5QT0lOVEVSVEFQOmkuZG91YmxlQ2xpY2smJihuPVRlLlBPSU5URVJET1VCTEVUQVApLG4pe2NvbnN0IGE9bmV3IHVpKG4sdCxlKTtzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobikmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX19fX1pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fc2NlbmUsbj1yLmdldEVuZ2luZSgpO3N8fChzPW4uZ2V0SW5wdXRFbGVtZW50KCkpLHRoaXMuX2FscmVhZHlBdHRhY2hlZCYmdGhpcy5kZXRhY2hDb250cm9sKCkscyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPXMpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IEZuKG4pLHRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyPWE9PntpZighdGhpcy5fbWVzaFBpY2tQcm9jZWVkKXtjb25zdCBvPXIuc2tpcFBvaW50ZXJVcFBpY2tpbmd8fHIuX3JlZ2lzdGVyZWRBY3Rpb25zPT09MCYmIXRoaXMuX2NoZWNrRm9yUGlja2luZygpJiYhci5vblBvaW50ZXJVcD9udWxsOnIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJVcFByZWRpY2F0ZSwhMSxyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO3RoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW8sbyYmKGE9by5oaXQmJm8ucGlja2VkTWVzaD9vLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk6bnVsbCksdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSEwfXJldHVybiBhfSx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2s9KGEsbyxoKT0+eyhEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5EZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkfHxhIT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxvLnNpbmdsZUNsaWNrPSEwLG8uaWdub3JlPSExLGgobyx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpfSx0aGlzLl9pbml0Q2xpY2tFdmVudD0oYSxvLGgsbCk9Pntjb25zdCB1PW5ldyB4cjt0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsO2xldCBkPW51bGwsZj1hLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSUElDSyl8fG8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJQSUNLKXx8YS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJUQVApfHxhLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCk7IWYmJnV0JiYoZD10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihkLHUpLGQmJihmPWQuaGFzUGlja1RyaWdnZXJzKSk7bGV0IF89ITE7aWYoZil7Y29uc3QgRT1oLmJ1dHRvbjtpZih1Lmhhc1N3aXBlZD10aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCksIXUuaGFzU3dpcGVkKXtsZXQgbT0hRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlO218fChtPSFhLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKSYmIW8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJET1VCTEVUQVApLG0mJiF1dC5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKGQsdSksZCYmKG09IWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkpLG0/KERhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPkRlLkRvdWJsZUNsaWNrRGVsYXl8fEUhPT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYodS5zaW5nbGVDbGljaz0hMCxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpLF89ITApOih0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljay5iaW5kKHRoaXMsRSx1LGwpLERlLkRvdWJsZUNsaWNrRGVsYXkpKTtsZXQgdj1hLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCk7IXYmJnV0Lkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGQ9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZCx1KSxkJiYodj1kLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpLHYmJihFPT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkJiZEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZTxEZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPyghdS5oYXNTd2lwZWQmJiF0aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCk/KHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMCx1LmRvdWJsZUNsaWNrPSEwLHUuaWdub3JlPSExLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSYmdGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSx0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKToodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LHRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1FLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT8odGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSx0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxsKHUsdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0KSk6bCh1LHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSksXz0hMCk6KHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9dGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSx0aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9RSkpfX1ffHxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpfSx0aGlzLl9vblBvaW50ZXJNb3ZlPWE9PntpZihhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSwhdGhpcy5faXNTd2lwaW5nJiZ0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQhPT0tMSYmKHRoaXMuX2lzU3dpcGluZz1NYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5EZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR8fE1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnktdGhpcy5fcG9pbnRlclkpPkRlLkRyYWdNb3ZlbWVudFRocmVzaG9sZCksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsYS5pbnB1dEluZGV4Pj0kLk1vdXNlV2hlZWxYJiZhLmlucHV0SW5kZXg8PSQuTW91c2VXaGVlbFo/VGUuUE9JTlRFUldIRUVMOlRlLlBPSU5URVJNT1ZFKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjtpZihyLnNraXBQb2ludGVyTW92ZVBpY2tpbmcpe3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShuZXcgVXQsYSk7cmV0dXJufXIucG9pbnRlck1vdmVQcmVkaWNhdGV8fChyLnBvaW50ZXJNb3ZlUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoaC5lbmFibGVQb2ludGVyTW92ZUV2ZW50c3x8ci5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcnx8aC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKSE9PW51bGwpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpO2NvbnN0IG89ci5fcmVnaXN0ZXJlZEFjdGlvbnM+MD90aGlzLl9waWNrTW92ZShhLnBvaW50ZXJJZCk6bnVsbDt0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUobyxhKX0sdGhpcy5fb25Qb2ludGVyRG93bj1hPT57aWYodGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQrKyx0aGlzLl9waWNrZWREb3duTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSxhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT0tMSYmKHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD1hLmJ1dHRvbiksci5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24mJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3BvaW50ZXJYLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fcG9pbnRlclksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT1EYXRlLm5vdygpLHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJET1dOKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSEwLHIucG9pbnRlckRvd25QcmVkaWNhdGV8fChyLnBvaW50ZXJEb3duUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGw7bGV0IG87ci5za2lwUG9pbnRlckRvd25QaWNraW5nfHxyLl9yZWdpc3RlcmVkQWN0aW9ucz09PTAmJiF0aGlzLl9jaGVja0ZvclBpY2tpbmcoKSYmIXIub25Qb2ludGVyRG93bj9vPW5ldyBVdDpvPXIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyksdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKG8sYSl9LHRoaXMuX29uUG9pbnRlclVwPWE9Pnt0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJih0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZC0tLHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSxhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSxyLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXAmJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9pbml0Q2xpY2tFdmVudChyLm9uUHJlUG9pbnRlck9ic2VydmFibGUsci5vblBvaW50ZXJPYnNlcnZhYmxlLGEsKG8saCk9PntpZihyLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMSwhby5pZ25vcmUpKXtpZih0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxUZS5QT0lOVEVSVVApKXt0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpO3JldHVybn1vLmhhc1N3aXBlZHx8KG8uc2luZ2xlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApLG8uZG91YmxlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJET1VCTEVUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApKX10aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSExLCEoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKSYmKHIucG9pbnRlclVwUHJlZGljYXRlfHwoci5wb2ludGVyVXBQcmVkaWNhdGU9bD0+bC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKSksIXRoaXMuX21lc2hQaWNrUHJvY2VlZCYmKHV0JiZ1dC5IYXNUcmlnZ2Vyc3x8dGhpcy5fY2hlY2tGb3JQaWNraW5nKCl8fHIub25Qb2ludGVyVXApJiZ0aGlzLl9pbml0QWN0aW9uTWFuYWdlcihudWxsLG8pLGh8fChoPXRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSx0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGgsYSxvKSx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9dGhpcy5fY3VycmVudFBpY2tSZXN1bHQsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09YS5idXR0b24mJih0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xKSl9KSl9LHRoaXMuX29uS2V5RG93bj1hPT57Y29uc3Qgbz1KaS5LRVlET1dOO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IF9yKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgQ3MobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE0LFZlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fb25LZXlVcD1hPT57Y29uc3Qgbz1KaS5LRVlVUDtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBfcihvLGEpO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyksaC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHIub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IENzKG8sYSk7ci5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKX1yLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxWZS5DcmVhdGVOZXdGcm9tU2NlbmUocixhKSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChhPT57YS5kZXZpY2VUeXBlPT09ei5Nb3VzZT9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PSQuTGVmdENsaWNrfHxvLmlucHV0SW5kZXg9PT0kLk1pZGRsZUNsaWNrfHxvLmlucHV0SW5kZXg9PT0kLlJpZ2h0Q2xpY2t8fG8uaW5wdXRJbmRleD09PSQuQnJvd3NlckJhY2t8fG8uaW5wdXRJbmRleD09PSQuQnJvd3NlckZvcndhcmQ/dCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pOmkmJihvLmlucHV0SW5kZXg9PT0kLk1vdmU/dGhpcy5fb25Qb2ludGVyTW92ZShvKTooby5pbnB1dEluZGV4PT09JC5Nb3VzZVdoZWVsWHx8by5pbnB1dEluZGV4PT09JC5Nb3VzZVdoZWVsWXx8by5pbnB1dEluZGV4PT09JC5Nb3VzZVdoZWVsWikmJnRoaXMuX29uUG9pbnRlck1vdmUobykpfSk6YS5kZXZpY2VUeXBlPT09ei5Ub3VjaD9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PSQuTGVmdENsaWNrJiYodCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT8odGhpcy5fb25Qb2ludGVyRG93bihvKSx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD4xJiYodGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMCkpOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJih0aGlzLl9vblBvaW50ZXJVcChvKSx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD09PTAmJih0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlPSExKSkpLGkmJm8uaW5wdXRJbmRleD09PSQuTW92ZSYmdGhpcy5fb25Qb2ludGVyTW92ZShvKX0pOmEuZGV2aWNlVHlwZT09PXouS2V5Ym9hcmQmJmEub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by50eXBlPT09ImtleWRvd24iP3RoaXMuX29uS2V5RG93bihvKTpvLnR5cGU9PT0ia2V5dXAiJiZ0aGlzLl9vbktleVVwKG8pfSl9KSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITB9ZGV0YWNoQ29udHJvbCgpe3RoaXMuX2FscmVhZHlBdHRhY2hlZCYmKHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbyYmIXRoaXMuX3NjZW5lLmRvTm90SGFuZGxlQ3Vyc29ycyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvLnN0eWxlLmN1cnNvcj10aGlzLl9zY2VuZS5kZWZhdWx0Q3Vyc29yKSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITEsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89bnVsbCl9c2V0UG9pbnRlck92ZXJNZXNoKGUsdD0wLGkpe2lmKHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT09PWUmJighZXx8IWUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3BvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nKSlyZXR1cm47Y29uc3Qgcz10aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF07bGV0IHI7cyYmKHI9cy5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTApLHImJnIucHJvY2Vzc1RyaWdnZXIoMTAsVmUuQ3JlYXRlTmV3KHMsdm9pZCAwLHtwb2ludGVySWQ6dH0pKSksZT8odGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPWUsdGhpcy5fcG9pbnRlck92ZXJNZXNoPWUscj1lLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig5KSxyJiZyLnByb2Nlc3NUcmlnZ2VyKDksVmUuQ3JlYXRlTmV3KGUsdm9pZCAwLHtwb2ludGVySWQ6dCxwaWNrUmVzdWx0Oml9KSkpOihkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKX1nZXRQb2ludGVyT3Zlck1lc2goKXtyZXR1cm4gdGhpcy5tZXNoVW5kZXJQb2ludGVyfV9pbnZhbGlkYXRlTWVzaChlKXt0aGlzLl9wb2ludGVyT3Zlck1lc2g9PT1lJiYodGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpLHRoaXMuX3BpY2tlZERvd25NZXNoPT09ZSYmKHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGwpLHRoaXMuX3BpY2tlZFVwTWVzaD09PWUmJih0aGlzLl9waWNrZWRVcE1lc2g9bnVsbCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkKXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT09PWUmJmRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF19fURlLkRyYWdNb3ZlbWVudFRocmVzaG9sZD0xMCxEZS5Mb25nUHJlc3NEZWxheT01MDAsRGUuRG91YmxlQ2xpY2tEZWxheT0zMDAsRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPSExO2NsYXNzIHh0e2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMubm9ybWFsPW5ldyBwKGUsdCxpKSx0aGlzLmQ9c31hc0FycmF5KCl7cmV0dXJuW3RoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZF19Y2xvbmUoKXtyZXR1cm4gbmV3IHh0KHRoaXMubm9ybWFsLngsdGhpcy5ub3JtYWwueSx0aGlzLm5vcm1hbC56LHRoaXMuZCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlBsYW5lIn1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMubm9ybWFsLmdldEhhc2hDb2RlKCk7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZHwwKSxlfW5vcm1hbGl6ZSgpe2NvbnN0IGU9TWF0aC5zcXJ0KHRoaXMubm9ybWFsLngqdGhpcy5ub3JtYWwueCt0aGlzLm5vcm1hbC55KnRoaXMubm9ybWFsLnkrdGhpcy5ub3JtYWwueip0aGlzLm5vcm1hbC56KTtsZXQgdD0wO3JldHVybiBlIT09MCYmKHQ9MS9lKSx0aGlzLm5vcm1hbC54Kj10LHRoaXMubm9ybWFsLnkqPXQsdGhpcy5ub3JtYWwueio9dCx0aGlzLmQqPXQsdGhpc310cmFuc2Zvcm0oZSl7Y29uc3QgdD14dC5fVG1wTWF0cml4O2UuaW52ZXJ0VG9SZWYodCk7Y29uc3QgaT10Lm0scz10aGlzLm5vcm1hbC54LHI9dGhpcy5ub3JtYWwueSxuPXRoaXMubm9ybWFsLnosYT10aGlzLmQsbz1zKmlbMF0rcippWzFdK24qaVsyXSthKmlbM10saD1zKmlbNF0rcippWzVdK24qaVs2XSthKmlbN10sbD1zKmlbOF0rcippWzldK24qaVsxMF0rYSppWzExXSx1PXMqaVsxMl0rcippWzEzXStuKmlbMTRdK2EqaVsxNV07cmV0dXJuIG5ldyB4dChvLGgsbCx1KX1kb3RDb29yZGluYXRlKGUpe3JldHVybiB0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueit0aGlzLmR9Y29weUZyb21Qb2ludHMoZSx0LGkpe2NvbnN0IHM9dC54LWUueCxyPXQueS1lLnksbj10LnotZS56LGE9aS54LWUueCxvPWkueS1lLnksaD1pLnotZS56LGw9cipoLW4qbyx1PW4qYS1zKmgsZD1zKm8tciphLGY9TWF0aC5zcXJ0KGwqbCt1KnUrZCpkKTtsZXQgXztyZXR1cm4gZiE9PTA/Xz0xL2Y6Xz0wLHRoaXMubm9ybWFsLng9bCpfLHRoaXMubm9ybWFsLnk9dSpfLHRoaXMubm9ybWFsLno9ZCpfLHRoaXMuZD0tKHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56KSx0aGlzfWlzRnJvbnRGYWNpbmdUbyhlLHQpe3JldHVybiBwLkRvdCh0aGlzLm5vcm1hbCxlKTw9dH1zaWduZWREaXN0YW5jZVRvKGUpe3JldHVybiBwLkRvdChlLHRoaXMubm9ybWFsKSt0aGlzLmR9c3RhdGljIEZyb21BcnJheShlKXtyZXR1cm4gbmV3IHh0KGVbMF0sZVsxXSxlWzJdLGVbM10pfXN0YXRpYyBGcm9tUG9pbnRzKGUsdCxpKXtjb25zdCBzPW5ldyB4dCgwLDAsMCwwKTtyZXR1cm4gcy5jb3B5RnJvbVBvaW50cyhlLHQsaSksc31zdGF0aWMgRnJvbVBvc2l0aW9uQW5kTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgeHQoMCwwLDAsMCk7cmV0dXJuIHQubm9ybWFsaXplKCksaS5ub3JtYWw9dCxpLmQ9LSh0LngqZS54K3QueSplLnkrdC56KmUueiksaX1zdGF0aWMgU2lnbmVkRGlzdGFuY2VUb1BsYW5lRnJvbVBvc2l0aW9uQW5kTm9ybWFsKGUsdCxpKXtjb25zdCBzPS0odC54KmUueCt0LnkqZS55K3QueiplLnopO3JldHVybiBwLkRvdChpLHQpK3N9fXh0Ll9UbXBNYXRyaXg9eC5JZGVudGl0eSgpO2NsYXNzIEV0e3N0YXRpYyBHZXRQbGFuZXMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IGk9MDtpPDY7aSsrKXQucHVzaChuZXcgeHQoMCwwLDAsMCkpO3JldHVybiBFdC5HZXRQbGFuZXNUb1JlZihlLHQpLHR9c3RhdGljIEdldE5lYXJQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMl0sdC5ub3JtYWwueT1pWzddK2lbNl0sdC5ub3JtYWwuej1pWzExXStpWzEwXSx0LmQ9aVsxNV0raVsxNF0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0RmFyUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzJdLHQubm9ybWFsLnk9aVs3XS1pWzZdLHQubm9ybWFsLno9aVsxMV0taVsxMF0sdC5kPWlbMTVdLWlbMTRdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldExlZnRQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMF0sdC5ub3JtYWwueT1pWzddK2lbNF0sdC5ub3JtYWwuej1pWzExXStpWzhdLHQuZD1pWzE1XStpWzEyXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRSaWdodFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVswXSx0Lm5vcm1hbC55PWlbN10taVs0XSx0Lm5vcm1hbC56PWlbMTFdLWlbOF0sdC5kPWlbMTVdLWlbMTJdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFRvcFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVsxXSx0Lm5vcm1hbC55PWlbN10taVs1XSx0Lm5vcm1hbC56PWlbMTFdLWlbOV0sdC5kPWlbMTVdLWlbMTNdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldEJvdHRvbVBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVsxXSx0Lm5vcm1hbC55PWlbN10raVs1XSx0Lm5vcm1hbC56PWlbMTFdK2lbOV0sdC5kPWlbMTVdK2lbMTNdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFBsYW5lc1RvUmVmKGUsdCl7RXQuR2V0TmVhclBsYW5lVG9SZWYoZSx0WzBdKSxFdC5HZXRGYXJQbGFuZVRvUmVmKGUsdFsxXSksRXQuR2V0TGVmdFBsYW5lVG9SZWYoZSx0WzJdKSxFdC5HZXRSaWdodFBsYW5lVG9SZWYoZSx0WzNdKSxFdC5HZXRUb3BQbGFuZVRvUmVmKGUsdFs0XSksRXQuR2V0Qm90dG9tUGxhbmVUb1JlZihlLHRbNV0pfX1jbGFzcyBNcntzdGF0aWMgZ2V0IFVuaXF1ZUlkKCl7Y29uc3QgZT10aGlzLl9VbmlxdWVJZENvdW50ZXI7cmV0dXJuIHRoaXMuX1VuaXF1ZUlkQ291bnRlcisrLGV9fU1yLl9VbmlxdWVJZENvdW50ZXI9MTtjbGFzcyBFZXtzdGF0aWMgQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KGUsdCl7cmV0dXJuIGUuc2hhZG93RW5hYmxlZCE9PXQuc2hhZG93RW5hYmxlZD8odC5zaGFkb3dFbmFibGVkPzE6MCktKGUuc2hhZG93RW5hYmxlZD8xOjApOnQucmVuZGVyUHJpb3JpdHktZS5yZW5kZXJQcmlvcml0eX19RWUuRkFMTE9GRl9ERUZBVUxUPTAsRWUuRkFMTE9GRl9QSFlTSUNBTD0xLEVlLkZBTExPRkZfR0xURj0yLEVlLkZBTExPRkZfU1RBTkRBUkQ9MyxFZS5MSUdIVE1BUF9ERUZBVUxUPTAsRWUuTElHSFRNQVBfU1BFQ1VMQVI9MSxFZS5MSUdIVE1BUF9TSEFET1dTT05MWT0yLEVlLklOVEVOU0lUWU1PREVfQVVUT01BVElDPTAsRWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPTEsRWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT0yLEVlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9MyxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRT00LEVlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9MCxFZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPTEsRWUuTElHSFRUWVBFSURfU1BPVExJR0hUPTIsRWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD0zO3ZhciBDdDsoZnVuY3Rpb24oYyl7Y1tjLkJhY2t3YXJkQ29tcGF0aWJsZT0wXT0iQmFja3dhcmRDb21wYXRpYmxlIixjW2MuSW50ZXJtZWRpYXRlPTFdPSJJbnRlcm1lZGlhdGUiLGNbYy5BZ2dyZXNzaXZlPTJdPSJBZ2dyZXNzaXZlIn0pKEN0fHwoQ3Q9e30pKTtjbGFzcyBuZSBleHRlbmRzIFppe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9pbnB1dE1hbmFnZXI9bmV3IERlKHRoaXMpLHRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycz1udWxsLHRoaXMuX2lzU2NlbmU9ITAsdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uPSExLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsPSEwLHRoaXMuY2xlYXJDb2xvcj1uZXcgZ2UoLjIsLjIsLjMsMSksdGhpcy5hbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmVudmlyb25tZW50SW50ZW5zaXR5PTEsdGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eT1DdC5CYWNrd2FyZENvbXBhdGlibGUsdGhpcy5fZm9yY2VXaXJlZnJhbWU9ITEsdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPSExLHRoaXMuYW5pbWF0aW9uc0VuYWJsZWQ9ITAsdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsdGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT0hMSx0aGlzLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyPSExLHRoaXMuaG92ZXJDdXJzb3I9InBvaW50ZXIiLHRoaXMuZGVmYXVsdEN1cnNvcj0iIix0aGlzLmRvTm90SGFuZGxlQ3Vyc29ycz0hMSx0aGlzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93bj0hMCx0aGlzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXA9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzPW5ldyBBcnJheSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZWFkeU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQ9bmV3IEYsdGhpcy5vbkFjdGl2ZUNhbWVyYXNDaGFuZ2VkPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BbmltYXRpb25GaWxlSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3M9bmV3IGhpKDI1NiksdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSExLHRoaXMuc2tpcFBvaW50ZXJEb3duUGlja2luZz0hMSx0aGlzLnNraXBQb2ludGVyVXBQaWNraW5nPSExLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUG9pbnRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPSExLHRoaXMuX3RpbWVBY2N1bXVsYXRvcj0wLHRoaXMuX2N1cnJlbnRTdGVwSWQ9MCx0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwPTAsdGhpcy5fZm9nRW5hYmxlZD0hMCx0aGlzLl9mb2dNb2RlPW5lLkZPR01PREVfTk9ORSx0aGlzLmZvZ0NvbG9yPW5ldyByZSguMiwuMiwuMyksdGhpcy5mb2dEZW5zaXR5PS4xLHRoaXMuZm9nU3RhcnQ9MCx0aGlzLmZvZ0VuZD0xZTMsdGhpcy5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcz0hMSx0aGlzLl9zaGFkb3dzRW5hYmxlZD0hMCx0aGlzLl9saWdodHNFbmFibGVkPSEwLHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5waHlzaWNzRW5hYmxlZD0hMCx0aGlzLnBhcnRpY2xlc0VuYWJsZWQ9ITAsdGhpcy5zcHJpdGVzRW5hYmxlZD0hMCx0aGlzLl9za2VsZXRvbnNFbmFibGVkPSEwLHRoaXMubGVuc0ZsYXJlc0VuYWJsZWQ9ITAsdGhpcy5jb2xsaXNpb25zRW5hYmxlZD0hMCx0aGlzLmdyYXZpdHk9bmV3IHAoMCwtOS44MDcsMCksdGhpcy5wb3N0UHJvY2Vzc2VzRW5hYmxlZD0hMCx0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkPSEwLHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cz1uZXcgQXJyYXksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnByb2Jlc0VuYWJsZWQ9ITAsdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucz1uZXcgaGkoMjU2KSx0aGlzLnByb2NlZHVyYWxUZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5fdG90YWxWZXJ0aWNlcz1uZXcgUnQsdGhpcy5fYWN0aXZlSW5kaWNlcz1uZXcgUnQsdGhpcy5fYWN0aXZlUGFydGljbGVzPW5ldyBSdCx0aGlzLl9hY3RpdmVCb25lcz1uZXcgUnQsdGhpcy5fYW5pbWF0aW9uVGltZT0wLHRoaXMuYW5pbWF0aW9uVGltZVNjYWxlPTEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLHRoaXMuX3ZpZXdVcGRhdGVGbGFnPS0xLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xLHRoaXMuX3RvQmVEaXNwb3NlZD1uZXcgQXJyYXkoMjU2KSx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5fcGVuZGluZ0RhdGE9bmV3IEFycmF5LHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzPSExLHRoaXMuX2FjdGl2ZU1lc2hlcz1uZXcgUWUoMjU2KSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHM9bmV3IFFlKDI1NiksdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgaGkoMjU2KSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzPW5ldyBoaSgyNTYpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcz1uZXcgUWUoMjU2KSx0aGlzLl9hY3RpdmVTa2VsZXRvbnM9bmV3IGhpKDMyKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXM9bmV3IGhpKDMyKSx0aGlzLl9hY3RpdmVBbmltYXRhYmxlcz1uZXcgQXJyYXksdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMucmVxdWlyZUxpZ2h0U29ydGluZz0hMSx0aGlzLl9jb21wb25lbnRzPVtdLHRoaXMuX3NlcmlhbGl6YWJsZUNvbXBvbmVudHM9W10sdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cz1bXSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlckNhbWVyYVBvc3RQcm9jZXNzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXRQb3N0UHJvY2Vzc1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyRG93blN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJVcFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkPW51bGwsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPSExLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9ITEsdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT0hMSx0aGlzLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvcj0hMCx0aGlzLmdldERldGVybWluaXN0aWNGcmFtZVRpbWU9KCk9PnRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLHRoaXMuX3JlZ2lzdGVyZWRBY3Rpb25zPTAsdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPSExLHRoaXMuX3BlcmZDb2xsZWN0b3I9bnVsbCx0aGlzLmFjdGl2ZUNhbWVyYXM9bmV3IEFycmF5O2NvbnN0IGk9e3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITEsLi4udH07dGhpcy5fZW5naW5lPWV8fGZlLkxhc3RDcmVhdGVkRW5naW5lLGkudmlydHVhbD90aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMucHVzaCh0aGlzKTooZmUuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcyx0aGlzLl9lbmdpbmUuc2NlbmVzLnB1c2godGhpcykpLHRoaXMuX3VpZD1udWxsLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IFdlKHRoaXMpLCRpJiYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXI9bmV3ICRpKHRoaXMpKSxqZSgpJiZ0aGlzLmF0dGFjaENvbnRyb2woKSx0aGlzLl9jcmVhdGVVYm8oKSxtZSYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249bmV3IG1lKSx0aGlzLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKSxpLnVzZUdlb21ldHJ5VW5pcXVlSWRzTWFwJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9e30pLHRoaXMudXNlTWF0ZXJpYWxNZXNoTWFwPWkudXNlTWF0ZXJpYWxNZXNoTWFwLHRoaXMudXNlQ2xvbmVkTWVzaE1hcD1pLnVzZUNsb25lZE1lc2hNYXAsKCF0fHwhdC52aXJ0dWFsKSYmdGhpcy5fZW5naW5lLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXN0YXRpYyBEZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KGUpe3Rocm93IFEoIlN0YW5kYXJkTWF0ZXJpYWwiKX1zdGF0aWMgQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCl7dGhyb3cgUSgiRGVmYXVsdENvbGxpc2lvbkNvb3JkaW5hdG9yIil9Z2V0IGVudmlyb25tZW50VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9c2V0IGVudmlyb25tZW50VGV4dHVyZShlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmUhPT1lJiYodGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9Z2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbn1nZXQgcGVyZm9ybWFuY2VQcmlvcml0eSgpe3JldHVybiB0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5fXNldCBwZXJmb3JtYW5jZVByaW9yaXR5KGUpe2lmKGUhPT10aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5KXN3aXRjaCh0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5PWUsZSl7Y2FzZSBDdC5CYWNrd2FyZENvbXBhdGlibGU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSExLHRoaXMuYXV0b0NsZWFyPSEwO2JyZWFrO2Nhc2UgQ3QuSW50ZXJtZWRpYXRlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMCx0aGlzLmF1dG9DbGVhcj0hMTticmVhaztjYXNlIEN0LkFnZ3Jlc3NpdmU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSEwLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITAsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSEwLHRoaXMuYXV0b0NsZWFyPSExO2JyZWFrfX1zZXQgZm9yY2VXaXJlZnJhbWUoZSl7dGhpcy5fZm9yY2VXaXJlZnJhbWUhPT1lJiYodGhpcy5fZm9yY2VXaXJlZnJhbWU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvcmNlV2lyZWZyYW1lKCl7cmV0dXJuIHRoaXMuX2ZvcmNlV2lyZWZyYW1lfXNldCBza2lwRnJ1c3R1bUNsaXBwaW5nKGUpe3RoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmchPT1lJiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz1lKX1nZXQgc2tpcEZydXN0dW1DbGlwcGluZygpe3JldHVybiB0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfXNldCBmb3JjZVBvaW50c0Nsb3VkKGUpe3RoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQhPT1lJiYodGhpcy5fZm9yY2VQb2ludHNDbG91ZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9yY2VQb2ludHNDbG91ZCgpe3JldHVybiB0aGlzLl9mb3JjZVBvaW50c0Nsb3VkfWdldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfXNldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1zZXQgYmVmb3JlUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSxlJiYodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBhZnRlclJlbmRlcihlKXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksZSYmKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSl9c2V0IGJlZm9yZUNhbWVyYVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IGFmdGVyQ2FtZXJhUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHVuVHJhbnNsYXRlZFBvaW50ZXIoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnVuVHJhbnNsYXRlZFBvaW50ZXJ9c3RhdGljIGdldCBEcmFnTW92ZW1lbnRUaHJlc2hvbGQoKXtyZXR1cm4gRGUuRHJhZ01vdmVtZW50VGhyZXNob2xkfXN0YXRpYyBzZXQgRHJhZ01vdmVtZW50VGhyZXNob2xkKGUpe0RlLkRyYWdNb3ZlbWVudFRocmVzaG9sZD1lfXN0YXRpYyBnZXQgTG9uZ1ByZXNzRGVsYXkoKXtyZXR1cm4gRGUuTG9uZ1ByZXNzRGVsYXl9c3RhdGljIHNldCBMb25nUHJlc3NEZWxheShlKXtEZS5Mb25nUHJlc3NEZWxheT1lfXN0YXRpYyBnZXQgRG91YmxlQ2xpY2tEZWxheSgpe3JldHVybiBEZS5Eb3VibGVDbGlja0RlbGF5fXN0YXRpYyBzZXQgRG91YmxlQ2xpY2tEZWxheShlKXtEZS5Eb3VibGVDbGlja0RlbGF5PWV9c3RhdGljIGdldCBFeGNsdXNpdmVEb3VibGVDbGlja01vZGUoKXtyZXR1cm4gRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlfXN0YXRpYyBzZXQgRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlKGUpe0RlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT1lfWJpbmRFeWVQb3NpdGlvbihlLHQ9InZFeWVQb3NpdGlvbiIsaT0hMSl7dmFyIHM7Y29uc3Qgcj10aGlzLl9mb3JjZWRWaWV3UG9zaXRpb24/dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uOnRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbjoocz10aGlzLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbikhPT1udWxsJiZzIT09dm9pZCAwP3M6dGhpcy5hY3RpdmVDYW1lcmEuZGV2aWNlUG9zaXRpb24sbj10aGlzLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09KHRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24hPW51bGwpO3JldHVybiBELlZlY3RvcjRbMF0uc2V0KHIueCxyLnksci56LG4/LTE6MSksZSYmKGk/ZS5zZXRGbG9hdDModCxELlZlY3RvcjRbMF0ueCxELlZlY3RvcjRbMF0ueSxELlZlY3RvcjRbMF0ueik6ZS5zZXRWZWN0b3I0KHQsRC5WZWN0b3I0WzBdKSksRC5WZWN0b3I0WzBdfWZpbmFsaXplU2NlbmVVYm8oKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksdD10aGlzLmJpbmRFeWVQb3NpdGlvbihudWxsKTtyZXR1cm4gZS51cGRhdGVGbG9hdDQoInZFeWVQb3NpdGlvbiIsdC54LHQueSx0LnosdC53KSxlLnVwZGF0ZSgpLGV9c2V0IHVzZVJpZ2h0SGFuZGVkU3lzdGVtKGUpe3RoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtIT09ZSYmKHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCB1c2VSaWdodEhhbmRlZFN5c3RlbSgpe3JldHVybiB0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbX1zZXRTdGVwSWQoZSl7dGhpcy5fY3VycmVudFN0ZXBJZD1lfWdldFN0ZXBJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50U3RlcElkfWdldEludGVybmFsU3RlcCgpe3JldHVybiB0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwfXNldCBmb2dFbmFibGVkKGUpe3RoaXMuX2ZvZ0VuYWJsZWQhPT1lJiYodGhpcy5fZm9nRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfXNldCBmb2dNb2RlKGUpe3RoaXMuX2ZvZ01vZGUhPT1lJiYodGhpcy5fZm9nTW9kZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9nTW9kZSgpe3JldHVybiB0aGlzLl9mb2dNb2RlfWdldCBwcmVQYXNzKCl7cmV0dXJuISF0aGlzLnByZVBhc3NSZW5kZXJlciYmdGhpcy5wcmVQYXNzUmVuZGVyZXIuZGVmYXVsdFJULmVuYWJsZWR9c2V0IHNoYWRvd3NFbmFibGVkKGUpe3RoaXMuX3NoYWRvd3NFbmFibGVkIT09ZSYmKHRoaXMuX3NoYWRvd3NFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9Z2V0IHNoYWRvd3NFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFbmFibGVkfXNldCBsaWdodHNFbmFibGVkKGUpe3RoaXMuX2xpZ2h0c0VuYWJsZWQhPT1lJiYodGhpcy5fbGlnaHRzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfWdldCBsaWdodHNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2xpZ2h0c0VuYWJsZWR9Z2V0IGFjdGl2ZUNhbWVyYXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQ2FtZXJhc31zZXQgYWN0aXZlQ2FtZXJhcyhlKXt0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzJiYodGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcygpLHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9bnVsbCksZSYmKHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9UXMoZSwoKT0+e3RoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcyl9KSksdGhpcy5fYWN0aXZlQ2FtZXJhcz1lfWdldCBhY3RpdmVDYW1lcmEoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQ2FtZXJhfXNldCBhY3RpdmVDYW1lcmEoZSl7ZSE9PXRoaXMuX2FjdGl2ZUNhbWVyYSYmKHRoaXMuX2FjdGl2ZUNhbWVyYT1lLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh0aGlzKSl9Z2V0IGRlZmF1bHRNYXRlcmlhbCgpe3JldHVybiB0aGlzLl9kZWZhdWx0TWF0ZXJpYWx8fCh0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9bmUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeSh0aGlzKSksdGhpcy5fZGVmYXVsdE1hdGVyaWFsfXNldCBkZWZhdWx0TWF0ZXJpYWwoZSl7dGhpcy5fZGVmYXVsdE1hdGVyaWFsPWV9c2V0IHRleHR1cmVzRW5hYmxlZChlKXt0aGlzLl90ZXh0dXJlc0VuYWJsZWQhPT1lJiYodGhpcy5fdGV4dHVyZXNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9Z2V0IHRleHR1cmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLl90ZXh0dXJlc0VuYWJsZWR9c2V0IHNrZWxldG9uc0VuYWJsZWQoZSl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCE9PWUmJih0aGlzLl9za2VsZXRvbnNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg4KSl9Z2V0IHNrZWxldG9uc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2tlbGV0b25zRW5hYmxlZH1nZXQgY29sbGlzaW9uQ29vcmRpbmF0b3IoKXtyZXR1cm4gdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J8fCh0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcj1uZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvci5pbml0KHRoaXMpKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcn1nZXQgcmVuZGVyaW5nTWFuYWdlcigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyfWdldCBmcnVzdHVtUGxhbmVzKCl7cmV0dXJuIHRoaXMuX2ZydXN0dW1QbGFuZXN9X3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpe2lmKHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPjApe2Zvcihjb25zdCBlIG9mIHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMpZS5yZWdpc3RlcigpO3RoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPTB9fV9hZGRDb21wb25lbnQoZSl7dGhpcy5fY29tcG9uZW50cy5wdXNoKGUpLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMucHVzaChlKTtjb25zdCB0PWU7dC5hZGRGcm9tQ29udGFpbmVyJiZ0LnNlcmlhbGl6ZSYmdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cy5wdXNoKHQpfV9nZXRDb21wb25lbnQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY29tcG9uZW50cylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWdldENsYXNzTmFtZSgpe3JldHVybiJTY2VuZSJ9X2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcygpe3JldHVybiB0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXMuZGF0YT10aGlzLm1lc2hlcyx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXMubGVuZ3RoPXRoaXMubWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXN9X2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcyhlKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmRhdGE9ZS5zdWJNZXNoZXMsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmxlbmd0aD1lLnN1Yk1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzfXNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKXt0aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpfWdldCBtZXNoVW5kZXJQb2ludGVyKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5tZXNoVW5kZXJQb2ludGVyfWdldCBwb2ludGVyWCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclh9c2V0IHBvaW50ZXJYKGUpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlcll9c2V0IHBvaW50ZXJZKGUpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWT1lfWdldENhY2hlZE1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2NhY2hlZE1hdGVyaWFsfWdldENhY2hlZEVmZmVjdCgpe3JldHVybiB0aGlzLl9jYWNoZWRFZmZlY3R9Z2V0Q2FjaGVkVmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9jYWNoZWRWaXNpYmlsaXR5fWlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkKGUsdCxpPTEpe3JldHVybiB0aGlzLl9jYWNoZWRFZmZlY3QhPT10fHx0aGlzLl9jYWNoZWRNYXRlcmlhbCE9PWV8fHRoaXMuX2NhY2hlZFZpc2liaWxpdHkhPT1pfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzLmN1cnJlbnR9Z2V0IHRvdGFsVmVydGljZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzfWdldEFjdGl2ZUluZGljZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlcy5jdXJyZW50fWdldCB0b3RhbEFjdGl2ZUluZGljZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzfWdldEFjdGl2ZVBhcnRpY2xlcygpe3JldHVybiB0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuY3VycmVudH1nZXQgYWN0aXZlUGFydGljbGVzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzfWdldEFjdGl2ZUJvbmVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzLmN1cnJlbnR9Z2V0IGFjdGl2ZUJvbmVzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXN9Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31nZXRBbmltYXRpb25SYXRpbygpe3JldHVybiB0aGlzLl9hbmltYXRpb25SYXRpbyE9PXZvaWQgMD90aGlzLl9hbmltYXRpb25SYXRpbzoxfWdldFJlbmRlcklkKCl7cmV0dXJuIHRoaXMuX3JlbmRlcklkfWdldEZyYW1lSWQoKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH1pbmNyZW1lbnRSZW5kZXJJZCgpe3RoaXMuX3JlbmRlcklkKyt9X2NyZWF0ZVVibygpe3RoaXMuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCkpfXNpbXVsYXRlUG9pbnRlck1vdmUoZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlck1vdmUoZSx0KSx0aGlzfXNpbXVsYXRlUG9pbnRlckRvd24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlckRvd24oZSx0KSx0aGlzfXNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKSx0aGlzfWlzUG9pbnRlckNhcHR1cmVkKGU9MCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5pc1BvaW50ZXJDYXB0dXJlZChlKX1hdHRhY2hDb250cm9sKGU9ITAsdD0hMCxpPSEwKXt0aGlzLl9pbnB1dE1hbmFnZXIuYXR0YWNoQ29udHJvbChlLHQsaSl9ZGV0YWNoQ29udHJvbCgpe3RoaXMuX2lucHV0TWFuYWdlci5kZXRhY2hDb250cm9sKCl9aXNSZWFkeShlPSEwKXtpZih0aGlzLl9pc0Rpc3Bvc2VkKXJldHVybiExO2xldCB0O2NvbnN0IGk9dGhpcy5nZXRFbmdpbmUoKTtsZXQgcz0hMDtmb3IodGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjAmJihzPSExKSxlJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpKSx0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKXtjb25zdCByPXRoaXMubWVzaGVzW3RdO2lmKCFyLnN1Yk1lc2hlc3x8ci5zdWJNZXNoZXMubGVuZ3RoPT09MCljb250aW51ZTtpZighci5pc1JlYWR5KCEwKSl7cz0hMTtjb250aW51ZX1jb25zdCBuPXIuaGFzVGhpbkluc3RhbmNlc3x8ci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRNZXNoInx8ci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHxpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJnIuaW5zdGFuY2VzLmxlbmd0aD4wO2Zvcihjb25zdCBvIG9mIHRoaXMuX2lzUmVhZHlGb3JNZXNoU3RhZ2Upby5hY3Rpb24ocixuKXx8KHM9ITEpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IGE9ci5tYXRlcmlhbHx8dGhpcy5kZWZhdWx0TWF0ZXJpYWw7aWYoYSlpZihhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBvIG9mIHIuc3ViTWVzaGVzKXtjb25zdCBoPW8uZ2V0TWF0ZXJpYWwoKTtoJiZoLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZoLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihoKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goaCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoaC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9ZWxzZSBhLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZhLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihhKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goYSksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoYS5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9aWYoIXN8fCFpLmFyZUFsbEVmZmVjdHNSZWFkeSgpKXJldHVybiExO2lmKGUpe2Zvcih0PTA7dDx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmxlbmd0aDsrK3QpaWYoIXRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGF0YVt0XS5pc1JlYWR5Rm9yUmVuZGVyaW5nKCkpcmV0dXJuITF9Zm9yKHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuITE7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApe2Zvcihjb25zdCByIG9mIHRoaXMuYWN0aXZlQ2FtZXJhcylpZighci5pc1JlYWR5KCEwKSlyZXR1cm4hMX1lbHNlIGlmKHRoaXMuYWN0aXZlQ2FtZXJhJiYhdGhpcy5hY3RpdmVDYW1lcmEuaXNSZWFkeSghMCkpcmV0dXJuITE7Zm9yKGNvbnN0IHIgb2YgdGhpcy5wYXJ0aWNsZVN5c3RlbXMpaWYoIXIuaXNSZWFkeSgpKXJldHVybiExO3JldHVybiEwfXJlc2V0Q2FjaGVkTWF0ZXJpYWwoKXt0aGlzLl9jYWNoZWRNYXRlcmlhbD1udWxsLHRoaXMuX2NhY2hlZEVmZmVjdD1udWxsLHRoaXMuX2NhY2hlZFZpc2liaWxpdHk9bnVsbH1yZWdpc3RlckJlZm9yZVJlbmRlcihlKXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9dW5yZWdpc3RlckJlZm9yZVJlbmRlcihlKXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKX1yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpfXVucmVnaXN0ZXJBZnRlclJlbmRlcihlKXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpfV9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKXtjb25zdCB0PSgpPT57ZSgpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXIodCl9KX07dGhpcy5yZWdpc3RlckJlZm9yZVJlbmRlcih0KX1leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlLHQpe3QhPT12b2lkIDA/c2V0VGltZW91dCgoKT0+e3RoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpfSx0KTp0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKX1hZGRQZW5kaW5nRGF0YShlKXt0aGlzLl9wZW5kaW5nRGF0YS5wdXNoKGUpfXJlbW92ZVBlbmRpbmdEYXRhKGUpe2NvbnN0IHQ9dGhpcy5pc0xvYWRpbmcsaT10aGlzLl9wZW5kaW5nRGF0YS5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5fcGVuZGluZ0RhdGEuc3BsaWNlKGksMSksdCYmIXRoaXMuaXNMb2FkaW5nJiZ0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldFdhaXRpbmdJdGVtc0NvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aH1nZXQgaXNMb2FkaW5nKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aD4wfWV4ZWN1dGVXaGVuUmVhZHkoZSx0PSExKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmFkZE9uY2UoZSksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD09PW51bGwmJnRoaXMuX2NoZWNrSXNSZWFkeSh0KX13aGVuUmVhZHlBc3luYyhlPSExKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3QoKX0sZSl9KX1fY2hlY2tJc1JlYWR5KGU9ITEpe2lmKHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuaXNSZWFkeShlKSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59aWYodGhpcy5faXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59dGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT57dGhpcy5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuX2NoZWNrSXNSZWFkeShlKX0sMTAwKX1nZXQgYW5pbWF0YWJsZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQW5pbWF0YWJsZXN9cmVzZXRMYXN0QW5pbWF0aW9uVGltZUZyYW1lKCl7dGhpcy5fYW5pbWF0aW9uVGltZUxhc3Q9YWkuTm93fWdldFZpZXdNYXRyaXgoKXtyZXR1cm4gdGhpcy5fdmlld01hdHJpeH1nZXRQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1zZXRUcmFuc2Zvcm1NYXRyaXgoZSx0LGkscyl7IWkmJiFzJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmKHRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz1udWxsKSwhKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPT09ZS51cGRhdGVGbGFnJiZ0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz09PXQudXBkYXRlRmxhZykmJih0aGlzLl92aWV3VXBkYXRlRmxhZz1lLnVwZGF0ZUZsYWcsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3ZpZXdNYXRyaXg9ZSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PXQsdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9mcnVzdHVtUGxhbmVzP0V0LkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPUV0LkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby51c2VVYm8/dGhpcy5fdXBkYXRlTXVsdGl2aWV3VWJvKGkscyk6dGhpcy5fc2NlbmVVYm8udXNlVWJvJiYodGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXciLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCkpKX1nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKXtyZXR1cm4gdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8/dGhpcy5fbXVsdGl2aWV3U2NlbmVVYm86dGhpcy5fc2NlbmVVYm99Y3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGUpe2NvbnN0IHQ9bmV3IFYodGhpcy5fZW5naW5lLHZvaWQgMCwhMSxlIT1udWxsP2U6InNjZW5lIik7cmV0dXJuIHQuYWRkVW5pZm9ybSgidmlld1Byb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZpZXciLDE2KSx0LmFkZFVuaWZvcm0oInByb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZFeWVQb3NpdGlvbiIsNCksdH1zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZSl7dGhpcy5fc2NlbmVVYm89ZSx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMX1nZXRVbmlxdWVJZCgpe3JldHVybiBNci5VbmlxdWVJZH1hZGRNZXNoKGUsdD0hMSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tZXNoZXMucHVzaChlKSxlLl9yZXN5bmNMaWdodFNvdXJjZXMoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0JiZlLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChpPT57dGhpcy5hZGRNZXNoKGkpfSkpfXJlbW92ZU1lc2goZSx0PSExKXtjb25zdCBpPXRoaXMubWVzaGVzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMSYmKHRoaXMubWVzaGVzW2ldPXRoaXMubWVzaGVzW3RoaXMubWVzaGVzLmxlbmd0aC0xXSx0aGlzLm1lc2hlcy5wb3AoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX2lucHV0TWFuYWdlci5faW52YWxpZGF0ZU1lc2goZSksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2gocz0+e3RoaXMucmVtb3ZlTWVzaChzKX0pLGl9YWRkVHJhbnNmb3JtTm9kZShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fGUuZ2V0U2NlbmUoKT09PXRoaXMmJmUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXkhPT0tMXx8KGUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgsdGhpcy50cmFuc2Zvcm1Ob2Rlcy5wdXNoKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1yZW1vdmVUcmFuc2Zvcm1Ob2RlKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZih0IT09LTEpe2lmKHQhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMudHJhbnNmb3JtTm9kZXNbdGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMV07dGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XT1pLGkuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dH1lLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PS0xLHRoaXMudHJhbnNmb3JtTm9kZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpfXJldHVybiB0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZVNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5za2VsZXRvbnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHQsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHR9cmVtb3ZlTW9ycGhUYXJnZXRNYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnNwbGljZSh0LDEpLHR9cmVtb3ZlTGlnaHQoZSl7Y29uc3QgdD10aGlzLmxpZ2h0cy5pbmRleE9mKGUpO2lmKHQhPT0tMSl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5tZXNoZXMpaS5fcmVtb3ZlTGlnaHRTb3VyY2UoZSwhMSk7dGhpcy5saWdodHMuc3BsaWNlKHQsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlQ2FtZXJhKGUpe2NvbnN0IHQ9dGhpcy5jYW1lcmFzLmluZGV4T2YoZSk7aWYodCE9PS0xJiYodGhpcy5jYW1lcmFzLnNwbGljZSh0LDEpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5hY3RpdmVDYW1lcmFzKXtjb25zdCBpPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShpLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PWUmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVQYXJ0aWNsZVN5c3RlbShlKXtjb25zdCB0PXRoaXMucGFydGljbGVTeXN0ZW1zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMucGFydGljbGVTeXN0ZW1zLnNwbGljZSh0LDEpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcykpLHR9cmVtb3ZlQW5pbWF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25zLnNwbGljZSh0LDEpLHR9c3RvcEFuaW1hdGlvbihlLHQsaSl7fXJlbW92ZUFuaW1hdGlvbkdyb3VwKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25Hcm91cHMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLmFuaW1hdGlvbkdyb3Vwcy5zcGxpY2UodCwxKSx0fXJlbW92ZU11bHRpTWF0ZXJpYWwoZSl7Y29uc3QgdD10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UodCwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZU1hdGVyaWFsKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheTtpZih0IT09LTEmJnQ8dGhpcy5tYXRlcmlhbHMubGVuZ3RoKXtpZih0IT09dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3RdPWksaS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10fWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUFjdGlvbk1hbmFnZXIoZSl7Y29uc3QgdD10aGlzLmFjdGlvbk1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hY3Rpb25NYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLnRleHR1cmVzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fWFkZExpZ2h0KGUpe2lmKCF0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24pe3RoaXMubGlnaHRzLnB1c2goZSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tZXNoZXMpdC5saWdodFNvdXJjZXMuaW5kZXhPZihlKT09PS0xJiYodC5saWdodFNvdXJjZXMucHVzaChlKSx0Ll9yZXN5bmNMaWdodFNvdXJjZXMoKSk7dGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX19c29ydExpZ2h0c0J5UHJpb3JpdHkoKXt0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmcmJnRoaXMubGlnaHRzLnNvcnQoRWUuQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KX1hZGRDYW1lcmEoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2goZSksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9YWRkU2tlbGV0b24oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5za2VsZXRvbnMucHVzaChlKSx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRQYXJ0aWNsZVN5c3RlbShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMucGFydGljbGVTeXN0ZW1zLnB1c2goZSl9YWRkQW5pbWF0aW9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2goZSl9YWRkQW5pbWF0aW9uR3JvdXAoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5wdXNoKGUpfWFkZE11bHRpTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tdWx0aU1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCx0aGlzLm1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1vcnBoVGFyZ2V0TWFuYWdlcihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5wdXNoKGUpfWFkZEdlb21ldHJ5KGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aCksdGhpcy5nZW9tZXRyaWVzLnB1c2goZSkpfWFkZEFjdGlvbk1hbmFnZXIoZSl7dGhpcy5hY3Rpb25NYW5hZ2Vycy5wdXNoKGUpfWFkZFRleHR1cmUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy50ZXh0dXJlcy5wdXNoKGUpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c3dpdGNoQWN0aXZlQ2FtZXJhKGUsdD0hMCl7IXRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKXx8KHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5kZXRhY2hDb250cm9sKCksdGhpcy5hY3RpdmVDYW1lcmE9ZSx0JiZlLmF0dGFjaENvbnRyb2woKSl9c2V0QWN0aXZlQ2FtZXJhQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlJZChlKTtyZXR1cm4gdD8odGhpcy5hY3RpdmVDYW1lcmE9dCx0KTpudWxsfXNldEFjdGl2ZUNhbWVyYUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKGUpO3JldHVybiB0Pyh0aGlzLmFjdGl2ZUNhbWVyYT10LHQpOm51bGx9Z2V0QW5pbWF0aW9uR3JvdXBCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7dCsrKWlmKHRoaXMuYW5pbWF0aW9uR3JvdXBzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmFuaW1hdGlvbkdyb3Vwc1t0XTtyZXR1cm4gbnVsbH1fZ2V0TWF0ZXJpYWwoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5tYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31pZihlKWZvcihsZXQgaT0wO2k8dGhpcy5tdWx0aU1hdGVyaWFscy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMubXVsdGlNYXRlcmlhbHNbaV07aWYodChzKSlyZXR1cm4gc31yZXR1cm4gbnVsbH1nZXRNYXRlcmlhbEJ5VW5pcXVlSUQoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLnVuaXF1ZUlkPT09ZSl9Z2V0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5pZD09PWUpfWdldE1hdGVyaWFsQnlOYW1lKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS5uYW1lPT09ZSl9Z2V0TGFzdE1hdGVyaWFsQnlJZChlLHQ9ITEpe2ZvcihsZXQgaT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMTtpPj0wO2ktLSlpZih0aGlzLm1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW2ldO2lmKHQpe2ZvcihsZXQgaT10aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubXVsdGlNYXRlcmlhbHNbaV0uaWQ9PT1lKXJldHVybiB0aGlzLm11bHRpTWF0ZXJpYWxzW2ldfXJldHVybiBudWxsfWdldFRleHR1cmVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKWlmKHRoaXMudGV4dHVyZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRleHR1cmVzW3RdO3JldHVybiBudWxsfWdldFRleHR1cmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0KyspaWYodGhpcy50ZXh0dXJlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy50ZXh0dXJlc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Qm9uZUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10uaWQ9PT1lKXJldHVybiBpLmJvbmVzW3NdfXJldHVybiBudWxsfWdldEJvbmVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc2tlbGV0b25zW3RdO2ZvcihsZXQgcz0wO3M8aS5ib25lcy5sZW5ndGg7cysrKWlmKGkuYm9uZXNbc10ubmFtZT09PWUpcmV0dXJuIGkuYm9uZXNbc119cmV0dXJuIG51bGx9Z2V0TGlnaHRCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRMaWdodEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0TGlnaHRCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldFBhcnRpY2xlU3lzdGVtQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDt0KyspaWYodGhpcy5wYXJ0aWNsZVN5c3RlbXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnBhcnRpY2xlU3lzdGVtc1t0XTtyZXR1cm4gbnVsbH1nZXRHZW9tZXRyeUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF07cmV0dXJuIG51bGx9X2dldEdlb21ldHJ5QnlVbmlxdWVJZChlKXtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7Y29uc3QgdD10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF19ZWxzZSBmb3IobGV0IHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XTtyZXR1cm4gbnVsbH1wdXNoR2VvbWV0cnkoZSx0KXtyZXR1cm4hdCYmdGhpcy5fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKGUudW5pcXVlSWQpPyExOih0aGlzLmFkZEdlb21ldHJ5KGUpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITApfXJlbW92ZUdlb21ldHJ5KGUpe2xldCB0O2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtpZih0PXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdLHQ9PT12b2lkIDApcmV0dXJuITF9ZWxzZSBpZih0PXRoaXMuZ2VvbWV0cmllcy5pbmRleE9mKGUpLHQ8MClyZXR1cm4hMTtpZih0IT09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuZ2VvbWV0cmllc1t0aGlzLmdlb21ldHJpZXMubGVuZ3RoLTFdO2kmJih0aGlzLmdlb21ldHJpZXNbdF09aSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2kudW5pcXVlSWRdPXQpKX1yZXR1cm4gdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuZ2VvbWV0cmllcy5wb3AoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksITB9Z2V0R2VvbWV0cmllcygpe3JldHVybiB0aGlzLmdlb21ldHJpZXN9Z2V0TWVzaEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TWVzaGVzQnlJZChlKXtyZXR1cm4gdGhpcy5tZXNoZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfWdldFRyYW5zZm9ybU5vZGVCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVzQnlJZChlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9Z2V0TWVzaEJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdE1lc2hCeUlkKGUpe2ZvcihsZXQgdD10aGlzLm1lc2hlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldExhc3RFbnRyeUJ5SWQoZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5tZXNoZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtmb3IodD10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO2Zvcih0PXRoaXMuY2FtZXJhcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLmNhbWVyYXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07Zm9yKHQ9dGhpcy5saWdodHMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5saWdodHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXROb2RlQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5SWQoZSk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TGlnaHRCeUlkKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5SWQoZSk7aWYocilyZXR1cm4gcjtjb25zdCBuPXRoaXMuZ2V0Qm9uZUJ5SWQoZSk7cmV0dXJuIG58fG51bGx9Z2V0Tm9kZUJ5TmFtZShlKXtjb25zdCB0PXRoaXMuZ2V0TWVzaEJ5TmFtZShlKTtpZih0KXJldHVybiB0O2NvbnN0IGk9dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcz10aGlzLmdldExpZ2h0QnlOYW1lKGUpO2lmKHMpcmV0dXJuIHM7Y29uc3Qgcj10aGlzLmdldENhbWVyYUJ5TmFtZShlKTtpZihyKXJldHVybiByO2NvbnN0IG49dGhpcy5nZXRCb25lQnlOYW1lKGUpO3JldHVybiBufHxudWxsfWdldE1lc2hCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKWlmKHRoaXMubWVzaGVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdFNrZWxldG9uQnlJZChlKXtmb3IobGV0IHQ9dGhpcy5za2VsZXRvbnMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5za2VsZXRvbnNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7dCsrKWlmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtyZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07Zm9yKGxldCBzPTA7czxpLm51bVRhcmdldHM7KytzKXtjb25zdCByPWkuZ2V0VGFyZ2V0KHMpO2lmKHIuaWQ9PT1lKXJldHVybiByfX1yZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtmb3IobGV0IHM9MDtzPGkubnVtVGFyZ2V0czsrK3Mpe2NvbnN0IHI9aS5nZXRUYXJnZXQocyk7aWYoci5uYW1lPT09ZSlyZXR1cm4gcn19cmV0dXJuIG51bGx9Z2V0UG9zdFByb2Nlc3NCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLnBvc3RQcm9jZXNzZXNbdF07aWYoaS5uYW1lPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9SC5SYW5kb21JZCgpKSx0aGlzLl91aWR9YWRkRXh0ZXJuYWxEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgY3IpLHRoaXMuX2V4dGVybmFsRGF0YS5hZGQoZSx0KX1nZXRFeHRlcm5hbERhdGEoZSl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YT90aGlzLl9leHRlcm5hbERhdGEuZ2V0KGUpOm51bGx9Z2V0T3JBZGRFeHRlcm5hbERhdGFXaXRoRmFjdG9yeShlLHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IGNyKSx0aGlzLl9leHRlcm5hbERhdGEuZ2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpfXJlbW92ZUV4dGVybmFsRGF0YShlKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhLnJlbW92ZShlKX1fZXZhbHVhdGVTdWJNZXNoKGUsdCxpLHMpe2lmKHN8fGUuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpe2Zvcihjb25zdCBuIG9mIHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlKW4uYWN0aW9uKHQsZSk7Y29uc3Qgcj1lLmdldE1hdGVyaWFsKCk7ciE9bnVsbCYmKHIuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnIuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHIpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChyKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShyLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGUsdCxyKSl9fWZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKXt0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpfWdldCBibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMoKXtyZXR1cm4gdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHN9c2V0IGJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyhlKXt0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyE9PWUmJihlJiYodGhpcy5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCkpLHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPWUpfWZyZWVBY3RpdmVNZXNoZXMoKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYXMpKWZvcihsZXQgZT0wO2U8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5hY3RpdmVDYW1lcmFzW2VdO3QmJnQuX2FjdGl2ZU1lc2hlcyYmdC5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKX19ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMudGV4dHVyZXMpKWZvcihsZXQgZT0wO2U8dGhpcy50ZXh0dXJlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMudGV4dHVyZXNbZV07dCYmdC5yZW5kZXJMaXN0JiZ0LmZyZWVSZW5kZXJpbmdHcm91cHMoKX19X2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nfWZyZWV6ZUFjdGl2ZU1lc2hlcyhlPSExLHQsaSxzPSEwLHI9ITEpe3JldHVybiB0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntpZighdGhpcy5hY3RpdmVDYW1lcmEpe2kmJmkoIk5vIGFjdGl2ZSBjYW1lcmEgZm91bmQiKTtyZXR1cm59aWYodGhpcy5fZnJ1c3R1bVBsYW5lc3x8dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMCx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9cix0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PWUscylmb3IobGV0IG49MDtuPHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7bisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW25dLl9mcmVlemUoKTt0JiZ0KCl9KSx0aGlzfXVuZnJlZXplQWN0aXZlTWVzaGVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hlcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMubWVzaGVzW2VdO3QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8mJih0Ll9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSl9Zm9yKGxldCBlPTA7ZTx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtlXS5fdW5GcmVlemUoKTtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXN9X2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKGUpeyEodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSkmJnRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aHx8dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkT25jZSgoKT0+ZS5kaXNwb3NlKCkpfV9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpe3ZhciBlO2lmKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpe3RoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg+MCYmKChlPXRoaXMuYWN0aXZlQ2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDB8fGUuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSk7cmV0dXJufWlmKHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCl7aWYoIXRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHkpe2NvbnN0IHM9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW3JdLmNvbXB1dGVXb3JsZE1hdHJpeCgpfWlmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcyl7Y29uc3Qgcz10aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbcl0uYW5pbWF0ZSgpfXRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXRTcHJpdGVzKCk7cmV0dXJufWlmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm47dGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMucmVzZXQoKTtmb3IoY29uc3QgcyBvZiB0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZSlzLmFjdGlvbigpO2NvbnN0IHQ9dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcygpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrKyl7Y29uc3Qgcj10LmRhdGFbc107aWYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITEsci5pc0Jsb2NrZWR8fCh0aGlzLl90b3RhbFZlcnRpY2VzLmFkZENvdW50KHIuZ2V0VG90YWxWZXJ0aWNlcygpLCExKSwhci5pc1JlYWR5KCl8fCFyLmlzRW5hYmxlZCgpfHxyLnNjYWxpbmcuaGFzQVplcm9Db21wb25lbnQpKWNvbnRpbnVlO3IuY29tcHV0ZVdvcmxkTWF0cml4KCksci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyczIoMTIsMTMpJiZ0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnB1c2hOb0R1cGxpY2F0ZShyKTtsZXQgbj10aGlzLmN1c3RvbUxPRFNlbGVjdG9yP3RoaXMuY3VzdG9tTE9EU2VsZWN0b3Iocix0aGlzLmFjdGl2ZUNhbWVyYSk6ci5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmEpO2lmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9bixyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCxuIT1udWxsJiYobiE9PXImJm4uYmlsbGJvYXJkTW9kZSE9PTAmJm4uY29tcHV0ZVdvcmxkTWF0cml4KCksci5fcHJlQWN0aXZhdGUoKSxyLmlzVmlzaWJsZSYmci52aXNpYmlsaXR5PjAmJihyLmxheWVyTWFzayZ0aGlzLmFjdGl2ZUNhbWVyYS5sYXllck1hc2spIT09MCYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHIuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxyLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKSkpe3RoaXMuX2FjdGl2ZU1lc2hlcy5wdXNoKHIpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucHVzaChyKSxuIT09ciYmbi5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpO2Zvcihjb25zdCBhIG9mIHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZSlhLmFjdGlvbihyKTtyLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSkmJihyLmlzQW5JbnN0YW5jZT9yLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYobj1yKTpuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSExLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSEwLHRoaXMuX2FjdGl2ZU1lc2gocixuKSksci5fcG9zdEFjdGl2YXRlKCl9fWlmKHRoaXMucGFydGljbGVzRW5hYmxlZCl7dGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2ZvcihsZXQgcz0wO3M8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnBhcnRpY2xlU3lzdGVtc1tzXTtpZighci5pc1N0YXJ0ZWQoKXx8IXIuZW1pdHRlciljb250aW51ZTtjb25zdCBuPXIuZW1pdHRlcjsoIW4ucG9zaXRpb258fG4uaXNFbmFibGVkKCkpJiYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnB1c2gociksci5hbmltYXRlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhyKSl9dGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9fV9hY3RpdmVNZXNoKGUsdCl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCYmdC5za2VsZXRvbiE9PW51bGwmJnQuc2tlbGV0b24hPT12b2lkIDAmJih0aGlzLl9hY3RpdmVTa2VsZXRvbnMucHVzaE5vRHVwbGljYXRlKHQuc2tlbGV0b24pJiYodC5za2VsZXRvbi5wcmVwYXJlKCksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQodC5za2VsZXRvbi5ib25lcy5sZW5ndGgsITEpKSx0LmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnB1c2hOb0R1cGxpY2F0ZSh0KSk7bGV0IGk9ZS5oYXNJbnN0YW5jZXN8fGUuaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHQuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoO2lmKHQmJnQuc3ViTWVzaGVzJiZ0LnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzKHQpLHI9cy5sZW5ndGg7aT1pfHxyPT09MTtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXMuZGF0YVtuXTt0aGlzLl9ldmFsdWF0ZVN1Yk1lc2goYSx0LGUsaSl9fX11cGRhdGVUcmFuc2Zvcm1NYXRyaXgoZSl7aWYoISF0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzBdLGk9dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbMV07dGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodC5nZXRWaWV3TWF0cml4KCksdC5nZXRQcm9qZWN0aW9uTWF0cml4KGUpLGkuZ2V0Vmlld01hdHJpeCgpLGkuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9ZWxzZSB0aGlzLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCksdGhpcy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9X2JpbmRGcmFtZUJ1ZmZlcihlLHQ9ITApe2UmJmUuX211bHRpdmlld1RleHR1cmU/ZS5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6ZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx0JiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKGUpfV9jbGVhckZyYW1lQnVmZmVyKGUpe2lmKCEoZSYmZS5fbXVsdGl2aWV3VGV4dHVyZSkpaWYoZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQmJiFlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2NvbnN0IHQ9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ7dC5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90Lm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9lbmdpbmUpOnQuc2tpcEluaXRpYWxDbGVhcnx8KHRoaXMuYXV0b0NsZWFyJiZ0aGlzLl9lbmdpbmUuY2xlYXIodC5jbGVhckNvbG9yfHx0aGlzLmNsZWFyQ29sb3IsIXQuX2NsZWFyZWQsITAsITApLHQuX2NsZWFyZWQ9ITApfWVsc2UgdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD90aGlzLl9lbmdpbmUuY2xlYXIobnVsbCwhMSwhMCwhMCk6KHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITAsdGhpcy5fY2xlYXIoKSl9X3JlbmRlckZvckNhbWVyYShlLHQsaT0hMCl7dmFyIHMscixuO2lmKGUmJmUuX3NraXBSZW5kZXJpbmcpcmV0dXJuO2NvbnN0IGE9dGhpcy5fZW5naW5lO2lmKHRoaXMuX2FjdGl2ZUNhbWVyYT1lLCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2lmKGEuc2V0Vmlld3BvcnQodGhpcy5hY3RpdmVDYW1lcmEudmlld3BvcnQpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuX3JlbmRlcklkKyssIXRoaXMucHJlUGFzcyYmaSl7bGV0IGg9ITA7ZS5fcmVuZGVyaW5nTXVsdGl2aWV3JiZlLm91dHB1dFJlbmRlclRhcmdldCYmKGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcix0aGlzLmF1dG9DbGVhciYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSxlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1oKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IobGV0IGg9MDtoPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kYXRhW2hdO2wuYXBwbHlTa2VsZXRvbihsLnNrZWxldG9uKX10aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMpLGUuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmZS5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlLmN1c3RvbVJlbmRlclRhcmdldHMpLHQmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0LmN1c3RvbVJlbmRlclRhcmdldHMpLHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlJiZ0aGlzLmVudmlyb25tZW50VGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lbnZpcm9ubWVudFRleHR1cmUpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZSloLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtsZXQgbz0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApO2ZvcihsZXQgaD0wO2g8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtoXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKztjb25zdCB1PWwuYWN0aXZlQ2FtZXJhJiZsLmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO2wucmVuZGVyKHUsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLG89ITB9fUguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5fcmVuZGVySWQrK31mb3IoY29uc3QgaCBvZiB0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2Upbz1oLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fG87dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShuPShyPShzPWUub3V0cHV0UmVuZGVyVGFyZ2V0KT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLnJlbmRlclBhc3NJZCkhPT1udWxsJiZuIT09dm9pZCAwP246MCxvJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTt0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYS5zbmFwc2hvdFJlbmRlcmluZyYmYS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmIWUuX211bHRpdmlld1RleHR1cmUpe2NvbnN0IGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZShlLmlzSW50ZXJtZWRpYXRlLGgpfWZvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWN0aXZlQ2FtZXJhKX1fcHJvY2Vzc1N1YkNhbWVyYXMoZSx0PSEwKXtpZihlLmNhbWVyYVJpZ01vZGU9PT0wfHxlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2UuX3JlbmRlcmluZ011bHRpdmlldyYmIXRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9jcmVhdGVNdWx0aXZpZXdVYm8oKSx0aGlzLl9yZW5kZXJGb3JDYW1lcmEoZSx2b2lkIDAsdCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7cmV0dXJufWlmKGUuX3VzZU11bHRpdmlld1RvU2luZ2xlVmlldyl0aGlzLl9yZW5kZXJNdWx0aXZpZXdUb1NpbmdsZVZpZXcoZSk7ZWxzZXt0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7Zm9yKGxldCBpPTA7aTxlLl9yaWdDYW1lcmFzLmxlbmd0aDtpKyspdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUuX3JpZ0NhbWVyYXNbaV0sZSl9dGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1fY2hlY2tJbnRlcnNlY3Rpb25zKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW2VdO2lmKCEhdC5hY3Rpb25NYW5hZ2VyKWZvcihsZXQgaT0wO3QuYWN0aW9uTWFuYWdlciYmaTx0LmFjdGlvbk1hbmFnZXIuYWN0aW9ucy5sZW5ndGg7aSsrKXtjb25zdCBzPXQuYWN0aW9uTWFuYWdlci5hY3Rpb25zW2ldO2lmKHMudHJpZ2dlcj09PTEyfHxzLnRyaWdnZXI9PT0xMyl7Y29uc3Qgcj1zLmdldFRyaWdnZXJQYXJhbWV0ZXIoKSxuPXIubWVzaD9yLm1lc2g6cixhPW4uaW50ZXJzZWN0c01lc2godCxyLnVzZVByZWNpc2VJbnRlcnNlY3Rpb24pLG89dC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZihuKTthJiZvPT09LTE/cy50cmlnZ2VyPT09MTI/KHMuX2V4ZWN1dGVDdXJyZW50KFZlLkNyZWF0ZU5ldyh0LHZvaWQgMCxuKSksdC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChuKSk6cy50cmlnZ2VyPT09MTMmJnQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2gobik6IWEmJm8+LTEmJihzLnRyaWdnZXI9PT0xMyYmcy5fZXhlY3V0ZUN1cnJlbnQoVmUuQ3JlYXRlTmV3KHQsdm9pZCAwLG4pKSwoIXQuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoMTMsaD0+e2NvbnN0IGw9aC5tZXNoP2gubWVzaDpoO3JldHVybiBuPT09bH0pfHxzLnRyaWdnZXI9PT0xMykmJnQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShvLDEpKX19fX1fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKGUpe31fYW5pbWF0ZSgpe31hbmltYXRlKCl7aWYodGhpcy5fZW5naW5lLmlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwKCkpe2xldCBlPU1hdGgubWF4KG5lLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksbmUuTWF4RGVsdGFUaW1lKSkrdGhpcy5fdGltZUFjY3VtdWxhdG9yO2NvbnN0IHQ9dGhpcy5fZW5naW5lLmdldFRpbWVTdGVwKCksaT0xZTMvdC8xZTM7bGV0IHM9MDtjb25zdCByPXRoaXMuX2VuZ2luZS5nZXRMb2Nrc3RlcE1heFN0ZXBzKCk7bGV0IG49TWF0aC5mbG9vcihlL3QpO2ZvcihuPU1hdGgubWluKG4scik7ZT4wJiZzPG47KXRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fYW5pbWF0aW9uUmF0aW89dCppLHRoaXMuX2FuaW1hdGUoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5waHlzaWNzRW5hYmxlZCYmdGhpcy5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKHQpLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jdXJyZW50U3RlcElkKysscysrLGUtPXQ7dGhpcy5fdGltZUFjY3VtdWxhdG9yPWU8MD8wOmV9ZWxzZXtjb25zdCBlPXRoaXMudXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU/MTY6TWF0aC5tYXgobmUuTWluRGVsdGFUaW1lLE1hdGgubWluKHRoaXMuX2VuZ2luZS5nZXREZWx0YVRpbWUoKSxuZS5NYXhEZWx0YVRpbWUpKTt0aGlzLl9hbmltYXRpb25SYXRpbz1lKig2MC8xZTMpLHRoaXMuX2FuaW1hdGUoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5waHlzaWNzRW5hYmxlZCYmdGhpcy5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKGUpfX1fY2xlYXIoKXsodGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWx8fHRoaXMuYXV0b0NsZWFyKSYmdGhpcy5fZW5naW5lLmNsZWFyKHRoaXMuY2xlYXJDb2xvcix0aGlzLmF1dG9DbGVhcnx8dGhpcy5mb3JjZVdpcmVmcmFtZXx8dGhpcy5mb3JjZVBvaW50c0Nsb3VkLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsKX1fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQoZSl7dmFyIHQ7aWYoKGU9PW51bGw/dm9pZCAwOmUub3V0cHV0UmVuZGVyVGFyZ2V0KSYmIShlIT1udWxsJiZlLmlzUmlnQ2FtZXJhKSYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0Ll9jbGVhcmVkPSExKSwhKCh0PWU9PW51bGw/dm9pZCAwOmUucmlnQ2FtZXJhcyk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLnJpZ0NhbWVyYXMubGVuZ3RoOysraSl7Y29uc3Qgcz1lLnJpZ0NhbWVyYXNbaV0ub3V0cHV0UmVuZGVyVGFyZ2V0O3MmJihzLl9jbGVhcmVkPSExKX19cmVzZXREcmF3Q2FjaGUoZSl7aWYoISF0aGlzLm1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfXJlbmRlcihlPSEwLHQ9ITEpe3ZhciBpLHMscjtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMub25SZWFkeU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkoKSx0aGlzLl9mcmFtZUlkKyssdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksISgoaT10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubGVuZ3RoJiZ0aGlzLmFjdGl2ZUNhbWVyYXMuZm9yRWFjaCh0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCksdGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl90b3RhbFZlcnRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVCb25lcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5yZXNldCgpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3Rpb25NYW5hZ2VyJiZ0aGlzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTEpLHR8fHRoaXMuYW5pbWF0ZSgpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlKW8uYWN0aW9uKCk7aWYoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO28rKyl7Y29uc3QgaD10aGlzLmFjdGl2ZUNhbWVyYXNbb107aWYoaC51cGRhdGUoKSxoLmNhbWVyYVJpZ01vZGUhPT0wKWZvcihsZXQgbD0wO2w8aC5fcmlnQ2FtZXJhcy5sZW5ndGg7bCsrKWguX3JpZ0NhbWVyYXNbbF0udXBkYXRlKCl9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmKHRoaXMuYWN0aXZlQ2FtZXJhLnVwZGF0ZSgpLHRoaXMuYWN0aXZlQ2FtZXJhLmNhbWVyYVJpZ01vZGUhPT0wKSlmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbb10udXBkYXRlKCl9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IG49dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9ISgocz10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMubGVuZ3RoP3RoaXMuYWN0aXZlQ2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwO2ZvcihsZXQgbz0wO288dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW29dO2lmKGguX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPWguYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtuLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGgucmVuZGVyKGEhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fUguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX3JlbmRlcklkKyt9dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ9KHI9YT09bnVsbD92b2lkIDA6YS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOjAsdGhpcy5hY3RpdmVDYW1lcmE9YSx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDbGVhclN0YWdlKW8uYWN0aW9uKCk7dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlKW8uYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW29dLG8+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9hZnRlclJlbmRlclN0YWdlKW8uYWN0aW9uKCk7aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2ZvcihsZXQgbz0wO288dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5fdG9CZURpc3Bvc2VkW29dO2gmJmguZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MH10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfWZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS5mcmVlemUoKX11bmZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS51bmZyZWV6ZSgpfWRpc3Bvc2UoKXtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucy5sZW5ndGg9MCx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoPTAsdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MCx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLmFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aD0wO2NvbnN0IGU9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBlKXIuYWJvcnQoKTt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5sZW5ndGg9MDt0cnl7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjYWxsaW5nIG9uRGlzcG9zZU9ic2VydmFibGUhIixyKX1pZih0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLmNsZWFyKCksdGhpcy5kZXRhY2hDb250cm9sKCksdGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpKWZvcihsZXQgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspdGhpcy5jYW1lcmFzW3JdLmRldGFjaENvbnRyb2woKTt0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmFuaW1hdGlvbkdyb3VwcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5saWdodHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWVzaGVzLHI9PnIuZGlzcG9zZSghMCkpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudHJhbnNmb3JtTm9kZXMscj0+ci5kaXNwb3NlKCEwKSk7Y29uc3QgaT10aGlzLmNhbWVyYXM7dGhpcy5fZGlzcG9zZUxpc3QoaSksdGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubXVsdGlNYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBhcnRpY2xlU3lzdGVtcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wb3N0UHJvY2Vzc2VzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRleHR1cmVzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMpLHRoaXMuX3NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLl9jb21wb25lbnRzKTtsZXQgcz10aGlzLl9lbmdpbmUuc2NlbmVzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fZW5naW5lLnNjZW5lcy5zcGxpY2UocywxKSxmZS5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP2ZlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMuX2VuZ2luZS5zY2VuZXNbdGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGgtMV06ZmUuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCkscz10aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuaW5kZXhPZih0aGlzKSxzPi0xJiZ0aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuc3BsaWNlKHMsMSksdGhpcy5fZW5naW5lLndpcGVDYWNoZXMoITApLHRoaXMuX2lzRGlzcG9zZWQ9ITB9X2Rpc3Bvc2VMaXN0KGUsdCl7Y29uc3QgaT1lLnNsaWNlKDApO3Q9dCE9bnVsbD90OnM9PnMuZGlzcG9zZSgpO2Zvcihjb25zdCBzIG9mIGkpdChzKTtlLmxlbmd0aD0wfWdldCBpc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9Y2xlYXJDYWNoZWRWZXJ0ZXhEYXRhKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hlcy5sZW5ndGg7ZSsrKXtjb25zdCBpPXRoaXMubWVzaGVzW2VdLmdlb21ldHJ5O2kmJmkuY2xlYXJDYWNoZWREYXRhKCl9fWNsZWFuQ2FjaGVkVGV4dHVyZUJ1ZmZlcigpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fYnVmZmVyJiYoZS5fYnVmZmVyPW51bGwpfWdldFdvcmxkRXh0ZW5kcyhlKXtjb25zdCB0PW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxpPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gZT1lfHwoKCk9PiEwKSx0aGlzLm1lc2hlcy5maWx0ZXIoZSkuZm9yRWFjaChzPT57aWYocy5jb21wdXRlV29ybGRNYXRyaXgoITApLCFzLnN1Yk1lc2hlc3x8cy5zdWJNZXNoZXMubGVuZ3RoPT09MHx8cy5pbmZpbml0ZURpc3RhbmNlKXJldHVybjtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCxhPXIuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkO3AuQ2hlY2tFeHRlbmRzKG4sdCxpKSxwLkNoZWNrRXh0ZW5kcyhhLHQsaSl9KSx7bWluOnQsbWF4Oml9fWNyZWF0ZVBpY2tpbmdSYXkoZSx0LGkscyxyPSExKXt0aHJvdyBRKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5VG9SZWYoZSx0LGkscyxyLG49ITEsYT0hMSl7dGhyb3cgUSgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2UoZSx0LGkpe3Rocm93IFEoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWYoZSx0LGkscyl7dGhyb3cgUSgiUmF5Iil9Z2V0IF9waWNraW5nQXZhaWxhYmxlKCl7cmV0dXJuITF9cGljayhlLHQsaSxzLHIsbil7cmV0dXJuIG5ldyBVdH1waWNrV2l0aEJvdW5kaW5nSW5mbyhlLHQsaSxzLHIpe3JldHVybiBuZXcgVXR9cGlja1dpdGhSYXkoZSx0LGkscyl7dGhyb3cgUSgiUmF5Iil9bXVsdGlQaWNrKGUsdCxpLHMscil7dGhyb3cgUSgiUmF5Iil9bXVsdGlQaWNrV2l0aFJheShlLHQsaSl7dGhyb3cgUSgiUmF5Iil9c2V0UG9pbnRlck92ZXJNZXNoKGUsdCxpKXt0aGlzLl9pbnB1dE1hbmFnZXIuc2V0UG9pbnRlck92ZXJNZXNoKGUsdCxpKX1nZXRQb2ludGVyT3Zlck1lc2goKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmdldFBvaW50ZXJPdmVyTWVzaCgpfV9yZWJ1aWxkR2VvbWV0cmllcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2VvbWV0cmllcyllLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tZXNoZXMpZS5fcmVidWlsZCgpO3RoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbXBvbmVudHMpZS5yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXJ0aWNsZVN5c3RlbXMpZS5yZWJ1aWxkKCk7aWYodGhpcy5zcHJpdGVNYW5hZ2Vycylmb3IoY29uc3QgZSBvZiB0aGlzLnNwcml0ZU1hbmFnZXJzKWUucmVidWlsZCgpfV9yZWJ1aWxkVGV4dHVyZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnRleHR1cmVzKWUuX3JlYnVpbGQoKTt0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfV9nZXRCeVRhZ3MoZSx0LGkpe2lmKHQ9PT12b2lkIDApcmV0dXJuIGU7Y29uc3Qgcz1bXTtpPWl8fChyPT57fSk7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdO3BlJiZwZS5NYXRjaGVzUXVlcnkobix0KSYmKHMucHVzaChuKSxpKG4pKX1yZXR1cm4gc31nZXRNZXNoZXNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWVzaGVzLGUsdCl9Z2V0Q2FtZXJhc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5jYW1lcmFzLGUsdCl9Z2V0TGlnaHRzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmxpZ2h0cyxlLHQpfWdldE1hdGVyaWFsQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLm1hdGVyaWFscyxlLHQpLmNvbmNhdCh0aGlzLl9nZXRCeVRhZ3ModGhpcy5tdWx0aU1hdGVyaWFscyxlLHQpKX1nZXRUcmFuc2Zvcm1Ob2Rlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy50cmFuc2Zvcm1Ob2RlcyxlLHQpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpPSEwLHM9ITApe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpLHMpfWdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpfWdldCBibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20oKXtyZXR1cm4gdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfXNldCBibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20oZSl7dGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIT09ZSYmKHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT1lLGV8fHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpKX1tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpe2lmKCF0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pZm9yKGNvbnN0IGkgb2YgdGhpcy5tYXRlcmlhbHMpdCYmIXQoaSl8fGkubWFya0FzRGlydHkoZSl9X2xvYWRGaWxlKGUsdCxpLHMscixuLGEpe2NvbnN0IG89anQoZSx0LGkscz90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscixuLGEpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKG8pLG8ub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGg9Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLG99X2xvYWRGaWxlQXN5bmMoZSx0LGkscyxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9Pnt0aGlzLl9sb2FkRmlsZShlLG89PntuKG8pfSx0LGkscywobyxoKT0+e2EoaCl9LHIpfSl9X3JlcXVlc3RGaWxlKGUsdCxpLHMscixuLGEpe2NvbnN0IG89eHMoZSx0LGkscz90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscixuLGEpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKG8pLG8ub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGg9Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLG99X3JlcXVlc3RGaWxlQXN5bmMoZSx0LGkscyxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9Pnt0aGlzLl9yZXF1ZXN0RmlsZShlLG89PntuKG8pfSx0LGkscyxvPT57YShvKX0scil9KX1fcmVhZEZpbGUoZSx0LGkscyxyKXtjb25zdCBuPXdpKGUsdCxpLHMscik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobiksbi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoYT0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGEpLDEpfSksbn1fcmVhZEZpbGVBc3luYyhlLHQsaSl7cmV0dXJuIG5ldyBQcm9taXNlKChzLHIpPT57dGhpcy5fcmVhZEZpbGUoZSxuPT57cyhuKX0sdCxpLG49PntyKG4pfSl9KX1nZXRQZXJmQ29sbGVjdG9yKCl7dGhyb3cgUSgicGVyZm9ybWFuY2VWaWV3ZXJTY2VuZUV4dGVuc2lvbiIpfX1uZS5GT0dNT0RFX05PTkU9MCxuZS5GT0dNT0RFX0VYUD0xLG5lLkZPR01PREVfRVhQMj0yLG5lLkZPR01PREVfTElORUFSPTMsbmUuTWluRGVsdGFUaW1lPTEsbmUuTWF4RGVsdGFUaW1lPTFlMyxuZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5zZXRBY3RpdmVDYW1lcmFCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGFzdE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWF0ZXJpYWxCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1hdGVyaWFsQnlJZChjKX0sbmUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRleHR1cmVCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Qm9uZUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMaWdodEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExpZ2h0QnlVbmlxdWVJZChjKX0sbmUucHJvdG90eXBlLmdldFBhcnRpY2xlU3lzdGVtQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0R2VvbWV0cnlCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNZXNoZXNCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1lc2hlc0J5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChjKX0sbmUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZXNCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVzQnlJZChjKX0sbmUucHJvdG90eXBlLmdldE1lc2hCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1lc2hCeVVuaXF1ZUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNZXNoQnlJZChjKX0sbmUucHJvdG90eXBlLmdldExhc3RFbnRyeUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdEVudHJ5QnlJZChjKX0sbmUucHJvdG90eXBlLmdldE5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE5vZGVCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0U2tlbGV0b25CeUlkKGMpfTtmdW5jdGlvbiBJcyhjLGUsdCl7dHJ5e2NvbnN0IGk9Yy5uZXh0KCk7aS5kb25lP2UoaSk6aS52YWx1ZT9pLnZhbHVlLnRoZW4oKCk9PntpLnZhbHVlPXZvaWQgMCxlKGkpfSx0KTplKGkpfWNhdGNoKGkpe3QoaSl9fWZ1bmN0aW9uIHduKGM9MjUpe2xldCBlO3JldHVybih0LGkscyk9Pntjb25zdCByPXBlcmZvcm1hbmNlLm5vdygpO2U9PT12b2lkIDB8fHItZT5jPyhlPXIsc2V0VGltZW91dCgoKT0+e0lzKHQsaSxzKX0sMCkpOklzKHQsaSxzKX19ZnVuY3Rpb24gQXIoYyxlLHQsaSxzKXtjb25zdCByPSgpPT57bGV0IG47Y29uc3QgYT1vPT57by5kb25lP3Qoby52YWx1ZSk6bj09PXZvaWQgMD9uPSEwOnIoKX07ZG8gbj12b2lkIDAsIXN8fCFzLmFib3J0ZWQ/ZShjLGEsaSk6aShuZXcgRXJyb3IoIkFib3J0ZWQiKSksbj09PXZvaWQgMCYmKG49ITEpO3doaWxlKG4pfTtyKCl9ZnVuY3Rpb24gUHMoYyxlKXtsZXQgdDtyZXR1cm4gQXIoYyxJcyxpPT50PWksaT0+e3Rocm93IGl9LGUpLHR9ZnVuY3Rpb24gT24oYyxlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e0FyKGMsZSxpLHMsdCl9KX1mdW5jdGlvbiBMbihjLGUpe3JldHVybiguLi50KT0+UHMoYyguLi50KSxlKX1jbGFzcyBObntjb25zdHJ1Y3Rvcigpe3RoaXMuX2RvTm90U2VyaWFsaXplPSExLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fc2NlbmVSb290Tm9kZXNJbmRleD0tMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5faXNQYXJlbnRFbmFibGVkPSEwLHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkNsb25lZE9ic2VydmFibGU9bmV3IEZ9fWNsYXNzIHple2NvbnN0cnVjdG9yKGUsdD1udWxsKXt0aGlzLl9pc0RpcnR5PSExLHRoaXMuX25vZGVEYXRhU3RvcmFnZT1uZXcgTm4sdGhpcy5zdGF0ZT0iIix0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX2FjY2Vzc2liaWxpdHlUYWc9bnVsbCx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5fcmFuZ2VzPXt9LHRoaXMub25SZWFkeT1udWxsLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD0tMSx0aGlzLl9wYXJlbnRVcGRhdGVJZD0tMSx0aGlzLl9jaGlsZFVwZGF0ZUlkPS0xLHRoaXMuX3dhaXRpbmdQYXJlbnRJZD1udWxsLHRoaXMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW51bGwsdGhpcy5fd2FpdGluZ1BhcnNlZFVuaXF1ZUlkPW51bGwsdGhpcy5fY2FjaGU9e30sdGhpcy5fcGFyZW50Tm9kZT1udWxsLHRoaXMuX2NoaWxkcmVuPW51bGwsdGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9MCx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9pc05vZGU9ITAsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fYmVoYXZpb3JzPW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlkPWUsdGhpcy5fc2NlbmU9dHx8ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5faW5pdENhY2hlKCl9c3RhdGljIEFkZE5vZGVDb25zdHJ1Y3RvcihlLHQpe3RoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV09dH1zdGF0aWMgQ29uc3RydWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXTtyZXR1cm4gcj9yKHQsaSxzKTpudWxsfXNldCBhY2Nlc3NpYmlsaXR5VGFnKGUpe3RoaXMuX2FjY2Vzc2liaWxpdHlUYWc9ZSx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1nZXQgYWNjZXNzaWJpbGl0eVRhZygpe3JldHVybiB0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnfWdldCBkb05vdFNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPyEwOnRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5kb05vdFNlcmlhbGl6ZTohMX1zZXQgZG9Ob3RTZXJpYWxpemUoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT1lfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkfXNldCBwYXJlbnQoZSl7aWYodGhpcy5fcGFyZW50Tm9kZT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcGFyZW50Tm9kZTtpZih0aGlzLl9wYXJlbnROb2RlJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PXZvaWQgMCYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT1udWxsKXtjb25zdCBpPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7aSE9PS0xJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5zcGxpY2UoaSwxKSwhZSYmIXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZCYmdGhpcy5fYWRkVG9TY2VuZVJvb3ROb2RlcygpfXRoaXMuX3BhcmVudE5vZGU9ZSx0aGlzLl9wYXJlbnROb2RlJiYoKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09dm9pZCAwfHx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PW51bGwpJiYodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49bmV3IEFycmF5KSx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5wdXNoKHRoaXMpLHR8fHRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlfV9zZXJpYWxpemVBc1BhcmVudChlKXtlLnBhcmVudElkPXRoaXMudW5pcXVlSWR9X2FkZFRvU2NlbmVSb290Tm9kZXMoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9PT0tMSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9zY2VuZS5yb290Tm9kZXMubGVuZ3RoLHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wdXNoKHRoaXMpKX1fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4IT09LTEpe2NvbnN0IGU9dGhpcy5fc2NlbmUucm9vdE5vZGVzLHQ9ZS5sZW5ndGgtMTtlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF09ZVt0XSxlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF0uX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnBvcCgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD0tMX19Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU/dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlOnRoaXMuX3NjZW5lLmFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX1zZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfWdldENsYXNzTmFtZSgpe3JldHVybiJOb2RlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZX1nZXQgb25DbG9uZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25DbG9uZWRPYnNlcnZhYmxlfWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKX1hZGRCZWhhdmlvcihlLHQ9ITEpe3JldHVybiB0aGlzLl9iZWhhdmlvcnMuaW5kZXhPZihlKSE9PS0xP3RoaXM6KGUuaW5pdCgpLHRoaXMuX3NjZW5lLmlzTG9hZGluZyYmIXQ/dGhpcy5fc2NlbmUub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT57ZS5hdHRhY2godGhpcyl9KTplLmF0dGFjaCh0aGlzKSx0aGlzLl9iZWhhdmlvcnMucHVzaChlKSx0aGlzKX1yZW1vdmVCZWhhdmlvcihlKXtjb25zdCB0PXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiB0PT09LTE/dGhpczoodGhpcy5fYmVoYXZpb3JzW3RdLmRldGFjaCgpLHRoaXMuX2JlaGF2aW9ycy5zcGxpY2UodCwxKSx0aGlzKX1nZXQgYmVoYXZpb3JzKCl7cmV0dXJuIHRoaXMuX2JlaGF2aW9yc31nZXRCZWhhdmlvckJ5TmFtZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9iZWhhdmlvcnMpaWYodC5uYW1lPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQhPT10aGlzLl9zY2VuZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4fV9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5JiYodGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITEsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD10aGlzLl93b3JsZE1hdHJpeC5kZXRlcm1pbmFudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50fWdldCB3b3JsZE1hdHJpeEZyb21DYWNoZSgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1faW5pdENhY2hlKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fY2FjaGUucGFyZW50PXZvaWQgMH11cGRhdGVDYWNoZShlKXshZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpfHwodGhpcy5fY2FjaGUucGFyZW50PXRoaXMucGFyZW50LHRoaXMuX3VwZGF0ZUNhY2hlKCkpfV9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLHQ9ITApe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSwhMSk6bnVsbH1fdXBkYXRlQ2FjaGUoZSl7fV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEwfV9tYXJrU3luY2VkV2l0aFBhcmVudCgpe3RoaXMuX3BhcmVudE5vZGUmJih0aGlzLl9wYXJlbnRVcGRhdGVJZD10aGlzLl9wYXJlbnROb2RlLl9jaGlsZFVwZGF0ZUlkKX1pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLl9pc0RpcnR5fHx0aGlzLl9wYXJlbnRVcGRhdGVJZCE9PXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQ/ITE6dGhpcy5fcGFyZW50Tm9kZS5pc1N5bmNocm9uaXplZCgpOiEwfWlzU3luY2hyb25pemVkKCl7cmV0dXJuIHRoaXMuX2NhY2hlLnBhcmVudCE9PXRoaXMuX3BhcmVudE5vZGU/KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLl9wYXJlbnROb2RlLCExKTp0aGlzLl9wYXJlbnROb2RlJiYhdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKT8hMTp0aGlzLl9pc1N5bmNocm9uaXplZCgpfWlzUmVhZHkoZT0hMSl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeX1tYXJrQXNEaXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfWlzRW5hYmxlZChlPSEwKXtyZXR1cm4gZT09PSExP3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkOnRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkP3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNQYXJlbnRFbmFibGVkOiExfV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ9dGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLmlzRW5hYmxlZCgpOiEwLHRoaXMuX2NoaWxkcmVuJiZ0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGU9PntlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9KX1zZXRFbmFibGVkKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkIT09ZSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkPWUsdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWlzRGVzY2VuZGFudE9mKGUpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudD09PWU/ITA6dGhpcy5wYXJlbnQuaXNEZXNjZW5kYW50T2YoZSk6ITF9X2dldERlc2NlbmRhbnRzKGUsdD0hMSxpKXtpZighIXRoaXMuX2NoaWxkcmVuKWZvcihsZXQgcz0wO3M8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLl9jaGlsZHJlbltzXTsoIWl8fGkocikpJiZlLnB1c2gociksdHx8ci5fZ2V0RGVzY2VuZGFudHMoZSwhMSxpKX19Z2V0RGVzY2VuZGFudHMoZSx0KXtjb25zdCBpPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHQpLGl9Z2V0Q2hpbGRNZXNoZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcy5jdWxsaW5nU3RyYXRlZ3khPT12b2lkIDApLGl9Z2V0Q2hpbGRyZW4oZSx0PSEwKXtyZXR1cm4gdGhpcy5nZXREZXNjZW5kYW50cyh0LGUpfV9zZXRSZWFkeShlKXtpZihlIT09dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5KXtpZighZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSExO3JldHVybn10aGlzLm9uUmVhZHkmJnRoaXMub25SZWFkeSh0aGlzKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITB9fWdldEFuaW1hdGlvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuYW5pbWF0aW9uc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWNyZWF0ZUFuaW1hdGlvblJhbmdlKGUsdCxpKXtpZighdGhpcy5fcmFuZ2VzW2VdKXt0aGlzLl9yYW5nZXNbZV09emUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeShlLHQsaSk7Zm9yKGxldCBzPTAscj10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3M8cjtzKyspdGhpcy5hbmltYXRpb25zW3NdJiZ0aGlzLmFuaW1hdGlvbnNbc10uY3JlYXRlUmFuZ2UoZSx0LGkpfX1kZWxldGVBbmltYXRpb25SYW5nZShlLHQ9ITApe2ZvcihsZXQgaT0wLHM9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpPHM7aSsrKXRoaXMuYW5pbWF0aW9uc1tpXSYmdGhpcy5hbmltYXRpb25zW2ldLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9Z2V0QW5pbWF0aW9uUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3Jhbmdlc1tlXXx8bnVsbH1nZXRBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2xldCB0O2Zvcih0IGluIHRoaXMuX3JhbmdlcyllLnB1c2godGhpcy5fcmFuZ2VzW3RdKTtyZXR1cm4gZX1iZWdpbkFuaW1hdGlvbihlLHQsaSxzKXtjb25zdCByPXRoaXMuZ2V0QW5pbWF0aW9uUmFuZ2UoZSk7cmV0dXJuIHI/dGhpcy5fc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcyxyLmZyb20sci50byx0LGkscyk6bnVsbH1zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX3Jhbmdlcyl7Y29uc3QgaT10aGlzLl9yYW5nZXNbdF07aWYoIWkpY29udGludWU7Y29uc3Qgcz17fTtzLm5hbWU9dCxzLmZyb209aS5mcm9tLHMudG89aS50byxlLnB1c2gocyl9cmV0dXJuIGV9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZD0hMCwhZSl7Y29uc3QgaT10aGlzLmdldERlc2NlbmRhbnRzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMuZGlzcG9zZShlLHQpfXRoaXMucGFyZW50P3RoaXMucGFyZW50PW51bGw6dGhpcy5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5jbGVhcigpO2Zvcihjb25zdCBpIG9mIHRoaXMuX2JlaGF2aW9ycylpLmRldGFjaCgpO3RoaXMuX2JlaGF2aW9ycy5sZW5ndGg9MCx0aGlzLm1ldGFkYXRhPW51bGx9c3RhdGljIFBhcnNlQW5pbWF0aW9uUmFuZ2VzKGUsdCxpKXtpZih0LnJhbmdlcylmb3IobGV0IHM9MDtzPHQucmFuZ2VzLmxlbmd0aDtzKyspe2NvbnN0IHI9dC5yYW5nZXNbc107ZS5jcmVhdGVBbmltYXRpb25SYW5nZShyLm5hbWUsci5mcm9tLHIudG8pfX1nZXRIaWVyYXJjaHlCb3VuZGluZ1ZlY3RvcnMoZT0hMCx0PW51bGwpe3RoaXMuZ2V0U2NlbmUoKS5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaSxzO2NvbnN0IHI9dGhpcztpZihyLmdldEJvdW5kaW5nSW5mbyYmci5zdWJNZXNoZXMpe2NvbnN0IG49ci5nZXRCb3VuZGluZ0luZm8oKTtpPW4uYm91bmRpbmdCb3gubWluaW11bVdvcmxkLmNsb25lKCkscz1uLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZC5jbG9uZSgpfWVsc2UgaT1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7aWYoZSl7Y29uc3Qgbj10aGlzLmdldERlc2NlbmRhbnRzKCExKTtmb3IoY29uc3QgYSBvZiBuKXtjb25zdCBvPWE7aWYoby5jb21wdXRlV29ybGRNYXRyaXgoITApLHQmJiF0KG8pfHwhby5nZXRCb3VuZGluZ0luZm98fG8uZ2V0VG90YWxWZXJ0aWNlcygpPT09MCljb250aW51ZTtjb25zdCBsPW8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3gsdT1sLm1pbmltdW1Xb3JsZCxkPWwubWF4aW11bVdvcmxkO3AuQ2hlY2tFeHRlbmRzKHUsaSxzKSxwLkNoZWNrRXh0ZW5kcyhkLGkscyl9fXJldHVybnttaW46aSxtYXg6c319fXplLl9BbmltYXRpb25SYW5nZUZhY3Rvcnk9KGMsZSx0KT0+e3Rocm93IFEoIkFuaW1hdGlvblJhbmdlIil9LHplLl9Ob2RlQ29uc3RydWN0b3JzPXt9LFQoW1IoKV0semUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1IoKV0semUucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtSKCldLHplLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSx6ZS5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1IoKV0semUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKTtjbGFzcyBCaXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9c310b0dsb2JhbChlLHQpe3JldHVybiBuZXcgQmkodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfXRvR2xvYmFsVG9SZWYoZSx0LGkpe3JldHVybiBpLng9dGhpcy54KmUsaS55PXRoaXMueSp0LGkud2lkdGg9dGhpcy53aWR0aCplLGkuaGVpZ2h0PXRoaXMuaGVpZ2h0KnQsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgQmkodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX19Y2xhc3MgaiBleHRlbmRzIHple2NvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsaSksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fdXBWZWN0b3I9cC5VcCgpLHRoaXMuX29ydGhvTGVmdD1udWxsLHRoaXMuX29ydGhvUmlnaHQ9bnVsbCx0aGlzLl9vcnRob0JvdHRvbT1udWxsLHRoaXMuX29ydGhvVG9wPW51bGwsdGhpcy5mb3Y9LjgsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAsdGhpcy5taW5aPTEsdGhpcy5tYXhaPTFlNCx0aGlzLmluZXJ0aWE9LjksdGhpcy5fbW9kZT1qLlBFUlNQRUNUSVZFX0NBTUVSQSx0aGlzLmlzSW50ZXJtZWRpYXRlPSExLHRoaXMudmlld3BvcnQ9bmV3IEJpKDAsMCwxLDEpLHRoaXMubGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLmZvdk1vZGU9ai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELHRoaXMuY2FtZXJhUmlnTW9kZT1qLlJJR19NT0RFX05PTkUsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLm91dHB1dFJlbmRlclRhcmdldD1udWxsLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGU9bmV3IEYsdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5pc1JpZ0NhbWVyYT0hMSx0aGlzLl9yaWdDYW1lcmFzPW5ldyBBcnJheSx0aGlzLl93ZWJ2clZpZXdNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX3NraXBSZW5kZXJpbmc9ITEsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgeCx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3IFFlKDI1NiksdGhpcy5fZ2xvYmFsUG9zaXRpb249cC5aZXJvKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExLHRoaXMuX3RyYW5zZm9ybU1hdHJpeD14Llplcm8oKSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uPVouSWRlbnRpdHkoKSx0aGlzLl9pc0NhbWVyYT0hMCx0aGlzLl9pc0xlZnRDYW1lcmE9ITEsdGhpcy5faXNSaWdodENhbWVyYT0hMSx0aGlzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHRoaXMpLHMmJiF0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYodGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT10aGlzKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZChgQ2FtZXJhICR7ZX1gKX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9c2V0IHVwVmVjdG9yKGUpe3RoaXMuX3VwVmVjdG9yPWV9Z2V0IHVwVmVjdG9yKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfWdldCBzY3JlZW5BcmVhKCl7dmFyIGUsdCxpLHM7bGV0IHI9MCxuPTA7aWYodGhpcy5tb2RlPT09ai5QRVJTUEVDVElWRV9DQU1FUkEpdGhpcy5mb3ZNb2RlPT09ai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPyhuPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLHI9dGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSpuKToocj10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxuPXIvdGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSk7ZWxzZXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKS8yLG89dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKS8yO3I9KChlPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZlIT09dm9pZCAwP2U6YSktKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotYSksbj0oKGk9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZpIT09dm9pZCAwP2k6byktKChzPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmcyE9PXZvaWQgMD9zOi1vKX1yZXR1cm4gcipufXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvTGVmdD1lfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9SaWdodD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvQm90dG9tPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1RvcD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgbW9kZShlKXt0aGlzLl9tb2RlPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm1vZGU9ZX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9tb2RlfXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ9ITAsdGhpcy5fc3RvcmVkRm92PXRoaXMuZm92LHRoaXN9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX1yZXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSwhMCk6ITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNhbWVyYSJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fWFwcGx5VmVydGljYWxDb3JyZWN0aW9uKCl7Y29uc3QgZT10aGlzLmFic29sdXRlUm90YXRpb24udG9FdWxlckFuZ2xlcygpO3RoaXMucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tZS54OmUueH1nZXQgZ2xvYmFsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsUG9zaXRpb259Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31pc0FjdGl2ZU1lc2goZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlcy5pbmRleE9mKGUpIT09LTF9aXNSZWFkeShlPSExKXtpZihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKWlmKHQmJiF0LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4gc3VwZXIuaXNSZWFkeShlKX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS51cFZlY3Rvcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUubW9kZT12b2lkIDAsdGhpcy5fY2FjaGUubWluWj12b2lkIDAsdGhpcy5fY2FjaGUubWF4Wj12b2lkIDAsdGhpcy5fY2FjaGUuZm92PXZvaWQgMCx0aGlzLl9jYWNoZS5mb3ZNb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Ub3A9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9dm9pZCAwfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl9jYWNoZS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKX1faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtyZXR1cm4gc3VwZXIuX2lzU3luY2hyb25pemVkKCk/dGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pJiZ0aGlzLl9jYWNoZS51cFZlY3Rvci5lcXVhbHModGhpcy51cFZlY3RvcikmJnRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk6ITF9X2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpe2xldCBlPXRoaXMuX2NhY2hlLm1vZGU9PT10aGlzLm1vZGUmJnRoaXMuX2NhY2hlLm1pblo9PT10aGlzLm1pblomJnRoaXMuX2NhY2hlLm1heFo9PT10aGlzLm1heFo7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1qLlBFUlNQRUNUSVZFX0NBTUVSQT9lPXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXQuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6ZT10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09dC5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT10LmdldFJlbmRlckhlaWdodCgpLGV9YXR0YWNoQ29udHJvbChlLHQpe31kZXRhY2hDb250cm9sKGUpe311cGRhdGUoKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfV9jaGVja0lucHV0cygpe3RoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0IHJpZ0NhbWVyYXMoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc31nZXQgcmlnUG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fcmlnUG9zdFByb2Nlc3N9X2dldEZpcnN0UG9zdFByb2Nlc3MoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2UrKylpZih0aGlzLl9wb3N0UHJvY2Vzc2VzW2VdIT09bnVsbClyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc1tlXTtyZXR1cm4gbnVsbH1fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKXtjb25zdCBlPXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtlJiZlLm1hcmtUZXh0dXJlRGlydHkoKTtmb3IobGV0IHQ9MCxpPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fcmlnQ2FtZXJhc1t0XSxyPXMuX3JpZ1Bvc3RQcm9jZXNzO3I/KHIuZ2V0RWZmZWN0TmFtZSgpPT09InBhc3MiJiYocy5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLHMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQociksci5tYXJrVGV4dHVyZURpcnR5KCkpOnMuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKX19YXR0YWNoUG9zdFByb2Nlc3MoZSx0PW51bGwpe3JldHVybiFlLmlzUmV1c2FibGUoKSYmdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpPi0xPyhPLkVycm9yKCJZb3UncmUgdHJ5aW5nIHRvIHJldXNlIGEgcG9zdCBwcm9jZXNzIG5vdCBkZWZpbmVkIGFzIHJldXNhYmxlLiIpLDApOih0PT1udWxsfHx0PDA/dGhpcy5fcG9zdFByb2Nlc3Nlcy5wdXNoKGUpOnRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09PT1udWxsP3RoaXMuX3Bvc3RQcm9jZXNzZXNbdF09ZTp0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDAsZSksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKSl9ZGV0YWNoUG9zdFByb2Nlc3MoZSl7Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fd29ybGRNYXRyaXg6KHRoaXMuZ2V0Vmlld01hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KX1fZ2V0Vmlld01hdHJpeCgpe3JldHVybiB4LklkZW50aXR5KCl9Z2V0Vmlld01hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9ZnJlZXplUHJvamVjdGlvbk1hdHJpeChlKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSEwLGUhPT12b2lkIDAmJih0aGlzLl9wcm9qZWN0aW9uTWF0cml4PWUpfXVuZnJlZXplUHJvamVjdGlvbk1hdHJpeCgpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITF9Z2V0UHJvamVjdGlvbk1hdHJpeChlKXt2YXIgdCxpLHMscixuLGEsbyxoO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCFlJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDtjb25zdCBsPXRoaXMuZ2V0RW5naW5lKCksdT10aGlzLmdldFNjZW5lKCksZD1sLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtpZih0aGlzLm1vZGU9PT1qLlBFUlNQRUNUSVZFX0NBTUVSQSl7dGhpcy5fY2FjaGUuZm92PXRoaXMuZm92LHRoaXMuX2NhY2hlLmZvdk1vZGU9dGhpcy5mb3ZNb2RlLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPWwuZ2V0QXNwZWN0UmF0aW8odGhpcyksdGhpcy5fY2FjaGUucHJvamVjdGlvblBsYW5lVGlsdD10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsdGhpcy5taW5aPD0wJiYodGhpcy5taW5aPS4xKTtsZXQgZjt1LnVzZVJpZ2h0SGFuZGVkU3lzdGVtP2Y9eC5QZXJzcGVjdGl2ZUZvdlJIVG9SZWY6Zj14LlBlcnNwZWN0aXZlRm92TEhUb1JlZixmKHRoaXMuZm92LGwuZ2V0QXNwZWN0UmF0aW8odGhpcyksZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuZm92TW9kZT09PWouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRCxsLmlzTkRDSGFsZlpSYW5nZSx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQsZCl9ZWxzZXtjb25zdCBmPWwuZ2V0UmVuZGVyV2lkdGgoKS8yLF89bC5nZXRSZW5kZXJIZWlnaHQoKS8yO3UudXNlUmlnaHRIYW5kZWRTeXN0ZW0/eC5PcnRob09mZkNlbnRlclJIVG9SZWYoKHQ9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmdCE9PXZvaWQgMD90Oi1mLChpPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZpIT09dm9pZCAwP2k6Ziwocz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJnMhPT12b2lkIDA/czotXywocj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJnIhPT12b2lkIDA/cjpfLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSk6eC5PcnRob09mZkNlbnRlckxIVG9SZWYoKG49dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOi1mLChhPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZhIT09dm9pZCAwP2E6Ziwobz10aGlzLm9ydGhvQm90dG9tKSE9PW51bGwmJm8hPT12b2lkIDA/bzotXywoaD10aGlzLm9ydGhvVG9wKSE9PW51bGwmJmghPT12b2lkIDA/aDpfLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCxsLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FjaGUub3J0aG9MZWZ0PXRoaXMub3J0aG9MZWZ0LHRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LHRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20sdGhpcy5fY2FjaGUub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD1sLmdldFJlbmRlcldpZHRoKCksdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PWwuZ2V0UmVuZGVySGVpZ2h0KCl9cmV0dXJuIHRoaXMub25Qcm9qZWN0aW9uTWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9Z2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKXtyZXR1cm4gdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1fdXBkYXRlRnJ1c3R1bVBsYW5lcygpeyF0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lc3x8KHRoaXMuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSx0aGlzLl9mcnVzdHVtUGxhbmVzP0V0LkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPUV0LkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSExKX1pc0luRnJ1c3R1bShlLHQ9ITEpe2lmKHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSx0JiZ0aGlzLnJpZ0NhbWVyYXMubGVuZ3RoPjApe2xldCBpPSExO3JldHVybiB0aGlzLnJpZ0NhbWVyYXMuZm9yRWFjaChzPT57cy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGk9aXx8ZS5pc0luRnJ1c3R1bShzLl9mcnVzdHVtUGxhbmVzKX0pLGl9ZWxzZSByZXR1cm4gZS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxlLmlzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1nZXRGb3J3YXJkUmF5KGU9MTAwLHQsaSl7dGhyb3cgUSgiUmF5Iil9Z2V0Rm9yd2FyZFJheVRvUmVmKGUsdD0xMDAsaSxzKXt0aHJvdyBRKCJSYXkiKX1kaXNwb3NlKGUsdD0hMSl7Zm9yKHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuY2xlYXIoKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlQ2FtZXJhKHRoaXMpO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBzPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7cyYmcy5kaXNwb3NlKCl9aWYodGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBzPXRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuc3BsaWNlKHMsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5fcmlnUG9zdFByb2Nlc3MpdGhpcy5fcmlnUG9zdFByb2Nlc3MuZGlzcG9zZSh0aGlzKSx0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZSBpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1qLlJJR19NT0RFX05PTkUpdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD0wO2Vsc2V7bGV0IHM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7Zm9yKDstLXM+PTA7KXtjb25zdCByPXRoaXMuX3Bvc3RQcm9jZXNzZXNbc107ciYmci5kaXNwb3NlKHRoaXMpfX1sZXQgaT10aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoO2Zvcig7LS1pPj0wOyl0aGlzLmN1c3RvbVJlbmRlclRhcmdldHNbaV0uZGlzcG9zZSgpO3RoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg9MCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMucmVuZGVyUGFzc0lkKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0IGlzTGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9pc0xlZnRDYW1lcmF9Z2V0IGlzUmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5faXNSaWdodENhbWVyYX1nZXQgbGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXX1nZXQgcmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV19Z2V0TGVmdFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXS5nZXRUYXJnZXQoKX1nZXRSaWdodFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXS5nZXRUYXJnZXQoKX1zZXRDYW1lcmFSaWdNb2RlKGUsdCl7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ZSl7Zm9yKDt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7Y29uc3QgaT10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO2kmJmkuZGlzcG9zZSgpfWlmKHRoaXMuY2FtZXJhUmlnTW9kZT1lLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlPXQuaW50ZXJheGlhbERpc3RhbmNlfHwuMDYzNyx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPUguVG9SYWRpYW5zKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2UvLjA2MzcpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSl7Y29uc3QgaT10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9MIiwwKTtpJiYoaS5faXNMZWZ0Q2FtZXJhPSEwKTtjb25zdCBzPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX1IiLDEpO3MmJihzLl9pc1JpZ2h0Q2FtZXJhPSEwKSxpJiZzJiYodGhpcy5fcmlnQ2FtZXJhcy5wdXNoKGkpLHRoaXMuX3JpZ0NhbWVyYXMucHVzaChzKSl9dGhpcy5fc2V0UmlnTW9kZSh0KSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMudXBkYXRlKCl9fV9zZXRSaWdNb2RlKGUpe31fZ2V0VlJQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIHguUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW9Gb3YsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpbyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgsITAsdGhpcy5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJITWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9X3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV91cGRhdGVXZWJWUkNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV9nZXRXZWJWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4geC5JZGVudGl0eSgpfV9nZXRXZWJWUlZpZXdNYXRyaXgoKXtyZXR1cm4geC5JZGVudGl0eSgpfXNldENhbWVyYVJpZ1BhcmFtZXRlcihlLHQpe3RoaXMuX2NhbWVyYVJpZ1BhcmFtc3x8KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zW2VdPXQsZT09PSJpbnRlcmF4aWFsRGlzdGFuY2UiJiYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1ILlRvUmFkaWFucyh0Ly4wNjM3KSl9Y3JlYXRlUmlnQ2FtZXJhKGUsdCl7cmV0dXJuIG51bGx9X3VwZGF0ZVJpZ0NhbWVyYXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO2UrKyl0aGlzLl9yaWdDYW1lcmFzW2VdLm1pblo9dGhpcy5taW5aLHRoaXMuX3JpZ0NhbWVyYXNbZV0ubWF4Wj10aGlzLm1heFosdGhpcy5fcmlnQ2FtZXJhc1tlXS5mb3Y9dGhpcy5mb3YsdGhpcy5fcmlnQ2FtZXJhc1tlXS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKTt0aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSCYmKHRoaXMuX3JpZ0NhbWVyYXNbMF0udmlld3BvcnQ9dGhpcy5fcmlnQ2FtZXJhc1sxXS52aWV3cG9ydD10aGlzLnZpZXdwb3J0KX1fc2V0dXBJbnB1dHMoKXt9c2VyaWFsaXplKCl7Y29uc3QgZT1hZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5zZXJpYWxpemUoZSksYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksZX1jbG9uZShlLHQ9bnVsbCl7Y29uc3QgaT1hZS5DbG9uZShqLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRDbGFzc05hbWUoKSxlLHRoaXMuZ2V0U2NlbmUoKSx0aGlzLmludGVyYXhpYWxEaXN0YW5jZSx0aGlzLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSksdGhpcyk7cmV0dXJuIGkubmFtZT1lLGkucGFyZW50PXQsdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGl9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldCBhYnNvbHV0ZVJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2Uodm9pZCAwLHRoaXMuX2Fic29sdXRlUm90YXRpb24pLHRoaXMuX2Fic29sdXRlUm90YXRpb259Z2V0RGlyZWN0aW9uVG9SZWYoZSx0KXtwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpfXN0YXRpYyBHZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUsdCxpLHM9MCxyPSEwKXtjb25zdCBuPXplLkNvbnN0cnVjdChlLHQsaSx7aW50ZXJheGlhbF9kaXN0YW5jZTpzLGlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZTpyfSk7cmV0dXJuIG58fCgoKT0+ai5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYSh0LGkpKX1jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9ZS50eXBlLHM9ai5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKGksZS5uYW1lLHQsZS5pbnRlcmF4aWFsX2Rpc3RhbmNlLGUuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSxyPWFlLlBhcnNlKHMsZSx0KTtpZihlLnBhcmVudElkIT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHIuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksci5pbnB1dHMmJihyLmlucHV0cy5wYXJzZShlKSxyLl9zZXR1cElucHV0cygpKSxlLnVwVmVjdG9yJiYoci51cFZlY3Rvcj1wLkZyb21BcnJheShlLnVwVmVjdG9yKSksci5zZXRQb3NpdGlvbiYmKHIucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHIuc2V0UG9zaXRpb24ocC5Gcm9tQXJyYXkoZS5wb3NpdGlvbikpKSxlLnRhcmdldCYmci5zZXRUYXJnZXQmJnIuc2V0VGFyZ2V0KHAuRnJvbUFycmF5KGUudGFyZ2V0KSksZS5jYW1lcmFSaWdNb2RlKXtjb25zdCBuPWUuaW50ZXJheGlhbF9kaXN0YW5jZT97aW50ZXJheGlhbERpc3RhbmNlOmUuaW50ZXJheGlhbF9kaXN0YW5jZX06e307ci5zZXRDYW1lcmFSaWdNb2RlKGUuY2FtZXJhUmlnTW9kZSxuKX1pZihlLmFuaW1hdGlvbnMpe2ZvcihsZXQgbj0wO248ZS5hbmltYXRpb25zLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5hbmltYXRpb25zW25dLG89cmkoIkJBQllMT04uQW5pbWF0aW9uIik7byYmci5hbmltYXRpb25zLnB1c2goby5QYXJzZShhKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocixlLHQpfXJldHVybiBlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHIsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5pc0VuYWJsZWQhPT12b2lkIDAmJnIuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCkscn19ai5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYT0oYyxlKT0+e3Rocm93IFEoIlVuaXZlcnNhbENhbWVyYSIpfSxqLlBFUlNQRUNUSVZFX0NBTUVSQT0wLGouT1JUSE9HUkFQSElDX0NBTUVSQT0xLGouRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD0wLGouRk9WTU9ERV9IT1JJWk9OVEFMX0ZJWEVEPTEsai5SSUdfTU9ERV9OT05FPTAsai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg9MTAsai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTD0xMSxqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD0xMixqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI9MTMsai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRD0xNCxqLlJJR19NT0RFX1ZSPTIwLGouUklHX01PREVfV0VCVlI9MjEsai5SSUdfTU9ERV9DVVNUT009MjIsai5Gb3JjZUF0dGFjaENvbnRyb2xUb0Fsd2F5c1ByZXZlbnREZWZhdWx0PSExLFQoW0J0KCJwb3NpdGlvbiIpXSxqLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW0J0KCJ1cFZlY3RvciIpXSxqLnByb3RvdHlwZSwiX3VwVmVjdG9yIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsIm9ydGhvTGVmdCIsbnVsbCksVChbUigpXSxqLnByb3RvdHlwZSwib3J0aG9SaWdodCIsbnVsbCksVChbUigpXSxqLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLG51bGwpLFQoW1IoKV0sai5wcm90b3R5cGUsIm9ydGhvVG9wIixudWxsKSxUKFtSKCldLGoucHJvdG90eXBlLCJmb3YiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwicHJvamVjdGlvblBsYW5lVGlsdCIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJtaW5aIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsIm1heFoiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwiaW5lcnRpYSIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJtb2RlIixudWxsKSxUKFtSKCldLGoucHJvdG90eXBlLCJsYXllck1hc2siLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwiZm92TW9kZSIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJjYW1lcmFSaWdNb2RlIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsImludGVyYXhpYWxEaXN0YW5jZSIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUiLHZvaWQgMCk7Y2xhc3MgZWV7Y29uc3RydWN0b3IoKXt0aGlzLl9hcHBseVRvPUxuKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9c2V0KGUsdCl7c3dpdGNoKGUubGVuZ3RofHxPLldhcm4oYFNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnJHt0fScgd2l0aCBhbiBlbXB0eSBhcnJheWApLHQpe2Nhc2UgZy5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIGcuTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIGcuVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgZy5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIGcuVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIGcuVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIGcuVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIGcuVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIGcuVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIGcuQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX1hcHBseVRvTWVzaChlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc31hcHBseVRvR2VvbWV0cnkoZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9dXBkYXRlTWVzaChlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9dXBkYXRlR2VvbWV0cnkoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSpfYXBwbHlUb0Nvcm91dGluZShlLHQ9ITEsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCksaSYmKHlpZWxkKSksdGhpcy5ub3JtYWxzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0KSxpJiYoeWllbGQpKSx0aGlzLnRhbmdlbnRzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdGhpcy51dnMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMyJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0KSxpJiYoeWllbGQpKSx0aGlzLnV2czMmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdGhpcy51dnMzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNCYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCx0aGlzLnV2czQsdCksaSYmKHlpZWxkKSksdGhpcy51dnM1JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czYmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsdGhpcy51dnM2LHQpLGkmJih5aWVsZCkpLHRoaXMuY29sb3JzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5pbmRpY2VzPyhlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwsdCksaSYmKHlpZWxkKSk6ZS5zZXRJbmRpY2VzKFtdLG51bGwpLHRoaXN9X3VwZGF0ZShlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0LGkpLHRoaXMubm9ybWFscyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0LGkpLHRoaXMudGFuZ2VudHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyx0LGkpLHRoaXMudXZzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWS2luZCx0aGlzLnV2cyx0LGkpLHRoaXMudXZzMiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0LGkpLHRoaXMudXZzMyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHRoaXMudXZzMyx0LGkpLHRoaXMudXZzNCYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHRoaXMudXZzNCx0LGkpLHRoaXMudXZzNSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0LGkpLHRoaXMudXZzNiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHRoaXMudXZzNix0LGkpLHRoaXMuY29sb3JzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0LGkpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCxpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCxpKSx0aGlzLmluZGljZXMmJmUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCksdGhpc31zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56fXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPUQuVmVjdG9yNFswXSxuPUQuVmVjdG9yNFsxXTtmb3IobGV0IGE9aTthPGkrczthKz00KUNlLkZyb21BcnJheVRvUmVmKGUsYSxyKSxDZS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56LGVbYSszXT1uLnd9c3RhdGljIF9GbGlwRmFjZXMoZSx0PTAsaT1lLmxlbmd0aCl7Zm9yKGxldCBzPXQ7czx0K2k7cys9Myl7Y29uc3Qgcj1lW3MrMV07ZVtzKzFdPWVbcysyXSxlW3MrMl09cn19dHJhbnNmb3JtKGUpe2NvbnN0IHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZlZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzKHRoaXMucG9zaXRpb25zLGUpLHRoaXMubm9ybWFscyYmZWUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKHRoaXMubm9ybWFscyxlKSx0aGlzLnRhbmdlbnRzJiZlZS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJmVlLl9GbGlwRmFjZXModGhpcy5pbmRpY2VzKSx0aGlzfW1lcmdlKGUsdD0hMSxpPSExKXtjb25zdCBzPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAocj0+W3Isdm9pZCAwXSk6W1tlLHZvaWQgMF1dO3JldHVybiBQcyh0aGlzLl9tZXJnZUNvcm91dGluZSh2b2lkIDAscyx0LCExLGkpKX0qX21lcmdlQ29yb3V0aW5lKGUsdCxpPSExLHMscil7dmFyIG4sYSxvLGg7dGhpcy5fdmFsaWRhdGUoKTtjb25zdCBsPXQubWFwKF89Pl9bMF0pO2Zvcihjb25zdCBfIG9mIGwpaWYoXy5fdmFsaWRhdGUoKSwhdGhpcy5ub3JtYWxzIT0hXy5ub3JtYWxzfHwhdGhpcy50YW5nZW50cyE9IV8udGFuZ2VudHN8fCF0aGlzLnV2cyE9IV8udXZzfHwhdGhpcy51dnMyIT0hXy51dnMyfHwhdGhpcy51dnMzIT0hXy51dnMzfHwhdGhpcy51dnM0IT0hXy51dnM0fHwhdGhpcy51dnM1IT0hXy51dnM1fHwhdGhpcy51dnM2IT0hXy51dnM2fHwhdGhpcy5jb2xvcnMhPSFfLmNvbG9yc3x8IXRoaXMubWF0cmljZXNJbmRpY2VzIT0hXy5tYXRyaWNlc0luZGljZXN8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0cyE9IV8ubWF0cmljZXNXZWlnaHRzfHwhdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSE9IV8ubWF0cmljZXNJbmRpY2VzRXh0cmF8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhIT0hXy5tYXRyaWNlc1dlaWdodHNFeHRyYSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBtZXJnZSB2ZXJ0ZXggZGF0YSB0aGF0IGRvIG5vdCBoYXZlIHRoZSBzYW1lIHNldCBvZiBhdHRyaWJ1dGVzIik7Y29uc3QgdT1sLnJlZHVjZSgoXyxFKT0+e3ZhciBtLHY7cmV0dXJuIF8rKCh2PShtPUUuaW5kaWNlcyk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlbmd0aCkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6MCl9LChhPShuPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxlbmd0aCkhPT1udWxsJiZhIT09dm9pZCAwP2E6MCk7bGV0IGY9cnx8bC5zb21lKF89Pl8uaW5kaWNlcz09PXRoaXMuaW5kaWNlcyk/KG89dGhpcy5pbmRpY2VzKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uc2xpY2UoKTp0aGlzLmluZGljZXM7aWYodT4wKXtsZXQgXz0oaD1mPT1udWxsP3ZvaWQgMDpmLmxlbmd0aCkhPT1udWxsJiZoIT09dm9pZCAwP2g6MDtpZihmfHwoZj1uZXcgQXJyYXkodSkpLGYubGVuZ3RoIT09dSl7aWYoQXJyYXkuaXNBcnJheShmKSlmLmxlbmd0aD11O2Vsc2V7Y29uc3QgbT1pfHxmIGluc3RhbmNlb2YgVWludDMyQXJyYXk/bmV3IFVpbnQzMkFycmF5KHUpOm5ldyBVaW50MTZBcnJheSh1KTttLnNldChmKSxmPW19ZSYmZS5kZXRlcm1pbmFudCgpPDAmJmVlLl9GbGlwRmFjZXMoZiwwLF8pfWxldCBFPXRoaXMucG9zaXRpb25zP3RoaXMucG9zaXRpb25zLmxlbmd0aC8zOjA7Zm9yKGNvbnN0W20sdl1vZiB0KWlmKG0uaW5kaWNlcyl7Zm9yKGxldCBTPTA7UzxtLmluZGljZXMubGVuZ3RoO1MrKylmW18rU109bS5pbmRpY2VzW1NdK0U7diYmdi5kZXRlcm1pbmFudCgpPDAmJmVlLl9GbGlwRmFjZXMoZixfLG0uaW5kaWNlcy5sZW5ndGgpLEUrPW0ucG9zaXRpb25zLmxlbmd0aC8zLF8rPW0uaW5kaWNlcy5sZW5ndGgscyYmKHlpZWxkKX19cmV0dXJuIHRoaXMuaW5kaWNlcz1mLHRoaXMucG9zaXRpb25zPWVlLl9NZXJnZUVsZW1lbnQoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsZSx0Lm1hcChfPT5bX1swXS5wb3NpdGlvbnMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubm9ybWFscz1lZS5fTWVyZ2VFbGVtZW50KGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsZSx0Lm1hcChfPT5bX1swXS5ub3JtYWxzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnRhbmdlbnRzPWVlLl9NZXJnZUVsZW1lbnQoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoXz0+W19bMF0udGFuZ2VudHMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzPWVlLl9NZXJnZUVsZW1lbnQoZy5VVktpbmQsdGhpcy51dnMsZSx0Lm1hcChfPT5bX1swXS51dnMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzMj1lZS5fTWVyZ2VFbGVtZW50KGcuVVYyS2luZCx0aGlzLnV2czIsZSx0Lm1hcChfPT5bX1swXS51dnMyLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czM9ZWUuX01lcmdlRWxlbWVudChnLlVWM0tpbmQsdGhpcy51dnMzLGUsdC5tYXAoXz0+W19bMF0udXZzMyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM0PWVlLl9NZXJnZUVsZW1lbnQoZy5VVjRLaW5kLHRoaXMudXZzNCxlLHQubWFwKF89PltfWzBdLnV2czQsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzNT1lZS5fTWVyZ2VFbGVtZW50KGcuVVY1S2luZCx0aGlzLnV2czUsZSx0Lm1hcChfPT5bX1swXS51dnM1LF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czY9ZWUuX01lcmdlRWxlbWVudChnLlVWNktpbmQsdGhpcy51dnM2LGUsdC5tYXAoXz0+W19bMF0udXZzNixfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5jb2xvcnM9ZWUuX01lcmdlRWxlbWVudChnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyxlLHQubWFwKF89PltfWzBdLmNvbG9ycyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc0luZGljZXM9ZWUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsZSx0Lm1hcChfPT5bX1swXS5tYXRyaWNlc0luZGljZXMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzPWVlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNXZWlnaHRzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWVlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLHQubWFwKF89PltfWzBdLm1hdHJpY2VzSW5kaWNlc0V4dHJhLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWVlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSxlLHQubWFwKF89PltfWzBdLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLF9bMV1dKSksdGhpc31zdGF0aWMgX01lcmdlRWxlbWVudChlLHQsaSxzKXtjb25zdCByPXMuZmlsdGVyKG89Pm9bMF0hPT1udWxsJiZvWzBdIT09dm9pZCAwKTtpZighdCYmci5sZW5ndGg9PTApcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIHRoaXMuX01lcmdlRWxlbWVudChlLHJbMF1bMF0sclswXVsxXSxyLnNsaWNlKDEpKTtjb25zdCBuPXIucmVkdWNlKChvLGgpPT5vK2hbMF0ubGVuZ3RoLHQubGVuZ3RoKSxhPWU9PT1nLlBvc2l0aW9uS2luZD9lZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1nLk5vcm1hbEtpbmQ/ZWUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzOmU9PT1nLlRhbmdlbnRLaW5kP2VlLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFsczooKT0+e307aWYodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KG4pO28uc2V0KHQpLGkmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2YgcilvLnNldChsLGgpLHUmJmEobyx1LGgsbC5sZW5ndGgpLGgrPWwubGVuZ3RoO3JldHVybiBvfWVsc2V7Y29uc3Qgbz1uZXcgQXJyYXkobik7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspb1tsXT10W2xdO2kmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2Ygcil7Zm9yKGxldCBkPTA7ZDxsLmxlbmd0aDtkKyspb1toK2RdPWxbZF07dSYmYShvLHUsaCxsLmxlbmd0aCksaCs9bC5sZW5ndGh9cmV0dXJuIG99fV92YWxpZGF0ZSgpe2lmKCF0aGlzLnBvc2l0aW9ucyl0aHJvdyBuZXcgTnQoIlBvc2l0aW9ucyBhcmUgcmVxdWlyZWQiLG9pLk1lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3IpO2NvbnN0IGU9KHMscik9Pntjb25zdCBuPWcuRGVkdWNlU3RyaWRlKHMpO2lmKHIubGVuZ3RoJW4hPT0wKXRocm93IG5ldyBFcnJvcigiVGhlICIrcysicyBhcnJheSBjb3VudCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgIituKTtyZXR1cm4gci5sZW5ndGgvbn0sdD1lKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zKSxpPShzLHIpPT57Y29uc3Qgbj1lKHMscik7aWYobiE9PXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgIitzKyJzIGVsZW1lbnQgY291bnQgKCIrbisiKSBkb2VzIG5vdCBtYXRjaCB0aGUgcG9zaXRpb25zIGNvdW50ICgiK3QrIikiKX07dGhpcy5ub3JtYWxzJiZpKGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJmkoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmaShnLlVWS2luZCx0aGlzLnV2cyksdGhpcy51dnMyJiZpKGcuVVYyS2luZCx0aGlzLnV2czIpLHRoaXMudXZzMyYmaShnLlVWM0tpbmQsdGhpcy51dnMzKSx0aGlzLnV2czQmJmkoZy5VVjRLaW5kLHRoaXMudXZzNCksdGhpcy51dnM1JiZpKGcuVVY1S2luZCx0aGlzLnV2czUpLHRoaXMudXZzNiYmaShnLlVWNktpbmQsdGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmaShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJmkoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmaShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmkoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmaShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnBvc2l0aW9ucyYmKGUucG9zaXRpb25zPXRoaXMucG9zaXRpb25zKSx0aGlzLm5vcm1hbHMmJihlLm5vcm1hbHM9dGhpcy5ub3JtYWxzKSx0aGlzLnRhbmdlbnRzJiYoZS50YW5nZW50cz10aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmKGUudXZzPXRoaXMudXZzKSx0aGlzLnV2czImJihlLnV2czI9dGhpcy51dnMyKSx0aGlzLnV2czMmJihlLnV2czM9dGhpcy51dnMzKSx0aGlzLnV2czQmJihlLnV2czQ9dGhpcy51dnM0KSx0aGlzLnV2czUmJihlLnV2czU9dGhpcy51dnM1KSx0aGlzLnV2czYmJihlLnV2czY9dGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmKGUuY29sb3JzPXRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmKGUubWF0cmljZXNXZWlnaHRzPXRoaXMubWF0cmljZXNXZWlnaHRzKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT10aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJihlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpLGUuaW5kaWNlcz10aGlzLmluZGljZXMsZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCxpKXtyZXR1cm4gZWUuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgRXh0cmFjdEZyb21HZW9tZXRyeShlLHQsaSl7cmV0dXJuIGVlLl9FeHRyYWN0RnJvbShlLHQsaSl9c3RhdGljIF9FeHRyYWN0RnJvbShlLHQsaSl7Y29uc3Qgcz1uZXcgZWU7cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKHMucG9zaXRpb25zPWUuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkmJihzLm5vcm1hbHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYocy50YW5nZW50cz1lLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKHMudXZzPWUuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJihzLnV2czI9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYzS2luZCkmJihzLnV2czM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY0S2luZCkmJihzLnV2czQ9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY1S2luZCkmJihzLnV2czU9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY2S2luZCkmJihzLnV2czY9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JLaW5kKSYmKHMuY29sb3JzPWUuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlcz1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdCxpKSkscy5pbmRpY2VzPWUuZ2V0SW5kaWNlcyh0LGkpLHN9c3RhdGljIENyZWF0ZVJpYmJvbihlKXt0aHJvdyBRKCJyaWJib25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUJveChlKXt0aHJvdyBRKCJib3hCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkQm94KGUpe3Rocm93IFEoInRpbGVkQm94QnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZFBsYW5lKGUpe3Rocm93IFEoInRpbGVkUGxhbmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVNwaGVyZShlKXt0aHJvdyBRKCJzcGhlcmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZUN5bGluZGVyKGUpe3Rocm93IFEoImN5bGluZGVyQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUb3J1cyhlKXt0aHJvdyBRKCJ0b3J1c0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlTGluZVN5c3RlbShlKXt0aHJvdyBRKCJsaW5lc0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlRGFzaGVkTGluZXMoZSl7dGhyb3cgUSgibGluZXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZUdyb3VuZChlKXt0aHJvdyBRKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkR3JvdW5kKGUpe3Rocm93IFEoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcChlKXt0aHJvdyBRKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBsYW5lKGUpe3Rocm93IFEoInBsYW5lQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVEaXNjKGUpe3Rocm93IFEoImRpc2NCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBvbHlnb24oZSx0LGkscyxyLG4sYSl7dGhyb3cgUSgicG9seWdvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlSWNvU3BoZXJlKGUpe3Rocm93IFEoImljb1NwaGVyZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUG9seWhlZHJvbihlKXt0aHJvdyBRKCJwb2x5aGVkcm9uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVDYXBzdWxlKGU9e29yaWVudGF0aW9uOnAuVXAoKSxzdWJkaXZpc2lvbnM6Mix0ZXNzZWxsYXRpb246MTYsaGVpZ2h0OjEscmFkaXVzOi4yNSxjYXBTdWJkaXZpc2lvbnM6Nn0pe3Rocm93IFEoImNhcHN1bGVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRvcnVzS25vdChlKXt0aHJvdyBRKCJ0b3J1c0tub3RCdWlsZGVyIil9c3RhdGljIENvbXB1dGVOb3JtYWxzKGUsdCxpLHMpe2xldCByPTAsbj0wLGE9MCxvPTAsaD0wLGw9MCx1PTAsZD0wLGY9MCxfPTAsRT0wLG09MCx2PTAsUz0wLHk9MCxBPTAsQz0wLGI9MCxNPTAsTD0wLGs9ITEsdz0hMSxkZT0hMSxjZT0hMSxzZT0xLHRlPTAsRmU9bnVsbDtzJiYoaz0hIXMuZmFjZXROb3JtYWxzLHc9ISFzLmZhY2V0UG9zaXRpb25zLGRlPSEhcy5mYWNldFBhcnRpdGlvbmluZyxzZT1zLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09ITA/LTE6MSx0ZT1zLnJhdGlvfHwwLGNlPSEhcy5kZXB0aFNvcnQsRmU9cy5kaXN0YW5jZVRvLGNlJiZGZT09PXZvaWQgMCYmKEZlPXAuWmVybygpKSk7bGV0IHdlPTAsSGU9MCxLZT0wLFllPTA7Zm9yKGRlJiZzJiZzLmJiU2l6ZSYmKHdlPXMuc3ViRGl2LlgqdGUvcy5iYlNpemUueCxIZT1zLnN1YkRpdi5ZKnRlL3MuYmJTaXplLnksS2U9cy5zdWJEaXYuWip0ZS9zLmJiU2l6ZS56LFllPXMuc3ViRGl2Lm1heCpzLnN1YkRpdi5tYXgscy5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCkscj0wO3I8ZS5sZW5ndGg7cisrKWlbcl09MDtjb25zdCBwdD10Lmxlbmd0aC8zfDA7Zm9yKHI9MDtyPHB0O3IrKyl7aWYobT10W3IqM10qMyx2PW0rMSxTPW0rMix5PXRbciozKzFdKjMsQT15KzEsQz15KzIsYj10W3IqMysyXSozLE09YisxLEw9YisyLG49ZVttXS1lW3ldLGE9ZVt2XS1lW0FdLG89ZVtTXS1lW0NdLGg9ZVtiXS1lW3ldLGw9ZVtNXS1lW0FdLHU9ZVtMXS1lW0NdLGQ9c2UqKGEqdS1vKmwpLGY9c2UqKG8qaC1uKnUpLF89c2UqKG4qbC1hKmgpLEU9TWF0aC5zcXJ0KGQqZCtmKmYrXypfKSxFPUU9PT0wPzE6RSxkLz1FLGYvPUUsXy89RSxrJiZzJiYocy5mYWNldE5vcm1hbHNbcl0ueD1kLHMuZmFjZXROb3JtYWxzW3JdLnk9ZixzLmZhY2V0Tm9ybWFsc1tyXS56PV8pLHcmJnMmJihzLmZhY2V0UG9zaXRpb25zW3JdLng9KGVbbV0rZVt5XStlW2JdKS8zLHMuZmFjZXRQb3NpdGlvbnNbcl0ueT0oZVt2XStlW0FdK2VbTV0pLzMscy5mYWNldFBvc2l0aW9uc1tyXS56PShlW1NdK2VbQ10rZVtMXSkvMyksZGUmJnMpe2NvbnN0IGh0PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueC1zLmJJbmZvLm1pbmltdW0ueCp0ZSkqd2UpLHd0PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueS1zLmJJbmZvLm1pbmltdW0ueSp0ZSkqSGUpLHNpPU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0uei1zLmJJbmZvLm1pbmltdW0ueip0ZSkqS2UpLGRzPU1hdGguZmxvb3IoKGVbbV0tcy5iSW5mby5taW5pbXVtLngqdGUpKndlKSxmcz1NYXRoLmZsb29yKChlW3ZdLXMuYkluZm8ubWluaW11bS55KnRlKSpIZSksX3M9TWF0aC5mbG9vcigoZVtTXS1zLmJJbmZvLm1pbmltdW0ueip0ZSkqS2UpLFhzPU1hdGguZmxvb3IoKGVbeV0tcy5iSW5mby5taW5pbXVtLngqdGUpKndlKSxIcz1NYXRoLmZsb29yKChlW0FdLXMuYkluZm8ubWluaW11bS55KnRlKSpIZSksS3M9TWF0aC5mbG9vcigoZVtDXS1zLmJJbmZvLm1pbmltdW0ueip0ZSkqS2UpLFlzPU1hdGguZmxvb3IoKGVbYl0tcy5iSW5mby5taW5pbXVtLngqdGUpKndlKSxacz1NYXRoLmZsb29yKChlW01dLXMuYkluZm8ubWluaW11bS55KnRlKSpIZSkscXM9TWF0aC5mbG9vcigoZVtMXS1zLmJJbmZvLm1pbmltdW0ueip0ZSkqS2UpLEh0PWRzK3Muc3ViRGl2Lm1heCpmcytZZSpfcyxLdD1YcytzLnN1YkRpdi5tYXgqSHMrWWUqS3MsWXQ9WXMrcy5zdWJEaXYubWF4KlpzK1llKnFzLFp0PWh0K3Muc3ViRGl2Lm1heCp3dCtZZSpzaTtzLmZhY2V0UGFydGl0aW9uaW5nW1p0XT1zLmZhY2V0UGFydGl0aW9uaW5nW1p0XT9zLmZhY2V0UGFydGl0aW9uaW5nW1p0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tIdF09cy5mYWNldFBhcnRpdGlvbmluZ1tIdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tIdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbS3RdPXMuZmFjZXRQYXJ0aXRpb25pbmdbS3RdP3MuZmFjZXRQYXJ0aXRpb25pbmdbS3RdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW1l0XT1zLmZhY2V0UGFydGl0aW9uaW5nW1l0XT9zLmZhY2V0UGFydGl0aW9uaW5nW1l0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tIdF0ucHVzaChyKSxLdCE9SHQmJnMuZmFjZXRQYXJ0aXRpb25pbmdbS3RdLnB1c2gociksWXQ9PUt0fHxZdD09SHR8fHMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdLnB1c2gociksWnQ9PUh0fHxadD09S3R8fFp0PT1ZdHx8cy5mYWNldFBhcnRpdGlvbmluZ1tadF0ucHVzaChyKX1pZihjZSYmcyYmcy5mYWNldFBvc2l0aW9ucyl7Y29uc3QgaHQ9cy5kZXB0aFNvcnRlZEZhY2V0c1tyXTtodC5pbmQ9ciozLGh0LnNxRGlzdGFuY2U9cC5EaXN0YW5jZVNxdWFyZWQocy5mYWNldFBvc2l0aW9uc1tyXSxGZSl9aVttXSs9ZCxpW3ZdKz1mLGlbU10rPV8saVt5XSs9ZCxpW0FdKz1mLGlbQ10rPV8saVtiXSs9ZCxpW01dKz1mLGlbTF0rPV99Zm9yKHI9MDtyPGkubGVuZ3RoLzM7cisrKWQ9aVtyKjNdLGY9aVtyKjMrMV0sXz1pW3IqMysyXSxFPU1hdGguc3FydChkKmQrZipmK18qXyksRT1FPT09MD8xOkUsZC89RSxmLz1FLF8vPUUsaVtyKjNdPWQsaVtyKjMrMV09ZixpW3IqMysyXT1ffXN0YXRpYyBfQ29tcHV0ZVNpZGVzKGUsdCxpLHMscixuLGEpe2NvbnN0IG89aS5sZW5ndGgsaD1zLmxlbmd0aDtsZXQgbCx1O3N3aXRjaChlPWV8fGVlLkRFRkFVTFRTSURFLGUpe2Nhc2UgZWUuRlJPTlRTSURFOmJyZWFrO2Nhc2UgZWUuQkFDS1NJREU6Zm9yKGw9MDtsPG87bCs9Myl7Y29uc3QgZD1pW2xdO2lbbF09aVtsKzJdLGlbbCsyXT1kfWZvcih1PTA7dTxoO3UrKylzW3VdPS1zW3VdO2JyZWFrO2Nhc2UgZWUuRE9VQkxFU0lERTp7Y29uc3QgZD10Lmxlbmd0aCxmPWQvMztmb3IobGV0IG09MDttPGQ7bSsrKXRbZCttXT10W21dO2ZvcihsPTA7bDxvO2wrPTMpaVtsK29dPWlbbCsyXStmLGlbbCsxK29dPWlbbCsxXStmLGlbbCsyK29dPWlbbF0rZjtmb3IodT0wO3U8aDt1Kyspc1toK3VdPS1zW3VdO2NvbnN0IF89ci5sZW5ndGg7bGV0IEU9MDtmb3IoRT0wO0U8XztFKyspcltFK19dPXJbRV07Zm9yKG49bnx8bmV3IENlKDAsMCwxLDEpLGE9YXx8bmV3IENlKDAsMCwxLDEpLEU9MCxsPTA7bDxfLzI7bCsrKXJbRV09bi54KyhuLnotbi54KSpyW0VdLHJbRSsxXT1uLnkrKG4udy1uLnkpKnJbRSsxXSxyW0UrX109YS54KyhhLnotYS54KSpyW0UrX10scltFK18rMV09YS55KyhhLnctYS55KSpyW0UrXysxXSxFKz0yO2JyZWFrfX19c3RhdGljIEltcG9ydFZlcnRleERhdGEoZSx0KXtjb25zdCBpPW5ldyBlZSxzPWUucG9zaXRpb25zO3MmJmkuc2V0KHMsZy5Qb3NpdGlvbktpbmQpO2NvbnN0IHI9ZS5ub3JtYWxzO3ImJmkuc2V0KHIsZy5Ob3JtYWxLaW5kKTtjb25zdCBuPWUudGFuZ2VudHM7biYmaS5zZXQobixnLlRhbmdlbnRLaW5kKTtjb25zdCBhPWUudXZzO2EmJmkuc2V0KGEsZy5VVktpbmQpO2NvbnN0IG89ZS51djJzO28mJmkuc2V0KG8sZy5VVjJLaW5kKTtjb25zdCBoPWUudXYzcztoJiZpLnNldChoLGcuVVYzS2luZCk7Y29uc3QgbD1lLnV2NHM7bCYmaS5zZXQobCxnLlVWNEtpbmQpO2NvbnN0IHU9ZS51djVzO3UmJmkuc2V0KHUsZy5VVjVLaW5kKTtjb25zdCBkPWUudXY2cztkJiZpLnNldChkLGcuVVY2S2luZCk7Y29uc3QgZj1lLmNvbG9ycztmJiZpLnNldChnZS5DaGVja0NvbG9yczQoZixzLmxlbmd0aC8zKSxnLkNvbG9yS2luZCk7Y29uc3QgXz1lLm1hdHJpY2VzSW5kaWNlcztfJiZpLnNldChfLGcuTWF0cmljZXNJbmRpY2VzS2luZCk7Y29uc3QgRT1lLm1hdHJpY2VzV2VpZ2h0cztFJiZpLnNldChFLGcuTWF0cmljZXNXZWlnaHRzS2luZCk7Y29uc3QgbT1lLmluZGljZXM7bSYmKGkuaW5kaWNlcz1tKSx0LnNldEFsbFZlcnRpY2VzRGF0YShpLGUudXBkYXRhYmxlKX19ZWUuRlJPTlRTSURFPTAsZWUuQkFDS1NJREU9MSxlZS5ET1VCTEVTSURFPTIsZWUuREVGQVVMVFNJREU9MCxUKFtRdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sZWUsIl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXMiLG51bGwpLFQoW1F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxlZSwiX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzIixudWxsKSxUKFtRdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sZWUsIl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyIsbnVsbCksVChbUXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGVlLCJfRmxpcEZhY2VzIixudWxsKTtjbGFzcyBEc3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5idT1lLHRoaXMuYnY9dCx0aGlzLmRpc3RhbmNlPWksdGhpcy5mYWNlSWQ9MCx0aGlzLnN1Yk1lc2hJZD0wfX1jbGFzcyBrdHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy52ZWN0b3JzPUJlLkJ1aWxkQXJyYXkoOCxwLlplcm8pLHRoaXMuY2VudGVyPXAuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9cC5aZXJvKCksdGhpcy5leHRlbmRTaXplPXAuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZVdvcmxkPXAuWmVybygpLHRoaXMuZGlyZWN0aW9ucz1CZS5CdWlsZEFycmF5KDMscC5aZXJvKSx0aGlzLnZlY3RvcnNXb3JsZD1CZS5CdWlsZEFycmF5KDgscC5aZXJvKSx0aGlzLm1pbmltdW1Xb3JsZD1wLlplcm8oKSx0aGlzLm1heGltdW1Xb3JsZD1wLlplcm8oKSx0aGlzLm1pbmltdW09cC5aZXJvKCksdGhpcy5tYXhpbXVtPXAuWmVybygpLHRoaXMuX2RyYXdXcmFwcGVyRnJvbnQ9bnVsbCx0aGlzLl9kcmF3V3JhcHBlckJhY2s9bnVsbCx0aGlzLnJlQ29uc3RydWN0KGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7Y29uc3Qgcz1lLngscj1lLnksbj1lLnosYT10Lngsbz10LnksaD10LnosbD10aGlzLnZlY3RvcnM7dGhpcy5taW5pbXVtLmNvcHlGcm9tRmxvYXRzKHMscixuKSx0aGlzLm1heGltdW0uY29weUZyb21GbG9hdHMoYSxvLGgpLGxbMF0uY29weUZyb21GbG9hdHMocyxyLG4pLGxbMV0uY29weUZyb21GbG9hdHMoYSxvLGgpLGxbMl0uY29weUZyb21GbG9hdHMoYSxyLG4pLGxbM10uY29weUZyb21GbG9hdHMocyxvLG4pLGxbNF0uY29weUZyb21GbG9hdHMocyxyLGgpLGxbNV0uY29weUZyb21GbG9hdHMoYSxvLG4pLGxbNl0uY29weUZyb21GbG9hdHMocyxvLGgpLGxbN10uY29weUZyb21GbG9hdHMoYSxyLGgpLHQuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0LnN1YnRyYWN0VG9SZWYoZSx0aGlzLmV4dGVuZFNpemUpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5fd29ybGRNYXRyaXg9aXx8eC5JZGVudGl0eVJlYWRPbmx5LHRoaXMuX3VwZGF0ZSh0aGlzLl93b3JsZE1hdHJpeCl9c2NhbGUoZSl7Y29uc3QgdD1rdC5fVG1wVmVjdG9yMyxpPXRoaXMubWF4aW11bS5zdWJ0cmFjdFRvUmVmKHRoaXMubWluaW11bSx0WzBdKSxzPWkubGVuZ3RoKCk7aS5ub3JtYWxpemVGcm9tTGVuZ3RoKHMpO2NvbnN0IHI9cyplLG49aS5zY2FsZUluUGxhY2UociouNSksYT10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKG4sdFsxXSksbz10aGlzLmNlbnRlci5hZGRUb1JlZihuLHRbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KGEsbyx0aGlzLl93b3JsZE1hdHJpeCksdGhpc31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1fdXBkYXRlKGUpe2NvbnN0IHQ9dGhpcy5taW5pbXVtV29ybGQsaT10aGlzLm1heGltdW1Xb3JsZCxzPXRoaXMuZGlyZWN0aW9ucyxyPXRoaXMudmVjdG9yc1dvcmxkLG49dGhpcy52ZWN0b3JzO2lmKGUuaXNJZGVudGl0eSgpKXt0LmNvcHlGcm9tKHRoaXMubWluaW11bSksaS5jb3B5RnJvbSh0aGlzLm1heGltdW0pO2ZvcihsZXQgYT0wO2E8ODsrK2EpclthXS5jb3B5RnJvbShuW2FdKTt0aGlzLmV4dGVuZFNpemVXb3JsZC5jb3B5RnJvbSh0aGlzLmV4dGVuZFNpemUpLHRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpfWVsc2V7dC5zZXRBbGwoTnVtYmVyLk1BWF9WQUxVRSksaS5zZXRBbGwoLU51bWJlci5NQVhfVkFMVUUpO2ZvcihsZXQgYT0wO2E8ODsrK2Epe2NvbnN0IG89clthXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoblthXSxlLG8pLHQubWluaW1pemVJblBsYWNlKG8pLGkubWF4aW1pemVJblBsYWNlKG8pfWkuc3VidHJhY3RUb1JlZih0LHRoaXMuZXh0ZW5kU2l6ZVdvcmxkKS5zY2FsZUluUGxhY2UoLjUpLGkuYWRkVG9SZWYodCx0aGlzLmNlbnRlcldvcmxkKS5zY2FsZUluUGxhY2UoLjUpfXAuRnJvbUFycmF5VG9SZWYoZS5tLDAsc1swXSkscC5Gcm9tQXJyYXlUb1JlZihlLm0sNCxzWzFdKSxwLkZyb21BcnJheVRvUmVmKGUubSw4LHNbMl0pLHRoaXMuX3dvcmxkTWF0cml4PWV9aXNJbkZydXN0dW0oZSl7cmV0dXJuIGt0LklzSW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4ga3QuSXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMudmVjdG9yc1dvcmxkLGUpfWludGVyc2VjdHNQb2ludChlKXtjb25zdCB0PXRoaXMubWluaW11bVdvcmxkLGk9dGhpcy5tYXhpbXVtV29ybGQscz10Lngscj10Lnksbj10LnosYT1pLngsbz1pLnksaD1pLnosbD1lLngsdT1lLnksZD1lLnosZj0teGU7cmV0dXJuIShhLWw8Znx8Zj5sLXN8fG8tdTxmfHxmPnUtcnx8aC1kPGZ8fGY+ZC1uKX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiBrdC5JbnRlcnNlY3RzU3BoZXJlKHRoaXMubWluaW11bVdvcmxkLHRoaXMubWF4aW11bVdvcmxkLGUuY2VudGVyV29ybGQsZS5yYWRpdXNXb3JsZCl9aW50ZXJzZWN0c01pbk1heChlLHQpe2NvbnN0IGk9dGhpcy5taW5pbXVtV29ybGQscz10aGlzLm1heGltdW1Xb3JsZCxyPWkueCxuPWkueSxhPWkueixvPXMueCxoPXMueSxsPXMueix1PWUueCxkPWUueSxmPWUueixfPXQueCxFPXQueSxtPXQuejtyZXR1cm4hKG88dXx8cj5ffHxoPGR8fG4+RXx8bDxmfHxhPm0pfWRpc3Bvc2UoKXt2YXIgZSx0OyhlPXRoaXMuX2RyYXdXcmFwcGVyRnJvbnQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksKHQ9dGhpcy5fZHJhd1dyYXBwZXJCYWNrKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpfXN0YXRpYyBJbnRlcnNlY3RzKGUsdCl7cmV0dXJuIGUuaW50ZXJzZWN0c01pbk1heCh0Lm1pbmltdW1Xb3JsZCx0Lm1heGltdW1Xb3JsZCl9c3RhdGljIEludGVyc2VjdHNTcGhlcmUoZSx0LGkscyl7Y29uc3Qgcj1rdC5fVG1wVmVjdG9yM1swXTtyZXR1cm4gcC5DbGFtcFRvUmVmKGksZSx0LHIpLHAuRGlzdGFuY2VTcXVhcmVkKGkscik8PXMqc31zdGF0aWMgSXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUsdCl7Zm9yKGxldCBpPTA7aTw2OysraSl7Y29uc3Qgcz10W2ldO2ZvcihsZXQgcj0wO3I8ODsrK3IpaWYocy5kb3RDb29yZGluYXRlKGVbcl0pPDApcmV0dXJuITF9cmV0dXJuITB9c3RhdGljIElzSW5GcnVzdHVtKGUsdCl7Zm9yKGxldCBpPTA7aTw2OysraSl7bGV0IHM9ITA7Y29uc3Qgcj10W2ldO2ZvcihsZXQgbj0wO248ODsrK24paWYoci5kb3RDb29yZGluYXRlKGVbbl0pPj0wKXtzPSExO2JyZWFrfWlmKHMpcmV0dXJuITF9cmV0dXJuITB9fWt0Ll9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoMyxwLlplcm8pO2NsYXNzIGZpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNlbnRlcj1wLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPXAuWmVybygpLHRoaXMubWluaW11bT1wLlplcm8oKSx0aGlzLm1heGltdW09cC5aZXJvKCksdGhpcy5yZUNvbnN0cnVjdChlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe3RoaXMubWluaW11bS5jb3B5RnJvbShlKSx0aGlzLm1heGltdW0uY29weUZyb20odCk7Y29uc3Qgcz1wLkRpc3RhbmNlKGUsdCk7dC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHRoaXMucmFkaXVzPXMqLjUsdGhpcy5fdXBkYXRlKGl8fHguSWRlbnRpdHlSZWFkT25seSl9c2NhbGUoZSl7Y29uc3QgdD10aGlzLnJhZGl1cyplLGk9ZmkuX1RtcFZlY3RvcjMscz1pWzBdLnNldEFsbCh0KSxyPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYocyxpWzFdKSxuPXRoaXMuY2VudGVyLmFkZFRvUmVmKHMsaVsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QocixuLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV91cGRhdGUoZSl7aWYoZS5pc0lkZW50aXR5KCkpdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlciksdGhpcy5yYWRpdXNXb3JsZD10aGlzLnJhZGl1cztlbHNle3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLmNlbnRlcixlLHRoaXMuY2VudGVyV29ybGQpO2NvbnN0IHQ9ZmkuX1RtcFZlY3RvcjNbMF07cC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMSwxLDEsZSx0KSx0aGlzLnJhZGl1c1dvcmxkPU1hdGgubWF4KE1hdGguYWJzKHQueCksTWF0aC5hYnModC55KSxNYXRoLmFicyh0LnopKSp0aGlzLnJhZGl1c319aXNJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmNlbnRlcldvcmxkLGk9dGhpcy5yYWRpdXNXb3JsZDtmb3IobGV0IHM9MDtzPDY7cysrKWlmKGVbc10uZG90Q29vcmRpbmF0ZSh0KTw9LWkpcmV0dXJuITE7cmV0dXJuITB9aXNDZW50ZXJJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmNlbnRlcldvcmxkO2ZvcihsZXQgaT0wO2k8NjtpKyspaWYoZVtpXS5kb3RDb29yZGluYXRlKHQpPDApcmV0dXJuITE7cmV0dXJuITB9aW50ZXJzZWN0c1BvaW50KGUpe2NvbnN0IHQ9cC5EaXN0YW5jZVNxdWFyZWQodGhpcy5jZW50ZXJXb3JsZCxlKTtyZXR1cm4hKHRoaXMucmFkaXVzV29ybGQqdGhpcy5yYWRpdXNXb3JsZDx0KX1zdGF0aWMgSW50ZXJzZWN0cyhlLHQpe2NvbnN0IGk9cC5EaXN0YW5jZVNxdWFyZWQoZS5jZW50ZXJXb3JsZCx0LmNlbnRlcldvcmxkKSxzPWUucmFkaXVzV29ybGQrdC5yYWRpdXNXb3JsZDtyZXR1cm4hKHMqczxpKX1zdGF0aWMgQ3JlYXRlRnJvbUNlbnRlckFuZFJhZGl1cyhlLHQsaSl7dGhpcy5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKSx0aGlzLl9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKDAsMCx0KSx0aGlzLl9UbXBWZWN0b3IzWzJdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMF0uYWRkSW5QbGFjZSh0aGlzLl9UbXBWZWN0b3IzWzFdKSx0aGlzLl9UbXBWZWN0b3IzWzJdLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl9UbXBWZWN0b3IzWzFdKTtjb25zdCBzPW5ldyBmaSh0aGlzLl9UbXBWZWN0b3IzWzBdLHRoaXMuX1RtcFZlY3RvcjNbMl0pO3JldHVybiBpP3MuX3dvcmxkTWF0cml4PWk6cy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpLHN9fWZpLl9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoMyxwLlplcm8pO2NvbnN0IEZzPXttaW46MCxtYXg6MH0sd3M9e21pbjowLG1heDowfSxScj0oYyxlLHQpPT57Y29uc3QgaT1wLkRvdChlLmNlbnRlcldvcmxkLGMpLHM9TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzBdLGMpKSplLmV4dGVuZFNpemUueCxyPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1sxXSxjKSkqZS5leHRlbmRTaXplLnksbj1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMl0sYykpKmUuZXh0ZW5kU2l6ZS56LGE9cytyK247dC5taW49aS1hLHQubWF4PWkrYX0scnQ9KGMsZSx0KT0+KFJyKGMsZSxGcyksUnIoYyx0LHdzKSwhKEZzLm1pbj53cy5tYXh8fHdzLm1pbj5Gcy5tYXgpKTtjbGFzcyBkdHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5faXNMb2NrZWQ9ITEsdGhpcy5ib3VuZGluZ0JveD1uZXcga3QoZSx0LGkpLHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IGZpKGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7dGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChlLHQsaSksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChlLHQsaSl9Z2V0IG1pbmltdW0oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtfWdldCBtYXhpbXVtKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWF4aW11bX1nZXQgaXNMb2NrZWQoKXtyZXR1cm4gdGhpcy5faXNMb2NrZWR9c2V0IGlzTG9ja2VkKGUpe3RoaXMuX2lzTG9ja2VkPWV9dXBkYXRlKGUpe3RoaXMuX2lzTG9ja2VkfHwodGhpcy5ib3VuZGluZ0JveC5fdXBkYXRlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuX3VwZGF0ZShlKSl9Y2VudGVyT24oZSx0KXtjb25zdCBpPWR0Ll9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLnN1YnRyYWN0SW5QbGFjZSh0KSxzPWR0Ll9UbXBWZWN0b3IzWzFdLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UodCk7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoaSxzLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChpLHMsdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzfWVuY2Fwc3VsYXRlKGUpe2NvbnN0IHQ9cC5NaW5pbWl6ZSh0aGlzLm1pbmltdW0sZSksaT1wLk1heGltaXplKHRoaXMubWF4aW11bSxlKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdCh0LGksdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzfWVuY2Fwc3VsYXRlQm91bmRpbmdJbmZvKGUpe3JldHVybiB0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuc3VidHJhY3QoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuYWRkKGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpc31zY2FsZShlKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5zY2FsZShlKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnNjYWxlKGUpLHRoaXN9aXNJbkZydXN0dW0oZSx0PTApe3JldHVybih0PT09Mnx8dD09PTMpJiZ0aGlzLmJvdW5kaW5nU3BoZXJlLmlzQ2VudGVySW5GcnVzdHVtKGUpPyEwOnRoaXMuYm91bmRpbmdTcGhlcmUuaXNJbkZydXN0dW0oZSk/dD09PTF8fHQ9PT0zPyEwOnRoaXMuYm91bmRpbmdCb3guaXNJbkZydXN0dW0oZSk6ITF9Z2V0IGRpYWdvbmFsTGVuZ3RoKCl7Y29uc3QgZT10aGlzLmJvdW5kaW5nQm94O3JldHVybiBlLm1heGltdW1Xb3JsZC5zdWJ0cmFjdFRvUmVmKGUubWluaW11bVdvcmxkLGR0Ll9UbXBWZWN0b3IzWzBdKS5sZW5ndGgoKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpfV9jaGVja0NvbGxpc2lvbihlKXtyZXR1cm4gZS5fY2FuRG9Db2xsaXNpb24odGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCx0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1c1dvcmxkLHRoaXMuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLHRoaXMuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkKX1pbnRlcnNlY3RzUG9pbnQoZSl7cmV0dXJuISghdGhpcy5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZHx8IXRoaXMuYm91bmRpbmdTcGhlcmUuaW50ZXJzZWN0c1BvaW50KGUpfHwhdGhpcy5ib3VuZGluZ0JveC5pbnRlcnNlY3RzUG9pbnQoZSkpfWludGVyc2VjdHMoZSx0KXtpZighZmkuSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nU3BoZXJlLGUuYm91bmRpbmdTcGhlcmUpfHwha3QuSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nQm94LGUuYm91bmRpbmdCb3gpKXJldHVybiExO2lmKCF0KXJldHVybiEwO2NvbnN0IGk9dGhpcy5ib3VuZGluZ0JveCxzPWUuYm91bmRpbmdCb3g7cmV0dXJuISghcnQoaS5kaXJlY3Rpb25zWzBdLGkscyl8fCFydChpLmRpcmVjdGlvbnNbMV0saSxzKXx8IXJ0KGkuZGlyZWN0aW9uc1syXSxpLHMpfHwhcnQocy5kaXJlY3Rpb25zWzBdLGkscyl8fCFydChzLmRpcmVjdGlvbnNbMV0saSxzKXx8IXJ0KHMuZGlyZWN0aW9uc1syXSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMF0scy5kaXJlY3Rpb25zWzBdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMF0scy5kaXJlY3Rpb25zWzFdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMF0scy5kaXJlY3Rpb25zWzJdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMV0scy5kaXJlY3Rpb25zWzBdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMV0scy5kaXJlY3Rpb25zWzFdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMV0scy5kaXJlY3Rpb25zWzJdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMl0scy5kaXJlY3Rpb25zWzBdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMl0scy5kaXJlY3Rpb25zWzFdKSxpLHMpfHwhcnQocC5Dcm9zcyhpLmRpcmVjdGlvbnNbMl0scy5kaXJlY3Rpb25zWzJdKSxpLHMpKX19ZHQuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSgyLHAuWmVybyk7Y2xhc3MgaXN7c3RhdGljIGV4dHJhY3RNaW5BbmRNYXhJbmRleGVkKGUsdCxpLHMscixuKXtmb3IobGV0IGE9aTthPGkrczthKyspe2NvbnN0IG89dFthXSozLGg9ZVtvXSxsPWVbbysxXSx1PWVbbysyXTtyLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpLG4ubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSl9fXN0YXRpYyBleHRyYWN0TWluQW5kTWF4KGUsdCxpLHMscixuKXtmb3IobGV0IGE9dCxvPXQqczthPHQraTthKyssbys9cyl7Y29uc3QgaD1lW29dLGw9ZVtvKzFdLHU9ZVtvKzJdO3IubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSksbi5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KX19fVQoW1F0LmZpbHRlcigoLi4uW2MsZV0pPT4hQXJyYXkuaXNBcnJheShjKSYmIUFycmF5LmlzQXJyYXkoZSkpXSxpcywiZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQiLG51bGwpLFQoW1F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxpcywiZXh0cmFjdE1pbkFuZE1heCIsbnVsbCk7ZnVuY3Rpb24gQm4oYyxlLHQsaSxzPW51bGwpe2NvbnN0IHI9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBpcy5leHRyYWN0TWluQW5kTWF4SW5kZXhlZChjLGUsdCxpLHIsbikscyYmKHIueC09ci54KnMueCtzLnksci55LT1yLnkqcy54K3MueSxyLnotPXIueipzLngrcy55LG4ueCs9bi54KnMueCtzLnksbi55Kz1uLnkqcy54K3MueSxuLnorPW4ueipzLngrcy55KSx7bWluaW11bTpyLG1heGltdW06bn19ZnVuY3Rpb24geXIoYyxlLHQsaT1udWxsLHMpe2NvbnN0IHI9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBzfHwocz0zKSxpcy5leHRyYWN0TWluQW5kTWF4KGMsZSx0LHMscixuKSxpJiYoci54LT1yLngqaS54K2kueSxyLnktPXIueSppLngraS55LHIuei09ci56KmkueCtpLnksbi54Kz1uLngqaS54K2kueSxuLnkrPW4ueSppLngraS55LG4ueis9bi56KmkueCtpLnkpLHttaW5pbXVtOnIsbWF4aW11bTpufX1jbGFzcyB2dHtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhLG89ITAsaD0hMCl7dGhpcy5tYXRlcmlhbEluZGV4PWUsdGhpcy52ZXJ0aWNlc1N0YXJ0PXQsdGhpcy52ZXJ0aWNlc0NvdW50PWksdGhpcy5pbmRleFN0YXJ0PXMsdGhpcy5pbmRleENvdW50PXIsdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9bnVsbCx0aGlzLl9saW5lc0luZGV4Q291bnQ9MCx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1udWxsLHRoaXMuX3dhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9hbHBoYUluZGV4PTAsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1udWxsLHRoaXMuX21lc2g9bix0aGlzLl9yZW5kZXJpbmdNZXNoPWF8fG4saCYmbi5zdWJNZXNoZXMucHVzaCh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl90cmlhbmdsZVBsYW5lcz1bXSx0aGlzLl9pZD1uLnN1Yk1lc2hlcy5sZW5ndGgtMSxvJiYodGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksbi5jb21wdXRlV29ybGRNYXRyaXgoITApKX1nZXQgbWF0ZXJpYWxEZWZpbmVzKCl7dmFyIGU7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmRlZmluZXM6KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmRlZmluZXN9c2V0IG1hdGVyaWFsRGVmaW5lcyhlKXt2YXIgdDtjb25zdCBpPSh0PXRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2kuZGVmaW5lcz1lfV9nZXREcmF3V3JhcHBlcihlLHQ9ITEpe2U9ZSE9bnVsbD9lOnRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO2xldCBpPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4haSYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1pPW5ldyBtaSh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxpfV9yZW1vdmVEcmF3V3JhcHBlcihlLHQ9ITApe3ZhciBpO3QmJigoaT10aGlzLl9kcmF3V3JhcHBlcnNbZV0pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCkpLHRoaXMuX2RyYXdXcmFwcGVyc1tlXT12b2lkIDB9Z2V0IGVmZmVjdCgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmVmZmVjdDoodD0oZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZWZmZWN0KSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfWdldCBfZHJhd1dyYXBwZXIoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKX1nZXQgX2RyYXdXcmFwcGVyT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGV9X3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlKGUpe3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPWV9c2V0RWZmZWN0KGUsdD1udWxsLGkscz0hMCl7Y29uc3Qgcj10aGlzLl9kcmF3V3JhcHBlcjtyLnNldEVmZmVjdChlLHQscyksaSE9PXZvaWQgMCYmKHIubWF0ZXJpYWxDb250ZXh0PWkpLGV8fChyLmRlZmluZXM9bnVsbCxyLm1hdGVyaWFsQ29udGV4dD12b2lkIDApfXJlc2V0RHJhd0NhY2hlKGUpe2lmKHRoaXMuX2RyYXdXcmFwcGVycylpZihlIT09dm9pZCAwKXt0aGlzLl9yZW1vdmVEcmF3V3JhcHBlcihlKTtyZXR1cm59ZWxzZSBmb3IoY29uc3QgdCBvZiB0aGlzLl9kcmF3V3JhcHBlcnMpdD09bnVsbHx8dC5kaXNwb3NlKCk7dGhpcy5fZHJhd1dyYXBwZXJzPVtdfXN0YXRpYyBBZGRUb01lc2goZSx0LGkscyxyLG4sYSxvPSEwKXtyZXR1cm4gbmV3IHZ0KGUsdCxpLHMscixuLGEsbyl9Z2V0IElzR2xvYmFsKCl7cmV0dXJuIHRoaXMudmVydGljZXNTdGFydD09PTAmJnRoaXMudmVydGljZXNDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxWZXJ0aWNlcygpJiZ0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsSW5kaWNlcygpfWdldEJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLklzR2xvYmFsP3RoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCk6dGhpcy5fYm91bmRpbmdJbmZvfXNldEJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc31nZXRNZXNoKCl7cmV0dXJuIHRoaXMuX21lc2h9Z2V0UmVuZGVyaW5nTWVzaCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNZXNofWdldFJlcGxhY2VtZW50TWVzaCgpe3JldHVybiB0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbH1nZXRFZmZlY3RpdmVNZXNoKCl7Y29uc3QgZT10aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbDtyZXR1cm4gZXx8dGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRNYXRlcmlhbChlPSEwKXt2YXIgdDtjb25zdCBpPSh0PXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fcmVuZGVyaW5nTWVzaC5tYXRlcmlhbDtpZihpKXtpZih0aGlzLl9pc011bHRpTWF0ZXJpYWwoaSkpe2NvbnN0IHM9aS5nZXRTdWJNYXRlcmlhbCh0aGlzLm1hdGVyaWFsSW5kZXgpO3JldHVybiB0aGlzLl9jdXJyZW50TWF0ZXJpYWwhPT1zJiYodGhpcy5fY3VycmVudE1hdGVyaWFsPXMsdGhpcy5yZXNldERyYXdDYWNoZSgpKSxzfX1lbHNlIHJldHVybiBlP3RoaXMuX21lc2guZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6bnVsbDtyZXR1cm4gaX1faXNNdWx0aU1hdGVyaWFsKGUpe3JldHVybiBlLmdldFN1Yk1hdGVyaWFsIT09dm9pZCAwfXJlZnJlc2hCb3VuZGluZ0luZm8oZT1udWxsKXtpZih0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5Jc0dsb2JhbHx8IXRoaXMuX3JlbmRlcmluZ01lc2h8fCF0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKGV8fChlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksIWUpcmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz10aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpLHRoaXM7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEluZGljZXMoKTtsZXQgaTtpZih0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10Lmxlbmd0aCl7Y29uc3Qgcz10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEJvdW5kaW5nSW5mbygpO2k9e21pbmltdW06cy5taW5pbXVtLmNsb25lKCksbWF4aW11bTpzLm1heGltdW0uY2xvbmUoKX19ZWxzZSBpPUJuKGUsdCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LHRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzKTtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGR0KGkubWluaW11bSxpLm1heGltdW0pLHRoaXN9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKX11cGRhdGVCb3VuZGluZ0luZm8oZSl7bGV0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdHx8KHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSksdCYmdC51cGRhdGUoZSksdGhpc31pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0luRnJ1c3R1bShlLHRoaXMuX21lc2guY3VsbGluZ1N0cmF0ZWd5KTohMX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpOiExfXJlbmRlcihlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaC5yZW5kZXIodGhpcyxlLHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDp2b2lkIDApLHRoaXN9X2dldExpbmVzSW5kZXhCdWZmZXIoZSx0KXtpZighdGhpcy5fbGluZXNJbmRleEJ1ZmZlcil7Y29uc3QgaT1bXTtmb3IobGV0IHM9dGhpcy5pbmRleFN0YXJ0O3M8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDtzKz0zKWkucHVzaChlW3NdLGVbcysxXSxlW3MrMV0sZVtzKzJdLGVbcysyXSxlW3NdKTt0aGlzLl9saW5lc0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fbGluZXNJbmRleENvdW50PWkubGVuZ3RofXJldHVybiB0aGlzLl9saW5lc0luZGV4QnVmZmVyfWNhbkludGVyc2VjdHMoZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P2UuaW50ZXJzZWN0c0JveCh0LmJvdW5kaW5nQm94KTohMX1pbnRlcnNlY3RzKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLmdldE1hdGVyaWFsKCk7aWYoIW4pcmV0dXJuIG51bGw7bGV0IGE9MyxvPSExO3N3aXRjaChuLmZpbGxNb2RlKXtjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDg6cmV0dXJuIG51bGw7Y2FzZSA3OmE9MSxvPSEwO2JyZWFrfXJldHVybiBuLmZpbGxNb2RlPT09ND9pLmxlbmd0aD90aGlzLl9pbnRlcnNlY3RMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTp0aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTohaS5sZW5ndGgmJnRoaXMuX21lc2guX3VuSW5kZXhlZD90aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXMoZSx0LGkscyxyKTp0aGlzLl9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGksYSxvLHMscil9X2ludGVyc2VjdExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy5pbmRleFN0YXJ0O2E8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDthKz0yKXtjb25zdCBvPXRbaVthXV0saD10W2lbYSsxXV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgRHMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGkscyxyKXtsZXQgbj1udWxsO2ZvcihsZXQgYT10aGlzLnZlcnRpY2VzU3RhcnQ7YTx0aGlzLnZlcnRpY2VzU3RhcnQrdGhpcy52ZXJ0aWNlc0NvdW50O2ErPTIpe2NvbnN0IG89dFthXSxoPXRbYSsxXSxsPWUuaW50ZXJzZWN0aW9uU2VnbWVudChvLGgscyk7aWYoIShsPDApJiYocnx8IW58fGw8bi5kaXN0YW5jZSkmJihuPW5ldyBEcyhudWxsLG51bGwsbCksbi5mYWNlSWQ9YS8yLHIpKWJyZWFrfXJldHVybiBufV9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGkscyxyLG4sYSl7bGV0IG89bnVsbCxoPS0xO2ZvcihsZXQgbD10aGlzLmluZGV4U3RhcnQ7bDx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50LSgzLXMpO2wrPXMpe2grKztjb25zdCB1PWlbbF0sZD1pW2wrMV0sZj1pW2wrMl07aWYociYmZj09PTQyOTQ5NjcyOTUpe2wrPTI7Y29udGludWV9Y29uc3QgXz10W3VdLEU9dFtkXSxtPXRbZl07aWYoIV98fCFFfHwhbXx8YSYmIWEoXyxFLG0sZSx1LGQsZikpY29udGludWU7Y29uc3Qgdj1lLmludGVyc2VjdHNUcmlhbmdsZShfLEUsbSk7aWYodil7aWYodi5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChufHwhb3x8di5kaXN0YW5jZTxvLmRpc3RhbmNlKSYmKG89dixvLmZhY2VJZD1oLG4pKWJyZWFrfX1yZXR1cm4gb31faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0zKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD10W2ErMl07aWYociYmIXIobyxoLGwsZSwtMSwtMSwtMSkpY29udGludWU7Y29uc3QgdT1lLmludGVyc2VjdHNUcmlhbmdsZShvLGgsbCk7aWYodSl7aWYodS5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChzfHwhbnx8dS5kaXN0YW5jZTxuLmRpc3RhbmNlKSYmKG49dSxuLmZhY2VJZD1hLzMscykpYnJlYWt9fXJldHVybiBufV9yZWJ1aWxkKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCl9Y2xvbmUoZSx0KXtjb25zdCBpPW5ldyB2dCh0aGlzLm1hdGVyaWFsSW5kZXgsdGhpcy52ZXJ0aWNlc1N0YXJ0LHRoaXMudmVydGljZXNDb3VudCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LGUsdCwhMSk7aWYoIXRoaXMuSXNHbG9iYWwpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZighcylyZXR1cm4gaTtpLl9ib3VuZGluZ0luZm89bmV3IGR0KHMubWluaW11bSxzLm1heGltdW0pfXJldHVybiBpfWRpc3Bvc2UoKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCk7Y29uc3QgZT10aGlzLl9tZXNoLnN1Yk1lc2hlcy5pbmRleE9mKHRoaXMpO3RoaXMuX21lc2guc3ViTWVzaGVzLnNwbGljZShlLDEpLHRoaXMucmVzZXREcmF3Q2FjaGUoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU3ViTWVzaCJ9c3RhdGljIENyZWF0ZUZyb21JbmRpY2VzKGUsdCxpLHMscixuPSEwKXtsZXQgYT1OdW1iZXIuTUFYX1ZBTFVFLG89LU51bWJlci5NQVhfVkFMVUU7Y29uc3QgbD0ocnx8cykuZ2V0SW5kaWNlcygpO2ZvcihsZXQgdT10O3U8dCtpO3UrKyl7Y29uc3QgZD1sW3VdO2Q8YSYmKGE9ZCksZD5vJiYobz1kKX1yZXR1cm4gbmV3IHZ0KGUsYSxvLWErMSx0LGkscyxyLG4pfX1jbGFzcyBPZXtzdGF0aWMgZ2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKCl7cmV0dXJuIE9lLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe09lLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfXN0YXRpYyBnZXQgU2hvd0xvYWRpbmdTY3JlZW4oKXtyZXR1cm4gT2UuX1Nob3dMb2FkaW5nU2NyZWVufXN0YXRpYyBzZXQgU2hvd0xvYWRpbmdTY3JlZW4oZSl7T2UuX1Nob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gT2UuX0xvZ2dpbmdMZXZlbH1zdGF0aWMgc2V0IGxvZ2dpbmdMZXZlbChlKXtPZS5fTG9nZ2luZ0xldmVsPWV9c3RhdGljIGdldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKCl7cmV0dXJuIE9lLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXtPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfX1PZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ITEsT2UuX1Nob3dMb2FkaW5nU2NyZWVuPSEwLE9lLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPSExLE9lLl9Mb2dnaW5nTGV2ZWw9MDtjbGFzcyBmdHt9ZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj0hMTtjbGFzcyBhdHtjb25zdHJ1Y3RvcihlLHQsaSxzPSExLHI9bnVsbCl7dGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9ITEsdGhpcy5fcG9zaXRpb25zQ2FjaGU9W10sdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnk9ITEsdGhpcy5fc2NlbmU9dHx8ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMuaWQ9ZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX21lc2hlcz1bXSx0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX2luZGljZXM9W10sdGhpcy5fdXBkYXRhYmxlPXMsaT90aGlzLnNldEFsbFZlcnRpY2VzRGF0YShpLHMpOnRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSxyJiYodGhpcy5hcHBseVRvTWVzaChyKSxyLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpKX1nZXQgYm91bmRpbmdCaWFzKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQmlhc31zZXQgYm91bmRpbmdCaWFzKGUpe3RoaXMuX2JvdW5kaW5nQmlhcz90aGlzLl9ib3VuZGluZ0JpYXMuY29weUZyb20oZSk6dGhpcy5fYm91bmRpbmdCaWFzPWUuY2xvbmUoKSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oITAsbnVsbCl9c3RhdGljIENyZWF0ZUdlb21ldHJ5Rm9yTWVzaChlKXtjb25zdCB0PW5ldyBhdChhdC5SYW5kb21JZCgpLGUuZ2V0U2NlbmUoKSk7cmV0dXJuIHQuYXBwbHlUb01lc2goZSksdH1nZXQgbWVzaGVzKCl7cmV0dXJuIHRoaXMuX21lc2hlc31nZXQgZXh0ZW5kKCl7cmV0dXJuIHRoaXMuX2V4dGVuZH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTF8fHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0wfWdldCBkb05vdFNlcmlhbGl6ZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzLmxlbmd0aDtlKyspaWYoIXRoaXMuX21lc2hlc1tlXS5kb05vdFNlcmlhbGl6ZSlyZXR1cm4hMTtyZXR1cm4hMH1fcmVidWlsZCgpe3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uX3JlYnVpbGQoKX1zZXRBbGxWZXJ0aWNlc0RhdGEoZSx0KXtlLmFwcGx5VG9HZW9tZXRyeSh0aGlzLHQpLHRoaXMuX25vdGlmeVVwZGF0ZSgpfXNldFZlcnRpY2VzRGF0YShlLHQsaT0hMSxzKXtpJiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTtjb25zdCByPW5ldyBnKHRoaXMuX2VuZ2luZSx0LGUsaSx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MCxzKTt0aGlzLnNldFZlcnRpY2VzQnVmZmVyKHIpfXJlbW92ZVZlcnRpY2VzRGF0YShlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0pLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpfXNldFZlcnRpY2VzQnVmZmVyKGUsdD1udWxsLGk9ITApe2NvbnN0IHM9ZS5nZXRLaW5kKCk7dGhpcy5fdmVydGV4QnVmZmVyc1tzXSYmaSYmdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCksZS5fYnVmZmVyJiZlLl9idWZmZXIuX2luY3JlYXNlUmVmZXJlbmNlcygpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbc109ZTtjb25zdCByPXRoaXMuX21lc2hlcyxuPXIubGVuZ3RoO2lmKHM9PT1nLlBvc2l0aW9uS2luZCl7Y29uc3QgYT1lLmdldERhdGEoKTt0IT1udWxsP3RoaXMuX3RvdGFsVmVydGljZXM9dDphIT1udWxsJiYodGhpcy5fdG90YWxWZXJ0aWNlcz1hLmxlbmd0aC8oZS50eXBlPT09Zy5CWVRFP2UuYnl0ZVN0cmlkZTplLmJ5dGVTdHJpZGUvNCkpLHRoaXMuX3VwZGF0ZUV4dGVuZChhKSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IobGV0IG89MDtvPG47bysrKXtjb25zdCBoPXJbb107aC5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksaC5fY3JlYXRlR2xvYmFsU3ViTWVzaChoLmlzVW5JbmRleGVkKSxoLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaC5zeW5jaHJvbml6ZUluc3RhbmNlcygpfX10aGlzLl9ub3RpZnlVcGRhdGUocyl9dXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshcnx8KHIudXBkYXRlRGlyZWN0bHkodCxpLHMpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpPSExKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpOyFzfHwocy51cGRhdGUodCksZT09PWcuUG9zaXRpb25LaW5kJiZ0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oaSx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoZSkpfV91cGRhdGVCb3VuZGluZ0luZm8oZSx0KXtpZihlJiZ0aGlzLl91cGRhdGVFeHRlbmQodCksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCksZSl7Y29uc3QgaT10aGlzLl9tZXNoZXM7Zm9yKGNvbnN0IHMgb2YgaSl7cy5oYXNCb3VuZGluZ0luZm8/cy5nZXRCb3VuZGluZ0luZm8oKS5yZUNvbnN0cnVjdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSk6cy5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSk7Y29uc3Qgcj1zLnN1Yk1lc2hlcztmb3IoY29uc3QgbiBvZiByKW4ucmVmcmVzaEJvdW5kaW5nSW5mbygpfX19X2JpbmQoZSx0LGkscyl7aWYoIWUpcmV0dXJuO3Q9PT12b2lkIDAmJih0PXRoaXMuX2luZGV4QnVmZmVyKTtjb25zdCByPXRoaXMuZ2V0VmVydGV4QnVmZmVycygpO2lmKCFyKXJldHVybjtpZih0IT10aGlzLl9pbmRleEJ1ZmZlcnx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmIXMpe3RoaXMuX2VuZ2luZS5iaW5kQnVmZmVycyhyLHQsZSxpKTtyZXR1cm59Y29uc3Qgbj1zfHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM7bltlLmtleV18fChuW2Uua2V5XT10aGlzLl9lbmdpbmUucmVjb3JkVmVydGV4QXJyYXlPYmplY3Qocix0LGUsaSkpLHRoaXMuX2VuZ2luZS5iaW5kVmVydGV4QXJyYXlPYmplY3QobltlLmtleV0sdCl9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl90b3RhbFZlcnRpY2VzOjB9Z2V0VmVydGljZXNEYXRhKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3JldHVybiBzP3MuZ2V0RmxvYXREYXRhKHRoaXMuX3RvdGFsVmVydGljZXMsaXx8dCYmdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTEpOm51bGx9aXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZSl7Y29uc3QgdD10aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdO3JldHVybiB0P3QuaXNVcGRhdGFibGUoKTohMX1nZXRWZXJ0ZXhCdWZmZXIoZSl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV06bnVsbH1nZXRWZXJ0ZXhCdWZmZXJzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3ZlcnRleEJ1ZmZlcnM6bnVsbH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuIHRoaXMuX3ZlcnRleEJ1ZmZlcnM/dGhpcy5fdmVydGV4QnVmZmVyc1tlXSE9PXZvaWQgMDp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX1nZXRWZXJ0aWNlc0RhdGFLaW5kcygpe2NvbnN0IGU9W107bGV0IHQ7aWYoIXRoaXMuX3ZlcnRleEJ1ZmZlcnMmJnRoaXMuX2RlbGF5SW5mbylmb3IodCBpbiB0aGlzLl9kZWxheUluZm8pZS5wdXNoKHQpO2Vsc2UgZm9yKHQgaW4gdGhpcy5fdmVydGV4QnVmZmVycyllLnB1c2godCk7cmV0dXJuIGV9dXBkYXRlSW5kaWNlcyhlLHQsaT0hMSl7aWYoISF0aGlzLl9pbmRleEJ1ZmZlcilpZighdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZSl0aGlzLnNldEluZGljZXMoZSxudWxsLCEwKTtlbHNle2NvbnN0IHM9ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihpfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxzKWZvcihjb25zdCByIG9mIHRoaXMuX21lc2hlcylyLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKX19c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXt0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsaSkpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcihjb25zdCBzIG9mIHRoaXMuX21lc2hlcylzLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKSxzLnN5bmNocm9uaXplSW5zdGFuY2VzKCk7dGhpcy5fbm90aWZ5VXBkYXRlKCl9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9Z2V0SW5kaWNlcyhlLHQpe2lmKCF0aGlzLmlzUmVhZHkoKSlyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP2k6aS5zbGljZSgpfWdldEluZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9X3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlPW51bGwpeyFlfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzfHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldJiYodGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKSxkZWxldGUgdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSl9cmVsZWFzZUZvck1lc2goZSx0KXtjb25zdCBpPXRoaXMuX21lc2hlcyxzPWkuaW5kZXhPZihlKTtzIT09LTEmJihpLnNwbGljZShzLDEpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSxlLl9nZW9tZXRyeT1udWxsLGkubGVuZ3RoPT09MCYmdCYmdGhpcy5kaXNwb3NlKCkpfWFwcGx5VG9NZXNoKGUpe2lmKGUuX2dlb21ldHJ5PT09dGhpcylyZXR1cm47Y29uc3QgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTtjb25zdCBpPXRoaXMuX21lc2hlcztlLl9nZW9tZXRyeT10aGlzLGUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsLHRoaXMuX3NjZW5lLnB1c2hHZW9tZXRyeSh0aGlzKSxpLnB1c2goZSksdGhpcy5pc1JlYWR5KCk/dGhpcy5fYXBwbHlUb01lc2goZSk6dGhpcy5fYm91bmRpbmdJbmZvJiZlLnNldEJvdW5kaW5nSW5mbyh0aGlzLl9ib3VuZGluZ0luZm8pfV91cGRhdGVFeHRlbmQoZT1udWxsKXtpZih0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeSYmdGhpcy5fYm91bmRpbmdJbmZvKXRoaXMuX2V4dGVuZD17bWluaW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWluaW11bS5jbG9uZSgpLG1heGltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1heGltdW0uY2xvbmUoKX07ZWxzZXtpZighZSYmKGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLCFlKSlyZXR1cm47dGhpcy5fZXh0ZW5kPXlyKGUsMCx0aGlzLl90b3RhbFZlcnRpY2VzLHRoaXMuYm91bmRpbmdCaWFzLDMpfX1fYXBwbHlUb01lc2goZSl7Y29uc3QgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdD09PTEmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbaV0uY3JlYXRlKCksaT09PWcuUG9zaXRpb25LaW5kJiYodGhpcy5fZXh0ZW5kfHx0aGlzLl91cGRhdGVFeHRlbmQoKSxlLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxlLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGUuaXNVbkluZGV4ZWQpLGUuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKTt0PT09MSYmdGhpcy5faW5kaWNlcyYmdGhpcy5faW5kaWNlcy5sZW5ndGg+MCYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHRoaXMuX3VwZGF0YWJsZSkpLGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSxlLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9X25vdGlmeVVwZGF0ZShlKXt0aGlzLm9uR2VvbWV0cnlVcGRhdGVkJiZ0aGlzLm9uR2VvbWV0cnlVcGRhdGVkKHRoaXMsZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVzaGVzKXQuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWxvYWQoZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX1fcXVldWVMb2FkKGUsdCl7IXRoaXMuZGVsYXlMb2FkaW5nRmlsZXx8KGUuYWRkUGVuZGluZ0RhdGEodGhpcyksZS5fbG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGk9PntpZighdGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24pcmV0dXJuO3RoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKEpTT04ucGFyc2UoaSksdGhpcyksdGhpcy5kZWxheUxvYWRTdGF0ZT0xLHRoaXMuX2RlbGF5SW5mbz1bXSxlLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IHM9dGhpcy5fbWVzaGVzLHI9cy5sZW5ndGg7Zm9yKGxldCBuPTA7bjxyO24rKyl0aGlzLl9hcHBseVRvTWVzaChzW25dKTt0JiZ0KCl9LHZvaWQgMCwhMCkpfXRvTGVmdEhhbmRlZCgpe2NvbnN0IGU9dGhpcy5nZXRJbmRpY2VzKCExKTtpZihlIT1udWxsJiZlLmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTMpe2NvbnN0IHI9ZVtzKzBdO2VbcyswXT1lW3MrMl0sZVtzKzJdPXJ9dGhpcy5zZXRJbmRpY2VzKGUpfWNvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsITEpO2lmKHQhPW51bGwmJnQubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cys9Myl0W3MrMl09LXRbcysyXTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0LCExKX1jb25zdCBpPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCwhMSk7aWYoaSE9bnVsbCYmaS5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKz0zKWlbcysyXT0taVtzKzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxpLCExKX19X3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpe3RoaXMuX3Bvc2l0aW9ucz1udWxsfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7aWYodGhpcy5fcG9zaXRpb25zKXJldHVybiEwO2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFlfHxlLmxlbmd0aD09PTApcmV0dXJuITE7Zm9yKGxldCB0PXRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aCozLGk9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoO3Q8ZS5sZW5ndGg7dCs9MywrK2kpdGhpcy5fcG9zaXRpb25zQ2FjaGVbaV09cC5Gcm9tQXJyYXkoZSx0KTtmb3IobGV0IHQ9MCxpPTA7dDxlLmxlbmd0aDt0Kz0zLCsraSl0aGlzLl9wb3NpdGlvbnNDYWNoZVtpXS5zZXQoZVswK3RdLGVbMSt0XSxlWzIrdF0pO3JldHVybiB0aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg9ZS5sZW5ndGgvMyx0aGlzLl9wb3NpdGlvbnM9dGhpcy5fcG9zaXRpb25zQ2FjaGUsITB9aXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfV9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCl7aWYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzKXtmb3IoY29uc3QgaSBpbiB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbaV0pO3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fTtjb25zdCBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKyspZVtpXS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKX19ZGlzcG9zZSgpe2NvbnN0IGU9dGhpcy5fbWVzaGVzLHQ9ZS5sZW5ndGg7bGV0IGk7Zm9yKGk9MDtpPHQ7aSsrKXRoaXMucmVsZWFzZUZvck1lc2goZVtpXSk7dGhpcy5fbWVzaGVzLmxlbmd0aD0wLHRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IoY29uc3QgcyBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbc10uZGlzcG9zZSgpO2lmKHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5fdG90YWxWZXJ0aWNlcz0wLHRoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGV4QnVmZmVyPW51bGwsdGhpcy5faW5kaWNlcz1bXSx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5kZWxheUxvYWRpbmdGaWxlPW51bGwsdGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249bnVsbCx0aGlzLl9kZWxheUluZm89W10sdGhpcy5fYm91bmRpbmdJbmZvPW51bGwsdGhpcy5fc2NlbmUucmVtb3ZlR2VvbWV0cnkodGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBzPXRoaXMuX3BhcmVudENvbnRhaW5lci5nZW9tZXRyaWVzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuc3BsaWNlKHMsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9dGhpcy5faXNEaXNwb3NlZD0hMH1jb3B5KGUpe2NvbnN0IHQ9bmV3IGVlO3QuaW5kaWNlcz1bXTtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpO2lmKGkpZm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspdC5pbmRpY2VzLnB1c2goaVtvXSk7bGV0IHM9ITEscj0hMSxuO2ZvcihuIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpe2NvbnN0IG89dGhpcy5nZXRWZXJ0aWNlc0RhdGEobik7aWYobyYmKG8gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dC5zZXQobmV3IEZsb2F0MzJBcnJheShvKSxuKTp0LnNldChvLnNsaWNlKDApLG4pLCFyKSl7Y29uc3QgaD10aGlzLmdldFZlcnRleEJ1ZmZlcihuKTtoJiYocz1oLmlzVXBkYXRhYmxlKCkscj0hcyl9fWNvbnN0IGE9bmV3IGF0KGUsdGhpcy5fc2NlbmUsdCxzKTthLmRlbGF5TG9hZFN0YXRlPXRoaXMuZGVsYXlMb2FkU3RhdGUsYS5kZWxheUxvYWRpbmdGaWxlPXRoaXMuZGVsYXlMb2FkaW5nRmlsZSxhLl9kZWxheUxvYWRpbmdGdW5jdGlvbj10aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbjtmb3IobiBpbiB0aGlzLl9kZWxheUluZm8pYS5fZGVsYXlJbmZvPWEuX2RlbGF5SW5mb3x8W10sYS5fZGVsYXlJbmZvLnB1c2gobik7cmV0dXJuIGEuX2JvdW5kaW5nSW5mbz1uZXcgZHQodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGF9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnVwZGF0YWJsZT10aGlzLl91cGRhdGFibGUscGUmJnBlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9cGUuR2V0VGFncyh0aGlzKSksZX1fdG9OdW1iZXJBcnJheShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpfWNsZWFyQ2FjaGVkRGF0YSgpe3RoaXMuX2luZGljZXM9W10sdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycykhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsZSl8fCh0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9idWZmZXIuX2RhdGE9bnVsbCl9c2VyaWFsaXplVmVydGljZURhdGEoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGUudXZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuVVZLaW5kKSYmKGUudXZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYoZS51djJzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWMktpbmQpJiYoZS51djJzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWM0tpbmQpJiYoZS51djNzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNEtpbmQpJiYoZS51djRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNEtpbmQpJiYoZS51djRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNUtpbmQpJiYoZS51djVzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNUtpbmQpJiYoZS51djVzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNktpbmQpJiYoZS51djZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLkNvbG9yS2luZCkmJihlLmNvbG9ycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSksZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITAsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldEluZGljZXMoKSksZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCl7Y29uc3QgaT1lLl9nZW9tZXRyeTtyZXR1cm4gaT9pLmNvcHkodCk6bnVsbH1zdGF0aWMgUmFuZG9tSWQoKXtyZXR1cm4gSC5SYW5kb21JZCgpfXN0YXRpYyBfR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKylpZih0Lmdlb21ldHJpZXNbaV0uX2xvYWRlZFVuaXF1ZUlkPT09ZSlyZXR1cm4gdC5nZW9tZXRyaWVzW2ldO3JldHVybiBudWxsfXN0YXRpYyBfSW1wb3J0R2VvbWV0cnkoZSx0KXtjb25zdCBpPXQuZ2V0U2NlbmUoKSxzPWUuZ2VvbWV0cnlVbmlxdWVJZCxyPWUuZ2VvbWV0cnlJZDtpZihzfHxyKXtjb25zdCBuPXM/dGhpcy5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKHMsaSk6aS5nZXRHZW9tZXRyeUJ5SWQocik7biYmbi5hcHBseVRvTWVzaCh0KX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3Qgbj10Ll9iaW5hcnlJbmZvO2lmKG4ucG9zaXRpb25zQXR0ckRlc2MmJm4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5wb3NpdGlvbnNBdHRyRGVzYy5vZmZzZXQsbi5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsYSwhMSl9aWYobi5ub3JtYWxzQXR0ckRlc2MmJm4ubm9ybWFsc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubm9ybWFsc0F0dHJEZXNjLm9mZnNldCxuLm5vcm1hbHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGEsITEpfWlmKG4udGFuZ2V0c0F0dHJEZXNjJiZuLnRhbmdldHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsbi50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsYSwhMSl9aWYobi51dnNBdHRyRGVzYyYmbi51dnNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2c0F0dHJEZXNjLm9mZnNldCxuLnV2c0F0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCxhLCExKX1pZihuLnV2czJBdHRyRGVzYyYmbi51dnMyQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnMyQXR0ckRlc2Mub2Zmc2V0LG4udXZzMkF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsYSwhMSl9aWYobi51dnMzQXR0ckRlc2MmJm4udXZzM0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzM0F0dHJEZXNjLm9mZnNldCxuLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLGEsITEpfWlmKG4udXZzNEF0dHJEZXNjJiZuLnV2czRBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czRBdHRyRGVzYy5vZmZzZXQsbi51dnM0QXR0ckRlc2MuY291bnQpO2lmKGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxhLCExKX1pZihuLnV2czVBdHRyRGVzYyYmbi51dnM1QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM1QXR0ckRlc2Mub2Zmc2V0LG4udXZzNUF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsYSwhMSl9aWYobi51dnM2QXR0ckRlc2MmJm4udXZzNkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNkF0dHJEZXNjLm9mZnNldCxuLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLGEsITEpfWlmKG4uY29sb3JzQXR0ckRlc2MmJm4uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5jb2xvcnNBdHRyRGVzYy5vZmZzZXQsbi5jb2xvcnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsYSwhMSxuLmNvbG9yc0F0dHJEZXNjLnN0cmlkZSl9aWYobi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYyYmbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksbz1bXTtmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1hW2hdO28ucHVzaChsJjI1NSksby5wdXNoKChsJjY1MjgwKT4+OCksby5wdXNoKChsJjE2NzExNjgwKT4+MTYpLG8ucHVzaChsPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCxvLCExKX1pZihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxvLCExKX1pZihuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxhLCExKX1pZihuLmluZGljZXNBdHRyRGVzYyYmbi5pbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uaW5kaWNlc0F0dHJEZXNjLm9mZnNldCxuLmluZGljZXNBdHRyRGVzYy5jb3VudCk7dC5zZXRJbmRpY2VzKGEsbnVsbCl9aWYobi5zdWJNZXNoZXNBdHRyRGVzYyYmbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IobGV0IG89MDtvPG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7bysrKXtjb25zdCBoPWFbbyo1KzBdLGw9YVtvKjUrMV0sdT1hW28qNSsyXSxkPWFbbyo1KzNdLGY9YVtvKjUrNF07dnQuQWRkVG9NZXNoKGgsbCx1LGQsZix0KX19fWVsc2UgaWYoZS5wb3NpdGlvbnMmJmUubm9ybWFscyYmZS5pbmRpY2VzKXtpZih0LnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxlLnBvc2l0aW9ucyxlLnBvc2l0aW9ucy5fdXBkYXRhYmxlKSx0LnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZS5ub3JtYWxzLGUubm9ybWFscy5fdXBkYXRhYmxlKSxlLnRhbmdlbnRzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGUudGFuZ2VudHMsZS50YW5nZW50cy5fdXBkYXRhYmxlKSxlLnV2cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsZS51dnMsZS51dnMuX3VwZGF0YWJsZSksZS51dnMyJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsZS51dnMyLGUudXZzMi5fdXBkYXRhYmxlKSxlLnV2czMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxlLnV2czMsZS51dnMzLl91cGRhdGFibGUpLGUudXZzNCYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLGUudXZzNCxlLnV2czQuX3VwZGF0YWJsZSksZS51dnM1JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsZS51dnM1LGUudXZzNS5fdXBkYXRhYmxlKSxlLnV2czYmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxlLnV2czYsZS51dnM2Ll91cGRhdGFibGUpLGUuY29sb3JzJiZ0LnNldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCxnZS5DaGVja0NvbG9yczQoZS5jb2xvcnMsZS5wb3NpdGlvbnMubGVuZ3RoLzMpLGUuY29sb3JzLl91cGRhdGFibGUpLGUubWF0cmljZXNJbmRpY2VzKWlmKGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsZS5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1lLm1hdHJpY2VzSW5kaWNlc1thXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbixlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKX1pZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhKWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLGUubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKTtlbHNle2NvbnN0IG49W107Zm9yKGxldCBhPTA7YTxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNFeHRyYVthXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxuLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihhdC5fQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KSx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZS5tYXRyaWNlc1dlaWdodHMsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSkpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLGUubWF0cmljZXNXZWlnaHRzRXh0cmEsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSksdC5zZXRJbmRpY2VzKGUuaW5kaWNlcyxudWxsKX1pZihlLnN1Yk1lc2hlcyl7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBuPTA7bjxlLnN1Yk1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPWUuc3ViTWVzaGVzW25dO3Z0LkFkZFRvTWVzaChhLm1hdGVyaWFsSW5kZXgsYS52ZXJ0aWNlc1N0YXJ0LGEudmVydGljZXNDb3VudCxhLmluZGV4U3RhcnQsYS5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxpLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9c3RhdGljIF9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpe2lmKCFPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzKXJldHVybjtsZXQgcz0wO2lmKGUuc2tlbGV0b25JZD4tMSl7Y29uc3QgdT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCF1KXJldHVybjtzPXUuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2NvbnN0IHI9dC5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxhPWUubWF0cmljZXNXZWlnaHRzLG89ZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxoPWUubnVtQm9uZUluZmx1ZW5jZXIsbD1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGw7dSs9NCl7bGV0IGQ9MCxmPS0xO2ZvcihsZXQgXz0wO188NDtfKyspe2NvbnN0IEU9YVt1K19dO2QrPUUsRTwuMDAxJiZmPDAmJihmPV8pfWlmKG8pZm9yKGxldCBfPTA7Xzw0O18rKyl7Y29uc3QgRT1vW3UrX107ZCs9RSxFPC4wMDEmJmY8MCYmKGY9Xys0KX1pZigoZjwwfHxmPmgtMSkmJihmPWgtMSksZD4uMDAxKXtjb25zdCBfPTEvZDtmb3IobGV0IEU9MDtFPDQ7RSsrKWFbdStFXSo9XztpZihvKWZvcihsZXQgRT0wO0U8NDtFKyspb1t1K0VdKj1ffWVsc2UgZj49ND8ob1t1K2YtNF09MS1kLG5bdStmLTRdPXMpOihhW3UrZl09MS1kLHJbdStmXT1zKX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsciksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbil9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW5ldyBhdChlLmlkLHQsdm9pZCAwLGUudXBkYXRhYmxlKTtyZXR1cm4gcy5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxwZSYmcGUuQWRkVGFnc1RvKHMsZS50YWdzKSxlLmRlbGF5TG9hZGluZ0ZpbGU/KHMuZGVsYXlMb2FkU3RhdGU9NCxzLmRlbGF5TG9hZGluZ0ZpbGU9aStlLmRlbGF5TG9hZGluZ0ZpbGUscy5fYm91bmRpbmdJbmZvPW5ldyBkdChwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWluaW11bSkscC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1heGltdW0pKSxzLl9kZWxheUluZm89W10sZS5oYXNVVnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVZLaW5kKSxlLmhhc1VWczImJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYyS2luZCksZS5oYXNVVnMzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWM0tpbmQpLGUuaGFzVVZzNCYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjRLaW5kKSxlLmhhc1VWczUmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY1S2luZCksZS5oYXNVVnM2JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNktpbmQpLGUuaGFzQ29sb3JzJiZzLl9kZWxheUluZm8ucHVzaChnLkNvbG9yS2luZCksZS5oYXNNYXRyaWNlc0luZGljZXMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZS5oYXNNYXRyaWNlc1dlaWdodHMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCkscy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249ZWUuSW1wb3J0VmVydGV4RGF0YSk6ZWUuSW1wb3J0VmVydGV4RGF0YShlLHMpLHQucHVzaEdlb21ldHJ5KHMsITApLHN9fXZhciBWdDsoZnVuY3Rpb24oYyl7Y1tjLkxPQ0FMPTBdPSJMT0NBTCIsY1tjLldPUkxEPTFdPSJXT1JMRCIsY1tjLkJPTkU9Ml09IkJPTkUifSkoVnR8fChWdD17fSkpO2NsYXNzIF9pe31faS5YPW5ldyBwKDEsMCwwKSxfaS5ZPW5ldyBwKDAsMSwwKSxfaS5aPW5ldyBwKDAsMCwxKTt2YXIgQ3I7KGZ1bmN0aW9uKGMpe2NbYy5YPTBdPSJYIixjW2MuWT0xXT0iWSIsY1tjLlo9Ml09IloifSkoQ3J8fChDcj17fSkpO2NsYXNzIEogZXh0ZW5kcyB6ZXtjb25zdHJ1Y3RvcihlLHQ9bnVsbCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX2ZvcndhcmQ9bmV3IHAoMCwwLDEpLHRoaXMuX3VwPW5ldyBwKDAsMSwwKSx0aGlzLl9yaWdodD1uZXcgcCgxLDAsMCksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5fc2NhbGluZz1wLk9uZSgpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSExLHRoaXMuX2JpbGxib2FyZE1vZGU9Si5CSUxMQk9BUkRNT0RFX05PTkUsdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD0hMSx0aGlzLnNjYWxpbmdEZXRlcm1pbmFudD0xLHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ITEsdGhpcy5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz0hMSx0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uPSExLHRoaXMuX3Bvc2VNYXRyaXg9bnVsbCx0aGlzLl9sb2NhbE1hdHJpeD14Llplcm8oKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hMSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uPXAuWmVybygpLHRoaXMuX2Fic29sdXRlU2NhbGluZz1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbj1aLklkZW50aXR5KCksdGhpcy5fcGl2b3RNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsaSYmdGhpcy5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUodGhpcyl9Z2V0IGJpbGxib2FyZE1vZGUoKXtyZXR1cm4gdGhpcy5fYmlsbGJvYXJkTW9kZX1zZXQgYmlsbGJvYXJkTW9kZShlKXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZSYmKHRoaXMuX2JpbGxib2FyZE1vZGU9ZSl9Z2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoKXtyZXR1cm4gdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZH1zZXQgcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZChlKXtlIT09dGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCYmKHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9ZSl9Z2V0IGluZmluaXRlRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5faW5maW5pdGVEaXN0YW5jZX1zZXQgaW5maW5pdGVEaXN0YW5jZShlKXt0aGlzLl9pbmZpbml0ZURpc3RhbmNlIT09ZSYmKHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ZSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZSx0aGlzLl9pc0RpcnR5PSEwfWlzVXNpbmdQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH1nZXQgcm90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0IHJvdGF0aW9uKGUpe3RoaXMuX3JvdGF0aW9uPWUsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH1nZXQgc2NhbGluZygpe3JldHVybiB0aGlzLl9zY2FsaW5nfXNldCBzY2FsaW5nKGUpe3RoaXMuX3NjYWxpbmc9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCByb3RhdGlvblF1YXRlcm5pb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9ufXNldCByb3RhdGlvblF1YXRlcm5pb24oZSl7dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPWUsZSYmdGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX2lzRGlydHk9ITB9Z2V0IGZvcndhcmQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwwLHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9mb3J3YXJkKSx0aGlzLl9mb3J3YXJkLm5vcm1hbGl6ZSgpfWdldCB1cCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfWdldCByaWdodCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSwwLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3JpZ2h0KSx0aGlzLl9yaWdodC5ub3JtYWxpemUoKX11cGRhdGVQb3NlTWF0cml4KGUpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4Pyh0aGlzLl9wb3NlTWF0cml4LmNvcHlGcm9tKGUpLHRoaXMpOih0aGlzLl9wb3NlTWF0cml4PWUuY2xvbmUoKSx0aGlzKX1nZXRQb3NlTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PXguSWRlbnRpdHkoKSksdGhpcy5fcG9zZU1hdHJpeH1faXNTeW5jaHJvbml6ZWQoKXtjb25zdCBlPXRoaXMuX2NhY2hlO3JldHVybiEodGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuYmlsbGJvYXJkTW9kZXx8dGhpcy5fYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FfHxlLnBpdm90TWF0cml4VXBkYXRlZHx8dGhpcy5faW5maW5pdGVEaXN0YW5jZXx8dGhpcy5fcG9zaXRpb24uX2lzRGlydHl8fHRoaXMuX3NjYWxpbmcuX2lzRGlydHl8fHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvbi5faXNEaXJ0eSl9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKTtjb25zdCBlPXRoaXMuX2NhY2hlO2UubG9jYWxNYXRyaXhVcGRhdGVkPSExLGUuYmlsbGJvYXJkTW9kZT0tMSxlLmluZmluaXRlRGlzdGFuY2U9ITF9Z2V0IGFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCl9Z2V0IGFic29sdXRlU2NhbGluZygpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmd9Z2V0IGFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9ufXNldFByZVRyYW5zZm9ybU1hdHJpeChlKXtyZXR1cm4gdGhpcy5zZXRQaXZvdE1hdHJpeChlLCExKX1zZXRQaXZvdE1hdHJpeChlLHQ9ITApe3JldHVybiB0aGlzLl9waXZvdE1hdHJpeC5jb3B5RnJvbShlKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hdGhpcy5fcGl2b3RNYXRyaXguaXNJZGVudGl0eSgpLHRoaXMuX2NhY2hlLnBpdm90TWF0cml4VXBkYXRlZD0hMCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD10LHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlP3RoaXMuX3Bpdm90TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSk6dGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlPXguSW52ZXJ0KHRoaXMuX3Bpdm90TWF0cml4KSksdGhpc31nZXRQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl9waXZvdE1hdHJpeH1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITApO3MmJmkmJmkodGhpcyxzKTtmb3IoY29uc3QgciBvZiB0aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApKXIuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx0LGkpO3JldHVybiBzfWZyZWV6ZVdvcmxkTWF0cml4KGU9bnVsbCx0PSExKXtyZXR1cm4gZT90Pyh0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbnx8Wi5JZGVudGl0eSgpLGUuZGVjb21wb3NlKHRoaXMuX3NjYWxpbmcsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMuX3Bvc2l0aW9uKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpOih0aGlzLl93b3JsZE1hdHJpeD1lLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCkpOih0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSEwLHRoaXN9dW5mcmVlemVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzfWdldCBpc1dvcmxkTWF0cml4RnJvemVuKCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW59Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb259c2V0QWJzb2x1dGVQb3NpdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcztsZXQgdCxpLHM7aWYoZS54PT09dm9pZCAwKXtpZihhcmd1bWVudHMubGVuZ3RoPDMpcmV0dXJuIHRoaXM7dD1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl19ZWxzZSB0PWUueCxpPWUueSxzPWUuejtpZih0aGlzLnBhcmVudCl7Y29uc3Qgcj1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHIpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYodCxpLHMscix0aGlzLnBvc2l0aW9uKX1lbHNlIHRoaXMucG9zaXRpb24ueD10LHRoaXMucG9zaXRpb24ueT1pLHRoaXMucG9zaXRpb24uej1zO3JldHVybiB0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tKGUpLHRoaXN9c2V0UG9zaXRpb25XaXRoTG9jYWxWZWN0b3IoZSl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5wb3NpdGlvbj1wLlRyYW5zZm9ybU5vcm1hbChlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzfWdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlKCl7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCBlPUQuTWF0cml4WzBdO3JldHVybiB0aGlzLl9sb2NhbE1hdHJpeC5pbnZlcnRUb1JlZihlKSxwLlRyYW5zZm9ybU5vcm1hbCh0aGlzLnBvc2l0aW9uLGUpfWxvY2FsbHlUcmFuc2xhdGUoZSl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLnBvc2l0aW9uPXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31sb29rQXQoZSx0PTAsaT0wLHM9MCxyPVZ0LkxPQ0FMKXtjb25zdCBuPUouX0xvb2tBdFZlY3RvckNhY2hlLGE9cj09PVZ0LkxPQ0FMP3RoaXMucG9zaXRpb246dGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7aWYoZS5zdWJ0cmFjdFRvUmVmKGEsbiksdGhpcy5zZXREaXJlY3Rpb24obix0LGkscykscj09PVZ0LldPUkxEJiZ0aGlzLnBhcmVudClpZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil7Y29uc3Qgbz1ELk1hdHJpeFswXTt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KG8pO2NvbnN0IGg9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGgpLGguaW52ZXJ0KCksby5tdWx0aXBseVRvUmVmKGgsbyksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KG8pfWVsc2V7Y29uc3Qgbz1ELlF1YXRlcm5pb25bMF07Wi5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLG8pO2NvbnN0IGg9RC5NYXRyaXhbMF07by50b1JvdGF0aW9uTWF0cml4KGgpO2NvbnN0IGw9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksaC5tdWx0aXBseVRvUmVmKGwsaCksby5mcm9tUm90YXRpb25NYXRyaXgoaCksby50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbil9cmV0dXJuIHRoaXN9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldERpcmVjdGlvblRvUmVmKGUsdCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31zZXREaXJlY3Rpb24oZSx0PTAsaT0wLHM9MCl7Y29uc3Qgcj0tTWF0aC5hdGFuMihlLnosZS54KStNYXRoLlBJLzIsbj1NYXRoLnNxcnQoZS54KmUueCtlLnoqZS56KSxhPS1NYXRoLmF0YW4yKGUueSxuKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIrdCxhK2kscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6KHRoaXMucm90YXRpb24ueD1hK2ksdGhpcy5yb3RhdGlvbi55PXIrdCx0aGlzLnJvdGF0aW9uLno9cyksdGhpc31zZXRQaXZvdFBvaW50KGUsdD1WdC5MT0NBTCl7dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtjb25zdCBpPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZih0PT1WdC5XT1JMRCl7Y29uc3Qgcz1ELk1hdHJpeFswXTtpLmludmVydFRvUmVmKHMpLGU9cC5UcmFuc2Zvcm1Db29yZGluYXRlcyhlLHMpfXJldHVybiB0aGlzLnNldFBpdm90TWF0cml4KHguVHJhbnNsYXRpb24oLWUueCwtZS55LC1lLnopLCEwKX1nZXRQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRQaXZvdFBvaW50VG9SZWYoZSksZX1nZXRQaXZvdFBvaW50VG9SZWYoZSl7cmV0dXJuIGUueD0tdGhpcy5fcGl2b3RNYXRyaXgubVsxMl0sZS55PS10aGlzLl9waXZvdE1hdHJpeC5tWzEzXSxlLno9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTRdLHRoaXN9Z2V0QWJzb2x1dGVQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBpdm90UG9pbnRUb1JlZihlKSxlfWdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKGUpe3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZihlKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksZSksdGhpc31tYXJrQXNEaXJ0eShlKXtpZih0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzO2lmKHRoaXMuX2NoaWxkcmVuKWZvcihjb25zdCB0IG9mIHRoaXMuX2NoaWxkcmVuKXQubWFya0FzRGlydHkoZSk7cmV0dXJuIHN1cGVyLm1hcmtBc0RpcnR5KGUpfXNldFBhcmVudChlLHQ9ITEsaT0hMSl7aWYoIWUmJiF0aGlzLnBhcmVudClyZXR1cm4gdGhpcztjb25zdCBzPUQuUXVhdGVybmlvblswXSxyPUQuVmVjdG9yM1swXSxuPUQuVmVjdG9yM1sxXSxhPUQuTWF0cml4WzFdO3guSWRlbnRpdHlUb1JlZihhKTtjb25zdCBvPUQuTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaD10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gaHx8KGg9Si5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGgpKSx4LkNvbXBvc2VUb1JlZih0aGlzLnNjYWxpbmcsaCx0aGlzLnBvc2l0aW9uLG8pLHRoaXMucGFyZW50JiZvLm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxvKSxlJiYoZS5jb21wdXRlV29ybGRNYXRyaXgoITApLmludmVydFRvUmVmKGEpLG8ubXVsdGlwbHlUb1JlZihhLG8pKSxvLmRlY29tcG9zZShuLHMscix0P3RoaXM6dm9pZCAwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTpzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20obiksdGhpcy5wb3NpdGlvbi5jb3B5RnJvbShyKSx0aGlzLnBhcmVudD1lLGkmJnRoaXMuc2V0UGl2b3RNYXRyaXgoeC5JZGVudGl0eSgpKSx0aGlzfWdldCBub25Vbmlmb3JtU2NhbGluZygpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZ31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9PT1lPyExOih0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz1lLCEwKX1hdHRhY2hUb0JvbmUoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD10LHRoaXMucGFyZW50PWUsZS5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSxlLmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfWRldGFjaEZyb21Cb25lKGU9ITEpe3JldHVybiB0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5kZXRlcm1pbmFudCgpPDAmJih0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCo9LTEpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCxlP3RoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lOnRoaXMucGFyZW50PW51bGwsdGhpcyk6KGUmJih0aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZSksdGhpcyl9cm90YXRlKGUsdCxpKXtlLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7bGV0IHM7aWYoIWl8fGk9PT1WdC5MT0NBTClzPVouUm90YXRpb25BeGlzVG9SZWYoZSx0LEouX1JvdGF0aW9uQXhpc0NhY2hlKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseVRvUmVmKHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pO2Vsc2V7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxlPXAuVHJhbnNmb3JtTm9ybWFsKGUscil9cz1aLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxKLl9Sb3RhdGlvbkF4aXNDYWNoZSkscy5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc31yb3RhdGVBcm91bmQoZSx0LGkpe3Qubm9ybWFsaXplKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1aLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7Y29uc3Qgcz1ELlZlY3RvcjNbMF0scj1ELlZlY3RvcjNbMV0sbj1ELlZlY3RvcjNbMl0sYT1ELlF1YXRlcm5pb25bMF0sbz1ELk1hdHJpeFswXSxoPUQuTWF0cml4WzFdLGw9RC5NYXRyaXhbMl0sdT1ELk1hdHJpeFszXTtyZXR1cm4gZS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24scykseC5UcmFuc2xhdGlvblRvUmVmKHMueCxzLnkscy56LG8pLHguVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixoKSx4LlJvdGF0aW9uQXhpc1RvUmVmKHQsaSxsKSxoLm11bHRpcGx5VG9SZWYobCx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmRlY29tcG9zZShyLGEsbiksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG4pLGEubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc310cmFuc2xhdGUoZSx0LGkpe2NvbnN0IHM9ZS5zY2FsZSh0KTtpZighaXx8aT09PVZ0LkxPQ0FMKXtjb25zdCByPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQocyk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihyKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQocykpO3JldHVybiB0aGlzfWFkZFJvdGF0aW9uKGUsdCxpKXtsZXQgczt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uOihzPUQuUXVhdGVybmlvblsxXSxaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnoscykpO2NvbnN0IHI9RC5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscikscy5tdWx0aXBseUluUGxhY2UociksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fHMudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXN9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1jb21wdXRlV29ybGRNYXRyaXgoZSl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7aWYoIXRoaXMuX2lzRGlydHkmJiFlJiYodGhpcy5fY3VycmVudFJlbmRlcklkPT09dHx8dGhpcy5pc1N5bmNocm9uaXplZCgpKSlyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPXQsdGhpcy5fd29ybGRNYXRyaXg7Y29uc3QgaT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLHM9KHRoaXMuX2JpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHI9dGhpcy5fYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkO3RoaXMuX3VwZGF0ZUNhY2hlKCk7Y29uc3Qgbj10aGlzLl9jYWNoZTtuLnBpdm90TWF0cml4VXBkYXRlZD0hMSxuLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLG4uaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Usbi5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dCx0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTtjb25zdCBhPXRoaXMuX2dldEVmZmVjdGl2ZVBhcmVudCgpLG89Si5fVG1wU2NhbGluZztsZXQgaD10aGlzLl9wb3NpdGlvbjtpZih0aGlzLl9pbmZpbml0ZURpc3RhbmNlJiYhdGhpcy5wYXJlbnQmJmkpe2NvbnN0IHU9aS5nZXRXb3JsZE1hdHJpeCgpLGQ9bmV3IHAodS5tWzEyXSx1Lm1bMTNdLHUubVsxNF0pO2g9Si5fVG1wVHJhbnNsYXRpb24saC5jb3B5RnJvbUZsb2F0cyh0aGlzLl9wb3NpdGlvbi54K2QueCx0aGlzLl9wb3NpdGlvbi55K2QueSx0aGlzLl9wb3NpdGlvbi56K2Queil9by5jb3B5RnJvbUZsb2F0cyh0aGlzLl9zY2FsaW5nLngqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy55KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueip0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCk7bGV0IGw7aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPyh0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHk9ITEsbD10aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCkmJih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKFouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnopKSx0aGlzLl9yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKToobD1KLl9UbXBSb3RhdGlvbixaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosbCkpLHRoaXMuX3VzZVBpdm90TWF0cml4KXtjb25zdCB1PUQuTWF0cml4WzFdO3guU2NhbGluZ1RvUmVmKG8ueCxvLnksby56LHUpO2NvbnN0IGQ9RC5NYXRyaXhbMF07bC50b1JvdGF0aW9uTWF0cml4KGQpLHRoaXMuX3Bpdm90TWF0cml4Lm11bHRpcGx5VG9SZWYodSxELk1hdHJpeFs0XSksRC5NYXRyaXhbNF0ubXVsdGlwbHlUb1JlZihkLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX2xvY2FsTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhoLngsaC55LGgueil9ZWxzZSB4LkNvbXBvc2VUb1JlZihvLGwsaCx0aGlzLl9sb2NhbE1hdHJpeCk7aWYoYSYmYS5nZXRXb3JsZE1hdHJpeCl7aWYoZSYmYS5jb21wdXRlV29ybGRNYXRyaXgoZSkscil7dGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD9hLmdldFdvcmxkTWF0cml4KCkubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksRC5NYXRyaXhbN10pOkQuTWF0cml4WzddLmNvcHlGcm9tKGEuZ2V0V29ybGRNYXRyaXgoKSk7Y29uc3QgdT1ELlZlY3RvcjNbNV0sZD1ELlZlY3RvcjNbNl0sZj1ELlF1YXRlcm5pb25bMF07RC5NYXRyaXhbN10uZGVjb21wb3NlKGQsZix1KSx4LlNjYWxpbmdUb1JlZihkLngsZC55LGQueixELk1hdHJpeFs3XSksRC5NYXRyaXhbN10uc2V0VHJhbnNsYXRpb24odSksSi5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbiYmKHRoaXMuX3Bvc2l0aW9uLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZix1KSx0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2xhdGlvbih1KSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSxELk1hdHJpeFs2XSksRC5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihyJiZpJiZ0aGlzLmJpbGxib2FyZE1vZGUmJiFzKXtjb25zdCB1PUQuVmVjdG9yM1swXTtpZih0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpLEQuTWF0cml4WzFdLmNvcHlGcm9tKGkuZ2V0Vmlld01hdHJpeCgpKSxELk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLEQuTWF0cml4WzFdLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9BTEwpIT09Si5CSUxMQk9BUkRNT0RFX0FMTCl7RC5NYXRyaXhbMF0uZGVjb21wb3NlKHZvaWQgMCxELlF1YXRlcm5pb25bMF0sdm9pZCAwKTtjb25zdCBkPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKGQpLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1gpIT09Si5CSUxMQk9BUkRNT0RFX1gmJihkLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWSkhPT1KLkJJTExCT0FSRE1PREVfWSYmKGQueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9aKSE9PUouQklMTEJPQVJETU9ERV9aJiYoZC56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihkLnksZC54LGQueixELk1hdHJpeFswXSl9dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfWVsc2UgaWYociYmaSYmdGhpcy5iaWxsYm9hcmRNb2RlJiZzKXtjb25zdCB1PUQuVmVjdG9yM1swXTt0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpO2NvbnN0IGQ9aS5nbG9iYWxQb3NpdGlvbjt0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihELk1hdHJpeFsxXSk7Y29uc3QgZj1ELlZlY3RvcjNbMV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGQsRC5NYXRyaXhbMV0sZiksZi5ub3JtYWxpemUoKTtjb25zdCBfPS1NYXRoLmF0YW4yKGYueixmLngpK01hdGguUEkvMixFPU1hdGguc3FydChmLngqZi54K2YueipmLnopLG09LU1hdGguYXRhbjIoZi55LEUpO2lmKFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihfLG0sMCxELlF1YXRlcm5pb25bMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX0FMTCkhPT1KLkJJTExCT0FSRE1PREVfQUxMKXtjb25zdCB2PUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKHYpLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1gpIT09Si5CSUxMQk9BUkRNT0RFX1gmJih2Lng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWSkhPT1KLkJJTExCT0FSRE1PREVfWSYmKHYueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9aKSE9PUouQklMTEJPQVJETU9ERV9aJiYodi56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih2Lnksdi54LHYueixELk1hdHJpeFswXSl9ZWxzZSB4LkZyb21RdWF0ZXJuaW9uVG9SZWYoRC5RdWF0ZXJuaW9uWzBdLEQuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEQuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOmEmJmEuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoYS5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PXguSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9cmVzZXRMb2NhbE1hdHJpeChlPSEwKXtpZih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGUpe2NvbnN0IHQ9dGhpcy5nZXRDaGlsZHJlbigpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXtjb25zdCBzPXRbaV07aWYocyl7cy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCByPUQuTWF0cml4WzBdO3MuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscik7Y29uc3Qgbj1ELlF1YXRlcm5pb25bMF07ci5kZWNvbXBvc2Uocy5zY2FsaW5nLG4scy5wb3NpdGlvbikscy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYocy5yb3RhdGlvbil9fX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Wi5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCl9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7fXJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2UoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSkscC5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSxlLmdldFZpZXdNYXRyaXgoKSl9Z2V0RGlzdGFuY2VUb0NhbWVyYShlPW51bGwpe3JldHVybiBlfHwoZT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSx0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKX1jbG9uZShlLHQsaSl7Y29uc3Qgcz1hZS5DbG9uZSgoKT0+bmV3IEooZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO2lmKHMubmFtZT1lLHMuaWQ9ZSx0JiYocy5wYXJlbnQ9dCksIWkpe2NvbnN0IHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9cltuXTthLmNsb25lJiZhLmNsb25lKGUrIi4iK2EubmFtZSxzKX19cmV0dXJuIHN9c2VyaWFsaXplKGUpe2NvbnN0IHQ9YWUuU2VyaWFsaXplKHRoaXMsZSk7cmV0dXJuIHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KHQpLHQubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSx0LmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHR9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPWFlLlBhcnNlKCgpPT5uZXcgSihlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KHguRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KHguRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxzfWdldENoaWxkVHJhbnNmb3JtTm9kZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcyBpbnN0YW5jZW9mIEopLGl9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVUcmFuc2Zvcm1Ob2RlKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKGksMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksZSl7Y29uc3QgaT10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5wYXJlbnQ9bnVsbCxzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9c3VwZXIuZGlzcG9zZShlLHQpfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe2xldCBzPW51bGwscj1udWxsO3QmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj8ocj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpKTp0aGlzLnJvdGF0aW9uJiYocz10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKTtjb25zdCBuPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGUsaSksYT1uLm1heC5zdWJ0cmFjdChuLm1pbiksbz1NYXRoLm1heChhLngsYS55LGEueik7aWYobz09PTApcmV0dXJuIHRoaXM7Y29uc3QgaD0xL287cmV0dXJuIHRoaXMuc2NhbGluZy5zY2FsZUluUGxhY2UoaCksdCYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZyP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHIpOnRoaXMucm90YXRpb24mJnMmJnRoaXMucm90YXRpb24uY29weUZyb20ocykpLHRoaXN9X3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpe3RoaXMuX2lzQWJzb2x1dGVTeW5jZWR8fCh0aGlzLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodGhpcy5fYWJzb2x1dGVTY2FsaW5nLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSEwKX19Si5CSUxMQk9BUkRNT0RFX05PTkU9MCxKLkJJTExCT0FSRE1PREVfWD0xLEouQklMTEJPQVJETU9ERV9ZPTIsSi5CSUxMQk9BUkRNT0RFX1o9NCxKLkJJTExCT0FSRE1PREVfQUxMPTcsSi5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTj0xMjgsSi5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbj0hMSxKLl9UbXBSb3RhdGlvbj1aLlplcm8oKSxKLl9UbXBTY2FsaW5nPXAuWmVybygpLEouX1RtcFRyYW5zbGF0aW9uPXAuWmVybygpLEouX0xvb2tBdFZlY3RvckNhY2hlPW5ldyBwKDAsMCwwKSxKLl9Sb3RhdGlvbkF4aXNDYWNoZT1uZXcgWixUKFtCdCgicG9zaXRpb24iKV0sSi5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtCdCgicm90YXRpb24iKV0sSi5wcm90b3R5cGUsIl9yb3RhdGlvbiIsdm9pZCAwKSxUKFtSbigicm90YXRpb25RdWF0ZXJuaW9uIildLEoucHJvdG90eXBlLCJfcm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApLFQoW0J0KCJzY2FsaW5nIildLEoucHJvdG90eXBlLCJfc2NhbGluZyIsdm9pZCAwKSxUKFtSKCJiaWxsYm9hcmRNb2RlIildLEoucHJvdG90eXBlLCJfYmlsbGJvYXJkTW9kZSIsdm9pZCAwKSxUKFtSKCldLEoucHJvdG90eXBlLCJzY2FsaW5nRGV0ZXJtaW5hbnQiLHZvaWQgMCksVChbUigiaW5maW5pdGVEaXN0YW5jZSIpXSxKLnByb3RvdHlwZSwiX2luZmluaXRlRGlzdGFuY2UiLHZvaWQgMCksVChbUigpXSxKLnByb3RvdHlwZSwiaWdub3JlTm9uVW5pZm9ybVNjYWxpbmciLHZvaWQgMCksVChbUigpXSxKLnByb3RvdHlwZSwicmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCk7Y2xhc3MgVW57Y29uc3RydWN0b3IoKXt0aGlzLl9jaGVja0NvbGxpc2lvbnM9ITEsdGhpcy5fY29sbGlzaW9uTWFzaz0tMSx0aGlzLl9jb2xsaXNpb25Hcm91cD0tMSx0aGlzLl9zdXJyb3VuZGluZ01lc2hlcz1udWxsLHRoaXMuX2NvbGxpZGVyPW51bGwsdGhpcy5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9jb2xsaXNpb25SZXNwb25zZT0hMH19Y2xhc3Mga257Y29uc3RydWN0b3IoKXt0aGlzLmZhY2V0TmI9MCx0aGlzLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz0xMCx0aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz0xLjAxLHRoaXMuZmFjZXREYXRhRW5hYmxlZD0hMSx0aGlzLmZhY2V0UGFyYW1ldGVycz17fSx0aGlzLmJiU2l6ZT1wLlplcm8oKSx0aGlzLnN1YkRpdj17bWF4OjEsWDoxLFk6MSxaOjF9LHRoaXMuZmFjZXREZXB0aFNvcnQ9ITEsdGhpcy5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITF9fWNsYXNzIFZue2NvbnN0cnVjdG9yKCl7dGhpcy5faGFzVmVydGV4QWxwaGE9ITEsdGhpcy5fdXNlVmVydGV4Q29sb3JzPSEwLHRoaXMuX251bUJvbmVJbmZsdWVuY2Vycz00LHRoaXMuX2FwcGx5Rm9nPSEwLHRoaXMuX3JlY2VpdmVTaGFkb3dzPSExLHRoaXMuX2ZhY2V0RGF0YT1uZXcga24sdGhpcy5fdmlzaWJpbGl0eT0xLHRoaXMuX3NrZWxldG9uPW51bGwsdGhpcy5fbGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITAsdGhpcy5faXNBY3RpdmU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlcz0hMSx0aGlzLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSx0aGlzLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLHRoaXMuX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRD1udWxsLHRoaXMuX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHRoaXMuX2NvbGxpc2lvblJldHJ5Q291bnQ9Myx0aGlzLl9tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9yZW5kZXJpbmdHcm91cElkPTAsdGhpcy5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPW51bGwsdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZz0hMSx0aGlzLl9tZXNoQ29sbGlzaW9uRGF0YT1uZXcgVW4sdGhpcy5fZW5hYmxlRGlzdGFudFBpY2tpbmc9ITF9fWNsYXNzIG90IGV4dGVuZHMgSntjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3dpdGNoKHN1cGVyKGUsdCwhMSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgVm4sdGhpcy5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCx0aGlzLmN1bGxpbmdTdHJhdGVneT1vdC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWSx0aGlzLm9uQ29sbGlkZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPSEwLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXA9bnVsbCx0aGlzLmFscGhhSW5kZXg9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLmlzUGlja2FibGU9ITAsdGhpcy5pc05lYXJQaWNrYWJsZT0hMSx0aGlzLmlzTmVhckdyYWJiYWJsZT0hMSx0aGlzLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD0hMSx0aGlzLmlzQmxvY2tlcj0hMSx0aGlzLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzPSExLHRoaXMub3V0bGluZUNvbG9yPXJlLlJlZCgpLHRoaXMub3V0bGluZVdpZHRoPS4wMix0aGlzLm92ZXJsYXlDb2xvcj1yZS5SZWQoKSx0aGlzLm92ZXJsYXlBbHBoYT0uNSx0aGlzLnVzZU9jdHJlZUZvclJlbmRlcmluZ1NlbGVjdGlvbj0hMCx0aGlzLnVzZU9jdHJlZUZvclBpY2tpbmc9ITAsdGhpcy51c2VPY3RyZWVGb3JDb2xsaXNpb25zPSEwLHRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSExLHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSExLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsLHRoaXMuZWxsaXBzb2lkPW5ldyBwKC41LDEsLjUpLHRoaXMuZWxsaXBzb2lkT2Zmc2V0PW5ldyBwKDAsMCwwKSx0aGlzLmVkZ2VzV2lkdGg9MSx0aGlzLmVkZ2VzQ29sb3I9bmV3IGdlKDEsMCwwLDEpLHRoaXMuX2VkZ2VzUmVuZGVyZXI9bnVsbCx0aGlzLl9tYXN0ZXJNZXNoPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPW5ldyBBcnJheSx0aGlzLl91bkluZGV4ZWQ9ITEsdGhpcy5fbGlnaHRTb3VyY2VzPW5ldyBBcnJheSx0aGlzLl93YWl0aW5nRGF0YT17bG9kczpudWxsLGFjdGlvbnM6bnVsbCxmcmVlemVXb3JsZE1hdHJpeDpudWxsfSx0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlPShpLHMscj1udWxsKT0+e3Muc3VidHJhY3RUb1JlZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5JLkNvbGxpc2lvbnNFcHNpbG9uJiZ0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLHImJnRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5wb3NpdGlvbil9LHQ9dGhpcy5nZXRTY2VuZSgpLHQuYWRkTWVzaCh0aGlzKSx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUsIXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc1dlYkdQVSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdC5wZXJmb3JtYW5jZVByaW9yaXR5KXtjYXNlIEN0LkFnZ3Jlc3NpdmU6dGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm89ITA7Y2FzZSBDdC5JbnRlcm1lZGlhdGU6dGhpcy5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITAsdGhpcy5pc1BpY2thYmxlPSExO2JyZWFrfX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfTk9ORSgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfTk9ORX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWCgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWH1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWSgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWigpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWn1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfQUxMKCl7cmV0dXJuIEouQklMTEJPQVJETU9ERV9BTEx9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTigpe3JldHVybiBKLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OfWdldCBmYWNldE5iKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifWdldCBwYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uc31zZXQgcGFydGl0aW9uaW5nU3ViZGl2aXNpb25zKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZX1nZXQgcGFydGl0aW9uaW5nQkJveFJhdGlvKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW99c2V0IHBhcnRpdGlvbmluZ0JCb3hSYXRpbyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvPWV9Z2V0IG11c3REZXB0aFNvcnRGYWNldHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fXNldCBtdXN0RGVwdGhTb3J0RmFjZXRzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydD1lfWdldCBmYWNldERlcHRoU29ydEZyb20oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX1zZXQgZmFjZXREZXB0aFNvcnRGcm9tKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209ZX1nZXQgY29sbGlzaW9uUmV0cnlDb3VudCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50fXNldCBjb2xsaXNpb25SZXRyeUNvdW50KGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9ZX1nZXQgaXNGYWNldERhdGFFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERhdGFFbmFibGVkfWdldCBtb3JwaFRhcmdldE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyfXNldCBtb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcj1lLHRoaXMuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSl9Z2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9c2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcihlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7fV91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGUpe3JldHVybiBzdXBlci5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKT8odGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCksITApOiExfXNldCBvbkNvbGxpZGUoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyPXRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciYmdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlcj10aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fXNldCB2aXNpYmlsaXR5KGUpe2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT1lLCh0PT09MSYmZSE9PTF8fHQhPT0xJiZlPT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfWdldCBwb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZ31zZXQgcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ZX1nZXQgcmVuZGVyaW5nR3JvdXBJZCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9ZX1nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWx9c2V0IG1hdGVyaWFsKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsPWUsZSYmZS5tZXNoTWFwJiYoZS5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5zdWJNZXNoZXMmJih0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdW5CaW5kRWZmZWN0KCkpKX1nZXRNYXRlcmlhbEZvclJlbmRlclBhc3MoZSl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV19c2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKGUsdCl7dGhpcy5yZXNldERyYXdDYWNoZShlKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1tlXT10fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93c31zZXQgcmVjZWl2ZVNoYWRvd3MoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCBoYXNWZXJ0ZXhBbHBoYSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYX1zZXQgaGFzVmVydGV4QWxwaGEoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGEhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGE9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IHVzZVZlcnRleENvbG9ycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9c2V0IHVzZVZlcnRleENvbG9ycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfXNldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgbnVtQm9uZUluZmx1ZW5jZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vyc31zZXQgbnVtQm9uZUluZmx1ZW5jZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2VycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IGFwcGx5Rm9nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfXNldCBhcHBseUZvZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX1nZXQgZW5hYmxlRGlzdGFudFBpY2tpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZW5hYmxlRGlzdGFudFBpY2tpbmd9c2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPWV9Z2V0IGxheWVyTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2t9c2V0IGxheWVyTWFzayhlKXtlIT09dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfWdldCBjb2xsaXNpb25NYXNrKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrfXNldCBjb2xsaXNpb25NYXNrKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrPWlzTmFOKGUpPy0xOmV9Z2V0IGNvbGxpc2lvblJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZX1zZXQgY29sbGlzaW9uUmVzcG9uc2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPWV9Z2V0IGNvbGxpc2lvbkdyb3VwKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cH1zZXQgY29sbGlzaW9uR3JvdXAoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwPWlzTmFOKGUpPy0xOmV9Z2V0IHN1cnJvdW5kaW5nTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc31zZXQgc3Vycm91bmRpbmdNZXNoZXMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX3N1cnJvdW5kaW5nTWVzaGVzPWV9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9saWdodFNvdXJjZXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gbnVsbH1zZXQgc2tlbGV0b24oZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjt0JiZ0Lm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmdC5fdW5yZWdpc3Rlck1lc2hXaXRoUG9zZU1hdHJpeCh0aGlzKSxlJiZlLm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmZS5fcmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249ZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbnx8KHRoaXMuX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9Z2V0IHNrZWxldG9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfXRyYW5zZmVyVG9FZmZlY3QoZSl7Y29uc3QgdD10aGlzLl91bmlmb3JtQnVmZmVyO3QudXBkYXRlTWF0cml4KCJ3b3JsZCIsZSksdC51cGRhdGVGbG9hdCgidmlzaWJpbGl0eSIsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSksdC51cGRhdGUoKX1nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfWdldENsYXNzTmFtZSgpe3JldHVybiJBYnN0cmFjdE1lc2gifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZSsiLCBpc0luc3RhbmNlOiAiKyh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2giPyJZRVMiOiJOTyIpO3QrPSIsICMgb2Ygc3VibWVzaGVzOiAiKyh0aGlzLnN1Yk1lc2hlcz90aGlzLnN1Yk1lc2hlcy5sZW5ndGg6MCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gaSYmKHQrPSIsIHNrZWxldG9uOiAiK2kubmFtZSksZSYmKHQrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0sdCs9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSksdH1fZ2V0RWZmZWN0aXZlUGFyZW50KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2gmJnRoaXMuYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2g6c3VwZXIuX2dldEVmZmVjdGl2ZVBhcmVudCgpfV9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLHQ9ITApe2lmKHRoaXMuYWN0aW9uTWFuYWdlciYmKHR8fHRoaXMuYWN0aW9uTWFuYWdlci5pc1JlY3Vyc2l2ZSkpaWYoZSl7aWYodGhpcy5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcihlKSlyZXR1cm4gdGhpcy5hY3Rpb25NYW5hZ2VyfWVsc2UgcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcjtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSwhIXRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKXQuX3JlYnVpbGQoKX1fcmVzeW5jTGlnaHRTb3VyY2VzKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5saWdodHMpIWUuaXNFbmFibGVkKCl8fGUuY2FuQWZmZWN0TWVzaCh0aGlzKSYmdGhpcy5fbGlnaHRTb3VyY2VzLnB1c2goZSk7dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfV9yZXN5bmNMaWdodFNvdXJjZShlKXtjb25zdCB0PWUuaXNFbmFibGVkKCkmJmUuY2FuQWZmZWN0TWVzaCh0aGlzKSxpPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKGUpO2xldCBzPSExO2lmKGk9PT0tMSl7aWYoIXQpcmV0dXJuO3RoaXMuX2xpZ2h0U291cmNlcy5wdXNoKGUpfWVsc2V7aWYodClyZXR1cm47cz0hMCx0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSl9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShzKX1fdW5CaW5kRWZmZWN0KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zdWJNZXNoZXMpZS5zZXRFZmZlY3QobnVsbCl9X3JlbW92ZUxpZ2h0U291cmNlKGUsdCl7Y29uc3QgaT10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZihlKTtpIT09LTEmJih0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKGksMSksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSh0KSl9X21hcmtTdWJNZXNoZXNBc0RpcnR5KGUpe2lmKCEhdGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpZm9yKGxldCBpPTA7aTx0Ll9kcmF3V3JhcHBlcnMubGVuZ3RoOysraSl7Y29uc3Qgcz10Ll9kcmF3V3JhcHBlcnNbaV07IXN8fCFzLmRlZmluZXN8fCFzLmRlZmluZXMubWFya0FsbEFzRGlydHl8fGUocy5kZWZpbmVzKX19X21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkodD0+dC5tYXJrQXNMaWdodERpcnR5KGUpKX1fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkoZT0+ZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKSl9X21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzTWlzY0RpcnR5KCkpfW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9cmVzZXREcmF3Q2FjaGUoZSl7aWYoISF0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfWdldCBpc0Jsb2NrZWQoKXtyZXR1cm4hMX1nZXRMT0QoZSl7cmV0dXJuIHRoaXN9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiAwfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiAwfWdldEluZGljZXMoKXtyZXR1cm4gbnVsbH1nZXRWZXJ0aWNlc0RhdGEoZSl7cmV0dXJuIG51bGx9c2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzfXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpc31zZXRJbmRpY2VzKGUsdCl7cmV0dXJuIHRoaXN9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiExfWdldEJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guZ2V0Qm91bmRpbmdJbmZvKCk6KHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHkmJih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSExLHRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKSx0aGlzLl9ib3VuZGluZ0luZm8pfXNldEJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc31nZXQgaGFzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbyE9PW51bGx9YnVpbGRCb3VuZGluZ0luZm8oZSx0LGkpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89bmV3IGR0KGUsdCxpKSx0aGlzLl9ib3VuZGluZ0luZm99bm9ybWFsaXplVG9Vbml0Q3ViZShlPSEwLHQ9ITEsaSl7cmV0dXJuIHN1cGVyLm5vcm1hbGl6ZVRvVW5pdEN1YmUoZSx0LGkpfWdldCB1c2VCb25lcygpe3JldHVybiB0aGlzLnNrZWxldG9uJiZ0aGlzLmdldFNjZW5lKCkuc2tlbGV0b25zRW5hYmxlZCYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKX1fcHJlQWN0aXZhdGUoKXt9X3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpe31fYWN0aXZhdGUoZSx0KXtyZXR1cm4gdGhpcy5fcmVuZGVySWQ9ZSwhMH1fcG9zdEFjdGl2YXRlKCl7fV9mcmVlemUoKXt9X3VuRnJlZXplKCl7fWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2gmJnRoaXMuYmlsbGJvYXJkTW9kZT09PUouQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2guZ2V0V29ybGRNYXRyaXgoKTpzdXBlci5nZXRXb3JsZE1hdHJpeCgpfV9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpOnN1cGVyLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiExfWdldCBoYXNJbnN0YW5jZXMoKXtyZXR1cm4hMX1nZXQgaGFzVGhpbkluc3RhbmNlcygpe3JldHVybiExfW1vdmVQT1YoZSx0LGkpe3JldHVybiB0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjTW92ZVBPVihlLHQsaSkpLHRoaXN9Y2FsY01vdmVQT1YoZSx0LGkpe2NvbnN0IHM9bmV3IHg7KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uOlouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopKS50b1JvdGF0aW9uTWF0cml4KHMpO2NvbnN0IG49cC5aZXJvKCksYT10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPy0xOjE7cmV0dXJuIHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZSphLHQsaSphLHMsbiksbn1yb3RhdGVQT1YoZSx0LGkpe3JldHVybiB0aGlzLnJvdGF0aW9uLmFkZEluUGxhY2UodGhpcy5jYWxjUm90YXRlUE9WKGUsdCxpKSksdGhpc31jYWxjUm90YXRlUE9WKGUsdCxpKXtjb25zdCBzPXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/MTotMTtyZXR1cm4gbmV3IHAoZSpzLHQsaSpzKX1yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbyYmdGhpcy5fYm91bmRpbmdJbmZvLmlzTG9ja2VkP3RoaXM6KHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fZ2V0UG9zaXRpb25EYXRhKGUsdCksbnVsbCksdGhpcyl9X3JlZnJlc2hCb3VuZGluZ0luZm8oZSx0KXtpZihlKXtjb25zdCBpPXlyKGUsMCx0aGlzLmdldFRvdGFsVmVydGljZXMoKSx0KTt0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KGkubWluaW11bSxpLm1heGltdW0pOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZHQoaS5taW5pbXVtLGkubWF4aW11bSl9aWYodGhpcy5zdWJNZXNoZXMpZm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXRoaXMuc3ViTWVzaGVzW2ldLnJlZnJlc2hCb3VuZGluZ0luZm8oZSk7dGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCl9X2dldERhdGEoZT0hMSx0PSExLGkscz1nLlBvc2l0aW9uS2luZCl7aWYoaT1pIT1udWxsP2k6dGhpcy5nZXRWZXJ0aWNlc0RhdGEocykuc2xpY2UoKSxpJiZ0JiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcil7bGV0IHI9MCxuPTA7Zm9yKGxldCBhPTA7YTxpLmxlbmd0aDthKyspe2ZvcihsZXQgbz0wO288dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIubnVtVGFyZ2V0cztvKyspe2NvbnN0IGg9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuZ2V0VGFyZ2V0KG8pLGw9aC5pbmZsdWVuY2U7aWYobD4wKXtjb25zdCB1PWguZ2V0UG9zaXRpb25zKCk7dSYmKGlbYV0rPSh1W2FdLWlbYV0pKmwpfX1pZihyKysscz09PWcuUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnI9PT0zKXtyPTA7Y29uc3Qgbz1uKjM7dGhpcy5fcG9zaXRpb25zW24rK10uY29weUZyb21GbG9hdHMoaVtvXSxpW28rMV0saVtvKzJdKX19fWlmKGkmJmUmJnRoaXMuc2tlbGV0b24pe2NvbnN0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCk7aWYobiYmcil7Y29uc3QgYT10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LG89YT90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxoPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsbD10aGlzLnNrZWxldG9uLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLHU9RC5WZWN0b3IzWzBdLGQ9RC5NYXRyaXhbMF0sZj1ELk1hdHJpeFsxXTtsZXQgXz0wO2ZvcihsZXQgRT0wO0U8aS5sZW5ndGg7RSs9MyxfKz00KXtkLnJlc2V0KCk7bGV0IG0sdjtmb3IobT0wO208NDttKyspdj1uW18rbV0sdj4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKHJbXyttXSoxNiksdixmKSxkLmFkZFRvU2VsZihmKSk7aWYoYSlmb3IobT0wO208NDttKyspdj1oW18rbV0sdj4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKG9bXyttXSoxNiksdixmKSxkLmFkZFRvU2VsZihmKSk7cz09PWcuTm9ybWFsS2luZD9wLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihpW0VdLGlbRSsxXSxpW0UrMl0sZCx1KTpwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbRV0saVtFKzFdLGlbRSsyXSxkLHUpLHUudG9BcnJheShpLEUpLHM9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZ0aGlzLl9wb3NpdGlvbnNbRS8zXS5jb3B5RnJvbSh1KX19fXJldHVybiBpfWdldE5vcm1hbHNEYXRhKGU9ITEsdD0hMSl7cmV0dXJuIHRoaXMuX2dldERhdGEoZSx0LG51bGwsZy5Ob3JtYWxLaW5kKX1nZXRQb3NpdGlvbkRhdGEoZT0hMSx0PSExLGkpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxpLGcuUG9zaXRpb25LaW5kKX1fZ2V0UG9zaXRpb25EYXRhKGUsdCl7dmFyIGk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucyYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsKSxzJiYoZSYmdGhpcy5za2VsZXRvbnx8dCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpKXtpZihzPXMuc2xpY2UoKSx0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksdGhpcy5fcG9zaXRpb25zKXtjb25zdCByPXRoaXMuX3Bvc2l0aW9uczt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bmV3IEFycmF5KHIubGVuZ3RoKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnNbbl09KChpPXJbbl0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5jbG9uZSgpKXx8bmV3IHB9cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25EYXRhKGUsdCxzKX1yZXR1cm4gc31fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZHQocC5aZXJvKCkscC5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9X3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyhlKXtpZighdGhpcy5zdWJNZXNoZXMpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTsodD4xfHwhcy5Jc0dsb2JhbCkmJnMudXBkYXRlQm91bmRpbmdJbmZvKGUpfXJldHVybiB0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNJbkZydXN0dW0oZSx0aGlzLmN1bGxpbmdTdHJhdGVneSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1pbnRlcnNlY3RzTWVzaChlLHQ9ITEsaSl7Y29uc3Qgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpLHI9ZS5nZXRCb3VuZGluZ0luZm8oKTtpZihzLmludGVyc2VjdHMocix0KSlyZXR1cm4hMDtpZihpKXtmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkTWVzaGVzKCkpaWYobi5pbnRlcnNlY3RzTWVzaChlLHQsITApKXJldHVybiEwfXJldHVybiExfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pbnRlcnNlY3RzUG9pbnQoZSl9Z2V0IGNoZWNrQ29sbGlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfXNldCBjaGVja0NvbGxpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz1lfWdldCBjb2xsaWRlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ9bW92ZVdpdGhDb2xsaXNpb25zKGUpe3RoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmNvbGxpc2lvbkNvb3JkaW5hdG9yO3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXI9aS5jcmVhdGVDb2xsaWRlcigpKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIuX3JhZGl1cz10aGlzLmVsbGlwc29pZCxpLmdldE5ld1Bvc2l0aW9uKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIsdGhpcy5jb2xsaXNpb25SZXRyeUNvdW50LHRoaXMsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSx0aGlzLnVuaXF1ZUlkKSx0aGlzfV9jb2xsaWRlRm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLCF0aGlzLl9wb3NpdGlvbnMpcmV0dXJuIHRoaXM7aWYoIWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXN8fCFlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXguZXF1YWxzKHQpKXtlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9dC5jbG9uZSgpLGUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9W10sZS5fdHJpYW5nbGVQbGFuZXM9W107Y29uc3Qgcj1lLnZlcnRpY2VzU3RhcnQsbj1lLnZlcnRpY2VzU3RhcnQrZS52ZXJ0aWNlc0NvdW50O2ZvcihsZXQgYT1yO2E8bjthKyspZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcy5wdXNoKHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5fcG9zaXRpb25zW2FdLHQpKX1yZXR1cm4gaS5fY29sbGlkZShlLl90cmlhbmdsZVBsYW5lcyxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLHRoaXMuZ2V0SW5kaWNlcygpLGUuaW5kZXhTdGFydCxlLmluZGV4U3RhcnQrZS5pbmRleENvdW50LGUudmVydGljZXNTdGFydCwhIWUuZ2V0TWF0ZXJpYWwoKSx0aGlzLHRoaXMuX3Nob3VsZENvbnZlcnRSSFMoKSwoKHM9ZS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZmlsbE1vZGUpPT09NyksdGhpc31fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSkscz1pLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXtjb25zdCBuPWkuZGF0YVtyXTtzPjEmJiFuLl9jaGVja0NvbGxpc2lvbihlKXx8dGhpcy5fY29sbGlkZUZvclN1Yk1lc2gobix0LGUpfXJldHVybiB0aGlzfV9zaG91bGRDb252ZXJ0UkhTKCl7cmV0dXJuITF9X2NoZWNrQ29sbGlzaW9uKGUpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKSlyZXR1cm4gdGhpcztjb25zdCB0PUQuTWF0cml4WzBdLGk9RC5NYXRyaXhbMV07cmV0dXJuIHguU2NhbGluZ1RvUmVmKDEvZS5fcmFkaXVzLngsMS9lLl9yYWRpdXMueSwxL2UuX3JhZGl1cy56LHQpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUubXVsdGlwbHlUb1JlZih0LGkpLHRoaXMuX3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzKGUsaSksdGhpc31fZ2VuZXJhdGVQb2ludHNBcnJheSgpe3JldHVybiExfWludGVyc2VjdHMoZSx0LGkscz0hMSxyLG49ITEpe2NvbnN0IGE9bmV3IFV0LG89dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxoPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbiYmKCFlLmludGVyc2VjdHNTcGhlcmUoaC5ib3VuZGluZ1NwaGVyZSxvKXx8IWUuaW50ZXJzZWN0c0JveChoLmJvdW5kaW5nQm94LG8pKSlyZXR1cm4gYTtpZihzKXJldHVybiBhLmhpdD0hbixhLnBpY2tlZE1lc2g9bj9udWxsOnRoaXMsYS5kaXN0YW5jZT1uPzA6cC5EaXN0YW5jZShlLm9yaWdpbixoLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksYS5zdWJNZXNoSWQ9MCxhO2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIGE7bGV0IGw9bnVsbDtjb25zdCB1PXRoaXMuX3NjZW5lLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSksZD11Lmxlbmd0aDtsZXQgZj0hMTtmb3IobGV0IF89MDtfPGQ7XysrKXtjb25zdCBtPXUuZGF0YVtfXS5nZXRNYXRlcmlhbCgpO2lmKCEhbSYmKG0uZmlsbE1vZGU9PTd8fG0uZmlsbE1vZGU9PTB8fG0uZmlsbE1vZGU9PTF8fG0uZmlsbE1vZGU9PTJ8fG0uZmlsbE1vZGU9PTQpKXtmPSEwO2JyZWFrfX1pZighZilyZXR1cm4gYS5oaXQ9ITAsYS5waWNrZWRNZXNoPXRoaXMsYS5kaXN0YW5jZT1wLkRpc3RhbmNlKGUub3JpZ2luLGguYm91bmRpbmdTcGhlcmUuY2VudGVyKSxhLnN1Yk1lc2hJZD0tMSxhO2ZvcihsZXQgXz0wO188ZDtfKyspe2NvbnN0IEU9dS5kYXRhW19dO2lmKGQ+MSYmIUUuY2FuSW50ZXJzZWN0cyhlKSljb250aW51ZTtjb25zdCBtPUUuaW50ZXJzZWN0cyhlLHRoaXMuX3Bvc2l0aW9ucyx0aGlzLmdldEluZGljZXMoKSx0LGkpO2lmKG0mJih0fHwhbHx8bS5kaXN0YW5jZTxsLmRpc3RhbmNlKSYmKGw9bSxsLnN1Yk1lc2hJZD1fLHQpKWJyZWFrfWlmKGwpe2NvbnN0IF89ciE9bnVsbD9yOnRoaXMuZ2V0V29ybGRNYXRyaXgoKSxFPUQuVmVjdG9yM1swXSxtPUQuVmVjdG9yM1sxXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5vcmlnaW4sXyxFKSxlLmRpcmVjdGlvbi5zY2FsZVRvUmVmKGwuZGlzdGFuY2UsbSk7Y29uc3QgUz1wLlRyYW5zZm9ybU5vcm1hbChtLF8pLmFkZEluUGxhY2UoRSk7cmV0dXJuIGEuaGl0PSEwLGEuZGlzdGFuY2U9cC5EaXN0YW5jZShFLFMpLGEucGlja2VkUG9pbnQ9UyxhLnBpY2tlZE1lc2g9dGhpcyxhLmJ1PWwuYnV8fDAsYS5idj1sLmJ2fHwwLGEuc3ViTWVzaEZhY2VJZD1sLmZhY2VJZCxhLmZhY2VJZD1sLmZhY2VJZCt1LmRhdGFbbC5zdWJNZXNoSWRdLmluZGV4U3RhcnQvKHRoaXMuZ2V0Q2xhc3NOYW1lKCkuaW5kZXhPZigiTGluZXNNZXNoIikhPT0tMT8yOjMpLGEuc3ViTWVzaElkPWwuc3ViTWVzaElkLGF9cmV0dXJuIGF9Y2xvbmUoZSx0LGkpe3JldHVybiBudWxsfXJlbGVhc2VTdWJNZXNoZXMoKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfWRpc3Bvc2UoZSx0PSExKXtsZXQgaTtmb3IodGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKSx0aGlzLmdldFNjZW5lKCkuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy5hY3Rpb25NYW5hZ2VyIT09dm9pZCAwJiZ0aGlzLmFjdGlvbk1hbmFnZXIhPT1udWxsJiYodGhpcy5hY3Rpb25NYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLmFjdGlvbk1hbmFnZXI9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249bnVsbCx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlJiYodGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsKSxpPTA7aTx0aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg7aSsrKXtjb25zdCBuPXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzW2ldLGE9bi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZih0aGlzKTtuLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UoYSwxKX10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg9MCx0aGlzLmdldFNjZW5lKCkubGlnaHRzLmZvckVhY2gobj0+e2xldCBhPW4uaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YodGhpcyk7YSE9PS0xJiZuLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYSwxKSxhPW4uZXhjbHVkZWRNZXNoZXMuaW5kZXhPZih0aGlzKSxhIT09LTEmJm4uZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGEsMSk7Y29uc3Qgbz1uLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihvKXtjb25zdCBoPW8udmFsdWVzKCk7Zm9yKGxldCBsPWgubmV4dCgpO2wuZG9uZSE9PSEwO2w9aC5uZXh0KCkpe2NvbnN0IGQ9bC52YWx1ZS5nZXRTaGFkb3dNYXAoKTtkJiZkLnJlbmRlckxpc3QmJihhPWQucmVuZGVyTGlzdC5pbmRleE9mKHRoaXMpLGEhPT0tMSYmZC5yZW5kZXJMaXN0LnNwbGljZShhLDEpKX19fSksKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCJ8fHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTGluZXNNZXNoIikmJnRoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO2lmKHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuaXNPY2NsdXNpb25RdWVyeUluUHJvZ3Jlc3M9ITEsci5kZWxldGVRdWVyeSh0aGlzLl9vY2NsdXNpb25RdWVyeSksdGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksci53aXBlQ2FjaGVzKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZU1lc2godGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBuPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQmJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIWUpZm9yKGk9MDtpPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2ldLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5kaXNwb3NlKCksaS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLHN1cGVyLmRpc3Bvc2UoZSx0KX1hZGRDaGlsZChlLHQ9ITEpe3JldHVybiBlLnNldFBhcmVudCh0aGlzLHQpLHRoaXN9cmVtb3ZlQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQobnVsbCx0KSx0aGlzfV9pbml0RmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldE5vcm1hbHN8fChlLmZhY2V0Tm9ybWFscz1uZXcgQXJyYXkpLGUuZmFjZXRQb3NpdGlvbnN8fChlLmZhY2V0UG9zaXRpb25zPW5ldyBBcnJheSksZS5mYWNldFBhcnRpdGlvbmluZ3x8KGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5KSxlLmZhY2V0TmI9dGhpcy5nZXRJbmRpY2VzKCkubGVuZ3RoLzN8MCxlLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz1lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz9lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uczoxMCxlLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz1lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz9lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbzoxLjAxO2ZvcihsZXQgdD0wO3Q8ZS5mYWNldE5iO3QrKyllLmZhY2V0Tm9ybWFsc1t0XT1wLlplcm8oKSxlLmZhY2V0UG9zaXRpb25zW3RdPXAuWmVybygpO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQ9ITAsdGhpc311cGRhdGVGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtlLmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoZS5mYWNldERlcHRoU29ydCYmIWUuZmFjZXREZXB0aFNvcnRFbmFibGVkKXtpZihlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZD0hMCxpIGluc3RhbmNlb2YgVWludDE2QXJyYXkpZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheShpKTtlbHNle2xldCBhPSExO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKWlmKGlbb10+NjU1MzUpe2E9ITA7YnJlYWt9YT9lLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk6ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpfWlmKGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihhLG8pe3JldHVybiBvLnNxRGlzdGFuY2UtYS5zcURpc3RhbmNlfSwhZS5mYWNldERlcHRoU29ydEZyb20pe2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtlLmZhY2V0RGVwdGhTb3J0RnJvbT1hP2EucG9zaXRpb246cC5aZXJvKCl9ZS5kZXB0aFNvcnRlZEZhY2V0cz1bXTtmb3IobGV0IGE9MDthPGUuZmFjZXROYjthKyspe2NvbnN0IG89e2luZDphKjMsc3FEaXN0YW5jZTowfTtlLmRlcHRoU29ydGVkRmFjZXRzLnB1c2gobyl9ZS5pbnZlcnRlZE1hdHJpeD14LklkZW50aXR5KCksZS5mYWNldERlcHRoU29ydE9yaWdpbj1wLlplcm8oKX1lLmJiU2l6ZS54PXIubWF4aW11bS54LXIubWluaW11bS54PnhlP3IubWF4aW11bS54LXIubWluaW11bS54OnhlLGUuYmJTaXplLnk9ci5tYXhpbXVtLnktci5taW5pbXVtLnk+eGU/ci5tYXhpbXVtLnktci5taW5pbXVtLnk6eGUsZS5iYlNpemUuej1yLm1heGltdW0uei1yLm1pbmltdW0uej54ZT9yLm1heGltdW0uei1yLm1pbmltdW0uejp4ZTtsZXQgbj1lLmJiU2l6ZS54PmUuYmJTaXplLnk/ZS5iYlNpemUueDplLmJiU2l6ZS55O2lmKG49bj5lLmJiU2l6ZS56P246ZS5iYlNpemUueixlLnN1YkRpdi5tYXg9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMsZS5zdWJEaXYuWD1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS54L24pLGUuc3ViRGl2Llk9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueS9uKSxlLnN1YkRpdi5aPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnovbiksZS5zdWJEaXYuWD1lLnN1YkRpdi5YPDE/MTplLnN1YkRpdi5YLGUuc3ViRGl2Llk9ZS5zdWJEaXYuWTwxPzE6ZS5zdWJEaXYuWSxlLnN1YkRpdi5aPWUuc3ViRGl2Llo8MT8xOmUuc3ViRGl2LlosZS5mYWNldFBhcmFtZXRlcnMuZmFjZXROb3JtYWxzPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBvc2l0aW9ucz10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBhcnRpdGlvbmluZz10aGlzLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmcoKSxlLmZhY2V0UGFyYW1ldGVycy5iSW5mbz1yLGUuZmFjZXRQYXJhbWV0ZXJzLmJiU2l6ZT1lLmJiU2l6ZSxlLmZhY2V0UGFyYW1ldGVycy5zdWJEaXY9ZS5zdWJEaXYsZS5mYWNldFBhcmFtZXRlcnMucmF0aW89dGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8sZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0PWUuZmFjZXREZXB0aFNvcnQsZS5mYWNldERlcHRoU29ydCYmZS5mYWNldERlcHRoU29ydEVuYWJsZWQmJih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoZS5pbnZlcnRlZE1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuZmFjZXREZXB0aFNvcnRGcm9tLGUuaW52ZXJ0ZWRNYXRyaXgsZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGlzdGFuY2VUbz1lLmZhY2V0RGVwdGhTb3J0T3JpZ2luKSxlLmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnRlZEZhY2V0cz1lLmRlcHRoU29ydGVkRmFjZXRzLHMmJmVlLkNvbXB1dGVOb3JtYWxzKHQsaSxzLGUuZmFjZXRQYXJhbWV0ZXJzKSxlLmZhY2V0RGVwdGhTb3J0JiZlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7ZS5kZXB0aFNvcnRlZEZhY2V0cy5zb3J0KGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbik7Y29uc3QgYT1lLmRlcHRoU29ydGVkSW5kaWNlcy5sZW5ndGgvM3wwO2ZvcihsZXQgbz0wO288YTtvKyspe2NvbnN0IGg9ZS5kZXB0aFNvcnRlZEZhY2V0c1tvXS5pbmQ7ZS5kZXB0aFNvcnRlZEluZGljZXNbbyozXT1pW2hdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysxXT1pW2grMV0sZS5kZXB0aFNvcnRlZEluZGljZXNbbyozKzJdPWlbaCsyXX10aGlzLnVwZGF0ZUluZGljZXMoZS5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc31nZXRGYWNldExvY2FsTm9ybWFscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0Tm9ybWFsc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0Tm9ybWFsc31nZXRGYWNldExvY2FsUG9zaXRpb25zKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQb3NpdGlvbnN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBvc2l0aW9uc31nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBhcnRpdGlvbmluZ31nZXRGYWNldFBvc2l0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCksdH1nZXRGYWNldFBvc2l0aW9uVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpW2VdLHM9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3JldHVybiBwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoaSxzLHQpLHRoaXN9Z2V0RmFjZXROb3JtYWwoZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCksdH1nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKClbZV07cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YSxuPU1hdGguZmxvb3IoKGUtcy5taW5pbXVtLngqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Llgqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueCksYT1NYXRoLmZsb29yKCh0LXMubWluaW11bS55KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5ZKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLnkpLG89TWF0aC5mbG9vcigoaS1zLm1pbmltdW0ueipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS56KTtyZXR1cm4gbjwwfHxuPnIuc3ViRGl2Lm1heHx8YTwwfHxhPnIuc3ViRGl2Lm1heHx8bzwwfHxvPnIuc3ViRGl2Lm1heD9udWxsOnIuZmFjZXRQYXJ0aXRpb25pbmdbbityLnN1YkRpdi5tYXgqYStyLnN1YkRpdi5tYXgqci5zdWJEaXYubWF4Km9dfWdldENsb3Nlc3RGYWNldEF0Q29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2NvbnN0IGE9dGhpcy5nZXRXb3JsZE1hdHJpeCgpLG89RC5NYXRyaXhbNV07YS5pbnZlcnRUb1JlZihvKTtjb25zdCBoPUQuVmVjdG9yM1s4XTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLG8saCk7Y29uc3QgbD10aGlzLmdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhoLngsaC55LGgueixzLHIsbik7cmV0dXJuIHMmJnAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocy54LHMueSxzLnosYSxzKSxsfWdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhlLHQsaSxzLHI9ITEsbj0hMCl7bGV0IGE9bnVsbCxvPTAsaD0wLGw9MCx1PTAsZD0wLGY9MCxfPTAsRT0wO2NvbnN0IG09dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksdj10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksUz10aGlzLmdldEZhY2V0c0F0TG9jYWxDb29yZGluYXRlcyhlLHQsaSk7aWYoIVMpcmV0dXJuIG51bGw7bGV0IHk9TnVtYmVyLk1BWF9WQUxVRSxBPXksQyxiLE07Zm9yKGxldCBMPTA7TDxTLmxlbmd0aDtMKyspQz1TW0xdLGI9dltDXSxNPW1bQ10sdT0oZS1NLngpKmIueCsodC1NLnkpKmIueSsoaS1NLnopKmIueiwoIXJ8fHImJm4mJnU+PTB8fHImJiFuJiZ1PD0wKSYmKHU9Yi54Kk0ueCtiLnkqTS55K2IueipNLnosZD0tKGIueCplK2IueSp0K2IueippLXUpLyhiLngqYi54K2IueSpiLnkrYi56KmIueiksZj1lK2IueCpkLF89dCtiLnkqZCxFPWkrYi56KmQsbz1mLWUsaD1fLXQsbD1FLWksQT1vKm8raCpoK2wqbCxBPHkmJih5PUEsYT1DLHMmJihzLng9ZixzLnk9XyxzLno9RSkpKTtyZXR1cm4gYX1nZXRGYWNldERhdGFQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldFBhcmFtZXRlcnN9ZGlzYWJsZUZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQmJihlLmZhY2V0RGF0YUVuYWJsZWQ9ITEsZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5LGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LGUuZmFjZXRQYXJhbWV0ZXJzPW51bGwsZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzfWNyZWF0ZU5vcm1hbHMoZSl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKTtsZXQgcztyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT9zPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk6cz1bXSxlZS5Db21wdXRlTm9ybWFscyh0LGkscyx7dXNlUmlnaHRIYW5kZWRTeXN0ZW06dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtfSksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHMsZSksdGhpc31hbGlnbldpdGhOb3JtYWwoZSx0KXt0fHwodD1faS5ZKTtjb25zdCBpPUQuVmVjdG9yM1swXSxzPUQuVmVjdG9yM1sxXTtyZXR1cm4gcC5Dcm9zc1RvUmVmKHQsZSxzKSxwLkNyb3NzVG9SZWYoZSxzLGkpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP1ouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihpLGUscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6cC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoaSxlLHMsdGhpcy5yb3RhdGlvbiksdGhpc31fY2hlY2tPY2NsdXNpb25RdWVyeSgpe3JldHVybiExfWRpc2FibGVFZGdlc1JlbmRlcmluZygpe3Rocm93IFEoIkVkZ2VzUmVuZGVyZXIiKX1lbmFibGVFZGdlc1JlbmRlcmluZyhlLHQsaSl7dGhyb3cgUSgiRWRnZXNSZW5kZXJlciIpfWdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcygpe3JldHVybiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMuZmlsdGVyKGU9PmUuZW1pdHRlcj09PXRoaXMpfX1vdC5PQ0NMVVNJT05fVFlQRV9OT05FPTAsb3QuT0NDTFVTSU9OX1RZUEVfT1BUSU1JU1RJQz0xLG90Lk9DQ0xVU0lPTl9UWVBFX1NUUklDVD0yLG90Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLG90Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9DT05TRVJWQVRJVkU9MSxvdC5DVUxMSU5HU1RSQVRFR1lfU1RBTkRBUkQ9MCxvdC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLG90LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTj0yLG90LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTl9USEVOX0JTUEhFUkVfT05MWT0zLGl0KCJCQUJZTE9OLkFic3RyYWN0TWVzaCIsb3QpO2Z1bmN0aW9uIHNzKGMpe2MuaW5kZXhPZigidkNsaXBQbGFuZSIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZSIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTIiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUyIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lMyIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTMiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU0Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNCIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTUiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU1IiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNiIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTYiKX1mdW5jdGlvbiBPcyhjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPSExLGw9KGk9Yy5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOmUuY2xpcFBsYW5lO3JldHVybiBoPWJpKGwsdCwiQ0xJUFBMQU5FIil8fGgsbD0ocz1jLmNsaXBQbGFuZTIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuY2xpcFBsYW5lMixoPWJpKGwsdCwiQ0xJUFBMQU5FMiIpfHxoLGw9KHI9Yy5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmNsaXBQbGFuZTMsaD1iaShsLHQsIkNMSVBQTEFORTMiKXx8aCxsPShuPWMuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5jbGlwUGxhbmU0LGg9YmkobCx0LCJDTElQUExBTkU0Iil8fGgsbD0oYT1jLmNsaXBQbGFuZTUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuY2xpcFBsYW5lNSxoPWJpKGwsdCwiQ0xJUFBMQU5FNSIpfHxoLGw9KG89Yy5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzplLmNsaXBQbGFuZTYsaD1iaShsLHQsIkNMSVBQTEFORTYiKXx8aCxofWZ1bmN0aW9uIHJzKGMsZSx0KXt2YXIgaSxzLHIsbixhLG87bGV0IGg9KGk9ZS5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOnQuY2xpcFBsYW5lO1RpKGMsInZDbGlwUGxhbmUiLGgpLGg9KHM9ZS5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czp0LmNsaXBQbGFuZTIsVGkoYywidkNsaXBQbGFuZTIiLGgpLGg9KHI9ZS5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0LmNsaXBQbGFuZTMsVGkoYywidkNsaXBQbGFuZTMiLGgpLGg9KG49ZS5jbGlwUGxhbmU0KSE9PW51bGwmJm4hPT12b2lkIDA/bjp0LmNsaXBQbGFuZTQsVGkoYywidkNsaXBQbGFuZTQiLGgpLGg9KGE9ZS5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTp0LmNsaXBQbGFuZTUsVGkoYywidkNsaXBQbGFuZTUiLGgpLGg9KG89ZS5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzp0LmNsaXBQbGFuZTYsVGkoYywidkNsaXBQbGFuZTYiLGgpfWZ1bmN0aW9uIFRpKGMsZSx0KXt0JiZjLnNldEZsb2F0NChlLHQubm9ybWFsLngsdC5ub3JtYWwueSx0Lm5vcm1hbC56LHQuZCl9ZnVuY3Rpb24gYmkoYyxlLHQpe2xldCBpPSEwO2lmKGMpaWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgcz0iI2RlZmluZSAiK3Q7aT1lLmluZGV4T2YocykhPT0tMSxpfHxlLnB1c2gocyl9ZWxzZSBpPWVbdF0sZVt0XT0hMDtyZXR1cm4haX1jbGFzcyBpZXtzdGF0aWMgQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcihlLHQpe3QuYmluZFRvRWZmZWN0KGUsIlNjZW5lIil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYoZSx0LGkpe3QuX25lZWRVVnM9ITAsdFtpXT0hMCxlLm9wdGltaXplVVZBbGxvY2F0aW9uJiZlLmdldFRleHR1cmVNYXRyaXgoKS5pc0lkZW50aXR5QXMzeDIoKT8odFtpKyJESVJFQ1RVViJdPWUuY29vcmRpbmF0ZXNJbmRleCsxLHRbIk1BSU5VViIrKGUuY29vcmRpbmF0ZXNJbmRleCsxKV09ITApOnRbaSsiRElSRUNUVVYiXT0wfXN0YXRpYyBCaW5kVGV4dHVyZU1hdHJpeChlLHQsaSl7Y29uc3Qgcz1lLmdldFRleHR1cmVNYXRyaXgoKTt0LnVwZGF0ZU1hdHJpeChpKyJNYXRyaXgiLHMpfXN0YXRpYyBHZXRGb2dTdGF0ZShlLHQpe3JldHVybiB0LmZvZ0VuYWJsZWQmJmUuYXBwbHlGb2cmJnQuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNaXNjKGUsdCxpLHMscixuLGEpe2EuX2FyZU1pc2NEaXJ0eSYmKGEuTE9HQVJJVEhNSUNERVBUSD1pLGEuUE9JTlRTSVpFPXMsYS5GT0c9ciYmdGhpcy5HZXRGb2dTdGF0ZShlLHQpLGEuTk9OVU5JRk9STVNDQUxJTkc9ZS5ub25Vbmlmb3JtU2NhbGluZyxhLkFMUEhBVEVTVD1uKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JDYW1lcmEoZSx0KXtsZXQgaT0hMTtpZihlLmFjdGl2ZUNhbWVyYSl7Y29uc3Qgcz10LkNBTUVSQV9PUlRIT0dSQVBISUM/MTowLHI9dC5DQU1FUkFfUEVSU1BFQ1RJVkU/MTowLG49ZS5hY3RpdmVDYW1lcmEubW9kZT09PWouT1JUSE9HUkFQSElDX0NBTUVSQT8xOjAsYT1lLmFjdGl2ZUNhbWVyYS5tb2RlPT09ai5QRVJTUEVDVElWRV9DQU1FUkE/MTowOyhzXm58fHJeYSkmJih0LkNBTUVSQV9PUlRIT0dSQVBISUM9bj09PTEsdC5DQU1FUkFfUEVSU1BFQ1RJVkU9YT09PTEsaT0hMCl9cmV0dXJuIGl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhlLHQsaSxzLHIsbj1udWxsLGE9ITEpe2xldCBvPWllLlByZXBhcmVEZWZpbmVzRm9yQ2FtZXJhKGUscyk7biE9PSExJiYobz1PcyhpLGUscykpLHMuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYocy5ERVBUSFBSRVBBU1M9IXMuREVQVEhQUkVQQVNTLG89ITApLHMuSU5TVEFOQ0VTIT09ciYmKHMuSU5TVEFOQ0VTPXIsbz0hMCkscy5USElOX0lOU1RBTkNFUyE9PWEmJihzLlRISU5fSU5TVEFOQ0VTPWEsbz0hMCksbyYmcy5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCl7aWYoZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pe3QuTlVNX0JPTkVfSU5GTFVFTkNFUlM9ZS5udW1Cb25lSW5mbHVlbmNlcnM7Y29uc3QgaT10LkJPTkVURVhUVVJFIT09dm9pZCAwO2lmKGUuc2tlbGV0b24uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmaSl0LkJPTkVURVhUVVJFPSEwO2Vsc2V7dC5Cb25lc1Blck1lc2g9ZS5za2VsZXRvbi5ib25lcy5sZW5ndGgrMSx0LkJPTkVURVhUVVJFPWk/ITE6dm9pZCAwO2NvbnN0IHM9ZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlcjtpZihzJiZzLmVuYWJsZWQpe2NvbnN0IHI9cy5leGNsdWRlZFNraW5uZWRNZXNoLmluZGV4T2YoZSk9PT0tMTt0LkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9cn19fWVsc2UgdC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHQuQm9uZXNQZXJNZXNoPTAsdC5CT05FVEVYVFVSRSE9PXZvaWQgMCYmKHQuQk9ORVRFWFRVUkU9ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpe2NvbnN0IGk9ZS5tb3JwaFRhcmdldE1hbmFnZXI7aT8odC5NT1JQSFRBUkdFVFNfVVY9aS5zdXBwb3J0c1VWcyYmdC5VVjEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD1pLnN1cHBvcnRzVGFuZ2VudHMmJnQuVEFOR0VOVCx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9aS5zdXBwb3J0c05vcm1hbHMmJnQuTk9STUFMLHQuTU9SUEhUQVJHRVRTPWkubnVtSW5mbHVlbmNlcnM+MCx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1pLm51bUluZmx1ZW5jZXJzLHQuTU9SUEhUQVJHRVRTX1RFWFRVUkU9aS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpOih0Lk1PUlBIVEFSR0VUU19VVj0hMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHQuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0Lk1PUlBIVEFSR0VUUz0hMSx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpe2NvbnN0IGk9ZS5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI7dC5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ISEoaSYmaS5pc0VuYWJsZWQpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSx0LGkscyxyPSExLG49ITAsYT0hMCl7aWYoIXQuX2FyZUF0dHJpYnV0ZXNEaXJ0eSYmdC5fbmVlZE5vcm1hbHM9PT10Ll9ub3JtYWxzJiZ0Ll9uZWVkVVZzPT09dC5fdXZzKXJldHVybiExO3QuX25vcm1hbHM9dC5fbmVlZE5vcm1hbHMsdC5fdXZzPXQuX25lZWRVVnMsdC5OT1JNQUw9dC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCksdC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYodC5UQU5HRU5UPSEwKTtmb3IobGV0IG89MTtvPD02Oysrbyl0WyJVViIrb109dC5fbmVlZFVWcz9lLmlzVmVydGljZXNEYXRhUHJlc2VudChgdXYke289PT0xPyIiOm99YCk6ITE7aWYoaSl7Y29uc3Qgbz1lLnVzZVZlcnRleENvbG9ycyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpO3QuVkVSVEVYQ09MT1I9byx0LlZFUlRFWEFMUEhBPWUuaGFzVmVydGV4QWxwaGEmJm8mJm59cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JJbnN0YW5jZUtpbmQpJiYoZS5oYXNJbnN0YW5jZXN8fGUuaGFzVGhpbkluc3RhbmNlcykmJih0LklOU1RBTkNFU0NPTE9SPSEwKSxzJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KSxyJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCksYSYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCksITB9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KGUsdCl7aWYoZS5hY3RpdmVDYW1lcmEpe2NvbnN0IGk9dC5NVUxUSVZJRVc7dC5NVUxUSVZJRVc9ZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0IT09bnVsbCYmZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0LmdldFZpZXdDb3VudCgpPjEsdC5NVUxUSVZJRVchPWkmJnQubWFya0FzVW5wcm9jZXNzZWQoKX19c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yT0lUKGUsdCxpKXtjb25zdCBzPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZLHI9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTO3QuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPWUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmaSx0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9IWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZywocyE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZfHxyIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTKSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MoZSx0LGkpe2NvbnN0IHM9dC5QUkVQQVNTO2lmKCF0Ll9hcmVQcmVQYXNzRGlydHkpcmV0dXJuO2NvbnN0IHI9W3t0eXBlOjEsZGVmaW5lOiJQUkVQQVNTX1BPU0lUSU9OIixpbmRleDoiUFJFUEFTU19QT1NJVElPTl9JTkRFWCJ9LHt0eXBlOjIsZGVmaW5lOiJQUkVQQVNTX1ZFTE9DSVRZIixpbmRleDoiUFJFUEFTU19WRUxPQ0lUWV9JTkRFWCJ9LHt0eXBlOjMsZGVmaW5lOiJQUkVQQVNTX1JFRkxFQ1RJVklUWSIsaW5kZXg6IlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYIn0se3R5cGU6MCxkZWZpbmU6IlBSRVBBU1NfSVJSQURJQU5DRSIsaW5kZXg6IlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWCJ9LHt0eXBlOjcsZGVmaW5lOiJQUkVQQVNTX0FMQkVET19TUVJUIixpbmRleDoiUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWCJ9LHt0eXBlOjUsZGVmaW5lOiJQUkVQQVNTX0RFUFRIIixpbmRleDoiUFJFUEFTU19ERVBUSF9JTkRFWCJ9LHt0eXBlOjYsZGVmaW5lOiJQUkVQQVNTX05PUk1BTCIsaW5kZXg6IlBSRVBBU1NfTk9STUFMX0lOREVYIn1dO2lmKGUucHJlUGFzc1JlbmRlcmVyJiZlLnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZpKXt0LlBSRVBBU1M9ITAsdC5TQ0VORV9NUlRfQ09VTlQ9ZS5wcmVQYXNzUmVuZGVyZXIubXJ0Q291bnQ7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgocltuXS50eXBlKTthIT09LTE/KHRbcltuXS5kZWZpbmVdPSEwLHRbcltuXS5pbmRleF09YSk6dFtyW25dLmRlZmluZV09ITF9fWVsc2V7dC5QUkVQQVNTPSExO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXRbcltuXS5kZWZpbmVdPSExfXQuUFJFUEFTUyE9cyYmKHQubWFya0FzVW5wcm9jZXNzZWQoKSx0Lm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCkpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxpLHMscixuLGEpe3ZhciBvO3N3aXRjaChhLm5lZWROb3JtYWxzPSEwLHJbIkxJR0hUIitzXT09PXZvaWQgMCYmKGEubmVlZFJlYnVpbGQ9ITApLHJbIkxJR0hUIitzXT0hMCxyWyJTUE9UTElHSFQiK3NdPSExLHJbIkhFTUlMSUdIVCIrc109ITEsclsiUE9JTlRMSUdIVCIrc109ITEsclsiRElSTElHSFQiK3NdPSExLGkucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKHIscyksclsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITEsclsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMSxyWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIitzXT0hMSxpLmZhbGxvZmZUeXBlKXtjYXNlIEVlLkZBTExPRkZfR0xURjpyWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK3NdPSEwO2JyZWFrO2Nhc2UgRWUuRkFMTE9GRl9QSFlTSUNBTDpyWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIitzXT0hMDticmVhaztjYXNlIEVlLkZBTExPRkZfU1RBTkRBUkQ6clsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITA7YnJlYWt9aWYobiYmIWkuc3BlY3VsYXIuZXF1YWxzRmxvYXRzKDAsMCwwKSYmKGEuc3BlY3VsYXJFbmFibGVkPSEwKSxyWyJTSEFET1ciK3NdPSExLHJbIlNIQURPV0NTTSIrc109ITEsclsiU0hBRE9XQ1NNREVCVUciK3NdPSExLHJbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrc109ITEsclsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrc109ITEsclsiU0hBRE9XQ1NNTk9CTEVORCIrc109ITEsclsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitzXT0hMSxyWyJTSEFET1dQQ0YiK3NdPSExLHJbIlNIQURPV1BDU1MiK3NdPSExLHJbIlNIQURPV1BPSVNTT04iK3NdPSExLHJbIlNIQURPV0VTTSIrc109ITEsclsiU0hBRE9XQ0xPU0VFU00iK3NdPSExLHJbIlNIQURPV0NVQkUiK3NdPSExLHJbIlNIQURPV0xPV1FVQUxJVFkiK3NdPSExLHJbIlNIQURPV01FRElVTVFVQUxJVFkiK3NdPSExLHQmJnQucmVjZWl2ZVNoYWRvd3MmJmUuc2hhZG93c0VuYWJsZWQmJmkuc2hhZG93RW5hYmxlZCl7Y29uc3QgaD0obz1pLmdldFNoYWRvd0dlbmVyYXRvcihlLmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmkuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYoaCl7Y29uc3QgbD1oLmdldFNoYWRvd01hcCgpO2wmJmwucmVuZGVyTGlzdCYmbC5yZW5kZXJMaXN0Lmxlbmd0aD4wJiYoYS5zaGFkb3dFbmFibGVkPSEwLGgucHJlcGFyZURlZmluZXMocixzKSl9fWkubGlnaHRtYXBNb2RlIT1FZS5MSUdIVE1BUF9ERUZBVUxUPyhhLmxpZ2h0bWFwTW9kZT0hMCxyWyJMSUdIVE1BUEVYQ0xVREVEIitzXT0hMCxyWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK3NdPWkubGlnaHRtYXBNb2RlPT1FZS5MSUdIVE1BUF9TSEFET1dTT05MWSk6KHJbIkxJR0hUTUFQRVhDTFVERUQiK3NdPSExLHJbIkxJR0hUTUFQTk9TUEVDVUxBUiIrc109ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhlLHQsaSxzLHI9NCxuPSExKXtpZighaS5fYXJlTGlnaHRzRGlydHkpcmV0dXJuIGkuX25lZWROb3JtYWxzO2xldCBhPTA7Y29uc3Qgbz17bmVlZE5vcm1hbHM6aS5fbmVlZE5vcm1hbHMsbmVlZFJlYnVpbGQ6ITEsbGlnaHRtYXBNb2RlOiExLHNoYWRvd0VuYWJsZWQ6ITEsc3BlY3VsYXJFbmFibGVkOiExfTtpZihlLmxpZ2h0c0VuYWJsZWQmJiFuKXtmb3IoY29uc3QgbCBvZiB0LmxpZ2h0U291cmNlcylpZih0aGlzLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQoZSx0LGwsYSxpLHMsbyksYSsrLGE9PT1yKWJyZWFrfWkuU1BFQ1VMQVJURVJNPW8uc3BlY3VsYXJFbmFibGVkLGkuU0hBRE9XUz1vLnNoYWRvd0VuYWJsZWQ7Zm9yKGxldCBsPWE7bDxyO2wrKylpWyJMSUdIVCIrbF0hPT12b2lkIDAmJihpWyJMSUdIVCIrbF09ITEsaVsiSEVNSUxJR0hUIitsXT0hMSxpWyJQT0lOVExJR0hUIitsXT0hMSxpWyJESVJMSUdIVCIrbF09ITEsaVsiU1BPVExJR0hUIitsXT0hMSxpWyJTSEFET1ciK2xdPSExLGlbIlNIQURPV0NTTSIrbF09ITEsaVsiU0hBRE9XQ1NNREVCVUciK2xdPSExLGlbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrbF09ITEsaVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrbF09ITEsaVsiU0hBRE9XQ1NNTk9CTEVORCIrbF09ITEsaVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitsXT0hMSxpWyJTSEFET1dQQ0YiK2xdPSExLGlbIlNIQURPV1BDU1MiK2xdPSExLGlbIlNIQURPV1BPSVNTT04iK2xdPSExLGlbIlNIQURPV0VTTSIrbF09ITEsaVsiU0hBRE9XQ0xPU0VFU00iK2xdPSExLGlbIlNIQURPV0NVQkUiK2xdPSExLGlbIlNIQURPV0xPV1FVQUxJVFkiK2xdPSExLGlbIlNIQURPV01FRElVTVFVQUxJVFkiK2xdPSExKTtjb25zdCBoPWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3JldHVybiBpLlNIQURPV0ZMT0FUPT09dm9pZCAwJiYoby5uZWVkUmVidWlsZD0hMCksaS5TSEFET1dGTE9BVD1vLnNoYWRvd0VuYWJsZWQmJihoLnRleHR1cmVGbG9hdFJlbmRlciYmaC50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGgudGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmaC50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSxpLkxJR0hUTUFQRVhDTFVERUQ9by5saWdodG1hcE1vZGUsby5uZWVkUmVidWlsZCYmaS5yZWJ1aWxkKCksby5uZWVkTm9ybWFsc31zdGF0aWMgUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChlLHQsaSxzLHI9bnVsbCxuPSExKXtyJiZyLnB1c2goIkxpZ2h0IitlKSwhbiYmKHQucHVzaCgidkxpZ2h0RGF0YSIrZSwidkxpZ2h0RGlmZnVzZSIrZSwidkxpZ2h0U3BlY3VsYXIiK2UsInZMaWdodERpcmVjdGlvbiIrZSwidkxpZ2h0RmFsbG9mZiIrZSwidkxpZ2h0R3JvdW5kIitlLCJsaWdodE1hdHJpeCIrZSwic2hhZG93c0luZm8iK2UsImRlcHRoVmFsdWVzIitlKSxpLnB1c2goInNoYWRvd1NhbXBsZXIiK2UpLGkucHVzaCgiZGVwdGhTYW1wbGVyIitlKSx0LnB1c2goInZpZXdGcnVzdHVtWiIrZSwiY2FzY2FkZUJsZW5kRmFjdG9yIitlLCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsImRlcHRoQ29ycmVjdGlvbiIrZSwicGVudW1icmFEYXJrbmVzcyIrZSwiZnJ1c3R1bUxlbmd0aHMiK2UpLHMmJihpLnB1c2goInByb2plY3Rpb25MaWdodFNhbXBsZXIiK2UpLHQucHVzaCgidGV4dHVyZVByb2plY3Rpb25NYXRyaXgiK2UpKSl9c3RhdGljIFByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdChlLHQsaSxzPTQpe2xldCByLG49bnVsbDtpZihlLnVuaWZvcm1zTmFtZXMpe2NvbnN0IGE9ZTtyPWEudW5pZm9ybXNOYW1lcyxuPWEudW5pZm9ybUJ1ZmZlcnNOYW1lcyx0PWEuc2FtcGxlcnMsaT1hLmRlZmluZXMscz1hLm1heFNpbXVsdGFuZW91c0xpZ2h0c3x8MH1lbHNlIHI9ZSx0fHwodD1bXSk7Zm9yKGxldCBhPTA7YTxzJiZpWyJMSUdIVCIrYV07YSsrKXRoaXMuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChhLHIsdCxpWyJQUk9KRUNURURMSUdIVFRFWFRVUkUiK2FdLG4pO2kuTlVNX01PUlBIX0lORkxVRU5DRVJTJiZyLnB1c2goIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIpLGkuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzIiksci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQiKSxyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGltZSIpLHQucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlIikpfXN0YXRpYyBIYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKGUsdCxpPTQscz0wKXtsZXQgcj0wO2ZvcihsZXQgbj0wO248aSYmZVsiTElHSFQiK25dO24rKyluPjAmJihyPXMrbix0LmFkZEZhbGxiYWNrKHIsIkxJR0hUIituKSksZS5TSEFET1dTfHwoZVsiU0hBRE9XIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1ciK24pLGVbIlNIQURPV1BDRiIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUENGIituKSxlWyJTSEFET1dQQ1NTIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQQ1NTIituKSxlWyJTSEFET1dQT0lTU09OIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQT0lTU09OIituKSxlWyJTSEFET1dFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0VTTSIrbiksZVsiU0hBRE9XQ0xPU0VFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0NMT1NFRVNNIituKSk7cmV0dXJuIHIrK31zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhlLHQsaSl7dGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aSx0aGlzLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCx0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LGkpe2NvbnN0IHM9aS5OVU1fTU9SUEhfSU5GTFVFTkNFUlM7aWYocz4wJiZmZS5MYXN0Q3JlYXRlZEVuZ2luZSl7Y29uc3Qgcj1mZS5MYXN0Q3JlYXRlZEVuZ2luZS5nZXRDYXBzKCkubWF4VmVydGV4QXR0cmlicyxuPXQubW9ycGhUYXJnZXRNYW5hZ2VyO2lmKG4hPW51bGwmJm4uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtjb25zdCBhPW4mJm4uc3VwcG9ydHNOb3JtYWxzJiZpLk5PUk1BTCxvPW4mJm4uc3VwcG9ydHNUYW5nZW50cyYmaS5UQU5HRU5ULGg9biYmbi5zdXBwb3J0c1VWcyYmaS5VVjE7Zm9yKGxldCBsPTA7bDxzO2wrKyllLnB1c2goZy5Qb3NpdGlvbktpbmQrbCksYSYmZS5wdXNoKGcuTm9ybWFsS2luZCtsKSxvJiZlLnB1c2goZy5UYW5nZW50S2luZCtsKSxoJiZlLnB1c2goZy5VVktpbmQrIl8iK2wpLGUubGVuZ3RoPnImJk8uRXJyb3IoIkNhbm5vdCBhZGQgbW9yZSB2ZXJ0ZXggYXR0cmlidXRlcyBmb3IgbWVzaCAiK3QubmFtZSl9fXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCxpKXtpLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmaS5JTlNUQU5DRVMmJmUucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZCIpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGUsdCxpLHMpe2kuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmKHMuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGkuTlVNX0JPTkVfSU5GTFVFTkNFUlM+NCYmKGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSkpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQpeyh0LklOU1RBTkNFU3x8dC5USElOX0lOU1RBTkNFUykmJnRoaXMuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSwhIXQuUFJFUEFTU19WRUxPQ0lUWSksdC5JTlNUQU5DRVNDT0xPUiYmZS5wdXNoKGcuQ29sb3JJbnN0YW5jZUtpbmQpfXN0YXRpYyBQdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQ9ITEpe2UucHVzaCgid29ybGQwIiksZS5wdXNoKCJ3b3JsZDEiKSxlLnB1c2goIndvcmxkMiIpLGUucHVzaCgid29ybGQzIiksdCYmKGUucHVzaCgicHJldmlvdXNXb3JsZDAiKSxlLnB1c2goInByZXZpb3VzV29ybGQxIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMiIpLGUucHVzaCgicHJldmlvdXNXb3JsZDMiKSl9c3RhdGljIEJpbmRMaWdodFByb3BlcnRpZXMoZSx0LGkpe2UudHJhbnNmZXJUb0VmZmVjdCh0LGkrIiIpfXN0YXRpYyBCaW5kTGlnaHQoZSx0LGkscyxyLG49ITApe2UuX2JpbmRMaWdodCh0LGkscyxyLG4pfXN0YXRpYyBCaW5kTGlnaHRzKGUsdCxpLHMscj00KXtjb25zdCBuPU1hdGgubWluKHQubGlnaHRTb3VyY2VzLmxlbmd0aCxyKTtmb3IobGV0IGE9MDthPG47YSsrKXtjb25zdCBvPXQubGlnaHRTb3VyY2VzW2FdO3RoaXMuQmluZExpZ2h0KG8sYSxlLGksdHlwZW9mIHM9PSJib29sZWFuIj9zOnMuU1BFQ1VMQVJURVJNLHQucmVjZWl2ZVNoYWRvd3MpfX1zdGF0aWMgQmluZEZvZ1BhcmFtZXRlcnMoZSx0LGkscz0hMSl7ZS5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZlLmZvZ01vZGUhPT1uZS5GT0dNT0RFX05PTkUmJihpLnNldEZsb2F0NCgidkZvZ0luZm9zIixlLmZvZ01vZGUsZS5mb2dTdGFydCxlLmZvZ0VuZCxlLmZvZ0RlbnNpdHkpLHM/KGUuZm9nQ29sb3IudG9MaW5lYXJTcGFjZVRvUmVmKHRoaXMuX1RlbXBGb2dDb2xvciksaS5zZXRDb2xvcjMoInZGb2dDb2xvciIsdGhpcy5fVGVtcEZvZ0NvbG9yKSk6aS5zZXRDb2xvcjMoInZGb2dDb2xvciIsZS5mb2dDb2xvcikpfXN0YXRpYyBCaW5kQm9uZXNQYXJhbWV0ZXJzKGUsdCxpKXtpZighKCF0fHwhZSkmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmdC5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEpLGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKSl7Y29uc3Qgcz1lLnNrZWxldG9uO2lmKHMuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmdC5nZXRVbmlmb3JtSW5kZXgoImJvbmVUZXh0dXJlV2lkdGgiKT4tMSl7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZSk7dC5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsciksdC5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCoocy5ib25lcy5sZW5ndGgrMSkpfWVsc2V7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpY2VzKGUpO3ImJih0LnNldE1hdHJpY2VzKCJtQm9uZXMiLHIpLGkmJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXImJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikmJihpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF18fChpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF09ci5zbGljZSgpKSx0LnNldE1hdHJpY2VzKCJtUHJldmlvdXNCb25lcyIsaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSxpZS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhyLGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSkpKX19fXN0YXRpYyBfQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhlLHQpe3JldHVybiB0LnNldChlKSx0fXN0YXRpYyBCaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT1lLm1vcnBoVGFyZ2V0TWFuYWdlcjshZXx8IWl8fHQuc2V0RmxvYXRBcnJheSgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixpLmluZmx1ZW5jZXMpfXN0YXRpYyBCaW5kTG9nRGVwdGgoZSx0LGkpe2lmKCFlfHxlLkxPR0FSSVRITUlDREVQVEh8fGUuaW5kZXhPZiYmZS5pbmRleE9mKCJMT0dBUklUSE1JQ0RFUFRIIik+PTApe2NvbnN0IHM9aS5hY3RpdmVDYW1lcmE7cy5tb2RlPT09ai5PUlRIT0dSQVBISUNfQ0FNRVJBJiZPLkVycm9yKCJMb2dhcml0aG1pYyBkZXB0aCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG9ydGhvZ3JhcGhpYyBjYW1lcmFzISIsMjApLHQuc2V0RmxvYXQoImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsMi8oTWF0aC5sb2cocy5tYXhaKzEpL01hdGguTE4yKSl9fX1pZS5fVG1wTW9ycGhJbmZsdWVuY2Vycz17TlVNX01PUlBIX0lORkxVRU5DRVJTOjB9LGllLl9UZW1wRm9nQ29sb3I9cmUuQmxhY2soKTtjbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz01MTksdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPTc2ODAsdGhpcy5vcERlcHRoRmFpbD03NjgwLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPTc2ODF9Z2V0IGZ1bmMoKXtyZXR1cm4gdGhpcy5fZnVuY31zZXQgZnVuYyhlKXt0aGlzLl9mdW5jPWV9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmPWV9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzaz1lfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbD1lfWdldCBvcERlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH1zZXQgb3BEZXB0aEZhaWwoZSl7dGhpcy5fb3BEZXB0aEZhaWw9ZX1nZXQgb3BTdGVuY2lsRGVwdGhQYXNzKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbERlcHRoUGFzc31zZXQgb3BTdGVuY2lsRGVwdGhQYXNzKGUpe3RoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzaz1lfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbFN0ZW5jaWxTdGF0ZSJ9Y29weVRvKGUpe2FlLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe2FlLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbUigpXSxXdC5wcm90b3R5cGUsImZ1bmMiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJmdW5jUmVmIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwiZnVuY01hc2siLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJtYXNrIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwiZW5hYmxlZCIsbnVsbCk7dmFyICRlOyhmdW5jdGlvbihjKXtjW2MuQ3JlYXRlZD0xXT0iQ3JlYXRlZCIsY1tjLkRpc3Bvc2VkPTJdPSJEaXNwb3NlZCIsY1tjLkdldERlZmluZU5hbWVzPTRdPSJHZXREZWZpbmVOYW1lcyIsY1tjLlByZXBhcmVVbmlmb3JtQnVmZmVyPThdPSJQcmVwYXJlVW5pZm9ybUJ1ZmZlciIsY1tjLklzUmVhZHlGb3JTdWJNZXNoPTE2XT0iSXNSZWFkeUZvclN1Yk1lc2giLGNbYy5QcmVwYXJlRGVmaW5lcz0zMl09IlByZXBhcmVEZWZpbmVzIixjW2MuQmluZEZvclN1Yk1lc2g9NjRdPSJCaW5kRm9yU3ViTWVzaCIsY1tjLlByZXBhcmVFZmZlY3Q9MTI4XT0iUHJlcGFyZUVmZmVjdCIsY1tjLkdldEFuaW1hdGFibGVzPTI1Nl09IkdldEFuaW1hdGFibGVzIixjW2MuR2V0QWN0aXZlVGV4dHVyZXM9NTEyXT0iR2V0QWN0aXZlVGV4dHVyZXMiLGNbYy5IYXNUZXh0dXJlPTEwMjRdPSJIYXNUZXh0dXJlIixjW2MuRmlsbFJlbmRlclRhcmdldFRleHR1cmVzPTIwNDhdPSJGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz00MDk2XT0iSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXJkQmluZEZvclN1Yk1lc2g9ODE5Ml09IkhhcmRCaW5kRm9yU3ViTWVzaCJ9KSgkZXx8KCRlPXt9KSk7Y2xhc3MgUHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcgV3QsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPVAuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7Y29uc3Qgcz10fHxmZS5MYXN0Q3JlYXRlZFNjZW5lOyFzfHwodGhpcy5fc2NlbmU9cyx0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8SC5SYW5kb21JZCgpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9tYXRlcmlhbENvbnRleHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCksdGhpcy5fZHJhd1dyYXBwZXI9bmV3IG1pKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLCExKSx0aGlzLl9kcmF3V3JhcHBlci5tYXRlcmlhbENvbnRleHQ9dGhpcy5fbWF0ZXJpYWxDb250ZXh0LHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3RoaXMuc2lkZU9yaWVudGF0aW9uPVAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOnRoaXMuc2lkZU9yaWVudGF0aW9uPVAuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbix0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fdXNlVUJPPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLGl8fHRoaXMuX3NjZW5lLmFkZE1hdGVyaWFsKHRoaXMpLHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmKHRoaXMubWVzaE1hcD17fSksUC5PbkV2ZW50T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcywkZS5DcmVhdGVkKSl9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITF9c2V0IGFscGhhKGUpe2lmKHRoaXMuX2FscGhhPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9hbHBoYTt0aGlzLl9hbHBoYT1lLCh0PT09MXx8ZT09PTEpJiZ0aGlzLm1hcmtBc0RpcnR5KFAuTWlzY0RpcnR5RmxhZyl9Z2V0IGFscGhhKCl7cmV0dXJuIHRoaXMuX2FscGhhfXNldCBiYWNrRmFjZUN1bGxpbmcoZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoUC5UZXh0dXJlRGlydHlGbGFnKSl9Z2V0IGJhY2tGYWNlQ3VsbGluZygpe3JldHVybiB0aGlzLl9iYWNrRmFjZUN1bGxpbmd9c2V0IGN1bGxCYWNrRmFjZXMoZSl7dGhpcy5fY3VsbEJhY2tGYWNlcyE9PWUmJih0aGlzLl9jdWxsQmFja0ZhY2VzPWUsdGhpcy5tYXJrQXNEaXJ0eShQLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgY3VsbEJhY2tGYWNlcygpe3JldHVybiB0aGlzLl9jdWxsQmFja0ZhY2VzfWdldCBibG9ja0RpcnR5TWVjaGFuaXNtKCl7cmV0dXJuIHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc219c2V0IGJsb2NrRGlydHlNZWNoYW5pc20oZSl7dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSE9PWUmJih0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrRGlydHkoKSl9YXRvbWljTWF0ZXJpYWxzVXBkYXRlKGUpe3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMDt0cnl7ZSh0aGlzKX1maW5hbGx5e3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMX19Z2V0IGhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX1zZXQgb25CaW5kKGUpe3RoaXMuX29uQmluZE9ic2VydmVyJiZ0aGlzLm9uQmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmluZE9ic2VydmVyKSx0aGlzLl9vbkJpbmRPYnNlcnZlcj10aGlzLm9uQmluZE9ic2VydmFibGUuYWRkKGUpfWdldCBvblVuQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGV9Z2V0IG9uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZXx8KHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV9c2V0IGFscGhhTW9kZShlKXt0aGlzLl9hbHBoYU1vZGUhPT1lJiYodGhpcy5fYWxwaGFNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShQLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYWxwaGFNb2RlKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX1zZXQgbmVlZERlcHRoUHJlUGFzcyhlKXt0aGlzLl9uZWVkRGVwdGhQcmVQYXNzIT09ZSYmKHRoaXMuX25lZWREZXB0aFByZVBhc3M9ZSx0aGlzLl9uZWVkRGVwdGhQcmVQYXNzJiYodGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITApKX1nZXQgbmVlZERlcHRoUHJlUGFzcygpe3JldHVybiB0aGlzLl9uZWVkRGVwdGhQcmVQYXNzfWdldCBpc1ByZVBhc3NDYXBhYmxlKCl7cmV0dXJuITF9c2V0IGZvZ0VuYWJsZWQoZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQXNEaXJ0eShQLk1pc2NEaXJ0eUZsYWcpKX1nZXQgZm9nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfWdldCB3aXJlZnJhbWUoKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgUC5XaXJlRnJhbWVGaWxsTW9kZTpjYXNlIFAuTGluZUxpc3REcmF3TW9kZTpjYXNlIFAuTGluZUxvb3BEcmF3TW9kZTpjYXNlIFAuTGluZVN0cmlwRHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlV2lyZWZyYW1lfXNldCB3aXJlZnJhbWUoZSl7dGhpcy5maWxsTW9kZT1lP1AuV2lyZUZyYW1lRmlsbE1vZGU6UC5UcmlhbmdsZUZpbGxNb2RlfWdldCBwb2ludHNDbG91ZCgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBQLlBvaW50RmlsbE1vZGU6Y2FzZSBQLlBvaW50TGlzdERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVBvaW50c0Nsb3VkfXNldCBwb2ludHNDbG91ZChlKXt0aGlzLmZpbGxNb2RlPWU/UC5Qb2ludEZpbGxNb2RlOlAuVHJpYW5nbGVGaWxsTW9kZX1nZXQgZmlsbE1vZGUoKXtyZXR1cm4gdGhpcy5fZmlsbE1vZGV9c2V0IGZpbGxNb2RlKGUpe3RoaXMuX2ZpbGxNb2RlIT09ZSYmKHRoaXMuX2ZpbGxNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShQLk1pc2NEaXJ0eUZsYWcpKX1fZ2V0RHJhd1dyYXBwZXIoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXJ9X3NldERyYXdXcmFwcGVyKGUpe3RoaXMuX2RyYXdXcmFwcGVyPWV9dG9TdHJpbmcoZSl7cmV0dXJuIk5hbWU6ICIrdGhpcy5uYW1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbCJ9Z2V0IF9pc01hdGVyaWFsKCl7cmV0dXJuITB9Z2V0IGlzRnJvemVuKCl7cmV0dXJuIHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlfWZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITB9dW5mcmVlemUoKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExfWlzUmVhZHkoZSx0KXtyZXR1cm4hMH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4gcz8odGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoKTohMX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfWdldCB0cmFuc3BhcmVuY3lNb2RlKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGV9c2V0IHRyYW5zcGFyZW5jeU1vZGUoZSl7dGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PWUmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPWUsdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ZT09PVAuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKSl9Z2V0IF9kaXNhYmxlQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09UC5NQVRFUklBTF9PUEFRVUV8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1QLk1BVEVSSUFMX0FMUEhBVEVTVH1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF9bmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpe3JldHVybiBlLnZpc2liaWxpdHk8MT8hMDp0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTplLmhhc1ZlcnRleEFscGhhfHx0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiEhdGhpcy5fZm9yY2VBbHBoYVRlc3R9X3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXtyZXR1cm4hdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMubmVlZEFscGhhVGVzdGluZygpfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1tYXJrRGlydHkoZT0hMSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoISFpLnN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBpLnN1Yk1lc2hlcylzLmdldE1hdGVyaWFsKCk9PT10aGlzJiYoIXMuZWZmZWN0fHwocy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSxzLmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPW51bGwscy5lZmZlY3QuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD1lKSk7ZSYmdGhpcy5tYXJrQXNEaXJ0eShQLkFsbERpcnR5RmxhZyl9X3ByZUJpbmQoZSx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj0odD09bnVsbD90aGlzLnNpZGVPcmllbnRhdGlvbjp0KT09PVAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uO3JldHVybiBpLmVuYWJsZUVmZmVjdChlfHx0aGlzLl9nZXREcmF3V3JhcHBlcigpKSxpLnNldFN0YXRlKHRoaXMuYmFja0ZhY2VDdWxsaW5nLHRoaXMuek9mZnNldCwhMSxyLHRoaXMuX3NjZW5lLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uPyF0aGlzLmN1bGxCYWNrRmFjZXM6dGhpcy5jdWxsQmFja0ZhY2VzLHRoaXMuc3RlbmNpbCx0aGlzLnpPZmZzZXRVbml0cykscn1iaW5kKGUsdCl7fWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0aGlzLl9ldmVudEluZm8udWJvPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoJGUuUHJlcGFyZVVuaWZvcm1CdWZmZXIsdGhpcy5fZXZlbnRJbmZvKSxlLmNyZWF0ZSgpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMH1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz1pLmVmZmVjdDshc3x8KHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPWksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbykscy5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPSExKX1iaW5kT25seVdvcmxkTWF0cml4KGUpe31iaW5kVmlldyhlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOmUuc2V0TWF0cml4KCJ2aWV3Iix0aGlzLmdldFNjZW5lKCkuZ2V0Vmlld01hdHJpeCgpKX1iaW5kVmlld1Byb2plY3Rpb24oZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDooZS5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFNjZW5lKCkuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLGUuc2V0TWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLmdldFNjZW5lKCkuZ2V0UHJvamVjdGlvbk1hdHJpeCgpKSl9YmluZEV5ZVBvc2l0aW9uKGUsdCl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDp0aGlzLl9zY2VuZS5iaW5kRXllUG9zaXRpb24oZSx0KX1fYWZ0ZXJCaW5kKGUsdD1udWxsKXtpZih0aGlzLl9zY2VuZS5fY2FjaGVkTWF0ZXJpYWw9dGhpcyx0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm8mJnQmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITEsaWUuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcih0LHRoaXMuZ2V0U2NlbmUoKS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKSxlP3RoaXMuX3NjZW5lLl9jYWNoZWRWaXNpYmlsaXR5PWUudmlzaWJpbGl0eTp0aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT0xLHRoaXMuX29uQmluZE9ic2VydmFibGUmJmUmJnRoaXMuX29uQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuZGlzYWJsZURlcHRoV3JpdGUpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPWkuZ2V0RGVwdGhXcml0ZSgpLGkuc2V0RGVwdGhXcml0ZSghMSl9aWYodGhpcy5kaXNhYmxlQ29sb3JXcml0ZSl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGU9aS5nZXRDb2xvcldyaXRlKCksaS5zZXRDb2xvcldyaXRlKCExKX1pZih0aGlzLmRlcHRoRnVuY3Rpb24hPT0wKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT1pLmdldERlcHRoRnVuY3Rpb24oKXx8MCxpLnNldERlcHRoRnVuY3Rpb24odGhpcy5kZXB0aEZ1bmN0aW9uKX19dW5iaW5kKCl7dGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuZGVwdGhGdW5jdGlvbiE9PTAmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldERlcHRoRnVuY3Rpb24odGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXREZXB0aFdyaXRlKHRoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZSksdGhpcy5kaXNhYmxlQ29sb3JXcml0ZSYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0Q29sb3JXcml0ZSh0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGUpfWdldEFuaW1hdGFibGVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hbmltYXRhYmxlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYygkZS5HZXRBbmltYXRhYmxlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hbmltYXRhYmxlc31nZXRBY3RpdmVUZXh0dXJlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYWN0aXZlVGV4dHVyZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoJGUuR2V0QWN0aXZlVGV4dHVyZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYWN0aXZlVGV4dHVyZXN9aGFzVGV4dHVyZShlKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmU9ITEsdGhpcy5fZXZlbnRJbmZvLnRleHR1cmU9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYygkZS5IYXNUZXh0dXJlLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmhhc1RleHR1cmV9Y2xvbmUoZSl7cmV0dXJuIG51bGx9Z2V0QmluZGVkTWVzaGVzKCl7aWYodGhpcy5tZXNoTWFwKXtjb25zdCBlPW5ldyBBcnJheTtmb3IoY29uc3QgdCBpbiB0aGlzLm1lc2hNYXApe2NvbnN0IGk9dGhpcy5tZXNoTWFwW3RdO2kmJmUucHVzaChpKX1yZXR1cm4gZX1lbHNlIHJldHVybiB0aGlzLl9zY2VuZS5tZXNoZXMuZmlsdGVyKHQ9PnQubWF0ZXJpYWw9PT10aGlzKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCxpLHMpe2NvbnN0IHI9e2NsaXBQbGFuZTohMSx1c2VJbnN0YW5jZXM6ITEsLi4uaX0sbj10aGlzLmdldFNjZW5lKCksYT10aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc7dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExO2NvbnN0IG89KCk9PntpZighdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSlyZXR1cm47Y29uc3QgaD1uLmNsaXBQbGFuZTtpZihyLmNsaXBQbGFuZSYmKG4uY2xpcFBsYW5lPW5ldyB4dCgwLDAsMCwxKSksdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7bGV0IGw9ITAsdT1udWxsO2lmKGUuc3ViTWVzaGVzKXtjb25zdCBkPW5ldyB2dCgwLDAsMCwwLDAsZSx2b2lkIDAsITEsITEpO2QubWF0ZXJpYWxEZWZpbmVzJiYoZC5tYXRlcmlhbERlZmluZXMuX3JlbmRlcklkPS0xKSx0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKGUsZCxyLnVzZUluc3RhbmNlcyl8fChkLmVmZmVjdCYmZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpJiZkLmVmZmVjdC5hbGxGYWxsYmFja3NQcm9jZXNzZWQoKT91PWQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKToobD0hMSxzZXRUaW1lb3V0KG8sMTYpKSl9bCYmKHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz1hLHUmJnMmJnModSksdCYmdCh0aGlzKSl9ZWxzZSB0aGlzLmlzUmVhZHkoKT8odGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPWEsdCYmdCh0aGlzKSk6c2V0VGltZW91dChvLDE2KTtyLmNsaXBQbGFuZSYmKG4uY2xpcFBsYW5lPWgpfTtvKCl9Zm9yY2VDb21waWxhdGlvbkFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57dGhpcy5mb3JjZUNvbXBpbGF0aW9uKGUsKCk9PntpKCl9LHQscj0+e3Mocil9KX0pfW1hcmtBc0RpcnR5KGUpe3RoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc218fChQLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoPTAsZSZQLlRleHR1cmVEaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKSxlJlAuTGlnaHREaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spLGUmUC5GcmVzbmVsRGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9GcmVzbmVsRGlydHlDYWxsQmFjayksZSZQLkF0dHJpYnV0ZXNEaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spLGUmUC5NaXNjRGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9NaXNjRGlydHlDYWxsQmFjayksZSZQLlByZVBhc3NEaXJ0eUZsYWcmJlAuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKFAuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrKSxQLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoJiZ0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9SdW5EaXJ0eUNhbGxCYWNrcyksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSl9cmVzZXREcmF3Q2FjaGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IHQgb2YgZSlpZighIXQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuZ2V0TWF0ZXJpYWwoKT09PXRoaXMmJmkucmVzZXREcmF3Q2FjaGUoKX1fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoZSl7aWYodGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoISFpLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IHMgb2YgaS5zdWJNZXNoZXMpaWYocy5nZXRNYXRlcmlhbCghMSk9PT10aGlzKWZvcihjb25zdCByIG9mIHMuX2RyYXdXcmFwcGVycykhcnx8IXIuZGVmaW5lc3x8IXIuZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dGhpcy5fbWF0ZXJpYWxDb250ZXh0PT09ci5tYXRlcmlhbENvbnRleHQmJmUoci5kZWZpbmVzKX19X21hcmtTY2VuZVByZVBhc3NEaXJ0eSgpe2lmKHRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc20pcmV0dXJuO2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpLmVuYWJsZVByZVBhc3NSZW5kZXJlcigpO2UmJmUubWFya0FzRGlydHkoKX1fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9BbGxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fRnJlc25lbERpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9MaWdodHNEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fQXR0cmlidXRlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fTWlzY0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjayl9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiExfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKHMuc3RvcEFuaW1hdGlvbih0aGlzKSxzLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKSxzLnJlbW92ZU1hdGVyaWFsKHRoaXMpLHRoaXMuX2V2ZW50SW5mby5mb3JjZURpc3Bvc2VUZXh0dXJlcz10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKCRlLkRpc3Bvc2VkLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCByPXRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLnNwbGljZShyLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKGkhPT0hMClpZih0aGlzLm1lc2hNYXApZm9yKGNvbnN0IHIgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBuPXRoaXMubWVzaE1hcFtyXTtuJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfWVsc2V7Y29uc3Qgcj1zLm1lc2hlcztmb3IoY29uc3QgbiBvZiByKW4ubWF0ZXJpYWw9PT10aGlzJiYhbi5zb3VyY2VNZXNoJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfXRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLGUmJnRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCYmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5kaXNwb3NlKCksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PW51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uQmluZE9ic2VydmFibGUmJnRoaXMuX29uQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUmJnRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9ldmVudEluZm8mJih0aGlzLl9ldmVudEluZm89e30pfXJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlLHQpe2lmKGUuZ2VvbWV0cnkpe2NvbnN0IGk9ZS5nZW9tZXRyeTtpZih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBzIG9mIGUuc3ViTWVzaGVzKWkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChzLmVmZmVjdCksdCYmcy5lZmZlY3QmJnMuZWZmZWN0LmRpc3Bvc2UoKTtlbHNlIGkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpfX1zZXJpYWxpemUoKXtjb25zdCBlPWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS5zdGVuY2lsPXRoaXMuc3RlbmNpbC5zZXJpYWxpemUoKSxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZX1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKCFlLmN1c3RvbVR5cGUpZS5jdXN0b21UeXBlPSJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiO2Vsc2UgaWYoZS5jdXN0b21UeXBlPT09IkJBQllMT04uUEJSTWF0ZXJpYWwiJiZlLm92ZXJsb2FkZWRBbGJlZG8mJihlLmN1c3RvbVR5cGU9IkJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwiLCFCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsKSlyZXR1cm4gTy5FcnJvcigiWW91ciBzY2VuZSBpcyB0cnlpbmcgdG8gbG9hZCBhIGxlZ2FjeSB2ZXJzaW9uIG9mIHRoZSBQQlJNYXRlcmlhbCwgcGxlYXNlLCBpbmNsdWRlIGl0IGZyb20gdGhlIG1hdGVyaWFscyBsaWJyYXJ5LiIpLG51bGw7Y29uc3Qgcj1ILkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSkuUGFyc2UoZSx0LGkpO3JldHVybiByLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLHJ9fVAuVHJpYW5nbGVGaWxsTW9kZT0wLFAuV2lyZUZyYW1lRmlsbE1vZGU9MSxQLlBvaW50RmlsbE1vZGU9MixQLlBvaW50TGlzdERyYXdNb2RlPTMsUC5MaW5lTGlzdERyYXdNb2RlPTQsUC5MaW5lTG9vcERyYXdNb2RlPTUsUC5MaW5lU3RyaXBEcmF3TW9kZT02LFAuVHJpYW5nbGVTdHJpcERyYXdNb2RlPTcsUC5UcmlhbmdsZUZhbkRyYXdNb2RlPTgsUC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MCxQLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MSxQLlRleHR1cmVEaXJ0eUZsYWc9MSxQLkxpZ2h0RGlydHlGbGFnPTIsUC5GcmVzbmVsRGlydHlGbGFnPTQsUC5BdHRyaWJ1dGVzRGlydHlGbGFnPTgsUC5NaXNjRGlydHlGbGFnPTE2LFAuUHJlUGFzc0RpcnR5RmxhZz0zMixQLkFsbERpcnR5RmxhZz02MyxQLk1BVEVSSUFMX09QQVFVRT0wLFAuTUFURVJJQUxfQUxQSEFURVNUPTEsUC5NQVRFUklBTF9BTFBIQUJMRU5EPTIsUC5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORD0zLFAuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQ9MCxQLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1JOTT0xLFAuT25FdmVudE9ic2VydmFibGU9bmV3IEYsUC5fQWxsRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBbGxBc0RpcnR5KCksUC5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCksUC5fVGV4dHVyZURpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNUZXh0dXJlc0RpcnR5KCksUC5fRnJlc25lbERpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNGcmVzbmVsRGlydHkoKSxQLl9NaXNjRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc01pc2NEaXJ0eSgpLFAuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzUHJlUGFzc0RpcnR5KCksUC5fTGlnaHRzRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0xpZ2h0RGlydHkoKSxQLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzQXR0cmlidXRlc0RpcnR5KCksUC5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntQLl9GcmVzbmVsRGlydHlDYWxsQmFjayhjKSxQLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sUC5fVGV4dHVyZUFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntQLl9UZXh0dXJlRGlydHlDYWxsQmFjayhjKSxQLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sUC5fRGlydHlDYWxsYmFja0FycmF5PVtdLFAuX1J1bkRpcnR5Q2FsbEJhY2tzPWM9Pntmb3IoY29uc3QgZSBvZiBQLl9EaXJ0eUNhbGxiYWNrQXJyYXkpZShjKX0sVChbUigpXSxQLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJjaGVja1JlYWR5T25FdmVyeUNhbGwiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiY2hlY2tSZWFkeU9ubHlPbmNlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1IoImFscGhhIildLFAucHJvdG90eXBlLCJfYWxwaGEiLHZvaWQgMCksVChbUigiYmFja0ZhY2VDdWxsaW5nIildLFAucHJvdG90eXBlLCJfYmFja0ZhY2VDdWxsaW5nIix2b2lkIDApLFQoW1IoImN1bGxCYWNrRmFjZXMiKV0sUC5wcm90b3R5cGUsIl9jdWxsQmFja0ZhY2VzIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInNpZGVPcmllbnRhdGlvbiIsdm9pZCAwKSxUKFtSKCJhbHBoYU1vZGUiKV0sUC5wcm90b3R5cGUsIl9hbHBoYU1vZGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiX25lZWREZXB0aFByZVBhc3MiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZGlzYWJsZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZGlzYWJsZUNvbG9yV3JpdGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZm9yY2VEZXB0aFdyaXRlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImRlcHRoRnVuY3Rpb24iLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwic2VwYXJhdGVDdWxsaW5nUGFzcyIsdm9pZCAwKSxUKFtSKCJmb2dFbmFibGVkIildLFAucHJvdG90eXBlLCJfZm9nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJwb2ludFNpemUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiek9mZnNldCIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwicG9pbnRzQ2xvdWQiLG51bGwpLFQoW1IoKV0sUC5wcm90b3R5cGUsImZpbGxNb2RlIixudWxsKSxUKFtSKCldLFAucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIixudWxsKTtjbGFzcyBTaSBleHRlbmRzIFB7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsITApLHRoaXMuX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9W10sdGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzLnB1c2godGhpcyksdGhpcy5zdWJNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9ITB9Z2V0IHN1Yk1hdGVyaWFscygpe3JldHVybiB0aGlzLl9zdWJNYXRlcmlhbHN9c2V0IHN1Yk1hdGVyaWFscyhlKXt0aGlzLl9zdWJNYXRlcmlhbHM9ZSx0aGlzLl9ob29rQXJyYXkoZSl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5zdWJNYXRlcmlhbHN9X2hvb2tBcnJheShlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7cmV0dXJuIHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCksbn19Z2V0U3ViTWF0ZXJpYWwoZSl7cmV0dXJuIGU8MHx8ZT49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbZV19Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gc3VwZXIuZ2V0QWN0aXZlVGV4dHVyZXMoKS5jb25jYXQoLi4udGhpcy5zdWJNYXRlcmlhbHMubWFwKGU9PmU/ZS5nZXRBY3RpdmVUZXh0dXJlcygpOltdKSl9aGFzVGV4dHVyZShlKXt2YXIgdDtpZihzdXBlci5oYXNUZXh0dXJlKGUpKXJldHVybiEwO2ZvcihsZXQgaT0wO2k8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO2krKylpZighKCh0PXRoaXMuc3ViTWF0ZXJpYWxzW2ldKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmhhc1RleHR1cmUoZSkpcmV0dXJuITA7cmV0dXJuITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk11bHRpTWF0ZXJpYWwifWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zdWJNYXRlcmlhbHNbc107aWYocil7aWYoci5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIXIuaXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpKXJldHVybiExO2NvbnRpbnVlfWlmKCFyLmlzUmVhZHkoZSkpcmV0dXJuITF9fXJldHVybiEwfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgU2koZSx0aGlzLmdldFNjZW5lKCkpO2ZvcihsZXQgcz0wO3M8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3MrKyl7bGV0IHI9bnVsbDtjb25zdCBuPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO3QmJm4/cj1uLmNsb25lKGUrIi0iK24ubmFtZSk6cj10aGlzLnN1Yk1hdGVyaWFsc1tzXSxpLnN1Yk1hdGVyaWFscy5wdXNoKHIpfXJldHVybiBpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307ZS5uYW1lPXRoaXMubmFtZSxlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHBlJiYoZS50YWdzPXBlLkdldFRhZ3ModGhpcykpLGUubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLGUubWF0ZXJpYWxzPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnN1Yk1hdGVyaWFsc1t0XTtpPyhlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKGkudW5pcXVlSWQpLGUubWF0ZXJpYWxzLnB1c2goaS5pZCkpOihlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKG51bGwpLGUubWF0ZXJpYWxzLnB1c2gobnVsbCkpfXJldHVybiBlfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKCFzKXJldHVybjtpZihpKWZvcihsZXQgbj0wO248dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLnN1Yk1hdGVyaWFsc1tuXTthJiZhLmRpc3Bvc2UoZSx0KX1jb25zdCByPXMubXVsdGlNYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPj0wJiZzLm11bHRpTWF0ZXJpYWxzLnNwbGljZShyLDEpLHN1cGVyLmRpc3Bvc2UoZSx0KX1zdGF0aWMgUGFyc2VNdWx0aU1hdGVyaWFsKGUsdCl7Y29uc3QgaT1uZXcgU2koZS5uYW1lLHQpO3JldHVybiBpLmlkPWUuaWQsaS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxwZSYmcGUuQWRkVGFnc1RvKGksZS50YWdzKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz9pLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPWUubWF0ZXJpYWxzVW5pcXVlSWRzOmUubWF0ZXJpYWxzLmZvckVhY2gocz0+aS5zdWJNYXRlcmlhbHMucHVzaCh0LmdldExhc3RNYXRlcmlhbEJ5SWQocykpKSxpfX1pdCgiQkFCWUxPTi5NdWx0aU1hdGVyaWFsIixTaSk7Y2xhc3MgV257Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT1lLHRoaXMubWVzaD10fX1jbGFzcyB6bntjb25zdHJ1Y3Rvcigpe3RoaXMudmlzaWJsZUluc3RhbmNlcz17fSx0aGlzLmJhdGNoQ2FjaGU9bmV3IElyLHRoaXMuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZT1uZXcgSXIsdGhpcy5pbnN0YW5jZXNCdWZmZXJTaXplPTMyKjE2KjR9fWNsYXNzIElye2NvbnN0cnVjdG9yKCl7dGhpcy5tdXN0UmV0dXJuPSExLHRoaXMudmlzaWJsZUluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5yZW5kZXJTZWxmPW5ldyBBcnJheSx0aGlzLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPW5ldyBBcnJheX19Y2xhc3MgR257Y29uc3RydWN0b3IoKXt0aGlzLmluc3RhbmNlc0NvdW50PTAsdGhpcy5tYXRyaXhCdWZmZXI9bnVsbCx0aGlzLnByZXZpb3VzTWF0cml4QnVmZmVyPW51bGwsdGhpcy5tYXRyaXhCdWZmZXJTaXplPTMyKjE2LHRoaXMubWF0cml4RGF0YT1udWxsLHRoaXMuYm91bmRpbmdWZWN0b3JzPVtdLHRoaXMud29ybGRNYXRyaWNlcz1udWxsfX1jbGFzcyBYbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpcy5fc291cmNlPW51bGwsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcHJlQWN0aXZhdGVJZD0tMSx0aGlzLl9MT0RMZXZlbHM9bmV3IEFycmF5LHRoaXMuX3VzZUxPRFNjcmVlbkNvdmVyYWdlPSExLHRoaXMuX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5fZm9yY2VkSW5zdGFuY2VDb3VudD0wfX1jbGFzcyBXIGV4dGVuZHMgb3R7Y29uc3RydWN0b3IoZSx0PW51bGwsaT1udWxsLHM9bnVsbCxyLG49ITApe2lmKHN1cGVyKGUsdCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm89bmV3IFhuLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1udWxsLHRoaXMuX2dlb21ldHJ5PW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgem4sdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IEduLHRoaXMuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEsdGhpcy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPVcuREVGQVVMVFNJREUsdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPW51bGwsdGhpcy5pZ25vcmVDYW1lcmFNYXhaPSExLHQ9dGhpcy5nZXRTY2VuZSgpLHRoaXMuX29uQmVmb3JlRHJhdz0oYSxvLGgpPT57YSYmaCYmKHRoaXMuX3VuaWZvcm1CdWZmZXI/dGhpcy50cmFuc2ZlclRvRWZmZWN0KG8pOmguYmluZE9ubHlXb3JsZE1hdHJpeChvKSl9LHMpe2lmKHMuX2dlb21ldHJ5JiZzLl9nZW9tZXRyeS5hcHBseVRvTWVzaCh0aGlzKSx2cy5EZWVwQ29weShzLHRoaXMsWyJuYW1lIiwibWF0ZXJpYWwiLCJza2VsZXRvbiIsImluc3RhbmNlcyIsInBhcmVudCIsInVuaXF1ZUlkIiwic291cmNlIiwibWV0YWRhdGEiLCJtb3JwaFRhcmdldE1hbmFnZXIiLCJoYXNJbnN0YW5jZXMiLCJ3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsInByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJoYXNMT0RMZXZlbHMiLCJnZW9tZXRyeSIsImlzQmxvY2tlZCIsImFyZU5vcm1hbHNGcm96ZW4iLCJmYWNldE5iIiwiaXNGYWNldERhdGFFbmFibGVkIiwibGlnaHRTb3VyY2VzIiwidXNlQm9uZXMiLCJpc0FuSW5zdGFuY2UiLCJjb2xsaWRlciIsImVkZ2VzUmVuZGVyZXIiLCJmb3J3YXJkIiwidXAiLCJyaWdodCIsImFic29sdXRlUG9zaXRpb24iLCJhYnNvbHV0ZVNjYWxpbmciLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIsImlzV29ybGRNYXRyaXhGcm96ZW4iLCJub25Vbmlmb3JtU2NhbGluZyIsImJlaGF2aW9ycyIsIndvcmxkTWF0cml4RnJvbUNhY2hlIiwiaGFzVGhpbkluc3RhbmNlcyIsImNsb25lTWVzaE1hcCIsImhhc0JvdW5kaW5nSW5mbyJdLFsiX3Bvc2VNYXRyaXgiXSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1zLHQudXNlQ2xvbmVkTWVzaE1hcCYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB8fChzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwPXt9KSxzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1zLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb24sdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1zLl9jcmVhdGlvbkRhdGFTdG9yYWdlLHMuX3Jhbmdlcyl7Y29uc3QgYT1zLl9yYW5nZXM7Zm9yKGNvbnN0IG8gaW4gYSkhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsbyl8fCFhW29dfHx0aGlzLmNyZWF0ZUFuaW1hdGlvblJhbmdlKG8sYVtvXS5mcm9tLGFbb10udG8pfWlmKHMubWV0YWRhdGEmJnMubWV0YWRhdGEuY2xvbmU/dGhpcy5tZXRhZGF0YT1zLm1ldGFkYXRhLmNsb25lKCk6dGhpcy5tZXRhZGF0YT1zLm1ldGFkYXRhLHBlJiZwZS5IYXNUYWdzKHMpJiZwZS5BZGRUYWdzVG8odGhpcyxwZS5HZXRUYWdzKHMsITApKSx0aGlzLnNldEVuYWJsZWQocy5pc0VuYWJsZWQoITEpKSx0aGlzLnBhcmVudD1zLnBhcmVudCx0aGlzLnNldFBpdm90TWF0cml4KHMuZ2V0UGl2b3RNYXRyaXgoKSksdGhpcy5pZD1lKyIuIitzLmlkLHRoaXMubWF0ZXJpYWw9cy5tYXRlcmlhbCwhcil7Y29uc3QgYT1zLmdldERlc2NlbmRhbnRzKCEwKTtmb3IobGV0IG89MDtvPGEubGVuZ3RoO28rKyl7Y29uc3QgaD1hW29dO2guY2xvbmUmJmguY2xvbmUoZSsiLiIraC5uYW1lLHRoaXMpfX1pZihzLm1vcnBoVGFyZ2V0TWFuYWdlciYmKHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPXMubW9ycGhUYXJnZXRNYW5hZ2VyKSx0LmdldFBoeXNpY3NFbmdpbmUpe2NvbnN0IGE9dC5nZXRQaHlzaWNzRW5naW5lKCk7aWYobiYmYSYmYS5nZXRQbHVnaW5WZXJzaW9uKCk9PT0xKXtjb25zdCBvPWEuZ2V0SW1wb3N0b3JGb3JQaHlzaWNzT2JqZWN0KHMpO28mJih0aGlzLnBoeXNpY3NJbXBvc3Rvcj1vLmNsb25lKHRoaXMpKX19Zm9yKGxldCBhPTA7YTx0LnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7YSsrKXtjb25zdCBvPXQucGFydGljbGVTeXN0ZW1zW2FdO28uZW1pdHRlcj09PXMmJm8uY2xvbmUoby5uYW1lLHRoaXMpfXRoaXMuc2tlbGV0b249cy5za2VsZXRvbix0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pIT09bnVsbCYmKHRoaXMucGFyZW50PWkpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmc9dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQ9YT0+e2EudW5yZWdpc3Rlck9uTmV4dENhbGw9ITAsdGhpcy5pc1JlYWR5KCEwKT90aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk6dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXJ8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5pc1JlYWR5KCEwKSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPW51bGwsdGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0pKX0sdGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGU9bmV3IEYodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZCkscyYmcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXN0YXRpYyBfR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbihlKXtyZXR1cm4gZXx8Vy5GUk9OVFNJREV9Z2V0IHVzZUxPRFNjcmVlbkNvdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZX1zZXQgdXNlTE9EU2NyZWVuQ292ZXJhZ2UoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPWUsdGhpcy5fc29ydExPRExldmVscygpfWdldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfXNldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09ZSYmKGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMmJih0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscyYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zPW51bGwsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHM9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBvbkJlZm9yZVJlbmRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV9Z2V0IG9uQmVmb3JlQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV9Z2V0IG9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfWdldCBvbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZX1nZXQgb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZX1zZXQgb25CZWZvcmVEcmF3KGUpe3RoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyJiZ0aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyKSx0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlcj10aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUuYWRkKGUpfWdldCBoYXNJbnN0YW5jZXMoKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB9Z2V0IGhhc1RoaW5JbnN0YW5jZXMoKXt2YXIgZTtyZXR1cm4oKGU9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOjApPjB9Z2V0IGZvcmNlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnR9c2V0IGZvcmNlZEluc3RhbmNlQ291bnQoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnQ9ZX1nZXQgc291cmNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2V9Z2V0IGNsb25lTWVzaE1hcCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfWdldCBpc1VuSW5kZXhlZCgpe3JldHVybiB0aGlzLl91bkluZGV4ZWR9c2V0IGlzVW5JbmRleGVkKGUpe3RoaXMuX3VuSW5kZXhlZCE9PWUmJih0aGlzLl91bkluZGV4ZWQ9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IHdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzRGF0YX1nZXQgcHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc1ByZXZpb3VzRGF0YX1nZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcihlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZT1lfWdldCBtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZX1zZXQgbWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGU9ZX1nZXQgZm9yY2VXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlclVwZGF0ZSgpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlc31zZXQgZm9yY2VXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlclVwZGF0ZShlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcz1lfWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk9PT0wfHx0JiZ0LmRvTm90SW5zdGFudGlhdGUmJih0LmRvTm90SW5zdGFudGlhdGU9PT0hMHx8dC5kb05vdEluc3RhbnRpYXRlKHRoaXMpKT90aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTp0aGlzLmNyZWF0ZUluc3RhbmNlKCJpbnN0YW5jZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpKTtzLnBhcmVudD1lfHx0aGlzLnBhcmVudCxzLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSxzLnNjYWxpbmc9dGhpcy5zY2FsaW5nLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTpzLnJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSxpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2giJiZzLmdldENsYXNzTmFtZSgpPT09Ik1lc2giP3IuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx7ZG9Ob3RJbnN0YW50aWF0ZTp0JiZ0LmRvTm90SW5zdGFudGlhdGV8fCExLG5ld1NvdXJjZWRNZXNoOnN9LGkpOnIuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx0LGkpO3JldHVybiBzfWdldENsYXNzTmFtZSgpe3JldHVybiJNZXNoIn1nZXQgX2lzTWVzaCgpe3JldHVybiEwfXRvU3RyaW5nKGUpe2xldCB0PXN1cGVyLnRvU3RyaW5nKGUpO2lmKHQrPSIsIG4gdmVydGljZXM6ICIrdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCksdCs9IiwgcGFyZW50OiAiKyh0aGlzLl93YWl0aW5nUGFyZW50SWQ/dGhpcy5fd2FpdGluZ1BhcmVudElkOnRoaXMucGFyZW50P3RoaXMucGFyZW50Lm5hbWU6Ik5PTkUiKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO2lmKGUpaWYodGhpcy5fZ2VvbWV0cnkpe2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCkscz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7cyYmaSYmKHQrPSIsIGZsYXQgc2hhZGluZzogIisocy5sZW5ndGgvMz09PWkubGVuZ3RoPyJZRVMiOiJOTyIpKX1lbHNlIHQrPSIsIGZsYXQgc2hhZGluZzogVU5LTk9XTiI7cmV0dXJuIHR9X3VuQmluZEVmZmVjdCgpe3N1cGVyLl91bkJpbmRFZmZlY3QoKTtmb3IoY29uc3QgZSBvZiB0aGlzLmluc3RhbmNlcyllLl91bkJpbmRFZmZlY3QoKX1nZXQgaGFzTE9ETGV2ZWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMubGVuZ3RoPjB9Z2V0TE9ETGV2ZWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHN9X3NvcnRMT0RMZXZlbHMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT8tMToxO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMuc29ydCgodCxpKT0+dC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8aS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/ZTp0LmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5pLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT8tZTowKX1hZGRMT0RMZXZlbChlLHQpe2lmKHQmJnQuX21hc3Rlck1lc2gpcmV0dXJuIE8uV2FybigiWW91IGNhbm5vdCB1c2UgYSBtZXNoIGFzIExPRCBsZXZlbCB0d2ljZSIpLHRoaXM7Y29uc3QgaT1uZXcgV24oZSx0KTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5wdXNoKGkpLHQmJih0Ll9tYXN0ZXJNZXNoPXRoaXMpLHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfWdldExPRExldmVsQXREaXN0YW5jZShlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2ZvcihsZXQgaT0wO2k8dC5fTE9ETGV2ZWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5fTE9ETGV2ZWxzW2ldO2lmKHMuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPT09ZSlyZXR1cm4gcy5tZXNofXJldHVybiBudWxsfXJlbW92ZUxPRExldmVsKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87Zm9yKGxldCBpPTA7aTx0Ll9MT0RMZXZlbHMubGVuZ3RoO2krKyl0Ll9MT0RMZXZlbHNbaV0ubWVzaD09PWUmJih0Ll9MT0RMZXZlbHMuc3BsaWNlKGksMSksZSYmKGUuX21hc3Rlck1lc2g9bnVsbCkpO3JldHVybiB0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc31nZXRMT0QoZSx0KXtjb25zdCBpPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFpLl9MT0RMZXZlbHN8fGkuX0xPRExldmVscy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2NvbnN0IHM9dHx8dGhpcy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZSxyPWUubW9kZT09PWouT1JUSE9HUkFQSElDX0NBTUVSQT9lLm1pblo6cy5jZW50ZXJXb3JsZC5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKTtsZXQgbj1yLGE9MTtpZihpLl91c2VMT0RTY3JlZW5Db3ZlcmFnZSl7Y29uc3Qgbz1lLnNjcmVlbkFyZWE7bGV0IGg9cy5yYWRpdXNXb3JsZCplLm1pblovcjtoPWgqaCpNYXRoLlBJLG49aC9vLGE9LTF9aWYoYSppLl9MT0RMZXZlbHNbaS5fTE9ETGV2ZWxzLmxlbmd0aC0xXS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+YSpuKXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsdGhpcyksdGhpcztmb3IobGV0IG89MDtvPGkuX0xPRExldmVscy5sZW5ndGg7bysrKXtjb25zdCBoPWkuX0xPRExldmVsc1tvXTtpZihhKmguZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGEqbil7aWYoaC5tZXNoKXtpZihoLm1lc2guZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiBoLm1lc2guX2NoZWNrRGVsYXlTdGF0ZSgpLHRoaXM7aWYoaC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4gdGhpcztoLm1lc2guX3ByZUFjdGl2YXRlKCksaC5tZXNoLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSl9cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyxoLm1lc2gpLGgubWVzaH19cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyx0aGlzKSx0aGlzfWdldCBnZW9tZXRyeSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PT09bnVsbHx8dGhpcy5fZ2VvbWV0cnk9PT12b2lkIDA/MDp0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCl9Z2V0VmVydGljZXNEYXRhKGUsdCxpKXt2YXIgcyxyO2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gbnVsbDtsZXQgbj0ocj0ocz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy52ZXJ0ZXhCdWZmZXJzW2VdKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZ2V0RmxvYXREYXRhKHRoaXMuX2dlb21ldHJ5LmdldFRvdGFsVmVydGljZXMoKSxpfHx0JiZ0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoIT09MSk7cmV0dXJuIG58fChuPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YShlLHQsaSkpLG59Z2V0VmVydGV4QnVmZmVyKGUpe3ZhciB0LGk7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbZV0pIT09bnVsbCYmaSE9PXZvaWQgMD9pOnRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcihlKTpudWxsfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXt2YXIgdDtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KCh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbZV0pIT09dm9pZCAwfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSk6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9aXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZSl7dmFyIHQsaTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KChpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbZV0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5pc1VwZGF0YWJsZSgpKXx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZSk6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9Z2V0VmVydGljZXNEYXRhS2luZHMoKXtpZighdGhpcy5fZ2VvbWV0cnkpe2NvbnN0IHQ9bmV3IEFycmF5O3JldHVybiB0aGlzLl9kZWxheUluZm8mJnRoaXMuX2RlbGF5SW5mby5mb3JFYWNoKGZ1bmN0aW9uKGkpe3QucHVzaChpKX0pLHR9Y29uc3QgZT10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpO2lmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSlmb3IoY29uc3QgdCBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyllLnB1c2godCk7cmV0dXJuIGV9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldFRvdGFsSW5kaWNlcygpOjB9Z2V0SW5kaWNlcyhlLHQpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRJbmRpY2VzKGUsdCk6W119Z2V0IGlzQmxvY2tlZCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoIT09bnVsbCYmdGhpcy5fbWFzdGVyTWVzaCE9PXZvaWQgMH1pc1JlYWR5KGU9ITEsdD0hMSl7dmFyIGkscyxyLG4sYSxvO2lmKHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhc3VwZXIuaXNSZWFkeShlKSlyZXR1cm4hMTtpZighdGhpcy5zdWJNZXNoZXN8fHRoaXMuc3ViTWVzaGVzLmxlbmd0aD09PTB8fCFlKXJldHVybiEwO2NvbnN0IGg9dGhpcy5nZXRFbmdpbmUoKSxsPXRoaXMuZ2V0U2NlbmUoKSx1PXR8fGguZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXMpO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZD10aGlzLm1hdGVyaWFsfHxsLmRlZmF1bHRNYXRlcmlhbDtpZihkKXtpZihkLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBfIG9mIHRoaXMuc3ViTWVzaGVzKXtjb25zdCBFPV8uZ2V0TWF0ZXJpYWwoKTtpZihFKXtpZihFLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighRS5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLF8sdSkpcmV0dXJuITF9ZWxzZSBpZighRS5pc1JlYWR5KHRoaXMsdSkpcmV0dXJuITF9fWVsc2UgaWYoIWQuaXNSZWFkeSh0aGlzLHUpKXJldHVybiExfWNvbnN0IGY9aC5jdXJyZW50UmVuZGVyUGFzc0lkO2Zvcihjb25zdCBfIG9mIHRoaXMubGlnaHRTb3VyY2VzKXtjb25zdCBFPV8uZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKCFFKWNvbnRpbnVlO2NvbnN0IG09RS52YWx1ZXMoKTtmb3IobGV0IHY9bS5uZXh0KCk7di5kb25lIT09ITA7dj1tLm5leHQoKSl7Y29uc3QgUz12LnZhbHVlO2lmKFMmJighKCEoKGk9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxpPT09dm9pZCAwKSYmaS5yZW5kZXJMaXN0KXx8KChzPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5yZW5kZXJMaXN0KSYmKChuPShyPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5yZW5kZXJMaXN0KT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uaW5kZXhPZih0aGlzKSkhPT0tMSkpe1MuZ2V0U2hhZG93TWFwKCkmJihoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9Uy5nZXRTaGFkb3dNYXAoKS5yZW5kZXJQYXNzSWQpO2Zvcihjb25zdCB5IG9mIHRoaXMuc3ViTWVzaGVzKWlmKCFTLmlzUmVhZHkoeSx1LChvPShhPXkuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0aGlzKSkhPT1udWxsJiZvIT09dm9pZCAwP286ITEpKXJldHVybiBoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9ZiwhMTtoLmN1cnJlbnRSZW5kZXJQYXNzSWQ9Zn19fWZvcihjb25zdCBfIG9mIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMpaWYoXy5tZXNoJiYhXy5tZXNoLmlzUmVhZHkodSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0IGFyZU5vcm1hbHNGcm96ZW4oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59ZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfXVuZnJlZXplTm9ybWFscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMSx0aGlzfXNldCBvdmVycmlkZW5JbnN0YW5jZUNvdW50KGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD1lfV9wcmVBY3RpdmF0ZSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sdD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKTtyZXR1cm4gZS5fcHJlQWN0aXZhdGVJZD09PXQ/dGhpczooZS5fcHJlQWN0aXZhdGVJZD10LHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz1udWxsLHRoaXMpfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZD1lKSx0aGlzfV9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQoZSx0KXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6dCxzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXQsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RdLnB1c2goZSksdGhpc31fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKXtzdXBlci5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmhhc1RoaW5JbnN0YW5jZXMmJih0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8dGhpcy50aGluSW5zdGFuY2VSZWZyZXNoQm91bmRpbmdJbmZvKCExKSl9X3Bvc3RBY3RpdmF0ZSgpe3RoaXMuZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuZWRnZXNSZW5kZXJlciYmdGhpcy5lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fcmVuZGVyaW5nR3JvdXAmJih0aGlzLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuZWRnZXNSZW5kZXJlciksdGhpcy5lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuZ2VvbWV0cnk/dGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9jcmVhdGVHbG9iYWxTdWJNZXNoKGUpe2NvbnN0IHQ9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk7aWYoIXR8fCF0aGlzLmdldEluZGljZXMoKSlyZXR1cm4gbnVsbDtpZih0aGlzLnN1Yk1lc2hlcyYmdGhpcy5zdWJNZXNoZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1pLmxlbmd0aDtsZXQgcj0hMTtpZihlKXI9ITA7ZWxzZSBmb3IoY29uc3QgbiBvZiB0aGlzLnN1Yk1lc2hlcyl7aWYobi5pbmRleFN0YXJ0K24uaW5kZXhDb3VudD5zKXtyPSEwO2JyZWFrfWlmKG4udmVydGljZXNTdGFydCtuLnZlcnRpY2VzQ291bnQ+dCl7cj0hMDticmVha319aWYoIXIpcmV0dXJuIHRoaXMuc3ViTWVzaGVzWzBdfXJldHVybiB0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSxuZXcgdnQoMCwwLHQsMCx0aGlzLmdldFRvdGFsSW5kaWNlcygpLHRoaXMpfXN1YmRpdmlkZShlKXtpZihlPDEpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgaT10L2V8MCxzPTA7Zm9yKDtpJTMhPT0wOylpKys7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCByPTA7cjxlJiYhKHM+PXQpO3IrKyl2dC5DcmVhdGVGcm9tSW5kaWNlcygwLHMscj09PWUtMT90LXM6aSx0aGlzKSxzKz1pO3RoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpO2Vsc2V7Y29uc3Qgcj1uZXcgZWU7ci5zZXQodCxlKTtjb25zdCBuPXRoaXMuZ2V0U2NlbmUoKTtuZXcgYXQoYXQuUmFuZG9tSWQoKSxuLHIsaSx0aGlzKX1yZXR1cm4gdGhpc31yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7IXRoaXMuX2dlb21ldHJ5fHx0aGlzLl9nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZSl9bWFya1ZlcnRpY2VzRGF0YUFzVXBkYXRhYmxlKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshaXx8aS5pc1VwZGF0YWJsZSgpPT09dHx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZSx0aGlzLmdldFZlcnRpY2VzRGF0YShlKSx0KX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9ITApe3JldHVybiB0aGlzLl9nZW9tZXRyeXx8KHRoaXMuX2dlb21ldHJ5PWF0LkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaCh0aGlzKSksdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNCdWZmZXIoZSxudWxsLHQpLHRoaXN9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8ocz8odGhpcy5tYWtlR2VvbWV0cnlVbmlxdWUoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSwhMSkpOnRoaXMuX2dlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSksdGhpcyk6dGhpc311cGRhdGVNZXNoUG9zaXRpb25zKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWkpcmV0dXJuIHRoaXM7aWYoZShpKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLCExLCExKSx0KXtjb25zdCBzPXRoaXMuZ2V0SW5kaWNlcygpLHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZighcilyZXR1cm4gdGhpcztlZS5Db21wdXRlTm9ybWFscyhpLHMsciksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIsITEsITEpfXJldHVybiB0aGlzfW1ha2VHZW9tZXRyeVVuaXF1ZSgpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoPT09MSlyZXR1cm4gdGhpcztjb25zdCBlPXRoaXMuX2dlb21ldHJ5LHQ9dGhpcy5fZ2VvbWV0cnkuY29weShhdC5SYW5kb21JZCgpKTtyZXR1cm4gZS5yZWxlYXNlRm9yTWVzaCh0aGlzLCEwKSx0LmFwcGx5VG9NZXNoKHRoaXMpLHRoaXN9c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXtpZih0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRJbmRpY2VzKGUsdCxpKTtlbHNle2NvbnN0IHM9bmV3IGVlO3MuaW5kaWNlcz1lO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO25ldyBhdChhdC5SYW5kb21JZCgpLHIscyxpLHRoaXMpfXJldHVybiB0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudXBkYXRlSW5kaWNlcyhlLHQsaSksdGhpcyk6dGhpc310b0xlZnRIYW5kZWQoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnRvTGVmdEhhbmRlZCgpLHRoaXMpOnRoaXN9X2JpbmQoZSx0LGkpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZCh0KTtsZXQgcjtpZih0aGlzLl91bkluZGV4ZWQpcj1udWxsO2Vsc2Ugc3dpdGNoKGkpe2Nhc2UgUC5Qb2ludEZpbGxNb2RlOnI9bnVsbDticmVhaztjYXNlIFAuV2lyZUZyYW1lRmlsbE1vZGU6cj1lLl9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLHMpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBQLlRyaWFuZ2xlRmlsbE1vZGU6cj10aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpO2JyZWFrfXJldHVybiF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fHRoaXMuaGFzVGhpbkluc3RhbmNlcz90aGlzLl9nZW9tZXRyeS5fYmluZCh0LHIpOnRoaXMuX2dlb21ldHJ5Ll9iaW5kKHQscix0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKSx0aGlzfV9kcmF3KGUsdCxpKXtpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZHx8dD09UC5Qb2ludEZpbGxNb2RlP3IuZHJhd0FycmF5c1R5cGUodCxlLnZlcnRpY2VzU3RhcnQsZS52ZXJ0aWNlc0NvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSk6dD09UC5XaXJlRnJhbWVGaWxsTW9kZT9yLmRyYXdFbGVtZW50c1R5cGUodCwwLGUuX2xpbmVzSW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpOnIuZHJhd0VsZW1lbnRzVHlwZSh0LGUuaW5kZXhTdGFydCxlLmluZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKSx0aGlzfXJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKSx0aGlzfXJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpLHRoaXN9dW5yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9X2dldEluc3RhbmNlc1JlbmRlckxpc3QoZSx0PSExKXtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuKXtpZih0KXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZV09ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLnJlbmRlclNlbGZbZV09ITAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlO2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNofWNvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLHM9aS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpLHI9cz90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXMsbj10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGU7aWYobi5tdXN0UmV0dXJuPSExLG4ucmVuZGVyU2VsZltlXT10fHwhciYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Zpc2libGUsbi52aXNpYmxlSW5zdGFuY2VzW2VdPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzJiYhdCl7Y29uc3QgYT10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMsbz1pLmdldFJlbmRlcklkKCksaD1zP2EuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkOmEuZGVmYXVsdFJlbmRlcklkO24udmlzaWJsZUluc3RhbmNlc1tlXT1hW29dLCFuLnZpc2libGVJbnN0YW5jZXNbZV0mJmgmJihuLnZpc2libGVJbnN0YW5jZXNbZV09YVtoXSl9cmV0dXJuIG4uaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZV09IXQmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmcmJm4udmlzaWJsZUluc3RhbmNlc1tlXSE9PW51bGwmJm4udmlzaWJsZUluc3RhbmNlc1tlXSE9PXZvaWQgMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9bixufV9yZW5kZXJXaXRoSW5zdGFuY2VzKGUsdCxpLHMscil7dmFyIG47Y29uc3QgYT1pLnZpc2libGVJbnN0YW5jZXNbZS5faWRdLG89YT9hLmxlbmd0aDowLGg9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxsPWguaW5zdGFuY2VzQnVmZmVyU2l6ZTtsZXQgdT1oLmluc3RhbmNlc0J1ZmZlcixkPWguaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7Y29uc3QgXz0obysxKSoxNio0O2Zvcig7aC5pbnN0YW5jZXNCdWZmZXJTaXplPF87KWguaW5zdGFuY2VzQnVmZmVyU2l6ZSo9MjsoIWguaW5zdGFuY2VzRGF0YXx8bCE9aC5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGguaW5zdGFuY2VzRGF0YT1uZXcgRmxvYXQzMkFycmF5KGguaW5zdGFuY2VzQnVmZmVyU2l6ZS80KSksKHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhaC5pbnN0YW5jZXNQcmV2aW91c0RhdGF8fGwhPWguaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihoLmluc3RhbmNlc1ByZXZpb3VzRGF0YT1uZXcgRmxvYXQzMkFycmF5KGguaW5zdGFuY2VzQnVmZmVyU2l6ZS80KSk7bGV0IEU9MCxtPTA7Y29uc3Qgdj1pLnJlbmRlclNlbGZbZS5faWRdLFM9IXV8fGwhPT1oLmluc3RhbmNlc0J1ZmZlclNpemV8fHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhaC5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcjtpZighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJighaC5pc0Zyb3plbnx8Uykpe2NvbnN0IHk9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKHYmJih0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg/KGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsRSksaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbSh5KSk6KGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg9eS5jbG9uZSgpLGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsRSkpKSx5LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzRGF0YSxFKSxFKz0xNixtKyspLGEpe2lmKFcuSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UJiZ0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEmJigobj1lLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZS5nZXRSZW5kZXJpbmdNZXNoKCkpKSl7Y29uc3QgQT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb247Zm9yKGxldCBDPTA7QzxhLmxlbmd0aDtDKyspe2NvbnN0IGI9YVtDXTtiLl9kaXN0YW5jZVRvQ2FtZXJhPXAuRGlzdGFuY2UoYi5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxBKX1hLnNvcnQoKEMsYik9PkMuX2Rpc3RhbmNlVG9DYW1lcmE+Yi5fZGlzdGFuY2VUb0NhbWVyYT8tMTpDLl9kaXN0YW5jZVRvQ2FtZXJhPGIuX2Rpc3RhbmNlVG9DYW1lcmE/MTowKX1mb3IobGV0IEE9MDtBPGEubGVuZ3RoO0ErKyl7Y29uc3QgQz1hW0FdLGI9Qy5nZXRXb3JsZE1hdHJpeCgpO2IuY29weVRvQXJyYXkoaC5pbnN0YW5jZXNEYXRhLEUpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoQy5fcHJldmlvdXNXb3JsZE1hdHJpeD8oQy5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxFKSxDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKGIpKTooQy5fcHJldmlvdXNXb3JsZE1hdHJpeD1iLmNsb25lKCksQy5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxFKSkpLEUrPTE2LG0rK319fWVsc2UgbT0odj8xOjApK287cmV0dXJuIFM/KHUmJnUuZGlzcG9zZSgpLGQmJmQuZGlzcG9zZSgpLHU9bmV3IFFpKHIsaC5pbnN0YW5jZXNEYXRhLCEwLDE2LCExLCEwKSxoLmluc3RhbmNlc0J1ZmZlcj11LHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMD11LmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMT11LmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMj11LmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMz11LmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQzIiwxMiw0KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGQ9bmV3IFFpKHIsaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsITAsMTYsITEsITApLGguaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI9ZCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMD1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDE9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQyPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMz1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDMiLDEyLDQpKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKTooIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW58fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzKSYmKHUudXBkYXRlRGlyZWN0bHkoaC5pbnN0YW5jZXNEYXRhLDAsbSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV8fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUpJiZkLnVwZGF0ZURpcmVjdGx5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLDAsbSkpLHRoaXMuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKGEsdiksdGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KGUuaW5kZXhDb3VudCptLCExKSxyLl9jdXJyZW50RHJhd0NvbnRleHQmJihyLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZChlLHMsdCksdGhpcy5fZHJhdyhlLHQsbSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFTJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcykmJiF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlJiZkLnVwZGF0ZURpcmVjdGx5KGguaW5zdGFuY2VzRGF0YSwwLG0pLHIudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCksdGhpc31fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXMoZSx0LGkscyl7dmFyIHIsbjtjb25zdCBhPShuPShyPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjA7dGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KGUuaW5kZXhDb3VudCphLCExKSxzLl9jdXJyZW50RHJhd0NvbnRleHQmJihzLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZChlLGksdCksdGhpcy5fZHJhdyhlLHQsYSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiF0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeERhdGEmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJih0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj90aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlci51cGRhdGVEaXJlY3RseSh0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLDAsYSk6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI9dGhpcy5fdGhpbkluc3RhbmNlQ3JlYXRlTWF0cml4QnVmZmVyKCJwcmV2aW91c1dvcmxkIix0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLCExKSkscy51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKX1fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnMoZSx0KXt9X3Byb2Nlc3NSZW5kZXJpbmcoZSx0LGkscyxyLG4sYSxvKXtjb25zdCBoPXRoaXMuZ2V0U2NlbmUoKSxsPWguZ2V0RW5naW5lKCk7aWYobiYmdC5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcylyZXR1cm4gdGhpcy5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXModCxzLGksbCksdGhpcztpZihuKXRoaXMuX3JlbmRlcldpdGhJbnN0YW5jZXModCxzLHIsaSxsKTtlbHNle2wuX2N1cnJlbnREcmF3Q29udGV4dCYmKGwuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSExKTtsZXQgdT0wO3IucmVuZGVyU2VsZlt0Ll9pZF0mJihhJiZhKCExLGUuZ2V0V29ybGRNYXRyaXgoKSxvKSx1KyssdGhpcy5fZHJhdyh0LHMsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50KSk7Y29uc3QgZD1yLnZpc2libGVJbnN0YW5jZXNbdC5faWRdO2lmKGQpe2NvbnN0IGY9ZC5sZW5ndGg7dSs9Zjtmb3IobGV0IF89MDtfPGY7XysrKXtjb25zdCBtPWRbX10uZ2V0V29ybGRNYXRyaXgoKTthJiZhKCEwLG0sbyksdGhpcy5fZHJhdyh0LHMpfX1oLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCp1LCExKX1yZXR1cm4gdGhpc31fcmVidWlsZChlPSExKXtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKGUmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Upe2Zvcihjb25zdCB0IGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXtjb25zdCBpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3RdO2kmJihlJiZpLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XT1udWxsKX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fSl9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsc3VwZXIuX3JlYnVpbGQoZSl9X2ZyZWV6ZSgpe2lmKCEhdGhpcy5zdWJNZXNoZXMpe2ZvcihsZXQgZT0wO2U8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITB9fV91bkZyZWV6ZSgpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW51bGx9cmVuZGVyKGUsdCxpKXt2YXIgcyxyLG47Y29uc3QgYT10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITE6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEsdGhpcy5fY2hlY2tPY2NsdXNpb25RdWVyeSgpJiYhdGhpcy5fb2NjbHVzaW9uRGF0YVN0b3JhZ2UuZm9yY2VSZW5kZXJpbmdXaGVuT2NjbHVkZWQpcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUuX2lkLCEhaSk7aWYoby5tdXN0UmV0dXJuKXJldHVybiB0aGlzO2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7Y29uc3QgaD1hLmdldEVuZ2luZSgpO2xldCBsPTAsdT1udWxsO3RoaXMuaWdub3JlQ2FtZXJhTWF4WiYmYS5hY3RpdmVDYW1lcmEmJiFhLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkmJihsPWEuYWN0aXZlQ2FtZXJhLm1heFosdT1hLmFjdGl2ZUNhbWVyYSxhLmFjdGl2ZUNhbWVyYS5tYXhaPTAsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBkPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLGY9by5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlLl9pZF18fGQuaGFzVGhpbkluc3RhbmNlc3x8ISF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UmJiFlLmdldE1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCxfPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsRT1lLmdldE1hdGVyaWFsKCk7aWYoIUUpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7aWYoIV8uaXNGcm96ZW58fCF0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWx8fHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCE9PUUpe2lmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFFLmlzUmVhZHlGb3JTdWJNZXNoKHRoaXMsZSxmKSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpc31lbHNlIGlmKCFFLmlzUmVhZHkodGhpcyxmKSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9RX1lbHNlIGlmKEUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgocz1lLmVmZmVjdCk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5fd2FzUHJldmlvdXNseVJlYWR5KXx8IUUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMmJiEoISgocj1FLmdldEVmZmVjdCgpKT09PW51bGx8fHI9PT12b2lkIDApJiZyLl93YXNQcmV2aW91c2x5UmVhZHkpKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3QmJmguc2V0QWxwaGFNb2RlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5hbHBoYU1vZGUpO2xldCBtO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz9tPWUuX2RyYXdXcmFwcGVyOm09dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9nZXREcmF3V3JhcHBlcigpO2NvbnN0IHY9KG49bT09bnVsbD92b2lkIDA6bS5lZmZlY3QpIT09bnVsbCYmbiE9PXZvaWQgMD9uOm51bGw7Zm9yKGNvbnN0IEwgb2YgYS5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlKUwuYWN0aW9uKHRoaXMsZSxvLHYpO2lmKCFtfHwhdilyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztjb25zdCBTPWl8fHRoaXM7bGV0IHk7aWYoIV8uaXNGcm96ZW4mJih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nfHx0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24hPT1udWxsKSl7Y29uc3QgTD1TLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk7eT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24seT09bnVsbCYmKHk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnNpZGVPcmllbnRhdGlvbiksTDwwJiYoeT15PT09UC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24/UC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOlAuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uKSxfLnNpZGVPcmllbnRhdGlvbj15fWVsc2UgeT1fLnNpZGVPcmllbnRhdGlvbjtjb25zdCBBPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fcHJlQmluZChtLHkpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5mb3JjZURlcHRoV3JpdGUmJmguc2V0RGVwdGhXcml0ZSghMCk7Y29uc3QgQz1hLmZvcmNlUG9pbnRzQ2xvdWQ/UC5Qb2ludEZpbGxNb2RlOmEuZm9yY2VXaXJlZnJhbWU/UC5XaXJlRnJhbWVGaWxsTW9kZTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxmfHx0aGlzLl9iaW5kKGUsdixDKTtjb25zdCBiPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCxNPVMuZ2V0V29ybGRNYXRyaXgoKTtiLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP2IuYmluZEZvclN1Yk1lc2goTSx0aGlzLGUpOmIuYmluZChNLHRoaXMpLCFiLmJhY2tGYWNlQ3VsbGluZyYmYi5zZXBhcmF0ZUN1bGxpbmdQYXNzJiYoaC5zZXRTdGF0ZSghMCxiLnpPZmZzZXQsITEsIUEsYi5jdWxsQmFja0ZhY2VzLGIuc3RlbmNpbCxiLnpPZmZzZXRVbml0cyksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsdixDLG8sZix0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSxoLnNldFN0YXRlKCEwLGIuek9mZnNldCwhMSxBLGIuY3VsbEJhY2tGYWNlcyxiLnN0ZW5jaWwsYi56T2Zmc2V0VW5pdHMpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsdixDLG8sZix0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwudW5iaW5kKCk7Zm9yKGNvbnN0IEwgb2YgYS5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UpTC5hY3Rpb24odGhpcyxlLG8sdik7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSxhLnBlcmZvcm1hbmNlUHJpb3JpdHk9PT1DdC5BZ2dyZXNzaXZlJiYhXy5pc0Zyb3plbiYmdGhpcy5fZnJlZXplKCksdGhpc31jbGVhbk1hdHJpeFdlaWdodHMoKXt0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYodGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpP3RoaXMuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKTp0aGlzLl9ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9X25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSx0PWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKz00KXtjb25zdCBzPWVbaV0rZVtpKzFdK2VbaSsyXStlW2krM107aWYocz09PTApZVtpXT0xO2Vsc2V7Y29uc3Qgcj0xL3M7ZVtpXSo9cixlW2krMV0qPXIsZVtpKzJdKj1yLGVbaSszXSo9cn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUpfV9ub3JtYWxpemVTa2luV2VpZ2h0c0FuZEV4dHJhKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrPTQpe2xldCByPXRbc10rdFtzKzFdK3RbcysyXSt0W3MrM107aWYocis9ZVtzXStlW3MrMV0rZVtzKzJdK2VbcyszXSxyPT09MCl0W3NdPTE7ZWxzZXtjb25zdCBuPTEvcjt0W3NdKj1uLHRbcysxXSo9bix0W3MrMl0qPW4sdFtzKzNdKj1uLGVbc10qPW4sZVtzKzFdKj1uLGVbcysyXSo9bixlW3MrM10qPW59fXRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0KSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9dmFsaWRhdGVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpLHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZih0PT09bnVsbHx8dGhpcy5za2VsZXRvbj09bnVsbClyZXR1cm57c2tpbm5lZDohMSx2YWxpZDohMCxyZXBvcnQ6Im5vdCBza2lubmVkIn07Y29uc3QgaT10Lmxlbmd0aDtsZXQgcz0wLHI9MCxuPTAsYT0wO2NvbnN0IG89ZT09PW51bGw/NDo4LGg9bmV3IEFycmF5O2ZvcihsZXQgbT0wO208PW87bSsrKWhbbV09MDtjb25zdCBsPS4wMDE7Zm9yKGxldCBtPTA7bTxpO20rPTQpe2xldCB2PXRbbV0sUz12LHk9Uz09PTA/MDoxO2ZvcihsZXQgQT0xO0E8bztBKyspe2NvbnN0IEM9QTw0P3RbbStBXTplW20rQS00XTtDPnYmJnMrKyxDIT09MCYmeSsrLFMrPUMsdj1DfWlmKGhbeV0rKyx5Pm4mJihuPXkpLFM9PT0wKXIrKztlbHNle2NvbnN0IEE9MS9TO2xldCBDPTA7Zm9yKGxldCBiPTA7YjxvO2IrKyliPDQ/Qys9TWF0aC5hYnModFttK2JdLXRbbStiXSpBKTpDKz1NYXRoLmFicyhlW20rYi00XS1lW20rYi00XSpBKTtDPmwmJmErK319Y29uc3QgdT10aGlzLnNrZWxldG9uLmJvbmVzLmxlbmd0aCxkPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk7bGV0IF89MDtmb3IobGV0IG09MDttPGk7bSs9NClmb3IobGV0IHY9MDt2PG87disrKXtjb25zdCBTPXY8ND9kW20rdl06ZlttK3YtNF07KFM+PXV8fFM8MCkmJl8rK31jb25zdCBFPSJOdW1iZXIgb2YgV2VpZ2h0cyA9ICIraS80K2AKTWF4aW11bSBpbmZsdWVuY2VzID0gYCtuK2AKTWlzc2luZyBXZWlnaHRzID0gYCtyK2AKTm90IFNvcnRlZCA9IGArcytgCk5vdCBOb3JtYWxpemVkID0gYCthK2AKV2VpZ2h0Q291bnRzID0gW2AraCtgXQpOdW1iZXIgb2YgYm9uZXMgPSBgK3UrYApCYWQgQm9uZSBJbmRpY2VzID0gYCtfO3JldHVybntza2lubmVkOiEwLHZhbGlkOnI9PT0wJiZhPT09MCYmXz09PTAscmVwb3J0OkV9fV9jaGVja0RlbGF5U3RhdGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkubG9hZChlKTp0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQoZSkpLHRoaXN9X3F1ZXVlTG9hZChlKXtlLmFkZFBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IHQ9dGhpcy5kZWxheUxvYWRpbmdGaWxlLmluZGV4T2YoIi5iYWJ5bG9uYmluYXJ5bWVzaGRhdGEiKSE9PS0xO3JldHVybiBILkxvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3RoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKGksdGhpcyk6dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmluc3RhbmNlcy5mb3JFYWNoKHM9PntzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLl9zeW5jU3ViTWVzaGVzKCl9KSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKX0sKCk9Pnt9LGUub2ZmbGluZVByb3ZpZGVyLHQpLHRoaXN9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhc3VwZXIuaXNJbkZydXN0dW0oZSk/ITE6KHRoaXMuX2NoZWNrRGVsYXlTdGF0ZSgpLCEwKX1zZXRNYXRlcmlhbEJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWF0ZXJpYWxzO2xldCBpO2ZvcihpPXQubGVuZ3RoLTE7aT4tMTtpLS0paWYodFtpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9dFtpXSx0aGlzO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzO2ZvcihpPXMubGVuZ3RoLTE7aT4tMTtpLS0paWYoc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9c1tpXSx0aGlzO3JldHVybiB0aGlzfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMubWF0ZXJpYWwmJmUucHVzaCh0aGlzLm1hdGVyaWFsKSx0aGlzLnNrZWxldG9uJiZlLnB1c2godGhpcy5za2VsZXRvbiksZX1iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKGUpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5zcGxpY2UoMCk7dGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7bGV0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2NvbnN0IHM9cC5aZXJvKCk7bGV0IHI7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW3JdLGlbcisxXSxpW3IrMl0sZSxzKS50b0FycmF5KGkscik7aWYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLlBvc2l0aW9uS2luZCkuaXNVcGRhdGFibGUoKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSl7Zm9yKGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPTA7cjxpLmxlbmd0aDtyKz0zKXAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoaSxyKTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLk5vcm1hbEtpbmQpLmlzVXBkYXRhYmxlKCkpfXJldHVybiBlLmRldGVybWluYW50KCk8MCYmdGhpcy5mbGlwRmFjZXMoKSx0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLnN1Yk1lc2hlcz10LHRoaXN9YmFrZUN1cnJlbnRUcmFuc2Zvcm1JbnRvVmVydGljZXMoZT0hMCl7cmV0dXJuIHRoaXMuYmFrZVRyYW5zZm9ybUludG9WZXJ0aWNlcyh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMucmVzZXRMb2NhbE1hdHJpeChlKSx0aGlzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM6dGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX3Bvc2l0aW9uczpudWxsfV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5Ll9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSx0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9nZW5lcmF0ZVBvaW50c0FycmF5KCk6ITF9Y2xvbmUoZT0iIix0PW51bGwsaSxzPSEwKXtyZXR1cm4gbmV3IFcoZSx0aGlzLmdldFNjZW5lKCksdCx0aGlzLGkscyl9ZGlzcG9zZShlLHQ9ITEpe3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlQmluZE9ic2VydmFibGUmJmkuX29uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSxpLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJmkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZpLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZpLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lLnVzZUNsb25lZE1lc2hNYXApe2lmKGkubWVzaE1hcClmb3IoY29uc3QgcyBpbiBpLm1lc2hNYXApe2NvbnN0IHI9aS5tZXNoTWFwW3NdO3ImJihyLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwsaS5tZXNoTWFwW3NdPXZvaWQgMCl9aS5fc291cmNlJiZpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXAmJihpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKX1lbHNle2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgciBvZiBzKXtjb25zdCBuPXI7bi5faW50ZXJuYWxNZXNoRGF0YUluZm8mJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2UmJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9PT10aGlzJiYobi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1udWxsKX19aS5fc291cmNlPW51bGwsdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxzdXBlci5kaXNwb3NlKGUsdCl9X2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YSgpe31fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpe31faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKXt9YXBwbHlEaXNwbGFjZW1lbnRNYXAoZSx0LGkscyxyLG4sYT0hMSl7Y29uc3Qgbz10aGlzLmdldFNjZW5lKCksaD1sPT57Y29uc3QgdT1sLndpZHRoLGQ9bC5oZWlnaHQsXz10aGlzLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyh1LGQpLmdldENvbnRleHQoIjJkIik7Xy5kcmF3SW1hZ2UobCwwLDApO2NvbnN0IEU9Xy5nZXRJbWFnZURhdGEoMCwwLHUsZCkuZGF0YTt0aGlzLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihFLHUsZCx0LGkscixuLGEpLHMmJnModGhpcyl9O3JldHVybiBILkxvYWRJbWFnZShlLGgsKCk9Pnt9LG8ub2ZmbGluZVByb3ZpZGVyKSx0aGlzfWFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihlLHQsaSxzLHIsbixhLG89ITEpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBPLldhcm4oIkNhbm5vdCBjYWxsIGFwcGx5RGlzcGxhY2VtZW50TWFwOiBHaXZlbiBtZXNoIGlzIG5vdCBjb21wbGV0ZS4gUG9zaXRpb24sIE5vcm1hbCBvciBVViBhcmUgbWlzc2luZyIpLHRoaXM7Y29uc3QgaD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMCwhMCksbD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2xldCBkPXAuWmVybygpO2NvbnN0IGY9cC5aZXJvKCksXz12ZS5aZXJvKCk7bj1ufHx2ZS5aZXJvKCksYT1hfHxuZXcgdmUoMSwxKTtmb3IobGV0IEU9MDtFPGgubGVuZ3RoO0UrPTMpe3AuRnJvbUFycmF5VG9SZWYoaCxFLGQpLHAuRnJvbUFycmF5VG9SZWYobCxFLGYpLHZlLkZyb21BcnJheVRvUmVmKHUsRS8zKjIsXyk7Y29uc3QgbT1NYXRoLmFicyhfLngqYS54K24ueCUxKSoodC0xKSV0fDAsdj1NYXRoLmFicyhfLnkqYS55K24ueSUxKSooaS0xKSVpfDAsUz0obSt2KnQpKjQseT1lW1NdLzI1NSxBPWVbUysxXS8yNTUsQz1lW1MrMl0vMjU1LGI9eSouMytBKi41OStDKi4xMTtmLm5vcm1hbGl6ZSgpLGYuc2NhbGVJblBsYWNlKHMrKHItcykqYiksZD1kLmFkZChmKSxkLnRvQXJyYXkoaCxFKX1yZXR1cm4gZWUuQ29tcHV0ZU5vcm1hbHMoaCx0aGlzLmdldEluZGljZXMoKSxsKSxvPyh0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdSkpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCkpLHRoaXN9Y29udmVydFRvRmxhdFNoYWRlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcj0hMSxuLGE7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7YT1lW25dO2NvbnN0IG09dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoYSksdj1tLmdldERhdGEoKTtpZighKCh2IGluc3RhbmNlb2YgQXJyYXl8fHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpJiZ2Lmxlbmd0aD09PTApKXtpZihhPT09Zy5Ob3JtYWxLaW5kKXtyPW0uaXNVcGRhdGFibGUoKSxlLnNwbGljZShuLDEpLG4tLTtjb250aW51ZX10W2FdPW0saVthXT10aGlzLmdldFZlcnRpY2VzRGF0YShhKSxzW2FdPVtdfX1jb25zdCBvPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGg9dGhpcy5nZXRJbmRpY2VzKCksbD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCB1O2Zvcih1PTA7dTxsO3UrKyl7Y29uc3QgbT1oW3VdO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2lmKGE9ZVtuXSwhdFthXSljb250aW51ZTtjb25zdCB2PXRbYV0uZ2V0U3RyaWRlU2l6ZSgpO2ZvcihsZXQgUz0wO1M8djtTKyspc1thXS5wdXNoKGlbYV1bbSp2K1NdKX19Y29uc3QgZD1bXSxmPXNbZy5Qb3NpdGlvbktpbmRdLF89dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2xldCBFO2ZvcihfP0U9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MTpFPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTAsdT0wO3U8bDt1Kz0zKXtoW3VdPXUsaFt1KzFdPXUrMSxoW3UrMl09dSsyO2NvbnN0IG09cC5Gcm9tQXJyYXkoZix1KjMpLHY9cC5Gcm9tQXJyYXkoZiwodSsxKSozKSxTPXAuRnJvbUFycmF5KGYsKHUrMikqMykseT1tLnN1YnRyYWN0KHYpLEE9Uy5zdWJ0cmFjdCh2KSxDPXAuTm9ybWFsaXplKHAuQ3Jvc3MoeSxBKSk7RSYmQy5zY2FsZUluUGxhY2UoLTEpO2ZvcihsZXQgYj0wO2I8MztiKyspZC5wdXNoKEMueCksZC5wdXNoKEMueSksZC5wdXNoKEMueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZCxyKSxuPTA7bjxlLmxlbmd0aDtuKyspYT1lW25dLHNbYV0mJnRoaXMuc2V0VmVydGljZXNEYXRhKGEsc1thXSx0W2FdLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgbT0wO208by5sZW5ndGg7bSsrKXtjb25zdCB2PW9bbV07dnQuQWRkVG9NZXNoKHYubWF0ZXJpYWxJbmRleCx2LmluZGV4U3RhcnQsdi5pbmRleENvdW50LHYuaW5kZXhTdGFydCx2LmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWNvbnZlcnRUb1VuSW5kZXhlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcixuO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe249ZVtyXTtjb25zdCB1PXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO3Rbbl09dSxpW25dPXRbbl0uZ2V0RGF0YSgpLHNbbl09W119Y29uc3QgYT10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxvPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgbDtmb3IobD0wO2w8aDtsKyspe2NvbnN0IHU9b1tsXTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgZD10W25dLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IGY9MDtmPGQ7ZisrKXNbbl0ucHVzaChpW25dW3UqZCtmXSl9fWZvcihsPTA7bDxoO2wrPTMpb1tsXT1sLG9bbCsxXT1sKzEsb1tsKzJdPWwrMjtmb3IodGhpcy5zZXRJbmRpY2VzKG8pLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobixzW25dLHRbbl0uaXNVcGRhdGFibGUoKSx0W25dLmdldFN0cmlkZVNpemUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCB1PTA7dTxhLmxlbmd0aDt1Kyspe2NvbnN0IGQ9YVt1XTt2dC5BZGRUb01lc2goZC5tYXRlcmlhbEluZGV4LGQuaW5kZXhTdGFydCxkLmluZGV4Q291bnQsZC5pbmRleFN0YXJ0LGQuaW5kZXhDb3VudCx0aGlzKX1yZXR1cm4gdGhpcy5fdW5JbmRleGVkPSEwLHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWZsaXBGYWNlcyhlPSExKXtjb25zdCB0PWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKTtsZXQgaTtpZihlJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiZ0Lm5vcm1hbHMpZm9yKGk9MDtpPHQubm9ybWFscy5sZW5ndGg7aSsrKXQubm9ybWFsc1tpXSo9LTE7aWYodC5pbmRpY2VzKXtsZXQgcztmb3IoaT0wO2k8dC5pbmRpY2VzLmxlbmd0aDtpKz0zKXM9dC5pbmRpY2VzW2krMV0sdC5pbmRpY2VzW2krMV09dC5pbmRpY2VzW2krMl0sdC5pbmRpY2VzW2krMl09c31yZXR1cm4gdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKSx0aGlzfWluY3JlYXNlVmVydGljZXMoZT0xKXtjb25zdCB0PWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxpPXQuaW5kaWNlcyYmIUFycmF5LmlzQXJyYXkodC5pbmRpY2VzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQuaW5kaWNlcyk6dC5pbmRpY2VzLHM9dC5wb3NpdGlvbnMmJiFBcnJheS5pc0FycmF5KHQucG9zaXRpb25zKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQucG9zaXRpb25zKTp0LnBvc2l0aW9ucyxyPXQudXZzJiYhQXJyYXkuaXNBcnJheSh0LnV2cykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LnV2cyk6dC51dnMsbj10Lm5vcm1hbHMmJiFBcnJheS5pc0FycmF5KHQubm9ybWFscykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0Lm5vcm1hbHMpOnQubm9ybWFscztpZighaXx8IXMpTy5XYXJuKCJDb3VsZG4ndCBpbmNyZWFzZSBudW1iZXIgb2YgdmVydGljZXMgOiBWZXJ0ZXhEYXRhIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmRpY2VzIGFuZCBwb3NpdGlvbnMiKTtlbHNle3QuaW5kaWNlcz1pLHQucG9zaXRpb25zPXMsciYmKHQudXZzPXIpLG4mJih0Lm5vcm1hbHM9bik7Y29uc3QgYT1lKzEsbz1uZXcgQXJyYXk7Zm9yKGxldCBDPTA7QzxhKzE7QysrKW9bQ109bmV3IEFycmF5O2xldCBoLGw7Y29uc3QgdT1uZXcgcCgwLDAsMCksZD1uZXcgcCgwLDAsMCksZj1uZXcgdmUoMCwwKSxfPW5ldyBBcnJheSxFPW5ldyBBcnJheSxtPW5ldyBBcnJheTtsZXQgdixTPXMubGVuZ3RoLHk7ciYmKHk9ci5sZW5ndGgpO2xldCBBO24mJihBPW4ubGVuZ3RoKTtmb3IobGV0IEM9MDtDPGkubGVuZ3RoO0MrPTMpe0VbMF09aVtDXSxFWzFdPWlbQysxXSxFWzJdPWlbQysyXTtmb3IobGV0IGI9MDtiPDM7YisrKWlmKGg9RVtiXSxsPUVbKGIrMSklM10sbVtoXT09PXZvaWQgMCYmbVtsXT09PXZvaWQgMD8obVtoXT1uZXcgQXJyYXksbVtsXT1uZXcgQXJyYXkpOihtW2hdPT09dm9pZCAwJiYobVtoXT1uZXcgQXJyYXkpLG1bbF09PT12b2lkIDAmJihtW2xdPW5ldyBBcnJheSkpLG1baF1bbF09PT12b2lkIDAmJm1bbF1baF09PT12b2lkIDApe21baF1bbF09W10sdS54PShzWzMqbF0tc1szKmhdKS9hLHUueT0oc1szKmwrMV0tc1szKmgrMV0pL2EsdS56PShzWzMqbCsyXS1zWzMqaCsyXSkvYSxuJiYoZC54PShuWzMqbF0tblszKmhdKS9hLGQueT0oblszKmwrMV0tblszKmgrMV0pL2EsZC56PShuWzMqbCsyXS1uWzMqaCsyXSkvYSksciYmKGYueD0oclsyKmxdLXJbMipoXSkvYSxmLnk9KHJbMipsKzFdLXJbMipoKzFdKS9hKSxtW2hdW2xdLnB1c2goaCk7Zm9yKGxldCBNPTE7TTxhO00rKyltW2hdW2xdLnB1c2gocy5sZW5ndGgvMyksc1tTKytdPXNbMypoXStNKnUueCxzW1MrK109c1szKmgrMV0rTSp1Lnksc1tTKytdPXNbMypoKzJdK00qdS56LG4mJihuW0ErK109blszKmhdK00qZC54LG5bQSsrXT1uWzMqaCsxXStNKmQueSxuW0ErK109blszKmgrMl0rTSpkLnopLHImJihyW3krK109clsyKmhdK00qZi54LHJbeSsrXT1yWzIqaCsxXStNKmYueSk7bVtoXVtsXS5wdXNoKGwpLG1bbF1baF09bmV3IEFycmF5LHY9bVtoXVtsXS5sZW5ndGg7Zm9yKGxldCBNPTA7TTx2O00rKyltW2xdW2hdW01dPW1baF1bbF1bdi0xLU1dfW9bMF1bMF09aVtDXSxvWzFdWzBdPW1baVtDXV1baVtDKzFdXVsxXSxvWzFdWzFdPW1baVtDXV1baVtDKzJdXVsxXTtmb3IobGV0IGI9MjtiPGE7YisrKXtvW2JdWzBdPW1baVtDXV1baVtDKzFdXVtiXSxvW2JdW2JdPW1baVtDXV1baVtDKzJdXVtiXSx1Lng9KHNbMypvW2JdW2JdXS1zWzMqb1tiXVswXV0pL2IsdS55PShzWzMqb1tiXVtiXSsxXS1zWzMqb1tiXVswXSsxXSkvYix1Lno9KHNbMypvW2JdW2JdKzJdLXNbMypvW2JdWzBdKzJdKS9iLG4mJihkLng9KG5bMypvW2JdW2JdXS1uWzMqb1tiXVswXV0pL2IsZC55PShuWzMqb1tiXVtiXSsxXS1uWzMqb1tiXVswXSsxXSkvYixkLno9KG5bMypvW2JdW2JdKzJdLW5bMypvW2JdWzBdKzJdKS9iKSxyJiYoZi54PShyWzIqb1tiXVtiXV0tclsyKm9bYl1bMF1dKS9iLGYueT0oclsyKm9bYl1bYl0rMV0tclsyKm9bYl1bMF0rMV0pL2IpO2ZvcihsZXQgTT0xO008YjtNKyspb1tiXVtNXT1zLmxlbmd0aC8zLHNbUysrXT1zWzMqb1tiXVswXV0rTSp1Lngsc1tTKytdPXNbMypvW2JdWzBdKzFdK00qdS55LHNbUysrXT1zWzMqb1tiXVswXSsyXStNKnUueixuJiYobltBKytdPW5bMypvW2JdWzBdXStNKmQueCxuW0ErK109blszKm9bYl1bMF0rMV0rTSpkLnksbltBKytdPW5bMypvW2JdWzBdKzJdK00qZC56KSxyJiYoclt5KytdPXJbMipvW2JdWzBdXStNKmYueCxyW3krK109clsyKm9bYl1bMF0rMV0rTSpmLnkpfW9bYV09bVtpW0MrMV1dW2lbQysyXV0sXy5wdXNoKG9bMF1bMF0sb1sxXVswXSxvWzFdWzFdKTtmb3IobGV0IGI9MTtiPGE7YisrKXtsZXQgTTtmb3IoTT0wO008YjtNKyspXy5wdXNoKG9bYl1bTV0sb1tiKzFdW01dLG9bYisxXVtNKzFdKSxfLnB1c2gob1tiXVtNXSxvW2IrMV1bTSsxXSxvW2JdW00rMV0pO18ucHVzaChvW2JdW01dLG9bYisxXVtNXSxvW2IrMV1bTSsxXSl9fXQuaW5kaWNlcz1fLHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSl9fWZvcmNlU2hhcmVkVmVydGljZXMoKXtjb25zdCBlPWVlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSx0PWUudXZzLGk9ZS5pbmRpY2VzLHM9ZS5wb3NpdGlvbnMscj1lLmNvbG9ycyxuPWUubWF0cmljZXNJbmRpY2VzLGE9ZS5tYXRyaWNlc1dlaWdodHMsbz1lLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGg9ZS5tYXRyaWNlc1dlaWdodHNFeHRyYTtpZihpPT09dm9pZCAwfHxzPT09dm9pZCAwfHxpPT09bnVsbHx8cz09PW51bGwpTy5XYXJuKCJWZXJ0ZXhEYXRhIGNvbnRhaW5zIGVtcHR5IGVudHJpZXMiKTtlbHNle2NvbnN0IGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9bmV3IEFycmF5LGY9bmV3IEFycmF5LF89bmV3IEFycmF5LEU9bmV3IEFycmF5LG09bmV3IEFycmF5LHY9bmV3IEFycmF5O2xldCBTPW5ldyBBcnJheSx5PTA7Y29uc3QgQT17fTtsZXQgQyxiO2ZvcihsZXQgTD0wO0w8aS5sZW5ndGg7TCs9Myl7Yj1baVtMXSxpW0wrMV0saVtMKzJdXSxTPW5ldyBBcnJheTtmb3IobGV0IGs9MDtrPDM7aysrKXtTW2tdPSIiO2ZvcihsZXQgdz0wO3c8Mzt3KyspTWF0aC5hYnMoc1szKmJba10rd10pPDFlLTgmJihzWzMqYltrXSt3XT0wKSxTW2tdKz1zWzMqYltrXSt3XSsifCJ9aWYoIShTWzBdPT1TWzFdfHxTWzBdPT1TWzJdfHxTWzFdPT1TWzJdKSlmb3IobGV0IGs9MDtrPDM7aysrKXtpZihDPUFbU1trXV0sQz09PXZvaWQgMCl7QVtTW2tdXT15LEM9eSsrO2ZvcihsZXQgdz0wO3c8Mzt3KyspbC5wdXNoKHNbMypiW2tdK3ddKTtpZihyIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspZi5wdXNoKHJbNCpiW2tdK3ddKTtpZih0IT1udWxsKWZvcihsZXQgdz0wO3c8Mjt3KyspZC5wdXNoKHRbMipiW2tdK3ddKTtpZihuIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspXy5wdXNoKG5bNCpiW2tdK3ddKTtpZihhIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspRS5wdXNoKGFbNCpiW2tdK3ddKTtpZihvIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3KyspbS5wdXNoKG9bNCpiW2tdK3ddKTtpZihoIT1udWxsKWZvcihsZXQgdz0wO3c8NDt3Kyspdi5wdXNoKGhbNCpiW2tdK3ddKX11LnB1c2goQyl9fWNvbnN0IE09bmV3IEFycmF5O2VlLkNvbXB1dGVOb3JtYWxzKGwsdSxNKSxlLnBvc2l0aW9ucz1sLGUuaW5kaWNlcz11LGUubm9ybWFscz1NLHQhPW51bGwmJihlLnV2cz1kKSxyIT1udWxsJiYoZS5jb2xvcnM9ZiksbiE9bnVsbCYmKGUubWF0cmljZXNJbmRpY2VzPV8pLGEhPW51bGwmJihlLm1hdHJpY2VzV2VpZ2h0cz1FKSxvIT1udWxsJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT1tKSxhIT1udWxsJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT12KSxlLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpfX1zdGF0aWMgX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdCl7dGhyb3cgUSgiSW5zdGFuY2VkTWVzaCIpfXN0YXRpYyBfUGh5c2ljc0ltcG9zdG9yUGFyc2VyKGUsdCxpKXt0aHJvdyBRKCJQaHlzaWNzSW1wb3N0b3IiKX1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gVy5faW5zdGFuY2VkTWVzaEZhY3RvcnkoZSx0aGlzKX1zeW5jaHJvbml6ZUluc3RhbmNlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2UrKyl0aGlzLmluc3RhbmNlc1tlXS5fc3luY1N1Yk1lc2hlcygpO3JldHVybiB0aGlzfW9wdGltaXplSW5kaWNlcyhlKXtjb25zdCB0PXRoaXMuZ2V0SW5kaWNlcygpLGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpfHwhdClyZXR1cm4gdGhpcztjb25zdCBzPW5ldyBBcnJheTtmb3IobGV0IG49MDtuPGkubGVuZ3RoO249biszKXMucHVzaChwLkZyb21BcnJheShpLG4pKTtjb25zdCByPW5ldyBBcnJheTtyZXR1cm4gWWkuU3luY0FzeW5jRm9yTG9vcChzLmxlbmd0aCw0MCxuPT57Y29uc3QgYT1zLmxlbmd0aC0xLW4sbz1zW2FdO2ZvcihsZXQgaD0wO2g8YTsrK2gpe2NvbnN0IGw9c1toXTtpZihvLmVxdWFscyhsKSl7clthXT1oO2JyZWFrfX19LCgpPT57Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDsrK2EpdFthXT1yW3RbYV1dfHx0W2FdO2NvbnN0IG49dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCk7dGhpcy5zZXRJbmRpY2VzKHQpLHRoaXMuc3ViTWVzaGVzPW4sZSYmZSh0aGlzKX0pLHRoaXN9c2VyaWFsaXplKGU9e30pe2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSxwZSYmcGUuSGFzVGFncyh0aGlzKSYmKGUudGFncz1wZS5HZXRUYWdzKHRoaXMpKSxlLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uYXNBcnJheSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2Uucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmFzQXJyYXkoKTp0aGlzLnJvdGF0aW9uJiYoZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmFzQXJyYXkoKSksZS5zY2FsaW5nPXRoaXMuc2NhbGluZy5hc0FycmF5KCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg/ZS5waXZvdE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpOmUubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCghMSksZS5pc1Zpc2libGU9dGhpcy5pc1Zpc2libGUsZS5pbmZpbml0ZURpc3RhbmNlPXRoaXMuaW5maW5pdGVEaXN0YW5jZSxlLnBpY2thYmxlPXRoaXMuaXNQaWNrYWJsZSxlLnJlY2VpdmVTaGFkb3dzPXRoaXMucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxlLnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5LGUuY2hlY2tDb2xsaXNpb25zPXRoaXMuY2hlY2tDb2xsaXNpb25zLGUuaXNCbG9ja2VyPXRoaXMuaXNCbG9ja2VyLGUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSxlLmlzVW5JbmRleGVkPXRoaXMuaXNVbkluZGV4ZWQ7Y29uc3QgdD10aGlzLl9nZW9tZXRyeTtpZih0JiZ0aGlzLnN1Yk1lc2hlcyl7ZS5nZW9tZXRyeVVuaXF1ZUlkPXQudW5pcXVlSWQsZS5nZW9tZXRyeUlkPXQuaWQsZS5zdWJNZXNoZXM9W107Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ViTWVzaGVzW2ldO2Uuc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6cy5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6cy52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6cy52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6cy5pbmRleFN0YXJ0LGluZGV4Q291bnQ6cy5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsZS5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJihlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYoZS5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsZS5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KHEuTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3QgaT10aGlzLmdldFBoeXNpY3NJbXBvc3RvcigpO2kmJihlLnBoeXNpY3NNYXNzPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NGcmljdGlvbj1pLmdldFBhcmFtKCJmcmljdGlvbiIpLGUucGh5c2ljc1Jlc3RpdHV0aW9uPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NJbXBvc3Rvcj1pLnR5cGUpfXRoaXMubWV0YWRhdGEmJihlLm1ldGFkYXRhPXRoaXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmluc3RhbmNlc1tpXTtpZihzLmRvTm90U2VyaWFsaXplKWNvbnRpbnVlO2NvbnN0IHI9e25hbWU6cy5uYW1lLGlkOnMuaWQsaXNFbmFibGVkOnMuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6cy5pc1Zpc2libGUsaXNQaWNrYWJsZTpzLmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnMuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnMucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6cy5zY2FsaW5nLmFzQXJyYXkoKX07aWYocy5wYXJlbnQmJnMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChyKSxzLnJvdGF0aW9uUXVhdGVybmlvbj9yLnJvdGF0aW9uUXVhdGVybmlvbj1zLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6cy5yb3RhdGlvbiYmKHIucm90YXRpb249cy5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KHEuTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3Qgbj1zLmdldFBoeXNpY3NJbXBvc3RvcigpO24mJihyLnBoeXNpY3NNYXNzPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NGcmljdGlvbj1uLmdldFBhcmFtKCJmcmljdGlvbiIpLHIucGh5c2ljc1Jlc3RpdHV0aW9uPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NJbXBvc3Rvcj1uLnR5cGUpfXMubWV0YWRhdGEmJihyLm1ldGFkYXRhPXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzLnB1c2gociksYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMocyxyKSxyLnJhbmdlcz1zLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpfWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYoZS50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXtjb25zdCBpPXtkYXRhOnt9LHNpemVzOnt9LHN0cmlkZXM6e319O2Zvcihjb25zdCBzIGluIHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhKWkuZGF0YVtzXT1BcnJheS5mcm9tKHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhW3NdKSxpLnNpemVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1tzXSxpLnN0cmlkZXNbc109dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbc107ZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U9aX1yZXR1cm4gYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLGUuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsZS5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLGUub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLGUub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSxlLnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LGUuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJihlLmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKSxlfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuO3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyO2lmKGUmJmUudmVydGV4Q291bnQpe2lmKGUudmVydGV4Q291bnQhPT10aGlzLmdldFRvdGFsVmVydGljZXMoKSl7Ty5FcnJvcigiTWVzaCBpcyBpbmNvbXBhdGlibGUgd2l0aCBtb3JwaCB0YXJnZXRzLiBUYXJnZXRzIGFuZCBtZXNoIG11c3QgYWxsIGhhdmUgdGhlIHNhbWUgdmVydGljZXMgY291bnQuIiksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbDtyZXR1cm59aWYoZS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2ZvcihsZXQgdD0wO3Q8ZS5udW1JbmZsdWVuY2Vyczt0Kyspe2NvbnN0IGk9ZS5nZXRBY3RpdmVUYXJnZXQodCkscz1pLmdldFBvc2l0aW9ucygpO2lmKCFzKXtPLkVycm9yKCJJbnZhbGlkIG1vcnBoIHRhcmdldC4gVGFyZ2V0IG11c3QgaGF2ZSBwb3NpdGlvbnMuIik7cmV0dXJufXRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kK3QscywhMSwzKTtjb25zdCByPWkuZ2V0Tm9ybWFscygpO3ImJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0LHIsITEsMyk7Y29uc3Qgbj1pLmdldFRhbmdlbnRzKCk7biYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCt0LG4sITEsMyk7Y29uc3QgYT1pLmdldFVWcygpO2EmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKyJfIit0LGEsITEsMil9fWVsc2V7bGV0IHQ9MDtmb3IoO3RoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kK3QpOyl0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlVWS2luZCsiXyIrdCksdCsrfX1zdGF0aWMgUGFyc2UoZSx0LGkpe2xldCBzO2lmKGUudHlwZSYmZS50eXBlPT09IkxpbmVzTWVzaCI/cz1XLl9MaW5lc01lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHcm91bmRNZXNoIj9zPVcuX0dyb3VuZE1lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHb2xkYmVyZ01lc2giP3M9Vy5fR29sZGJlcmdNZXNoUGFyc2VyKGUsdCk6cz1uZXcgVyhlLm5hbWUsdCkscy5pZD1lLmlkLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLHBlJiZwZS5BZGRUYWdzVG8ocyxlLnRhZ3MpLHMucG9zaXRpb249cC5Gcm9tQXJyYXkoZS5wb3NpdGlvbiksZS5tZXRhZGF0YSE9PXZvaWQgMCYmKHMubWV0YWRhdGE9ZS5tZXRhZGF0YSksZS5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb249Wi5Gcm9tQXJyYXkoZS5yb3RhdGlvblF1YXRlcm5pb24pOmUucm90YXRpb24mJihzLnJvdGF0aW9uPXAuRnJvbUFycmF5KGUucm90YXRpb24pKSxzLnNjYWxpbmc9cC5Gcm9tQXJyYXkoZS5zY2FsaW5nKSxlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KHguRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KHguRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuaXNWaXNpYmxlPWUuaXNWaXNpYmxlLHMuaW5maW5pdGVEaXN0YW5jZT1lLmluZmluaXRlRGlzdGFuY2Uscy5zaG93Qm91bmRpbmdCb3g9ZS5zaG93Qm91bmRpbmdCb3gscy5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ZS5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gsZS5hcHBseUZvZyE9PXZvaWQgMCYmKHMuYXBwbHlGb2c9ZS5hcHBseUZvZyksZS5waWNrYWJsZSE9PXZvaWQgMCYmKHMuaXNQaWNrYWJsZT1lLnBpY2thYmxlKSxlLmFscGhhSW5kZXghPT12b2lkIDAmJihzLmFscGhhSW5kZXg9ZS5hbHBoYUluZGV4KSxzLnJlY2VpdmVTaGFkb3dzPWUucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlIT09dm9pZCAwJiYocy5iaWxsYm9hcmRNb2RlPWUuYmlsbGJvYXJkTW9kZSksZS52aXNpYmlsaXR5IT09dm9pZCAwJiYocy52aXNpYmlsaXR5PWUudmlzaWJpbGl0eSkscy5jaGVja0NvbGxpc2lvbnM9ZS5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixlLmlzQmxvY2tlciE9PXZvaWQgMCYmKHMuaXNCbG9ja2VyPWUuaXNCbG9ja2VyKSxzLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPWUudXNlRmxhdFNoYWRpbmcsZS5mcmVlemVXb3JsZE1hdHJpeCYmKHMuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PWUuZnJlZXplV29ybGRNYXRyaXgpLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxlLmFjdGlvbnMhPT12b2lkIDAmJihzLl93YWl0aW5nRGF0YS5hY3Rpb25zPWUuYWN0aW9ucyksZS5vdmVybGF5QWxwaGEhPT12b2lkIDAmJihzLm92ZXJsYXlBbHBoYT1lLm92ZXJsYXlBbHBoYSksZS5vdmVybGF5Q29sb3IhPT12b2lkIDAmJihzLm92ZXJsYXlDb2xvcj1yZS5Gcm9tQXJyYXkoZS5vdmVybGF5Q29sb3IpKSxlLnJlbmRlck92ZXJsYXkhPT12b2lkIDAmJihzLnJlbmRlck92ZXJsYXk9ZS5yZW5kZXJPdmVybGF5KSxzLmlzVW5JbmRleGVkPSEhZS5pc1VuSW5kZXhlZCxzLmhhc1ZlcnRleEFscGhhPWUuaGFzVmVydGV4QWxwaGEsZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuYnVpbGRCb3VuZGluZ0luZm8ocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksZS5fYmluYXJ5SW5mbyYmKHMuX2JpbmFyeUluZm89ZS5fYmluYXJ5SW5mbykscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWF0Ll9JbXBvcnRHZW9tZXRyeSxPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCYmcy5fY2hlY2tEZWxheVN0YXRlKCkpOmF0Ll9JbXBvcnRHZW9tZXRyeShlLHMpLGUubWF0ZXJpYWxVbmlxdWVJZD9zLl93YWl0aW5nTWF0ZXJpYWxJZD1lLm1hdGVyaWFsVW5pcXVlSWQ6ZS5tYXRlcmlhbElkJiYocy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbElkKSxlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPi0xJiYocy5tb3JwaFRhcmdldE1hbmFnZXI9dC5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUubW9ycGhUYXJnZXRNYW5hZ2VySWQpKSxlLnNrZWxldG9uSWQhPT12b2lkIDAmJmUuc2tlbGV0b25JZCE9PW51bGwmJihzLnNrZWxldG9uPXQuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpLGUubnVtQm9uZUluZmx1ZW5jZXJzJiYocy5udW1Cb25lSW5mbHVlbmNlcnM9ZS5udW1Cb25lSW5mbHVlbmNlcnMpKSxlLmFuaW1hdGlvbnMpe2ZvcihsZXQgcj0wO3I8ZS5hbmltYXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5hbmltYXRpb25zW3JdLGE9cmkoIkJBQllMT04uQW5pbWF0aW9uIik7YSYmcy5hbmltYXRpb25zLnB1c2goYS5QYXJzZShuKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocyxlLHQpfWlmKGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmxheWVyTWFzayYmIWlzTmFOKGUubGF5ZXJNYXNrKT9zLmxheWVyTWFzaz1NYXRoLmFicyhwYXJzZUludChlLmxheWVyTWFzaykpOnMubGF5ZXJNYXNrPTI2ODQzNTQ1NSxlLnBoeXNpY3NJbXBvc3RvciYmVy5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHQscyxlKSxlLmxvZE1lc2hJZHMmJihzLl93YWl0aW5nRGF0YS5sb2RzPXtpZHM6ZS5sb2RNZXNoSWRzLGRpc3RhbmNlczplLmxvZERpc3RhbmNlcz9lLmxvZERpc3RhbmNlczpudWxsLGNvdmVyYWdlczplLmxvZENvdmVyYWdlcz9lLmxvZENvdmVyYWdlczpudWxsfSksZS5pbnN0YW5jZXMpZm9yKGxldCByPTA7cjxlLmluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBuPWUuaW5zdGFuY2VzW3JdLGE9cy5jcmVhdGVJbnN0YW5jZShuLm5hbWUpO2lmKG4uaWQmJihhLmlkPW4uaWQpLHBlJiYobi50YWdzP3BlLkFkZFRhZ3NUbyhhLG4udGFncyk6cGUuQWRkVGFnc1RvKGEsZS50YWdzKSksYS5wb3NpdGlvbj1wLkZyb21BcnJheShuLnBvc2l0aW9uKSxuLm1ldGFkYXRhIT09dm9pZCAwJiYoYS5tZXRhZGF0YT1uLm1ldGFkYXRhKSxuLnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPW4ucGFyZW50SWQpLG4ucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW4ucGFyZW50SW5zdGFuY2VJbmRleCksbi5pc0VuYWJsZWQhPT12b2lkIDAmJm4uaXNFbmFibGVkIT09bnVsbCYmYS5zZXRFbmFibGVkKG4uaXNFbmFibGVkKSxuLmlzVmlzaWJsZSE9PXZvaWQgMCYmbi5pc1Zpc2libGUhPT1udWxsJiYoYS5pc1Zpc2libGU9bi5pc1Zpc2libGUpLG4uaXNQaWNrYWJsZSE9PXZvaWQgMCYmbi5pc1BpY2thYmxlIT09bnVsbCYmKGEuaXNQaWNrYWJsZT1uLmlzUGlja2FibGUpLG4ucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPVouRnJvbUFycmF5KG4ucm90YXRpb25RdWF0ZXJuaW9uKTpuLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1wLkZyb21BcnJheShuLnJvdGF0aW9uKSksYS5zY2FsaW5nPXAuRnJvbUFycmF5KG4uc2NhbGluZyksbi5jaGVja0NvbGxpc2lvbnMhPW51bGwmJm4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiYoYS5jaGVja0NvbGxpc2lvbnM9bi5jaGVja0NvbGxpc2lvbnMpLG4ucGlja2FibGUhPW51bGwmJm4ucGlja2FibGUhPW51bGwmJihhLmlzUGlja2FibGU9bi5waWNrYWJsZSksbi5zaG93Qm91bmRpbmdCb3ghPW51bGwmJm4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiYoYS5zaG93Qm91bmRpbmdCb3g9bi5zaG93Qm91bmRpbmdCb3gpLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PW4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94KSxuLmFscGhhSW5kZXghPW51bGwmJm4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoYS5hbHBoYUluZGV4PW4uYWxwaGFJbmRleCksbi5waHlzaWNzSW1wb3N0b3ImJlcuX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LGEsbiksbi5hbmltYXRpb25zKXtmb3IobGV0IG89MDtvPG4uYW5pbWF0aW9ucy5sZW5ndGg7bysrKXtjb25zdCBoPW4uYW5pbWF0aW9uc1tvXSxsPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2wmJmEuYW5pbWF0aW9ucy5wdXNoKGwuUGFyc2UoaCkpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKGEsbix0KSxuLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKGEsbi5hdXRvQW5pbWF0ZUZyb20sbi5hdXRvQW5pbWF0ZVRvLG4uYXV0b0FuaW1hdGVMb29wLG4uYXV0b0FuaW1hdGVTcGVlZHx8MSl9fWlmKGUudGhpbkluc3RhbmNlcyl7Y29uc3Qgcj1lLnRoaW5JbnN0YW5jZXM7aWYocy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nPSEhci5lbmFibGVQaWNraW5nLHIubWF0cml4RGF0YT8ocy50aGluSW5zdGFuY2VTZXRCdWZmZXIoIm1hdHJpeCIsbmV3IEZsb2F0MzJBcnJheShyLm1hdHJpeERhdGEpLDE2LCExKSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudD1yLmluc3RhbmNlc0NvdW50KTpzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPXIubWF0cml4QnVmZmVyU2l6ZSxlLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZSl7Y29uc3Qgbj1lLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZTtmb3IoY29uc3QgYSBpbiBuLmRhdGEpcy50aGluSW5zdGFuY2VTZXRCdWZmZXIoYSxuZXcgRmxvYXQzMkFycmF5KG4uZGF0YVthXSksbi5zdHJpZGVzW2FdLCExKSxzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbYV09bi5zaXplc1thXX19cmV0dXJuIHN9c2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnM7ZS5fc291cmNlUG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkodCksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VQb3NpdGlvbnN9c2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighZS5fc291cmNlTm9ybWFscyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2lmKCF0KXJldHVybiBlLl9zb3VyY2VOb3JtYWxzO2UuX3NvdXJjZU5vcm1hbHM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuTm9ybWFsS2luZCl8fHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0LCEwKX1yZXR1cm4gZS5fc291cmNlTm9ybWFsc31hcHBseVNrZWxldG9uKGUpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPT10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpKXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCksaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fc291cmNlUG9zaXRpb25zKXtjb25zdCB2PXRoaXMuc3ViTWVzaGVzLnNsaWNlKCk7dGhpcy5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpLHRoaXMuc3ViTWVzaGVzPXZ9dCYmIWkuX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nKCk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFzKXJldHVybiB0aGlzO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChzPW5ldyBGbG9hdDMyQXJyYXkocykpO2xldCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYodCl7aWYoIXIpcmV0dXJuIHRoaXM7ciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHI9bmV3IEZsb2F0MzJBcnJheShyKSl9Y29uc3Qgbj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LGg9bz90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxsPW8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsdT1lLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLGQ9cC5aZXJvKCksZj1uZXcgeCxfPW5ldyB4O2xldCBFPTAsbTtmb3IobGV0IHY9MDt2PHMubGVuZ3RoO3YrPTMsRSs9NCl7bGV0IFM7Zm9yKG09MDttPDQ7bSsrKVM9YVtFK21dLFM+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihuW0UrbV0qMTYpLFMsXyksZi5hZGRUb1NlbGYoXykpO2lmKG8pZm9yKG09MDttPDQ7bSsrKVM9bFtFK21dLFM+MCYmKHguRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKHUsTWF0aC5mbG9vcihoW0UrbV0qMTYpLFMsXyksZi5hZGRUb1NlbGYoXykpO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlUG9zaXRpb25zW3ZdLGkuX3NvdXJjZVBvc2l0aW9uc1t2KzFdLGkuX3NvdXJjZVBvc2l0aW9uc1t2KzJdLGYsZCksZC50b0FycmF5KHMsdiksdCYmKHAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGkuX3NvdXJjZU5vcm1hbHNbdl0saS5fc291cmNlTm9ybWFsc1t2KzFdLGkuX3NvdXJjZU5vcm1hbHNbdisyXSxmLGQpLGQudG9BcnJheShyLHYpKSxmLnJlc2V0KCl9cmV0dXJuIHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHMpLHQmJnRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxyKSx0aGlzfXN0YXRpYyBNaW5NYXgoZSl7bGV0IHQ9bnVsbCxpPW51bGw7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihzKXtjb25zdCBuPXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7IXR8fCFpPyh0PW4ubWluaW11bVdvcmxkLGk9bi5tYXhpbXVtV29ybGQpOih0Lm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksaS5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpKX0pLCF0fHwhaT97bWluOnAuWmVybygpLG1heDpwLlplcm8oKX06e21pbjp0LG1heDppfX1zdGF0aWMgQ2VudGVyKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEFycmF5P1cuTWluTWF4KGUpOmU7cmV0dXJuIHAuQ2VudGVyKHQubWluLHQubWF4KX1zdGF0aWMgTWVyZ2VNZXNoZXMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBQcyhXLl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMSkpfXN0YXRpYyBNZXJnZU1lc2hlc0FzeW5jKGUsdD0hMCxpLHMscixuKXtyZXR1cm4gT24oVy5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0LGkscyxyLG4sITApLHduKCkpfXN0YXRpYypfTWVyZ2VNZXNoZXNDb3JvdXRpbmUoZSx0PSEwLGkscyxyLG4sYSl7aWYoZT1lLmZpbHRlcihCb29sZWFuKSxlLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IG87aWYoIWkpe2xldCBNPTA7Zm9yKG89MDtvPGUubGVuZ3RoO28rKylpZihNKz1lW29dLmdldFRvdGFsVmVydGljZXMoKSxNPj02NTUzNilyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIGJlY2F1c2UgcmVzdWx0aW5nIG1lc2ggd2lsbCBoYXZlIG1vcmUgdGhhbiA2NTUzNiB2ZXJ0aWNlcy4gUGxlYXNlIHVzZSBhbGxvdzMyQml0c0luZGljZXMgPSB0cnVlIHRvIHVzZSAzMiBiaXRzIGluZGljZXMiKSxudWxsfW4mJihyPSExKTtjb25zdCBoPW5ldyBBcnJheSxsPW5ldyBBcnJheSx1PW5ldyBBcnJheSxkPWVbMF0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbjtmb3Iobz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBNPWVbb107aWYoTS5pc0FuSW5zdGFuY2UpcmV0dXJuIE8uV2FybigiQ2Fubm90IG1lcmdlIGluc3RhbmNlIG1lc2hlcy4iKSxudWxsO2lmKGQhPT1NLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pcmV0dXJuIE8uV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyB3aXRoIGRpZmZlcmVudCBvdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIHZhbHVlcy4iKSxudWxsO2lmKHImJnUucHVzaChNLmdldFRvdGFsSW5kaWNlcygpKSxuKWlmKE0ubWF0ZXJpYWwpe2NvbnN0IEw9TS5tYXRlcmlhbDtpZihMIGluc3RhbmNlb2YgU2kpe2ZvcihsZXQgaz0wO2s8TC5zdWJNYXRlcmlhbHMubGVuZ3RoO2srKyloLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNba10pPDAmJmgucHVzaChMLnN1Yk1hdGVyaWFsc1trXSk7Zm9yKGxldCBrPTA7azxNLnN1Yk1lc2hlcy5sZW5ndGg7aysrKWwucHVzaChoLmluZGV4T2YoTC5zdWJNYXRlcmlhbHNbTS5zdWJNZXNoZXNba10ubWF0ZXJpYWxJbmRleF0pKSx1LnB1c2goTS5zdWJNZXNoZXNba10uaW5kZXhDb3VudCl9ZWxzZXtoLmluZGV4T2YoTCk8MCYmaC5wdXNoKEwpO2ZvcihsZXQgaz0wO2s8TS5zdWJNZXNoZXMubGVuZ3RoO2srKylsLnB1c2goaC5pbmRleE9mKEwpKSx1LnB1c2goTS5zdWJNZXNoZXNba10uaW5kZXhDb3VudCl9fWVsc2UgZm9yKGxldCBMPTA7TDxNLnN1Yk1lc2hlcy5sZW5ndGg7TCsrKWwucHVzaCgwKSx1LnB1c2goTS5zdWJNZXNoZXNbTF0uaW5kZXhDb3VudCl9Y29uc3QgZj1lWzBdLF89TT0+e2NvbnN0IEw9TS5jb21wdXRlV29ybGRNYXRyaXgoITApO3JldHVybltlZS5FeHRyYWN0RnJvbU1lc2goTSwhMSwhMSksTF19LFtFLG1dPV8oZik7YSYmKHlpZWxkKTtjb25zdCB2PW5ldyBBcnJheShlLmxlbmd0aC0xKTtmb3IobGV0IE09MTtNPGUubGVuZ3RoO00rKyl2W00tMV09XyhlW01dKSxhJiYoeWllbGQpO2NvbnN0IFM9RS5fbWVyZ2VDb3JvdXRpbmUobSx2LGksYSwhdCk7bGV0IHk9Uy5uZXh0KCk7Zm9yKDsheS5kb25lOylhJiYoeWllbGQpLHk9Uy5uZXh0KCk7Y29uc3QgQT15LnZhbHVlO3N8fChzPW5ldyBXKGYubmFtZSsiX21lcmdlZCIsZi5nZXRTY2VuZSgpKSk7Y29uc3QgQz1BLl9hcHBseVRvQ29yb3V0aW5lKHMsdm9pZCAwLGEpO2xldCBiPUMubmV4dCgpO2Zvcig7IWIuZG9uZTspYSYmKHlpZWxkKSxiPUMubmV4dCgpO2lmKHMuY2hlY2tDb2xsaXNpb25zPWYuY2hlY2tDb2xsaXNpb25zLHMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1mLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdClmb3Iobz0wO288ZS5sZW5ndGg7bysrKWVbb10uZGlzcG9zZSgpO2lmKHJ8fG4pe3MucmVsZWFzZVN1Yk1lc2hlcygpLG89MDtsZXQgTT0wO2Zvcig7bzx1Lmxlbmd0aDspdnQuQ3JlYXRlRnJvbUluZGljZXMoMCxNLHVbb10scyx2b2lkIDAsITEpLE0rPXVbb10sbysrO2Zvcihjb25zdCBMIG9mIHMuc3ViTWVzaGVzKUwucmVmcmVzaEJvdW5kaW5nSW5mbygpO3MuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pZihuKXtjb25zdCBNPW5ldyBTaShmLm5hbWUrIl9tZXJnZWQiLGYuZ2V0U2NlbmUoKSk7TS5zdWJNYXRlcmlhbHM9aDtmb3IobGV0IEw9MDtMPHMuc3ViTWVzaGVzLmxlbmd0aDtMKyspcy5zdWJNZXNoZXNbTF0ubWF0ZXJpYWxJbmRleD1sW0xdO3MubWF0ZXJpYWw9TX1lbHNlIHMubWF0ZXJpYWw9Zi5tYXRlcmlhbDtyZXR1cm4gc31hZGRJbnN0YW5jZShlKXtlLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9dGhpcy5pbnN0YW5jZXMubGVuZ3RoLHRoaXMuaW5zdGFuY2VzLnB1c2goZSl9cmVtb3ZlSW5zdGFuY2UoZSl7Y29uc3QgdD1lLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk7aWYodCE9LTEpe2lmKHQhPT10aGlzLmluc3RhbmNlcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLmluc3RhbmNlc1t0aGlzLmluc3RhbmNlcy5sZW5ndGgtMV07dGhpcy5pbnN0YW5jZXNbdF09aSxpLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9dH1lLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5pbnN0YW5jZXMucG9wKCl9fV9zaG91bGRDb252ZXJ0UkhTKCl7cmV0dXJuIHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PVAuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbn19Vy5GUk9OVFNJREU9ZWUuRlJPTlRTSURFLFcuQkFDS1NJREU9ZWUuQkFDS1NJREUsVy5ET1VCTEVTSURFPWVlLkRPVUJMRVNJREUsVy5ERUZBVUxUU0lERT1lZS5ERUZBVUxUU0lERSxXLk5PX0NBUD0wLFcuQ0FQX1NUQVJUPTEsVy5DQVBfRU5EPTIsVy5DQVBfQUxMPTMsVy5OT19GTElQPTAsVy5GTElQX1RJTEU9MSxXLlJPVEFURV9USUxFPTIsVy5GTElQX1JPVz0zLFcuUk9UQVRFX1JPVz00LFcuRkxJUF9OX1JPVEFURV9USUxFPTUsVy5GTElQX05fUk9UQVRFX1JPVz02LFcuQ0VOVEVSPTAsVy5MRUZUPTEsVy5SSUdIVD0yLFcuVE9QPTMsVy5CT1RUT009NCxXLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVD0hMSxXLl9Hcm91bmRNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgUSgiR3JvdW5kTWVzaCIpfSxXLl9Hb2xkYmVyZ01lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyBRKCJHb2xkYmVyZ01lc2giKX0sVy5fTGluZXNNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgUSgiTGluZXNNZXNoIil9LGl0KCJCQUJZTE9OLk1lc2giLFcpLFcucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5zZXRNYXRlcmlhbEJ5SWQoYyl9LFcuQ3JlYXRlRGlzYz1XLkNyZWF0ZURpc2N8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlQm94PVcuQ3JlYXRlQm94fHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVNwaGVyZT1XLkNyZWF0ZVNwaGVyZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVDeWxpbmRlcj1XLkNyZWF0ZUN5bGluZGVyfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVRvcnVzS25vdD1XLkNyZWF0ZVRvcnVzS25vdHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVUb3J1cz1XLkNyZWF0ZVRvcnVzfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVBsYW5lPVcuQ3JlYXRlUGxhbmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlR3JvdW5kPVcuQ3JlYXRlR3JvdW5kfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVRpbGVkR3JvdW5kPVcuQ3JlYXRlVGlsZWRHcm91bmR8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1XLkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlVHViZT1XLkNyZWF0ZVR1YmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlUG9seWhlZHJvbj1XLkNyZWF0ZVBvbHloZWRyb258fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlSWNvU3BoZXJlPVcuQ3JlYXRlSWNvU3BoZXJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZURlY2FsPVcuQ3JlYXRlRGVjYWx8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlQ2Fwc3VsZT1XLkNyZWF0ZUNhcHN1bGV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuRXh0ZW5kVG9Hb2xkYmVyZz1XLkV4dGVuZFRvR29sZGJlcmd8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pO2NsYXNzIHp0e2NvbnN0cnVjdG9yKGU9MCl7dGhpcy5wcmlvcml0eT1lfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIiJ9YXBwbHkoZSx0KXtyZXR1cm4hMH19Y2xhc3MgTHMgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlPTAsdD0xMDI0LGk9LjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TaXplPXQsdGhpcy5zdGVwPWl9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfWFwcGx5KGUsdCl7bGV0IGk9ITA7Zm9yKGxldCBzPTA7czxlLnRleHR1cmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS50ZXh0dXJlc1tzXTtpZighci5jYW5SZXNjYWxlfHxyLmdldENvbnRleHQpY29udGludWU7Y29uc3Qgbj1yLmdldFNpemUoKTtNYXRoLm1heChuLndpZHRoLG4uaGVpZ2h0KT50aGlzLm1heGltdW1TaXplJiYoci5zY2FsZSh0aGlzLnN0ZXApLGk9ITEpfXJldHVybiBpfX1jbGFzcyBQciBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGU9MCx0PTIsaT0uMjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TY2FsZT10LHRoaXMuc3RlcD1pLHRoaXMuX2N1cnJlbnRTY2FsZT0tMSx0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9MX1nZXREZXNjcmlwdGlvbigpe3JldHVybiJTZXR0aW5nIGhhcmR3YXJlIHNjYWxpbmcgbGV2ZWwgdG8gIit0aGlzLl9jdXJyZW50U2NhbGV9YXBwbHkoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9ZS5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCxlLmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9fWNsYXNzIE5zIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBzaGFkb3dzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIEJzIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBVcyBleHRlbmRzIHp0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgbGVucyBmbGFyZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLmxlbnNGbGFyZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgSG4gZXh0ZW5kcyB6dHtnZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm9uR2V0RGVzY3JpcHRpb24/dGhpcy5vbkdldERlc2NyaXB0aW9uKCk6IlJ1bm5pbmcgdXNlciBkZWZpbmVkIGNhbGxiYWNrIn1hcHBseShlLHQpe3JldHVybiB0aGlzLm9uQXBwbHk/dGhpcy5vbkFwcGx5KGUsdCk6ITB9fWNsYXNzIGtzIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnBhcnRpY2xlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBEciBleHRlbmRzIHp0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcmVuZGVyIHRhcmdldHMgb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnJlbmRlclRhcmdldHNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgJHQgZXh0ZW5kcyB6dHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fY2FuQmVNZXJnZWQ9ZT0+e2lmKCEoZSBpbnN0YW5jZW9mIFcpKXJldHVybiExO2NvbnN0IHQ9ZTtyZXR1cm4hKHQuaXNEaXNwb3NlZCgpfHwhdC5pc1Zpc2libGV8fCF0LmlzRW5hYmxlZCgpfHx0Lmluc3RhbmNlcy5sZW5ndGg+MHx8dC5za2VsZXRvbnx8dC5oYXNMT0RMZXZlbHMpfX1zdGF0aWMgZ2V0IFVwZGF0ZVNlbGVjdGlvblRyZWUoKXtyZXR1cm4gJHQuX1VwZGF0ZVNlbGVjdGlvblRyZWV9c3RhdGljIHNldCBVcGRhdGVTZWxlY3Rpb25UcmVlKGUpeyR0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPWV9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iTWVyZ2luZyBzaW1pbGFyIG1lc2hlcyB0b2dldGhlciJ9YXBwbHkoZSx0LGkpe2NvbnN0IHM9ZS5tZXNoZXMuc2xpY2UoMCk7bGV0IHI9cy5sZW5ndGg7Zm9yKGxldCBhPTA7YTxyO2ErKyl7Y29uc3Qgbz1uZXcgQXJyYXksaD1zW2FdO2lmKCEhdGhpcy5fY2FuQmVNZXJnZWQoaCkpe28ucHVzaChoKTtmb3IobGV0IGw9YSsxO2w8cjtsKyspe2NvbnN0IHU9c1tsXTshdGhpcy5fY2FuQmVNZXJnZWQodSl8fHUubWF0ZXJpYWw9PT1oLm1hdGVyaWFsJiZ1LmNoZWNrQ29sbGlzaW9ucz09PWguY2hlY2tDb2xsaXNpb25zJiYoby5wdXNoKHUpLHItLSxzLnNwbGljZShsLDEpLGwtLSl9by5sZW5ndGg8Mnx8Vy5NZXJnZU1lc2hlcyhvLHZvaWQgMCwhMCl9fWNvbnN0IG49ZTtyZXR1cm4gbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSYmKGkhPW51bGw/aSYmbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpOiR0LlVwZGF0ZVNlbGVjdGlvblRyZWUmJm4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKSksITB9fSR0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlPSExO2NsYXNzIGdpe2NvbnN0cnVjdG9yKGU9NjAsdD0yZTMpe3RoaXMudGFyZ2V0RnJhbWVSYXRlPWUsdGhpcy50cmFja2VyRHVyYXRpb249dCx0aGlzLm9wdGltaXphdGlvbnM9bmV3IEFycmF5fWFkZE9wdGltaXphdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpbWl6YXRpb25zLnB1c2goZSksdGhpc31hZGRDdXN0b21PcHRpbWl6YXRpb24oZSx0LGk9MCl7Y29uc3Qgcz1uZXcgSG4oaSk7cmV0dXJuIHMub25BcHBseT1lLHMub25HZXREZXNjcmlwdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKHMpLHRoaXN9c3RhdGljIExvd0RlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBnaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgJHQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBOcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFVzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IEJzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcga3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTHMoaSwxMDI0KSksdH1zdGF0aWMgTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgZ2koZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3ICR0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgTnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBVcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBCcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGtzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IExzKGksNTEyKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBEcihpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBQcihpLDIpKSx0fXN0YXRpYyBIaWdoRGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IGdpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyAkdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IE5zKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgVXMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgQnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBrcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBMcyhpLDI1NikpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgRHIoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgUHIoaSw0KSksdH19Y2xhc3MgVnN7Y29uc3RydWN0b3IoZSx0LGk9ITAscz0hMSl7aWYodGhpcy5faXNSdW5uaW5nPSExLHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTAsdGhpcy5fdGFyZ2V0RnJhbWVSYXRlPTYwLHRoaXMuX3RyYWNrZXJEdXJhdGlvbj0yZTMsdGhpcy5fY3VycmVudEZyYW1lUmF0ZT0wLHRoaXMuX2ltcHJvdmVtZW50TW9kZT0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZT1uZXcgRix0P3RoaXMuX29wdGlvbnM9dDp0aGlzLl9vcHRpb25zPW5ldyBnaSx0aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSYmKHRoaXMuX3RhcmdldEZyYW1lUmF0ZT10aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSksdGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24mJih0aGlzLl90cmFja2VyRHVyYXRpb249dGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24pLGkpe2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zKW4ucHJpb3JpdHk9cisrfXRoaXMuX2ltcHJvdmVtZW50TW9kZT1zLHRoaXMuX3NjZW5lPWV8fGZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9dGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuZGlzcG9zZSgpfSl9Z2V0IGlzSW5JbXByb3ZlbWVudE1vZGUoKXtyZXR1cm4gdGhpcy5faW1wcm92ZW1lbnRNb2RlfXNldCBpc0luSW1wcm92ZW1lbnRNb2RlKGUpe3RoaXMuX2ltcHJvdmVtZW50TW9kZT1lfWdldCBjdXJyZW50UHJpb3JpdHlMZXZlbCgpe3JldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbH1nZXQgY3VycmVudEZyYW1lUmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVSYXRlfWdldCB0YXJnZXRGcmFtZVJhdGUoKXtyZXR1cm4gdGhpcy5fdGFyZ2V0RnJhbWVSYXRlfXNldCB0YXJnZXRGcmFtZVJhdGUoZSl7dGhpcy5fdGFyZ2V0RnJhbWVSYXRlPWV9Z2V0IHRyYWNrZXJEdXJhdGlvbigpe3JldHVybiB0aGlzLl90cmFja2VyRHVyYXRpb259c2V0IHRyYWNrZXJEdXJhdGlvbihlKXt0aGlzLl90cmFja2VyRHVyYXRpb249ZX1nZXQgb3B0aW1pemF0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnN9c3RvcCgpe3RoaXMuX2lzUnVubmluZz0hMX1yZXNldCgpe3RoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTB9c3RhcnQoKXt0aGlzLl9pc1J1bm5pbmd8fCh0aGlzLl9pc1J1bm5pbmc9ITAsdGhpcy5fc2NlbmUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSkpfV9jaGVja0N1cnJlbnRTdGF0ZSgpe2lmKCF0aGlzLl9pc1J1bm5pbmcpcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2NlbmUsdD10aGlzLl9vcHRpb25zO2lmKHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9TWF0aC5yb3VuZChlLmdldEVuZ2luZSgpLmdldEZwcygpKSx0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU8PXRoaXMuX3RhcmdldEZyYW1lUmF0ZXx8IXRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZT49dGhpcy5fdGFyZ2V0RnJhbWVSYXRlKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59bGV0IGk9ITAscz0hMDtmb3IobGV0IHI9MDtyPHQub3B0aW1pemF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPXQub3B0aW1pemF0aW9uc1tyXTtuLnByaW9yaXR5PT09dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwmJihzPSExLGk9aSYmbi5hcHBseShlLHRoaXMpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikpfWlmKHMpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1pJiZ0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCsrLGUuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSx0aGlzLl90cmFja2VyRHVyYXRpb24pfSl9ZGlzcG9zZSgpe3RoaXMuc3RvcCgpLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcil9c3RhdGljIE9wdGltaXplQXN5bmMoZSx0LGkscyl7Y29uc3Qgcj1uZXcgVnMoZSx0fHxnaS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZCgpLCExKTtyZXR1cm4gaSYmci5vblN1Y2Nlc3NPYnNlcnZhYmxlLmFkZCgoKT0+e2koKX0pLHMmJnIub25GYWlsdXJlT2JzZXJ2YWJsZS5hZGQoKCk9PntzKCl9KSxyLnN0YXJ0KCkscn19ZnVuY3Rpb24gS24oYyl7Y29uc3R7ZW5naW5lOmV9PWMsdD1uZXcgbmUoZSk7dC5jbGVhckNvbG9yPW5ldyBnZSgwLDAsMCwwKSx0LnBvaW50ZXJNb3ZlUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJEb3duUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJVcFByZWRpY2F0ZT0oKT0+ITEsdC5jbGVhckNhY2hlZFZlcnRleERhdGEoKSx0LnRoZW1lRGF0YT17fTtjb25zdCBpPWdpLkxvd0RlZ3JhZGF0aW9uQWxsb3dlZCgpO3JldHVybiBpLm9wdGltaXphdGlvbnM9aS5vcHRpbWl6YXRpb25zLnNwbGljZSgxKSxpLnRhcmdldEZyYW1lUmF0ZT02MCxWcy5PcHRpbWl6ZUFzeW5jKHQsaSksdH1jbGFzcyBHZSBleHRlbmRzIGp7Y29uc3RydWN0b3IoZSx0LGkscz0hMCl7c3VwZXIoZSx0LGkscyksdGhpcy5fdG1wVXBWZWN0b3I9cC5aZXJvKCksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yPXAuWmVybygpLHRoaXMuY2FtZXJhRGlyZWN0aW9uPW5ldyBwKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uPW5ldyB2ZSgwLDApLHRoaXMuaWdub3JlUGFyZW50U2NhbGluZz0hMSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uPSExLHRoaXMuX3RtcFF1YXRlcm5pb249bmV3IFosdGhpcy5yb3RhdGlvbj1uZXcgcCgwLDAsMCksdGhpcy5zcGVlZD0yLHRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnQ9ITEsdGhpcy5pbnZlcnRSb3RhdGlvbj0hMSx0aGlzLmludmVyc2VSb3RhdGlvblNwZWVkPS4yLHRoaXMubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY3VycmVudFRhcmdldD1wLlplcm8oKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT0xLHRoaXMuX3ZpZXdNYXRyaXg9eC5aZXJvKCksdGhpcy5fY2FtTWF0cml4PXguWmVybygpLHRoaXMuX2NhbWVyYVRyYW5zZm9ybU1hdHJpeD14Llplcm8oKSx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeD14Llplcm8oKSx0aGlzLl9yZWZlcmVuY2VQb2ludD1uZXcgcCgwLDAsMSksdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludD1wLlplcm8oKSx0aGlzLl9kZWZhdWx0VXA9cC5VcCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj0wLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9MH1nZXRGcm9udFBvc2l0aW9uKGUpe3RoaXMuZ2V0V29ybGRNYXRyaXgoKTtjb25zdCB0PXRoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7cmV0dXJuIHQubm9ybWFsaXplKCksdC5zY2FsZUluUGxhY2UoZSksdGhpcy5nbG9iYWxQb3NpdGlvbi5hZGQodCl9X2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0Pyh0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9uJiZ0aGlzLmxvY2tlZFRhcmdldC5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9ufHx0aGlzLmxvY2tlZFRhcmdldCk6bnVsbH1zdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0b3JlZFBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLl9zdG9yZWRSb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksc3VwZXIuc3RvcmVTdGF0ZSgpfV9yZXN0b3JlU3RhdGVWYWx1ZXMoKXtyZXR1cm4gc3VwZXIuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLnBvc2l0aW9uPXRoaXMuX3N0b3JlZFBvc2l0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbj10aGlzLl9zdG9yZWRSb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuY2FtZXJhRGlyZWN0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCksITApOiExfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKTtjb25zdCB0PXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7dD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmNvcHlGcm9tKHQpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD10LmNsb25lKCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY2FjaGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9X2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpe2lmKCFzdXBlci5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3JldHVybih0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmVxdWFscyhlKTohZSkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5lcXVhbHModGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uKTp0aGlzLl9jYWNoZS5yb3RhdGlvbi5lcXVhbHModGhpcy5yb3RhdGlvbikpfV9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZCgpe2NvbnN0IGU9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5zcGVlZCpNYXRoLnNxcnQoZS5nZXREZWx0YVRpbWUoKS8oZS5nZXRGcHMoKSoxMDApKX1zZXRUYXJnZXQoZSl7dGhpcy51cFZlY3Rvci5ub3JtYWxpemUoKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT1lLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pLmxlbmd0aCgpLHRoaXMucG9zaXRpb24uej09PWUueiYmKHRoaXMucG9zaXRpb24ueis9eGUpLHRoaXMuX3JlZmVyZW5jZVBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSkseC5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sZSx0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtTWF0cml4KSx0aGlzLl9jYW1NYXRyaXguaW52ZXJ0KCksdGhpcy5yb3RhdGlvbi54PU1hdGguYXRhbih0aGlzLl9jYW1NYXRyaXgubVs2XS90aGlzLl9jYW1NYXRyaXgubVsxMF0pO2NvbnN0IHQ9ZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTt0Lng+PTA/dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4odC56L3QueCkrTWF0aC5QSS8yOnRoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHQuei90LngpLU1hdGguUEkvMix0aGlzLnJvdGF0aW9uLno9MCxpc05hTih0aGlzLnJvdGF0aW9uLngpJiYodGhpcy5yb3RhdGlvbi54PTApLGlzTmFOKHRoaXMucm90YXRpb24ueSkmJih0aGlzLnJvdGF0aW9uLnk9MCksaXNOYU4odGhpcy5yb3RhdGlvbi56KSYmKHRoaXMucm90YXRpb24uej0wKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1nZXQgdGFyZ2V0KCl7cmV0dXJuIHRoaXMuZ2V0VGFyZ2V0KCl9c2V0IHRhcmdldChlKXt0aGlzLnNldFRhcmdldChlKX1nZXRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldH1fZGVjaWRlSWZOZWVkc1RvTW92ZSgpe3JldHVybiBNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KT4wfV91cGRhdGVQb3NpdGlvbigpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLEQuTWF0cml4WzBdLEQuVmVjdG9yM1swXSksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKEQuVmVjdG9yM1swXSk7cmV0dXJufXRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbWVyYURpcmVjdGlvbil9X2NoZWNrSW5wdXRzKCl7Y29uc3QgZT10aGlzLmludmVydFJvdGF0aW9uPy10aGlzLmludmVyc2VSb3RhdGlvblNwZWVkOjEsdD10aGlzLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCksaT1NYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk+MDt0JiZ0aGlzLl91cGRhdGVQb3NpdGlvbigpLGkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb24ueCs9dGhpcy5jYW1lcmFSb3RhdGlvbi54KmUsdGhpcy5yb3RhdGlvbi55Kz10aGlzLmNhbWVyYVJvdGF0aW9uLnkqZSx0aGlzLm5vUm90YXRpb25Db25zdHJhaW50fHwodGhpcy5yb3RhdGlvbi54PjEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PTEuNTcwNzk2KSx0aGlzLnJvdGF0aW9uLng8LTEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PS0xLjU3MDc5NikpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKSYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSksdCYmKE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi55PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi56PTApLHRoaXMuY2FtZXJhRGlyZWN0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxpJiYoTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KTx0aGlzLnNwZWVkKnhlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk8dGhpcy5zcGVlZCp4ZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueT0wKSx0aGlzLmNhbWVyYVJvdGF0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxzdXBlci5fY2hlY2tJbnB1dHMoKX1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KTp4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpfV9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLnVwVmVjdG9yKSx0aGlzfV9nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0JiZ0aGlzLnNldFRhcmdldCh0aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpKSx0aGlzLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aIT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56Pyh0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24ueik6dGhpcy5fY2FjaGVkUm90YXRpb25aIT09dGhpcy5yb3RhdGlvbi56JiYodGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9dGhpcy5yb3RhdGlvbi56KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fcmVmZXJlbmNlUG9pbnQsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCksdGhpcy5wb3NpdGlvbi5hZGRUb1JlZih0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50LHRoaXMuX2N1cnJlbnRUYXJnZXQpLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9faS5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpOihaLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sdGhpcy5fdG1wUXVhdGVybmlvbiksX2kuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpKSksdGhpcy5fY29tcHV0ZVZpZXdNYXRyaXgodGhpcy5wb3NpdGlvbix0aGlzLl9jdXJyZW50VGFyZ2V0LHRoaXMudXBWZWN0b3IpLHRoaXMuX3ZpZXdNYXRyaXh9X2NvbXB1dGVWaWV3TWF0cml4KGUsdCxpKXtpZih0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmcpe2lmKHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUscyx0aGlzLl9nbG9iYWxQb3NpdGlvbikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHQscyx0aGlzLl90bXBUYXJnZXRWZWN0b3IpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSxzLHRoaXMuX3RtcFVwVmVjdG9yKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20oZSksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLmNvcHlGcm9tKHQpLHRoaXMuX3RtcFVwVmVjdG9yLmNvcHlGcm9tKGkpO3RoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT94Lkxvb2tBdFJIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpOnguTG9va0F0TEhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk7cmV0dXJufWlmKHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT94Lkxvb2tBdFJIVG9SZWYoZSx0LGksdGhpcy5fdmlld01hdHJpeCk6eC5Mb29rQXRMSFRvUmVmKGUsdCxpLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7dGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYocyx0aGlzLl92aWV3TWF0cml4KSx0aGlzLl92aWV3TWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24pLHRoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKGUpfWNyZWF0ZVJpZ0NhbWVyYShlLHQpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PWouUklHX01PREVfTk9ORSl7Y29uc3QgaT1uZXcgR2UoZSx0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5nZXRTY2VuZSgpKTtyZXR1cm4gaS5pc1JpZ0NhbWVyYT0hMCxpLnJpZ1BhcmVudD10aGlzLCh0aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1ZSfHx0aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1dFQlZSKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249bmV3IFopLGkuX2NhbWVyYVJpZ1BhcmFtcz17fSxpLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWiksaS5tb2RlPXRoaXMubW9kZSxpLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCxpLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LGkub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCxpLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20saX1yZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2NvbnN0IGU9dGhpcy5fcmlnQ2FtZXJhc1swXSx0PXRoaXMuX3JpZ0NhbWVyYXNbMV07c3dpdGNoKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5jYW1lcmFSaWdNb2RlKXtjYXNlIGouUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTDpjYXNlIGouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRDp7Y29uc3QgaT10aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLHM9dGhpcy5jYW1lcmFSaWdNb2RlPT09ai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/LTE6MTt0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKmksZSksdGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpzLHQpO2JyZWFrfWNhc2Ugai5SSUdfTU9ERV9WUjplLnJvdGF0aW9uUXVhdGVybmlvbj8oZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHQucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSk6KGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSksZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pO2JyZWFrfXN1cGVyLl91cGRhdGVSaWdDYW1lcmFzKCl9X2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KGUsdCl7dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sR2UuX1RhcmdldEZvY2FsUG9pbnQpLEdlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7Y29uc3Qgcz1HZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO3guVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoeC5Sb3RhdGlvbkF4aXModC51cFZlY3RvcixlKSxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSx4LlRyYW5zbGF0aW9uVG9SZWYocy54LHMueSxzLnosR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCx0LnBvc2l0aW9uKSx0LnNldFRhcmdldChzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGFyZ2V0Q2FtZXJhIn19R2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeD1uZXcgeCxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyB4LEdlLl9UYXJnZXRGb2NhbFBvaW50PW5ldyBwLFQoW0J0KCldLEdlLnByb3RvdHlwZSwicm90YXRpb24iLHZvaWQgMCksVChbUigpXSxHZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW01uKCJsb2NrZWRUYXJnZXRJZCIpXSxHZS5wcm90b3R5cGUsImxvY2tlZFRhcmdldCIsdm9pZCAwKTtmdW5jdGlvbiBZbihjKXtjb25zdHtzY2VuZTplfT1jO2xldCB0O2NvbnN0IGk9MzYuNTtyZXR1cm4gdD1uZXcgR2UoIlRhcmdldENhbWVyYTEiLG5ldyBwKDAsaSwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPWkrMSx0LnNldFRhcmdldChwLlplcm8oKSksdH1jbGFzcyBoZSBleHRlbmRzIHple2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmRpZmZ1c2U9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyPW5ldyByZSgxLDEsMSksdGhpcy5mYWxsb2ZmVHlwZT1oZS5GQUxMT0ZGX0RFRkFVTFQsdGhpcy5pbnRlbnNpdHk9MSx0aGlzLl9yYW5nZT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MCx0aGlzLl9waG90b21ldHJpY1NjYWxlPTEsdGhpcy5faW50ZW5zaXR5TW9kZT1oZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyx0aGlzLl9yYWRpdXM9MWUtNSx0aGlzLnJlbmRlclByaW9yaXR5PTAsdGhpcy5fc2hhZG93RW5hYmxlZD0hMCx0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz0wLHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz0wLHRoaXMuX2xpZ2h0bWFwTW9kZT0wLHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCx0aGlzLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pc0xpZ2h0PSEwLHRoaXMuZ2V0U2NlbmUoKS5hZGRMaWdodCh0aGlzKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzPW5ldyBBcnJheSx0aGlzLmV4Y2x1ZGVkTWVzaGVzPW5ldyBBcnJheSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgcmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2V9c2V0IHJhbmdlKGUpe3RoaXMuX3JhbmdlPWUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfWdldCBpbnRlbnNpdHlNb2RlKCl7cmV0dXJuIHRoaXMuX2ludGVuc2l0eU1vZGV9c2V0IGludGVuc2l0eU1vZGUoZSl7dGhpcy5faW50ZW5zaXR5TW9kZT1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLl9yYWRpdXN9c2V0IHJhZGl1cyhlKXt0aGlzLl9yYWRpdXM9ZSx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfWdldCBzaGFkb3dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9c2V0IHNoYWRvd0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93RW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dFbmFibGVkPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaW5jbHVkZWRPbmx5TWVzaGVzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc31zZXQgaW5jbHVkZWRPbmx5TWVzaGVzKGUpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz1lLHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKX1nZXQgZXhjbHVkZWRNZXNoZXMoKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9c2V0IGV4Y2x1ZGVkTWVzaGVzKGUpe3RoaXMuX2V4Y2x1ZGVkTWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9yRXhjbHVkZWQoZSl9Z2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfXNldCBleGNsdWRlV2l0aExheWVyTWFzayhlKXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz1lLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrfXNldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soZSl7dGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGxpZ2h0bWFwTW9kZSgpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9c2V0IGxpZ2h0bWFwTW9kZShlKXt0aGlzLl9saWdodG1hcE1vZGUhPT1lJiYodGhpcy5fbGlnaHRtYXBNb2RlPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX10cmFuc2ZlclRleHR1cmVzVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpc31fYmluZExpZ2h0KGUsdCxpLHMscj0hMCl7dmFyIG47Y29uc3QgYT1lLnRvU3RyaW5nKCk7bGV0IG89ITE7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoaSwiTGlnaHQiK2EpLHRoaXMuX3JlbmRlcklkIT09dC5nZXRSZW5kZXJJZCgpfHx0aGlzLl9sYXN0VXNlU3BlY3VsYXIhPT1zfHwhdGhpcy5fdW5pZm9ybUJ1ZmZlci51c2VVYm8pe3RoaXMuX3JlbmRlcklkPXQuZ2V0UmVuZGVySWQoKSx0aGlzLl9sYXN0VXNlU3BlY3VsYXI9cztjb25zdCBoPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KGksYSksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYoaCxFaS5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIixFaS5Db2xvcjNbMF0sdGhpcy5yYW5nZSxhKSxzJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKGgsRWkuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLEVpLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxhKSksbz0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChpLGEpLHQuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcil7Y29uc3QgaD0obj10aGlzLmdldFNoYWRvd0dlbmVyYXRvcih0LmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOnRoaXMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aCYmKGguYmluZFNoYWRvd0xpZ2h0KGEsaSksbz0hMCl9bz90aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZSgpOnRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFVuaWZvcm1CdWZmZXIoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTGlnaHQifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZTtpZih0Kz0iLCB0eXBlOiAiK1siUG9pbnQiLCJEaXJlY3Rpb25hbCIsIlNwb3QiLCJIZW1pc3BoZXJpYyJdW3RoaXMuZ2V0VHlwZUlEKCldLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7cmV0dXJuIHR9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXtzdXBlci5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLHRoaXMuaXNEaXNwb3NlZCgpfHx0aGlzLl9yZXN5bmNNZXNoZXMoKX1zZXRFbmFibGVkKGUpe3N1cGVyLnNldEVuYWJsZWQoZSksdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0U2hhZG93R2VuZXJhdG9yKGU9bnVsbCl7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9PT1udWxsP251bGw6KHQ9dGhpcy5fc2hhZG93R2VuZXJhdG9ycy5nZXQoZSkpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0U2hhZG93R2VuZXJhdG9ycygpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3JzfWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gcC5aZXJvKCl9Y2FuQWZmZWN0TWVzaChlKXtyZXR1cm4gZT8hKHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuaW5kZXhPZihlKT09PS0xfHx0aGlzLmV4Y2x1ZGVkTWVzaGVzJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YoZSkhPT0tMXx8dGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2shPT0wJiYodGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2smZS5sYXllck1hc2spPT09MHx8dGhpcy5leGNsdWRlV2l0aExheWVyTWFzayE9PTAmJnRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2smZS5sYXllck1hc2spOiEwfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLl9zaGFkb3dHZW5lcmF0b3JzKXtjb25zdCBpPXRoaXMuX3NoYWRvd0dlbmVyYXRvcnMudmFsdWVzKCk7Zm9yKGxldCBzPWkubmV4dCgpO3MuZG9uZSE9PSEwO3M9aS5uZXh0KCkpcy52YWx1ZS5kaXNwb3NlKCk7dGhpcy5fc2hhZG93R2VuZXJhdG9ycz1udWxsfWlmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IoY29uc3QgaSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKHRoaXMsITApO3RoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVMaWdodCh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0VHlwZUlEKCl7cmV0dXJuIDB9Z2V0U2NhbGVkSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX3Bob3RvbWV0cmljU2NhbGUqdGhpcy5pbnRlbnNpdHl9Y2xvbmUoZSx0PW51bGwpe2NvbnN0IGk9aGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLGUsdGhpcy5nZXRTY2VuZSgpKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWFlLkNsb25lKGksdGhpcyk7cmV0dXJuIGUmJihzLm5hbWU9ZSksdCYmKHMucGFyZW50PXQpLHMuc2V0RW5hYmxlZCh0aGlzLmlzRW5hYmxlZCgpKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyksc31zZXJpYWxpemUoKXtjb25zdCBlPWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldFR5cGVJRCgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmKGUuZXhjbHVkZWRNZXNoZXNJZHM9W10sdGhpcy5leGNsdWRlZE1lc2hlcy5mb3JFYWNoKHQ9PntlLmV4Y2x1ZGVkTWVzaGVzSWRzLnB1c2godC5pZCl9KSksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJihlLmluY2x1ZGVkT25seU1lc2hlc0lkcz1bXSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5mb3JFYWNoKHQ9PntlLmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHQuaWQpfSkpLGFlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLGV9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkpe2NvbnN0IHM9emUuQ29uc3RydWN0KCJMaWdodF9UeXBlXyIrZSx0LGkpO3JldHVybiBzfHxudWxsfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9aGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLnR5cGUsZS5uYW1lLHQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9YWUuUGFyc2UoaSxlLHQpO2lmKGUuZXhjbHVkZWRNZXNoZXNJZHMmJihzLl9leGNsdWRlZE1lc2hlc0lkcz1lLmV4Y2x1ZGVkTWVzaGVzSWRzKSxlLmluY2x1ZGVkT25seU1lc2hlc0lkcyYmKHMuX2luY2x1ZGVkT25seU1lc2hlc0lkcz1lLmluY2x1ZGVkT25seU1lc2hlc0lkcyksZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLGUuZmFsbG9mZlR5cGUhPT12b2lkIDAmJihzLmZhbGxvZmZUeXBlPWUuZmFsbG9mZlR5cGUpLGUubGlnaHRtYXBNb2RlIT09dm9pZCAwJiYocy5saWdodG1hcE1vZGU9ZS5saWdodG1hcE1vZGUpLGUuYW5pbWF0aW9ucyl7Zm9yKGxldCByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmFuaW1hdGlvbnNbcl0sYT1yaSgiQkFCWUxPTi5BbmltYXRpb24iKTthJiZzLmFuaW1hdGlvbnMucHVzaChhLlBhcnNlKG4pKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzfV9ob29rQXJyYXlGb3JFeGNsdWRlZChlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7Zm9yKGNvbnN0IG4gb2YgcyluLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKTtyZXR1cm4gcn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtmb3IoY29uc3QgYSBvZiBuKWEuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiBufTtmb3IoY29uc3QgcyBvZiBlKXMuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxufSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1fcmVzeW5jTWVzaGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX1fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZlLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl7dGhpcy5fcGhvdG9tZXRyaWNTY2FsZT10aGlzLl9nZXRQaG90b21ldHJpY1NjYWxlKCksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX1fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLmdldFR5cGVJRCgpO2xldCBpPXRoaXMuaW50ZW5zaXR5TW9kZTtzd2l0Y2goaT09PWhlLklOVEVOU0lUWU1PREVfQVVUT01BVElDJiYodD09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/aT1oZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFOmk9aGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSksdCl7Y2FzZSBoZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgaGUuTElHSFRUWVBFSURfU1BPVExJR0hUOnN3aXRjaChpKXtjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUjplPTEvKDQqTWF0aC5QSSk7YnJlYWs7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOmU9MTticmVhaztjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOmU9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXM7YnJlYWt9YnJlYWs7Y2FzZSBoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUOnN3aXRjaChpKXtjYXNlIGhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6ZT0xO2JyZWFrO2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6e2xldCBzPXRoaXMucmFkaXVzO3M9TWF0aC5tYXgocywuMDAxKSxlPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhzKSk7YnJlYWt9fWJyZWFrO2Nhc2UgaGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDplPTE7YnJlYWt9cmV0dXJuIGV9X3Jlb3JkZXJMaWdodHNJblNjZW5lKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7dGhpcy5fcmVuZGVyUHJpb3JpdHkhPTAmJihlLnJlcXVpcmVMaWdodFNvcnRpbmc9ITApLHRoaXMuZ2V0U2NlbmUoKS5zb3J0TGlnaHRzQnlQcmlvcml0eSgpfX1oZS5GQUxMT0ZGX0RFRkFVTFQ9RWUuRkFMTE9GRl9ERUZBVUxULGhlLkZBTExPRkZfUEhZU0lDQUw9RWUuRkFMTE9GRl9QSFlTSUNBTCxoZS5GQUxMT0ZGX0dMVEY9RWUuRkFMTE9GRl9HTFRGLGhlLkZBTExPRkZfU1RBTkRBUkQ9RWUuRkFMTE9GRl9TVEFOREFSRCxoZS5MSUdIVE1BUF9ERUZBVUxUPUVlLkxJR0hUTUFQX0RFRkFVTFQsaGUuTElHSFRNQVBfU1BFQ1VMQVI9RWUuTElHSFRNQVBfU1BFQ1VMQVIsaGUuTElHSFRNQVBfU0hBRE9XU09OTFk9RWUuTElHSFRNQVBfU0hBRE9XU09OTFksaGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9RWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUixoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFksaGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT1FZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLGhlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPUVlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFLGhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9RWUuTElHSFRUWVBFSURfUE9JTlRMSUdIVCxoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPUVlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsaGUuTElHSFRUWVBFSURfU1BPVExJR0hUPUVlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVCxoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPUVlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQsVChbY2koKV0saGUucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFQoW2NpKCldLGhlLnByb3RvdHlwZSwic3BlY3VsYXIiLHZvaWQgMCksVChbUigpXSxoZS5wcm90b3R5cGUsImZhbGxvZmZUeXBlIix2b2lkIDApLFQoW1IoKV0saGUucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksVChbUigpXSxoZS5wcm90b3R5cGUsInJhbmdlIixudWxsKSxUKFtSKCldLGhlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIsbnVsbCksVChbUigpXSxoZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksVChbUigpXSxoZS5wcm90b3R5cGUsIl9yZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFtiZSgiX3Jlb3JkZXJMaWdodHNJblNjZW5lIildLGhlLnByb3RvdHlwZSwicmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbUigic2hhZG93RW5hYmxlZCIpXSxoZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFQoW1IoImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLGhlLnByb3RvdHlwZSwiX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1IoImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIpXSxoZS5wcm90b3R5cGUsIl9pbmNsdWRlT25seVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUigibGlnaHRtYXBNb2RlIildLGhlLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKTtjbGFzcyBVaSBleHRlbmRzIGhle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9X3NldFBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLl9zZXRQb3NpdGlvbihlKX1fc2V0RGlyZWN0aW9uKGUpe3RoaXMuX2RpcmVjdGlvbj1lfWdldCBkaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9ufXNldCBkaXJlY3Rpb24oZSl7dGhpcy5fc2V0RGlyZWN0aW9uKGUpfWdldCBzaGFkb3dNaW5aKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01pblp9c2V0IHNoYWRvd01pblooZSl7dGhpcy5fc2hhZG93TWluWj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01heFp9c2V0IHNoYWRvd01heFooZSl7dGhpcy5fc2hhZG93TWF4Wj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeD8odGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9ufHwodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPXAuWmVybygpKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbiksdGhpcy5kaXJlY3Rpb24mJih0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9ufHwodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1wLlplcm8oKSkscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmRpcmVjdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24pKSwhMCk6ITF9Z2V0RGVwdGhTY2FsZSgpe3JldHVybiA1MH1nZXRTaGFkb3dEaXJlY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn1nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj90aGlzLnRyYW5zZm9ybWVkUG9zaXRpb246dGhpcy5wb3NpdGlvbn1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249cC5Ob3JtYWxpemUoZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKSksdGhpcy5kaXJlY3Rpb259Z2V0Um90YXRpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTtjb25zdCBlPXAuQ3Jvc3ModGhpcy5kaXJlY3Rpb24sX2kuWSksdD1wLkNyb3NzKGUsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXMoZSx0LHRoaXMuZGlyZWN0aW9uKX1uZWVkQ3ViZSgpe3JldHVybiExfW5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9Zm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3RoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPXAuWmVybygpfV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpPyh0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fd29ybGRNYXRyaXgpOih0aGlzLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnosdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCYmKHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXgpfWdldERlcHRoTWluWihlKXtyZXR1cm4gdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjplLm1pblp9Z2V0RGVwdGhNYXhaKGUpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOmUubWF4Wn1zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcj90aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyKHQsaSxlKTp0aGlzLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSksdGhpc31fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksKCF0aGlzLnBhcmVudHx8IXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KSYmKHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1udWxsLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249bnVsbCl9fVQoW0J0KCldLFVpLnByb3RvdHlwZSwicG9zaXRpb24iLG51bGwpLFQoW0J0KCldLFVpLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxUKFtSKCldLFVpLnByb3RvdHlwZSwic2hhZG93TWluWiIsbnVsbCksVChbUigpXSxVaS5wcm90b3R5cGUsInNoYWRvd01heFoiLG51bGwpLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8xIiwoYyxlKT0+KCk9Pm5ldyBJdChjLHAuWmVybygpLGUpKTtjbGFzcyBJdCBleHRlbmRzIFVpe2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplPTAsdGhpcy5fc2hhZG93T3J0aG9TY2FsZT0uMSx0aGlzLmF1dG9VcGRhdGVFeHRlbmRzPSEwLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzPSExLHRoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUUsdGhpcy5wb3NpdGlvbj10LnNjYWxlKC0xKSx0aGlzLmRpcmVjdGlvbj10fWdldCBzaGFkb3dGcnVzdHVtU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX1zZXQgc2hhZG93RnJ1c3R1bVNpemUoZSl7dGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgc2hhZG93T3J0aG9TY2FsZSgpe3JldHVybiB0aGlzLl9zaGFkb3dPcnRob1NjYWxlfXNldCBzaGFkb3dPcnRob1NjYWxlKGUpe3RoaXMuX3NoYWRvd09ydGhvU2NhbGU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgb3J0aG9MZWZ0KCl7cmV0dXJuIHRoaXMuX29ydGhvTGVmdH1zZXQgb3J0aG9MZWZ0KGUpe3RoaXMuX29ydGhvTGVmdD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgb3J0aG9Ub3AoZSl7dGhpcy5fb3J0aG9Ub3A9ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifWdldFR5cGVJRCgpe3JldHVybiBoZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUfV9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7dGhpcy5zaGFkb3dGcnVzdHVtU2l6ZT4wP3RoaXMuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpOnRoaXMuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl9X3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTshdHx8eC5PcnRob0xIVG9SZWYodGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6dC5taW5aLHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6dC5tYXhaLGUsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9X3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO2lmKCFzKXJldHVybjtpZih0aGlzLmF1dG9VcGRhdGVFeHRlbmRzfHx0aGlzLl9vcnRob0xlZnQ9PT1OdW1iZXIuTUFYX1ZBTFVFKXtjb25zdCBsPXAuWmVybygpO3RoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUU7bGV0IHU9TnVtYmVyLk1BWF9WQUxVRSxkPU51bWJlci5NSU5fVkFMVUU7Zm9yKGxldCBmPTA7ZjxpLmxlbmd0aDtmKyspe2NvbnN0IF89aVtmXTtpZighXyljb250aW51ZTtjb25zdCBtPV8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7Zm9yKGxldCB2PTA7djxtLnZlY3RvcnNXb3JsZC5sZW5ndGg7disrKXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihtLnZlY3RvcnNXb3JsZFt2XSx0LGwpLGwueDx0aGlzLl9vcnRob0xlZnQmJih0aGlzLl9vcnRob0xlZnQ9bC54KSxsLnk8dGhpcy5fb3J0aG9Cb3R0b20mJih0aGlzLl9vcnRob0JvdHRvbT1sLnkpLGwueD50aGlzLl9vcnRob1JpZ2h0JiYodGhpcy5fb3J0aG9SaWdodD1sLngpLGwueT50aGlzLl9vcnRob1RvcCYmKHRoaXMuX29ydGhvVG9wPWwueSksdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJihsLno8dSYmKHU9bC56KSxsLno+ZCYmKGQ9bC56KSl9dGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJih0aGlzLl9zaGFkb3dNaW5aPXUsdGhpcy5fc2hhZG93TWF4Wj1kKX1jb25zdCByPXRoaXMuX29ydGhvUmlnaHQtdGhpcy5fb3J0aG9MZWZ0LG49dGhpcy5fb3J0aG9Ub3AtdGhpcy5fb3J0aG9Cb3R0b20sYT10aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnMubWluWixvPXRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6cy5tYXhaLGg9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjt4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9vcnRob0xlZnQtcip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9SaWdodCtyKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob0JvdHRvbS1uKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1RvcCtuKnRoaXMuc2hhZG93T3J0aG9TY2FsZSxoP286YSxoP2E6byxlLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56LDEsdCksdGhpcyk6KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiwxLHQpLHRoaXMpfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyhlLnNldEZsb2F0Myh0LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56KSx0aGlzKTooZS5zZXRGbG9hdDModCx0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiksdGhpcyl9Z2V0RGVwdGhNaW5aKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIXQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9Z2V0RGVwdGhNYXhaKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIHQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9cHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGUsdCl7ZVsiRElSTElHSFQiK3RdPSEwfX1UKFtSKCldLEl0LnByb3RvdHlwZSwic2hhZG93RnJ1c3R1bVNpemUiLG51bGwpLFQoW1IoKV0sSXQucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIixudWxsKSxUKFtSKCldLEl0LnByb3RvdHlwZSwiYXV0b1VwZGF0ZUV4dGVuZHMiLHZvaWQgMCksVChbUigpXSxJdC5wcm90b3R5cGUsImF1dG9DYWxjU2hhZG93WkJvdW5kcyIsdm9pZCAwKSxUKFtSKCJvcnRob0xlZnQiKV0sSXQucHJvdG90eXBlLCJfb3J0aG9MZWZ0Iix2b2lkIDApLFQoW1IoIm9ydGhvUmlnaHQiKV0sSXQucHJvdG90eXBlLCJfb3J0aG9SaWdodCIsdm9pZCAwKSxUKFtSKCJvcnRob1RvcCIpXSxJdC5wcm90b3R5cGUsIl9vcnRob1RvcCIsdm9pZCAwKSxUKFtSKCJvcnRob0JvdHRvbSIpXSxJdC5wcm90b3R5cGUsIl9vcnRob0JvdHRvbSIsdm9pZCAwKSx6ZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMyIsKGMsZSk9PigpPT5uZXcgbnMoYyxwLlplcm8oKSxlKSk7Y2xhc3MgbnMgZXh0ZW5kcyBoZXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSxpKSx0aGlzLmdyb3VuZENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5kaXJlY3Rpb249dHx8cC5VcCgpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRHcm91bmQiLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkhlbWlzcGhlcmljTGlnaHQifXNldERpcmVjdGlvblRvVGFyZ2V0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1wLk5vcm1hbGl6ZShlLnN1YnRyYWN0KHAuWmVybygpKSksdGhpcy5kaXJlY3Rpb259Z2V0U2hhZG93R2VuZXJhdG9yKCl7cmV0dXJuIG51bGx9dHJhbnNmZXJUb0VmZmVjdChlLHQpe2NvbnN0IGk9cC5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsaS54LGkueSxpLnosMCx0KSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yMygidkxpZ2h0R3JvdW5kIix0aGlzLmdyb3VuZENvbG9yLnNjYWxlKHRoaXMuaW50ZW5zaXR5KSx0KSx0aGlzfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtjb25zdCBpPXAuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZS5zZXRGbG9hdDModCxpLngsaS55LGkueiksdGhpc31jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fWdldFR5cGVJRCgpe3JldHVybiBoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUfXByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhlLHQpe2VbIkhFTUlMSUdIVCIrdF09ITB9fVQoW2NpKCldLG5zLnByb3RvdHlwZSwiZ3JvdW5kQ29sb3IiLHZvaWQgMCksVChbQnQoKV0sbnMucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCk7Y2xhc3MgR3R7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH10b1N0cmluZygpe3JldHVybmB7VzogJHt0aGlzLndpZHRofSwgSDogJHt0aGlzLmhlaWdodH19YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2l6ZSJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLndpZHRofDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuaGVpZ2h0fDApLGV9Y29weUZyb20oZSl7dGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fWNvcHlGcm9tRmxvYXRzKGUsdCl7cmV0dXJuIHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXN9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCl7cmV0dXJuIG5ldyBHdCh0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IEd0KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWVxdWFscyhlKXtyZXR1cm4gZT90aGlzLndpZHRoPT09ZS53aWR0aCYmdGhpcy5oZWlnaHQ9PT1lLmhlaWdodDohMX1nZXQgc3VyZmFjZSgpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBHdCgwLDApfWFkZChlKXtyZXR1cm4gbmV3IEd0KHRoaXMud2lkdGgrZS53aWR0aCx0aGlzLmhlaWdodCtlLmhlaWdodCl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBHdCh0aGlzLndpZHRoLWUud2lkdGgsdGhpcy5oZWlnaHQtZS5oZWlnaHQpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPWUud2lkdGgrKHQud2lkdGgtZS53aWR0aCkqaSxyPWUuaGVpZ2h0Kyh0LmhlaWdodC1lLmhlaWdodCkqaTtyZXR1cm4gbmV3IEd0KHMscil9fWNsYXNzIFpue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3dyYXBVPTEsdGhpcy5fd3JhcFY9MSx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTQsdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9lbmdpbmU9bnVsbCx0aGlzLl9jYWNoZWRTaXplPUd0Llplcm8oKSx0aGlzLl9jYWNoZWRCYXNlU2l6ZT1HdC5aZXJvKCksdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT0yLHRoaXMuX3RleHR1cmU9ZSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fZW5naW5lPXRoaXMuX3RleHR1cmUuZ2V0RW5naW5lKCkpfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl93cmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fd3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fd3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX3dyYXBWPWV9Z2V0IGNvb3JkaW5hdGVzTW9kZSgpe3JldHVybiAwfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTohMX1zZXQgaXNDdWJlKGUpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGhpblRleHR1cmUifWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTQ/KHRoaXMuZGVsYXlMb2FkKCksITEpOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc1JlYWR5OiExfWRlbGF5TG9hZCgpe31nZXRJbnRlcm5hbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX1nZXRTaXplKCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS53aWR0aClyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLndpZHRoLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuaGVpZ2h0LHRoaXMuX2NhY2hlZFNpemU7aWYodGhpcy5fdGV4dHVyZS5fc2l6ZSlyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZX1yZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZX1nZXRCYXNlU2l6ZSgpe3JldHVybiF0aGlzLmlzUmVhZHkoKXx8IXRoaXMuX3RleHR1cmU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPTAsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PTAsdGhpcy5fY2FjaGVkQmFzZVNpemUpOnRoaXMuX3RleHR1cmUuX3NpemU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUpOih0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLmJhc2VXaWR0aCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5iYXNlSGVpZ2h0LHRoaXMuX2NhY2hlZEJhc2VTaXplKX1nZXQgc2FtcGxpbmdNb2RlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5zYW1wbGluZ01vZGU6dGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZX11cGRhdGVTYW1wbGluZ01vZGUoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHRoaXMuX3RleHR1cmUpfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZT1udWxsKX1kaXNwb3NlKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuX2VuZ2luZT1udWxsKX19Y2xhc3MgUmUgZXh0ZW5kcyBabntjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3VwZXIobnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9oYXNBbHBoYT0hMSx0aGlzLl9nZXRBbHBoYUZyb21SR0I9ITEsdGhpcy5sZXZlbD0xLHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9MCx0aGlzLm9wdGltaXplVVZBbGxvY2F0aW9uPSEwLHRoaXMuX2Nvb3JkaW5hdGVzTW9kZT0wLHRoaXMud3JhcFI9MSx0aGlzLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9UmUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUwsdGhpcy5faXNDdWJlPSExLHRoaXMuX2dhbW1hU3BhY2U9ITAsdGhpcy5pbnZlcnRaPSExLHRoaXMubG9kTGV2ZWxJbkFscGhhPSExLHRoaXMuaXNSZW5kZXJUYXJnZXQ9ITEsdGhpcy5fcHJlZmlsdGVyZWQ9ITEsdGhpcy5fZm9yY2VTZXJpYWxpemU9ITEsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9zY2VuZT1udWxsLHRoaXMuX3VpZD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX2xvYWRpbmdFcnJvcj0hMSxlP1JlLl9Jc1NjZW5lKGUpP3RoaXMuX3NjZW5lPWU6dGhpcy5fZW5naW5lPWU6dGhpcy5fc2NlbmU9ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9zY2VuZS5hZGRUZXh0dXJlKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSksdGhpcy5fdGV4dHVyZT10LHRoaXMuX3VpZD1udWxsfXNldCBoYXNBbHBoYShlKXt0aGlzLl9oYXNBbHBoYSE9PWUmJih0aGlzLl9oYXNBbHBoYT1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBoYXNBbHBoYSgpe3JldHVybiB0aGlzLl9oYXNBbHBoYX1zZXQgZ2V0QWxwaGFGcm9tUkdCKGUpe3RoaXMuX2dldEFscGhhRnJvbVJHQiE9PWUmJih0aGlzLl9nZXRBbHBoYUZyb21SR0I9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgZ2V0QWxwaGFGcm9tUkdCKCl7cmV0dXJuIHRoaXMuX2dldEFscGhhRnJvbVJHQn1zZXQgY29vcmRpbmF0ZXNJbmRleChlKXt0aGlzLl9jb29yZGluYXRlc0luZGV4IT09ZSYmKHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXg9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgY29vcmRpbmF0ZXNJbmRleCgpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc0luZGV4fXNldCBjb29yZGluYXRlc01vZGUoZSl7dGhpcy5fY29vcmRpbmF0ZXNNb2RlIT09ZSYmKHRoaXMuX2Nvb3JkaW5hdGVzTW9kZT1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBjb29yZGluYXRlc01vZGUoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNNb2RlfWdldCB3cmFwVSgpe3JldHVybiB0aGlzLl93cmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fd3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fd3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX3dyYXBWPWV9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOnRoaXMuX2lzQ3ViZX1zZXQgaXNDdWJlKGUpe3RoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU9ZTp0aGlzLl9pc0N1YmU9ZX1nZXQgaXMzRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMzRDohMX1zZXQgaXMzRChlKXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMzRD1lKX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9c2V0IGlzMkRBcnJheShlKXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfWdldCBnYW1tYVNwYWNlKCl7aWYodGhpcy5fdGV4dHVyZSl0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPT09bnVsbCYmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9dGhpcy5fZ2FtbWFTcGFjZSk7ZWxzZSByZXR1cm4gdGhpcy5fZ2FtbWFTcGFjZTtyZXR1cm4gdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZSYmIXRoaXMuX3RleHR1cmUuX3VzZVNSR0JCdWZmZXJ9c2V0IGdhbW1hU3BhY2UoZSl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PWUpcmV0dXJuO3RoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9ZX1lbHNle2lmKHRoaXMuX2dhbW1hU3BhY2U9PT1lKXJldHVybjt0aGlzLl9nYW1tYVNwYWNlPWV9dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWdldCBpc1JHQkQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSE9bnVsbCYmdGhpcy5fdGV4dHVyZS5faXNSR0JEfXNldCBpc1JHQkQoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lzUkdCRD1lKX1nZXQgbm9NaXBtYXAoKXtyZXR1cm4hMX1nZXQgbG9kR2VuZXJhdGlvbk9mZnNldCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ6MH1zZXQgbG9kR2VuZXJhdGlvbk9mZnNldChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldD1lKX1nZXQgbG9kR2VuZXJhdGlvblNjYWxlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlOjB9c2V0IGxvZEdlbmVyYXRpb25TY2FsZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlPWUpfWdldCBsaW5lYXJTcGVjdWxhckxPRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xpbmVhclNwZWN1bGFyTE9EOiExfXNldCBsaW5lYXJTcGVjdWxhckxPRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q9ZSl9Z2V0IGlycmFkaWFuY2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU6bnVsbH1zZXQgaXJyYWRpYW5jZVRleHR1cmUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlPWUpfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPWxyKCkpLHRoaXMuX3VpZH10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJhc2VUZXh0dXJlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuITB9Z2V0IGxvYWRpbmdFcnJvcigpe3JldHVybiB0aGlzLl9sb2FkaW5nRXJyb3J9Z2V0IGVycm9yT2JqZWN0KCl7cmV0dXJuIHRoaXMuX2Vycm9yT2JqZWN0fWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfV9nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGx9Z2V0VGV4dHVyZU1hdHJpeCgpe3JldHVybiB4LklkZW50aXR5UmVhZE9ubHl9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4geC5JZGVudGl0eVJlYWRPbmx5fWlzUmVhZHlPck5vdEJsb2NraW5nKCl7cmV0dXJuIXRoaXMuaXNCbG9ja2luZ3x8dGhpcy5pc1JlYWR5KCl8fHRoaXMubG9hZGluZ0Vycm9yfXNjYWxlKGUpe31nZXQgY2FuUmVzY2FsZSgpe3JldHVybiExfV9nZXRGcm9tQ2FjaGUoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgbz1hLl9nZXRVc2VTUkdCQnVmZmVyKCEhcix0KSxoPWEuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCB1PWhbbF07aWYoKHI9PT12b2lkIDB8fG89PT11Ll91c2VTUkdCQnVmZmVyKSYmKHM9PT12b2lkIDB8fHM9PT11LmludmVydFkpJiZ1LnVybD09PWUmJnUuZ2VuZXJhdGVNaXBNYXBzPT09IXQmJighaXx8aT09PXUuc2FtcGxpbmdNb2RlKSYmKG49PT12b2lkIDB8fG49PT11LmlzQ3ViZSkpcmV0dXJuIHUuaW5jcmVtZW50UmVmZXJlbmNlcygpLHV9cmV0dXJuIG51bGx9X3JlYnVpbGQoKXt9Y2xvbmUoKXtyZXR1cm4gbnVsbH1nZXQgdGV4dHVyZVR5cGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS50eXBlIT09dm9pZCAwP3RoaXMuX3RleHR1cmUudHlwZTowfWdldCB0ZXh0dXJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTshZXx8ZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1yZWFkUGl4ZWxzKGU9MCx0PTAsaT1udWxsLHM9ITAscj0hMSxuPTAsYT0wLG89TnVtYmVyLk1BWF9WQUxVRSxoPU51bWJlci5NQVhfVkFMVUUpe2lmKCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO2NvbnN0IGw9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWwpcmV0dXJuIG51bGw7Y29uc3QgdT10aGlzLmdldFNpemUoKTtsZXQgZD11LndpZHRoLGY9dS5oZWlnaHQ7dCE9PTAmJihkPWQvTWF0aC5wb3coMix0KSxmPWYvTWF0aC5wb3coMix0KSxkPU1hdGgucm91bmQoZCksZj1NYXRoLnJvdW5kKGYpKSxvPU1hdGgubWluKGQsbyksaD1NYXRoLm1pbihmLGgpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/bC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxvLGgsZSx0LGkscyxyLG4sYSk6bC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxvLGgsLTEsdCxpLHMscixuLGEpfWNhdGNoe3JldHVybiBudWxsfX1fcmVhZFBpeGVsc1N5bmMoZT0wLHQ9MCxpPW51bGwscz0hMCxyPSExKXtpZighdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMuZ2V0U2l6ZSgpO2xldCBhPW4ud2lkdGgsbz1uLmhlaWdodDtjb25zdCBoPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFoKXJldHVybiBudWxsO3QhPTAmJihhPWEvTWF0aC5wb3coMix0KSxvPW8vTWF0aC5wb3coMix0KSxhPU1hdGgucm91bmQoYSksbz1NYXRoLnJvdW5kKG8pKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2guX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLGEsbyxlLHQsaSxzLHIpOmguX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLGEsbywtMSx0LGkscyxyKX1jYXRjaHtyZXR1cm4gbnVsbH19Z2V0IF9sb2RUZXh0dXJlSGlnaCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVIaWdoOm51bGx9Z2V0IF9sb2RUZXh0dXJlTWlkKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZU1pZDpudWxsfWdldCBfbG9kVGV4dHVyZUxvdygpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVMb3c6bnVsbH1kaXNwb3NlKCl7aWYodGhpcy5fc2NlbmUpe3RoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24mJnRoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fc2NlbmUucmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgZT10aGlzLl9zY2VuZS50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO2lmKGU+PTAmJnRoaXMuX3NjZW5lLnRleHR1cmVzLnNwbGljZShlLDEpLHRoaXMuX3NjZW5lLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9zY2VuZT1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgdD10aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuaW5kZXhPZih0aGlzKTt0Pi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9fXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5tZXRhZGF0YT1udWxsLHN1cGVyLmRpc3Bvc2UoKX1zZXJpYWxpemUoZT0hMSl7aWYoIXRoaXMubmFtZSYmIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1hZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGFlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdH1zdGF0aWMgV2hlbkFsbFJlYWR5KGUsdCl7bGV0IGk9ZS5sZW5ndGg7aWYoaT09PTApe3QoKTtyZXR1cm59Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9ZVtzXTtpZihyLmlzUmVhZHkoKSktLWk9PT0wJiZ0KCk7ZWxzZXtjb25zdCBuPXIub25Mb2FkT2JzZXJ2YWJsZTtuP24uYWRkT25jZSgoKT0+ey0taT09PTAmJnQoKX0pOi0taT09PTAmJnQoKX19fXN0YXRpYyBfSXNTY2VuZShlKXtyZXR1cm4gZS5nZXRDbGFzc05hbWUoKT09PSJTY2VuZSJ9fVJlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMPTQsVChbUigpXSxSZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtSKCJoYXNBbHBoYSIpXSxSZS5wcm90b3R5cGUsIl9oYXNBbHBoYSIsdm9pZCAwKSxUKFtSKCJnZXRBbHBoYUZyb21SR0IiKV0sUmUucHJvdG90eXBlLCJfZ2V0QWxwaGFGcm9tUkdCIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJsZXZlbCIsdm9pZCAwKSxUKFtSKCJjb29yZGluYXRlc0luZGV4IildLFJlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzSW5kZXgiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIm9wdGltaXplVVZBbGxvY2F0aW9uIix2b2lkIDApLFQoW1IoImNvb3JkaW5hdGVzTW9kZSIpXSxSZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc01vZGUiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIndyYXBVIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwid3JhcFYiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJ3cmFwUiIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXNDdWJlIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXMzRCIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImlzMkRBcnJheSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpbnZlcnRaIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJsb2RMZXZlbEluQWxwaGEiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uU2NhbGUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJsaW5lYXJTcGVjdWxhckxPRCIsbnVsbCksVChbbXQoKV0sUmUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImlzUmVuZGVyVGFyZ2V0Iix2b2lkIDApO2Z1bmN0aW9uIEZyKGMsZSx0PSExKXtjb25zdCBpPWUud2lkdGgscz1lLmhlaWdodDtpZihjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtsZXQgaD1jLmJ5dGVMZW5ndGgvYy5CWVRFU19QRVJfRUxFTUVOVDtjb25zdCBsPW5ldyBVaW50OEFycmF5KGgpO2Zvcig7LS1oPj0wOyl7bGV0IHU9Y1toXTt1PDA/dT0wOnU+MSYmKHU9MSksbFtoXT11KjI1NX1jPWx9Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyLndpZHRoPWksci5oZWlnaHQ9cztjb25zdCBuPXIuZ2V0Q29udGV4dCgiMmQiKTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBhPW4uY3JlYXRlSW1hZ2VEYXRhKGkscyk7aWYoYS5kYXRhLnNldChjKSxuLnB1dEltYWdlRGF0YShhLDAsMCksdCl7Y29uc3QgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtoLndpZHRoPWksaC5oZWlnaHQ9cztjb25zdCBsPWguZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gbD8obC50cmFuc2xhdGUoMCxzKSxsLnNjYWxlKDEsLTEpLGwuZHJhd0ltYWdlKHIsMCwwKSxoLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIikpOm51bGx9cmV0dXJuIHIudG9EYXRhVVJMKCJpbWFnZS9wbmciKX1mdW5jdGlvbiBxbihjLGU9MCx0PTApe2NvbnN0IGk9Yy5nZXRJbnRlcm5hbFRleHR1cmUoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWMuX3JlYWRQaXhlbHNTeW5jKGUsdCk7cmV0dXJuIHM/RnIocyxjLmdldFNpemUoKSxpLmludmVydFkpOm51bGx9YXN5bmMgZnVuY3Rpb24gam4oYyxlPTAsdD0wKXtjb25zdCBpPWMuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1hd2FpdCBjLnJlYWRQaXhlbHMoZSx0KTtyZXR1cm4gcz9GcihzLGMuZ2V0U2l6ZSgpLGkuaW52ZXJ0WSk6bnVsbH1jbGFzcyBOIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSx0LGkscyxyPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPW51bGwsYT1udWxsLG89bnVsbCxoPSExLGwsdSxkLGYsXyl7dmFyIEUsbSx2LFMseSxBLEMsYixNO3N1cGVyKHQpLHRoaXMudXJsPW51bGwsdGhpcy51T2Zmc2V0PTAsdGhpcy52T2Zmc2V0PTAsdGhpcy51U2NhbGU9MSx0aGlzLnZTY2FsZT0xLHRoaXMudUFuZz0wLHRoaXMudkFuZz0wLHRoaXMud0FuZz0wLHRoaXMudVJvdGF0aW9uQ2VudGVyPS41LHRoaXMudlJvdGF0aW9uQ2VudGVyPS41LHRoaXMud1JvdGF0aW9uQ2VudGVyPS41LHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCx0aGlzLl9ub01pcG1hcD0hMSx0aGlzLl9pbnZlcnRZPSExLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCx0aGlzLl90MD1udWxsLHRoaXMuX3QxPW51bGwsdGhpcy5fdDI9bnVsbCx0aGlzLl9jYWNoZWRVT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFZPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkVVNjYWxlPTAsdGhpcy5fY2FjaGVkVlNjYWxlPTAsdGhpcy5fY2FjaGVkVUFuZz0tMSx0aGlzLl9jYWNoZWRWQW5nPS0xLHRoaXMuX2NhY2hlZFdBbmc9LTEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD0tMSx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1udWxsLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9MCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlPTAsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT0tMSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kZWxldGVCdWZmZXI9ITEsdGhpcy5fZm9ybWF0PW51bGwsdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5vbkxvYWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2lzQmxvY2tpbmc9ITAsdGhpcy5uYW1lPWV8fCIiLHRoaXMudXJsPWU7bGV0IEwsaz0hMSx3PW51bGw7dHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbD8oTD0oRT1pLm5vTWlwbWFwKSE9PW51bGwmJkUhPT12b2lkIDA/RTohMSxzPShtPWkuaW52ZXJ0WSkhPT1udWxsJiZtIT09dm9pZCAwP206IWZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYscj0odj1pLnNhbXBsaW5nTW9kZSkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG49KFM9aS5vbkxvYWQpIT09bnVsbCYmUyE9PXZvaWQgMD9TOm51bGwsYT0oeT1pLm9uRXJyb3IpIT09bnVsbCYmeSE9PXZvaWQgMD95Om51bGwsbz0oQT1pLmJ1ZmZlcikhPT1udWxsJiZBIT09dm9pZCAwP0E6bnVsbCxoPShDPWkuZGVsZXRlQnVmZmVyKSE9PW51bGwmJkMhPT12b2lkIDA/QzohMSxsPWkuZm9ybWF0LHU9aS5taW1lVHlwZSxkPWkubG9hZGVyT3B0aW9ucyxmPWkuY3JlYXRpb25GbGFncyxrPShiPWkudXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZiIT09dm9pZCAwP2I6ITEsdz0oTT1pLmludGVybmFsVGV4dHVyZSkhPT1udWxsJiZNIT09dm9pZCAwP006bnVsbCk6TD0hIWksdGhpcy5fbm9NaXBtYXA9TCx0aGlzLl9pbnZlcnRZPXM9PT12b2lkIDA/IWZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY6cyx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPXIsdGhpcy5fYnVmZmVyPW8sdGhpcy5fZGVsZXRlQnVmZmVyPWgsdGhpcy5fbWltZVR5cGU9dSx0aGlzLl9sb2FkZXJPcHRpb25zPWQsdGhpcy5fY3JlYXRpb25GbGFncz1mLHRoaXMuX3VzZVNSR0JCdWZmZXI9ayx0aGlzLl9mb3JjZWRFeHRlbnNpb249XyxsJiYodGhpcy5fZm9ybWF0PWwpO2NvbnN0IGRlPXRoaXMuZ2V0U2NlbmUoKSxjZT10aGlzLl9nZXRFbmdpbmUoKTtpZighY2UpcmV0dXJuO2NlLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBzZT0oKT0+e3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pbnZlcnRWU2NhbGUmJih0aGlzLnZTY2FsZSo9LTEsdGhpcy52T2Zmc2V0Kz0xKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSE9PW51bGwmJih0aGlzLndyYXBVPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWIT09bnVsbCYmKHRoaXMud3JhcFY9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIhPT1udWxsJiYodGhpcy53cmFwUj10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUix0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTG9hZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLG4mJm4oKSwhdGhpcy5pc0Jsb2NraW5nJiZkZSYmZGUucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSx0ZT0oRmUsd2UpPT57dGhpcy5fbG9hZGluZ0Vycm9yPSEwLHRoaXMuX2Vycm9yT2JqZWN0PXttZXNzYWdlOkZlLGV4Y2VwdGlvbjp3ZX0sYSYmYShGZSx3ZSksTi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07aWYoIXRoaXMudXJsJiYhdyl7dGhpcy5fZGVsYXllZE9uTG9hZD1zZSx0aGlzLl9kZWxheWVkT25FcnJvcj10ZTtyZXR1cm59aWYodGhpcy5fdGV4dHVyZT13IT1udWxsP3c6dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLEwscix0aGlzLl9pbnZlcnRZLGspLHRoaXMuX3RleHR1cmUpaWYodGhpcy5fdGV4dHVyZS5pc1JlYWR5KVhpLlNldEltbWVkaWF0ZSgoKT0+c2UoKSk7ZWxzZXtjb25zdCBGZT10aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQoc2UpO3RoaXMuX3RleHR1cmUub25FcnJvck9ic2VydmFibGUuYWRkKHdlPT57dmFyIEhlO3RlKHdlLm1lc3NhZ2Usd2UuZXhjZXB0aW9uKSwoSGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxIZT09PXZvaWQgMHx8SGUub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShGZSl9KX1lbHNlIGlmKCFkZXx8IWRlLnVzZURlbGF5ZWRUZXh0dXJlTG9hZGluZyl7dHJ5e3RoaXMuX3RleHR1cmU9Y2UuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCxMLHRoaXMuX2ludmVydFksZGUscixzZSx0ZSx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuX2Zvcm1hdCx0aGlzLl9mb3JjZWRFeHRlbnNpb24sdSxkLGYsayl9Y2F0Y2goRmUpe3Rocm93IHRlKCJlcnJvciBsb2FkaW5nIixGZSksRmV9aCYmKHRoaXMuX2J1ZmZlcj1udWxsKX1lbHNlIHRoaXMuZGVsYXlMb2FkU3RhdGU9NCx0aGlzLl9kZWxheWVkT25Mb2FkPXNlLHRoaXMuX2RlbGF5ZWRPbkVycm9yPXRlfWdldCBub01pcG1hcCgpe3JldHVybiB0aGlzLl9ub01pcG1hcH1nZXQgbWltZVR5cGUoKXtyZXR1cm4gdGhpcy5fbWltZVR5cGV9c2V0IGlzQmxvY2tpbmcoZSl7dGhpcy5faXNCbG9ja2luZz1lfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuIHRoaXMuX2lzQmxvY2tpbmd9Z2V0IGludmVydFkoKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX11cGRhdGVVUkwoZSx0PW51bGwsaSxzKXt0aGlzLnVybCYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuZ2V0U2NlbmUoKS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSksKCF0aGlzLm5hbWV8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpKSYmKHRoaXMubmFtZT1lKSx0aGlzLnVybD1lLHRoaXMuX2J1ZmZlcj10LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1zLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxpJiYodGhpcy5fZGVsYXllZE9uTG9hZD1pKSx0aGlzLmRlbGF5TG9hZCgpfWRlbGF5TG9hZCgpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT00KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTshZXx8KHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9YaS5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT1lLmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSxlLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9X3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbihlLHQsaSxzKXtlKj10aGlzLl9jYWNoZWRVU2NhbGUsdCo9dGhpcy5fY2FjaGVkVlNjYWxlLGUtPXRoaXMudVJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFVTY2FsZSx0LT10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUsaS09dGhpcy53Um90YXRpb25DZW50ZXIscC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHMpLHMueCs9dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlK3RoaXMuX2NhY2hlZFVPZmZzZXQscy55Kz10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUrdGhpcy5fY2FjaGVkVk9mZnNldCxzLnorPXRoaXMud1JvdGF0aW9uQ2VudGVyfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGwmJnRoaXMudU9mZnNldD09PWUudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09ZS52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PWUudVNjYWxlJiZ0aGlzLnZTY2FsZT09PWUudlNjYWxlJiZ0aGlzLnVBbmc9PT1lLnVBbmcmJnRoaXMudkFuZz09PWUudkFuZyYmdGhpcy53QW5nPT09ZS53QW5nfWdldFRleHR1cmVNYXRyaXgoZT0xKXtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRVT2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT10aGlzLl9jYWNoZWRWT2Zmc2V0JiZ0aGlzLnVTY2FsZSplPT09dGhpcy5fY2FjaGVkVVNjYWxlJiZ0aGlzLnZTY2FsZT09PXRoaXMuX2NhY2hlZFZTY2FsZSYmdGhpcy51QW5nPT09dGhpcy5fY2FjaGVkVUFuZyYmdGhpcy52QW5nPT09dGhpcy5fY2FjaGVkVkFuZyYmdGhpcy53QW5nPT09dGhpcy5fY2FjaGVkV0FuZyYmdGhpcy51Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXImJnRoaXMudlJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyJiZ0aGlzLndSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlciYmdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT09PXRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFVTY2FsZT10aGlzLnVTY2FsZSplLHRoaXMuX2NhY2hlZFZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRVQW5nPXRoaXMudUFuZyx0aGlzLl9jYWNoZWRWQW5nPXRoaXMudkFuZyx0aGlzLl9jYWNoZWRXQW5nPXRoaXMud0FuZyx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9dGhpcy51Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPXRoaXMudlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj10aGlzLndSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT10aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtLCghdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8IXRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpJiYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD14Llplcm8oKSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW5ldyB4LHRoaXMuX3QwPXAuWmVybygpLHRoaXMuX3QxPXAuWmVybygpLHRoaXMuX3QyPXAuWmVybygpKSx4LlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy52QW5nLHRoaXMudUFuZyx0aGlzLndBbmcsdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCksdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT8oeC5UcmFuc2xhdGlvblRvUmVmKC10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEQuTWF0cml4WzBdKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRC5NYXRyaXhbMV0pLHguU2NhbGluZ1RvUmVmKHRoaXMuX2NhY2hlZFVTY2FsZSx0aGlzLl9jYWNoZWRWU2NhbGUsMCxELk1hdHJpeFsyXSkseC5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldCwwLEQuTWF0cml4WzNdKSxELk1hdHJpeFswXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzFdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFsyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzKDIsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxNF0sMSkpOih0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwwLDAsdGhpcy5fdDApLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigxLDAsMCx0aGlzLl90MSksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMSwwLHRoaXMuX3QyKSx0aGlzLl90MS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLHRoaXMuX3QyLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCkseC5Gcm9tVmFsdWVzVG9SZWYodGhpcy5fdDEueCx0aGlzLl90MS55LHRoaXMuX3QxLnosMCx0aGlzLl90Mi54LHRoaXMuX3QyLnksdGhpcy5fdDIueiwwLHRoaXMuX3QwLngsdGhpcy5fdDAueSx0aGlzLl90MC56LDAsMCwwLDAsMSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSk7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7cmV0dXJuIHQ/KHRoaXMub3B0aW1pemVVVkFsbG9jYXRpb24mJnQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmhhc1RleHR1cmUodGhpcykpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpOnRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtpZighZSlyZXR1cm4gdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZSYmdGhpcy5jb29yZGluYXRlc01vZGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlKWlmKHRoaXMuY29vcmRpbmF0ZXNNb2RlPT09Ti5QUk9KRUNUSU9OX01PREUpe2lmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Qcm9qZWN0aW9uTWF0cml4SWQ9PT1lLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1lbHNlIHJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PXguWmVybygpKSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeHx8KHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4PXguWmVybygpKTtjb25zdCB0PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUhPT10aGlzLmNvb3JkaW5hdGVzTW9kZTtzd2l0Y2godGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVVNjYWxlPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBOLlBMQU5BUl9NT0RFOnt4LklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzBdPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzEyXT10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTNdPXRoaXMudk9mZnNldDticmVha31jYXNlIE4uUFJPSkVDVElPTl9NT0RFOnt4LkZyb21WYWx1ZXNUb1JlZiguNSwwLDAsMCwwLC0uNSwwLDAsMCwwLDAsMCwuNSwuNSwxLDEsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgpO2NvbnN0IGk9ZS5nZXRQcm9qZWN0aW9uTWF0cml4KCk7dGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD1pLnVwZGF0ZUZsYWcsaS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OnguSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCk7YnJlYWt9cmV0dXJuIHQmJmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0aGlzKSE9PS0xKSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1jbG9uZSgpe2NvbnN0IGU9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gYWUuQ2xvbmUoKCk9Pm5ldyBOKHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS51cmw6bnVsbCx0aGlzLmdldFNjZW5lKCksZSksdGhpcyl9c2VyaWFsaXplKCl7dmFyIGUsdDtjb25zdCBpPXRoaXMubmFtZTtOLlNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiYodGhpcy5uYW1lPSIiKSx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy51cmw9PT10aGlzLm5hbWUmJih0aGlzLnVybD0iIik7Y29uc3Qgcz1zdXBlci5zZXJpYWxpemUoTi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpO3JldHVybiBzPygoTi5TZXJpYWxpemVCdWZmZXJzfHxOLkZvcmNlU2VyaWFsaXplQnVmZmVycykmJih0eXBlb2YgdGhpcy5fYnVmZmVyPT0ic3RyaW5nIiYmdGhpcy5fYnVmZmVyLnN1YnN0cigwLDUpPT09ImRhdGE6Ij8ocy5iYXNlNjRTdHJpbmc9dGhpcy5fYnVmZmVyLHMubmFtZT1zLm5hbWUucmVwbGFjZSgiZGF0YToiLCIiKSk6dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImRhdGE6IikmJnRoaXMuX2J1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cy5iYXNlNjRTdHJpbmc9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiK3NyKHRoaXMuX2J1ZmZlcik6KE4uRm9yY2VTZXJpYWxpemVCdWZmZXJzfHx0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiYmxvYjoiKXx8dGhpcy5fZm9yY2VTZXJpYWxpemUpJiYocy5iYXNlNjRTdHJpbmc9IXRoaXMuX2VuZ2luZXx8dGhpcy5fZW5naW5lLl9mZWF0dXJlcy5zdXBwb3J0U3luY1RleHR1cmVSZWFkP3FuKHRoaXMpOmpuKHRoaXMpKSkscy5pbnZlcnRZPXRoaXMuX2ludmVydFkscy5zYW1wbGluZ01vZGU9dGhpcy5zYW1wbGluZ01vZGUscy5fY3JlYXRpb25GbGFncz10aGlzLl9jcmVhdGlvbkZsYWdzLHMuX3VzZVNSR0JCdWZmZXI9dGhpcy5fdXNlU1JHQkJ1ZmZlcixOLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCYmKHMuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9KHQ9KGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVuaXF1ZUlkKSE9PW51bGwmJnQhPT12b2lkIDA/dDp2b2lkIDApLHRoaXMubmFtZT1pLHMpOm51bGx9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRleHR1cmUifWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5fYnVmZmVyPW51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtpZihlLmN1c3RvbVR5cGUpe2NvbnN0IGg9TGkuSW5zdGFudGlhdGUoZS5jdXN0b21UeXBlKS5QYXJzZShlLHQsaSk7cmV0dXJuIGUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZSYmaC5fc2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUhPT1lLnNhbXBsaW5nTW9kZSYmaC51cGRhdGVTYW1wbGluZ01vZGUoZS5zYW1wbGluZ01vZGUpLGh9aWYoZS5pc0N1YmUmJiFlLmlzUmVuZGVyVGFyZ2V0KXJldHVybiBOLl9DdWJlVGV4dHVyZVBhcnNlcihlLHQsaSk7Y29uc3Qgcz1lLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkIT09dm9pZCAwO2lmKCFlLm5hbWUmJiFlLmlzUmVuZGVyVGFyZ2V0JiYhcylyZXR1cm4gbnVsbDtsZXQgcjtpZihzKXtjb25zdCBvPXQuZ2V0RW5naW5lKCkuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2Zvcihjb25zdCBoIG9mIG8paWYoaC51bmlxdWVJZD09PWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpe3I9aDticmVha319Y29uc3Qgbj1vPT57dmFyIGg7aWYobyYmby5fdGV4dHVyZSYmKG8uX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwsby5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSxlLnNhbXBsaW5nTW9kZSl7Y29uc3QgbD1lLnNhbXBsaW5nTW9kZTtvJiZvLnNhbXBsaW5nTW9kZSE9PWwmJm8udXBkYXRlU2FtcGxpbmdNb2RlKGwpfWlmKG8mJmUuYW5pbWF0aW9ucylmb3IobGV0IGw9MDtsPGUuYW5pbWF0aW9ucy5sZW5ndGg7bCsrKXtjb25zdCB1PWUuYW5pbWF0aW9uc1tsXSxkPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2QmJm8uYW5pbWF0aW9ucy5wdXNoKGQuUGFyc2UodSkpfXMmJiFyJiYoKGg9bz09bnVsbD92b2lkIDA6by5fdGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLl9zZXRVbmlxdWVJZChlLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkKSl9O3JldHVybiBhZS5QYXJzZSgoKT0+e3ZhciBvLGgsbDtsZXQgdT0hMDtpZihlLm5vTWlwbWFwJiYodT0hMSksZS5taXJyb3JQbGFuZSl7Y29uc3QgZD1OLl9DcmVhdGVNaXJyb3IoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUpO3JldHVybiBkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3QsZC5taXJyb3JQbGFuZT14dC5Gcm9tQXJyYXkoZS5taXJyb3JQbGFuZSksbihkKSxkfWVsc2UgaWYoZS5pc1JlbmRlclRhcmdldCl7bGV0IGQ9bnVsbDtpZihlLmlzQ3ViZSl7aWYodC5yZWZsZWN0aW9uUHJvYmVzKWZvcihsZXQgZj0wO2Y8dC5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDtmKyspe2NvbnN0IF89dC5yZWZsZWN0aW9uUHJvYmVzW2ZdO2lmKF8ubmFtZT09PWUubmFtZSlyZXR1cm4gXy5jdWJlVGV4dHVyZX19ZWxzZSBkPU4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUsKG89ZS5fY3JlYXRpb25GbGFncykhPT1udWxsJiZvIT09dm9pZCAwP286MCksZC5fd2FpdGluZ1JlbmRlckxpc3Q9ZS5yZW5kZXJMaXN0O3JldHVybiBuKGQpLGR9ZWxzZXtsZXQgZDtpZihlLmJhc2U2NFN0cmluZyYmIXIpZD1OLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZS5iYXNlNjRTdHJpbmcsZS5iYXNlNjRTdHJpbmcsdCwhdSxlLmludmVydFksZS5zYW1wbGluZ01vZGUsKCk9PntuKGQpfSwoaD1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmghPT12b2lkIDA/aDowLChsPWUuX3VzZVNSR0JCdWZmZXIpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKSxkLm5hbWU9ZS5uYW1lO2Vsc2V7bGV0IGY7ZS5uYW1lJiZlLm5hbWUuaW5kZXhPZigiOi8vIik+MD9mPWUubmFtZTpmPWkrZS5uYW1lLGUudXJsJiYoZS51cmwuc3RhcnRzV2l0aCgiZGF0YToiKXx8Ti5Vc2VTZXJpYWxpemVkVXJsSWZBbnkpJiYoZj1lLnVybCk7Y29uc3QgXz17bm9NaXBtYXA6IXUsaW52ZXJ0WTplLmludmVydFksc2FtcGxpbmdNb2RlOmUuc2FtcGxpbmdNb2RlLG9uTG9hZDooKT0+e24oZCl9LGludGVybmFsVGV4dHVyZTpyfTtkPW5ldyBOKGYsdCxfKX1yZXR1cm4gZH19LGUsdCl9c3RhdGljIENyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZSx0LGkscyxyLG49Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGE9bnVsbCxvPW51bGwsaD01LGwpe3JldHVybiBuZXcgTigiZGF0YToiK3QsaSxzLHIsbixhLG8sZSwhMSxoLHZvaWQgMCx2b2lkIDAsbCl9c3RhdGljIExvYWRGcm9tRGF0YVN0cmluZyhlLHQsaSxzPSExLHIsbj0hMCxhPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxvPW51bGwsaD1udWxsLGw9NSx1KXtyZXR1cm4gZS5zdWJzdHIoMCw1KSE9PSJkYXRhOiImJihlPSJkYXRhOiIrZSksbmV3IE4oZSxpLHIsbixhLG8saCx0LHMsbCx2b2lkIDAsdm9pZCAwLHUpfX1OLlNlcmlhbGl6ZUJ1ZmZlcnM9ITAsTi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnM9ITEsTi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlPW5ldyBGLE4uX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkPSExLE4uX0N1YmVUZXh0dXJlUGFyc2VyPShjLGUsdCk9Pnt0aHJvdyBRKCJDdWJlVGV4dHVyZSIpfSxOLl9DcmVhdGVNaXJyb3I9KGMsZSx0LGkpPT57dGhyb3cgUSgiTWlycm9yVGV4dHVyZSIpfSxOLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPShjLGUsdCxpLHMpPT57dGhyb3cgUSgiUmVuZGVyVGFyZ2V0VGV4dHVyZSIpfSxOLk5FQVJFU1RfU0FNUExJTkdNT0RFPTEsTi5ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsTi5CSUxJTkVBUl9TQU1QTElOR01PREU9MixOLkxJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxOLlRSSUxJTkVBUl9TQU1QTElOR01PREU9MyxOLkxJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsTi5ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LE4uTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LE4uTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsTi5ORUFSRVNUX0xJTkVBUj03LE4uTkVBUkVTVF9ORUFSRVNUPTEsTi5MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksTi5MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsTi5MSU5FQVJfTElORUFSPTIsTi5MSU5FQVJfTkVBUkVTVD0xMixOLkVYUExJQ0lUX01PREU9MCxOLlNQSEVSSUNBTF9NT0RFPTEsTi5QTEFOQVJfTU9ERT0yLE4uQ1VCSUNfTU9ERT0zLE4uUFJPSkVDVElPTl9NT0RFPTQsTi5TS1lCT1hfTU9ERT01LE4uSU5WQ1VCSUNfTU9ERT02LE4uRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LE4uQ0xBTVBfQUREUkVTU01PREU9MCxOLldSQVBfQUREUkVTU01PREU9MSxOLk1JUlJPUl9BRERSRVNTTU9ERT0yLE4uVXNlU2VyaWFsaXplZFVybElmQW55PSExLFQoW1IoKV0sTi5wcm90b3R5cGUsInVybCIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1T2Zmc2V0Iix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZPZmZzZXQiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidVNjYWxlIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZTY2FsZSIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1QW5nIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInZBbmciLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwid0FuZyIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidlJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsIndSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJpc0Jsb2NraW5nIixudWxsKSxpdCgiQkFCWUxPTi5UZXh0dXJlIixOKSxhZS5fVGV4dHVyZVBhcnNlcj1OLlBhcnNlO2NsYXNzIFFue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwsdGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ITEsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPSExLHRoaXMuX2lzTXVsdGk9ZSx0aGlzLl9pc0N1YmU9dCx0aGlzLl9zaXplPWksdGhpcy5fZW5naW5lPXMsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWx9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl9pc0N1YmV9Z2V0IGlzTXVsdGkoKXtyZXR1cm4gdGhpcy5faXNNdWx0aX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMubGF5ZXJzPjB9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX3NpemUuaGVpZ2h0fHx0aGlzLl9zaXplfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy5fc2l6ZS5sYXllcnN8fDB9Z2V0IHRleHR1cmUoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0IHRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0U2FtcGxlcyhlLHQ9ITAsaT0hMSl7aWYodGhpcy5zYW1wbGVzPT09ZSYmIWkpcmV0dXJuIGU7Y29uc3Qgcz10aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpO3JldHVybiB0aGlzLl9zYW1wbGVzPWUsc31zZXRUZXh0dXJlcyhlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3RoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZpJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuO3JldHVybihuPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPWksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT10aGlzLl9lbmdpbmUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zaXplLHtiaWxpbmVhckZpbHRlcmluZzp0LGNvbXBhcmlzb25GdW5jdGlvbjplLGdlbmVyYXRlU3RlbmNpbDppLGlzQ3ViZTp0aGlzLl9pc0N1YmUsc2FtcGxlczpzLGRlcHRoVGV4dHVyZUZvcm1hdDpyfSx0aGlzKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfV9zaGFyZURlcHRoKGUpe3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJihlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRpc3Bvc2UoKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pbmNyZW1lbnRSZWZlcmVuY2VzKCkpfV9zd2FwQW5kRGllKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7dmFyIGUsdCxpLHMscixuO2xldCBhPW51bGw7aWYodGhpcy5faXNNdWx0aSl7Y29uc3Qgbz10aGlzLnRleHR1cmVzO2lmKG8mJm8ubGVuZ3RoPjApe2xldCBoPSExLGw9by5sZW5ndGg7Y29uc3QgdT1vW28ubGVuZ3RoLTFdLl9zb3VyY2U7KHU9PT1OZS5EZXB0aHx8dT09PU5lLkRlcHRoU3RlbmNpbCkmJihoPSEwLGwtLSk7Y29uc3QgZD1bXSxmPVtdO2ZvcihsZXQgbT0wO208bDsrK20pe2NvbnN0IHY9b1ttXTtkLnB1c2godi5zYW1wbGluZ01vZGUpLGYucHVzaCh2LnR5cGUpfWNvbnN0IF89e3NhbXBsaW5nTW9kZXM6ZCxnZW5lcmF0ZU1pcE1hcHM6b1swXS5nZW5lcmF0ZU1pcE1hcHMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsZ2VuZXJhdGVEZXB0aFRleHR1cmU6aCx0eXBlczpmLHRleHR1cmVDb3VudDpsfSxFPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH07YT10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXQoRSxfKX19ZWxzZXtjb25zdCBvPXt9O2lmKG8uZ2VuZXJhdGVEZXB0aEJ1ZmZlcj10aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLG8uZ2VuZXJhdGVNaXBNYXBzPSh0PShlPXRoaXMudGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITEsby5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLG8uc2FtcGxpbmdNb2RlPShpPXRoaXMudGV4dHVyZSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNhbXBsaW5nTW9kZSxvLnR5cGU9KHM9dGhpcy50ZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudHlwZSxvLmZvcm1hdD0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5mb3JtYXQsdGhpcy5pc0N1YmUpYT10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy53aWR0aCxvKTtlbHNle2NvbnN0IGg9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LGxheWVyczp0aGlzLmlzMkRBcnJheT8obj10aGlzLnRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5kZXB0aDp2b2lkIDB9O2E9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoaCxvKX1hLnRleHR1cmUuaXNSZWFkeT0hMH1yZXR1cm4gYX1fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSl7aWYodGhpcy5fdGV4dHVyZXMmJmUuX3RleHR1cmVzKWZvcihsZXQgdD0wO3Q8dGhpcy5fdGV4dHVyZXMubGVuZ3RoOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5fc3dhcEFuZERpZShlLl90ZXh0dXJlc1t0XSwhMSksZS5fdGV4dHVyZXNbdF0uaXNSZWFkeT0hMDt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fc3dhcEFuZERpZShlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmlzUmVhZHk9ITApLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfV9yZWJ1aWxkKCl7Y29uc3QgZT10aGlzLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKTtpZighIWUpe2lmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGluZ01vZGUsaT10PT09Mnx8dD09PTN8fHQ9PT0xMTtlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fY29tcGFyaXNvbkZ1bmN0aW9uLGksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxlcyl9dGhpcy5zYW1wbGVzPjEmJmUuc2V0U2FtcGxlcyh0aGlzLnNhbXBsZXMpLGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpLGUuZGlzcG9zZSgpfX1yZWxlYXNlVGV4dHVyZXMoKXt2YXIgZSx0O2lmKHRoaXMuX3RleHR1cmVzKWZvcihsZXQgaT0wOyh0PWk8KChlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUubGVuZ3RoKSkhPT1udWxsJiZ0IT09dm9pZCAwJiZ0OysraSl0aGlzLl90ZXh0dXJlc1tpXS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXM9bnVsbH1kaXNwb3NlKGU9ITEpe3ZhciB0O2V8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLnJlbGVhc2VUZXh0dXJlcygpKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpfX1jbGFzcyAkbiBleHRlbmRzIFFue2NvbnN0cnVjdG9yKGUsdCxpLHMscil7c3VwZXIoZSx0LGkscyksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsLHRoaXMuX2NvbnRleHQ9cn1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7bGV0IGU9bnVsbDtyZXR1cm4gdGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJnRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT8oZT10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGl2aWV3UmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxlLnRleHR1cmUuaXNSZWFkeT0hMCk6ZT1zdXBlci5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCksZX1fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSl7c3VwZXIuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpLGUuX2ZyYW1lYnVmZmVyPXRoaXMuX2ZyYW1lYnVmZmVyLGUuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsZS5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcixlLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9jb2xvclRleHR1cmVBcnJheSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5LHRoaXMuX2ZyYW1lYnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGx9X3NoYXJlRGVwdGgoZSl7c3VwZXIuX3NoYXJlRGVwdGgoZSk7Y29uc3QgdD10aGlzLl9jb250ZXh0LGk9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHM9ZS5fTVNBQUZyYW1lYnVmZmVyfHxlLl9mcmFtZWJ1ZmZlcjtlLl9kZXB0aFN0ZW5jaWxCdWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKGUuX2RlcHRoU3RlbmNpbEJ1ZmZlciksZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIocyksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuREVQVEhfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUixpKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9X2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdD0wLGk9LTEscz0wKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXJldHVybjtjb25zdCByPXRoaXMuX2NvbnRleHQsbj10aGlzLl9mcmFtZWJ1ZmZlcixhPXRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lYnVmZmVyO3RoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihuKTtjb25zdCBvPXJbdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xPyJDT0xPUl9BVFRBQ0hNRU5UIit0OiJDT0xPUl9BVFRBQ0hNRU5UIit0KyJfV0VCR0wiXSxoPWkhPT0tMT9yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpOnIuVEVYVFVSRV8yRDtyLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHIuRlJBTUVCVUZGRVIsbyxoLGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UscyksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7c3VwZXIuc2V0VGV4dHVyZShlLHQsaSksdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoZSx0KX1kaXNwb3NlKGU9ITEpe2NvbnN0IHQ9dGhpcy5fY29udGV4dDtlfHwodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkpLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsKSksdGhpcy5fZnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2ZyYW1lYnVmZmVyKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSx0aGlzLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX01TQUFGcmFtZWJ1ZmZlciksdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpLHN1cGVyLmRpc3Bvc2UoZSl9fW9lLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPW5ldyAkbihjLGUsdCx0aGlzLHRoaXMuX2dsKTtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnB1c2goaSksaX0sb2UucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2NvbnN0IHM9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCExLGMpO2xldCByPSEwLG49ITEsYT0hMSxvLGg9MTtlIT09dm9pZCAwJiZ0eXBlb2YgZT09Im9iamVjdCImJihyPSh0PWUuZ2VuZXJhdGVEZXB0aEJ1ZmZlcikhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITAsbj0hIWUuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGE9ISFlLm5vQ29sb3JBdHRhY2htZW50LG89ZS5jb2xvckF0dGFjaG1lbnQsaD0oaT1lLnNhbXBsZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOjEpO2NvbnN0IGw9b3x8KGE/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoYyxlLCEwLE5lLlJlbmRlclRhcmdldCkpLHU9Yy53aWR0aHx8YyxkPWMuaGVpZ2h0fHxjLGY9dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyLF89dGhpcy5fZ2wsRT1fLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoRSkscy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKG4scix1LGQpLGwmJiFsLmlzMkRBcnJheSYmXy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsXy5URVhUVVJFXzJELGwuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UsMCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSxzLl9mcmFtZWJ1ZmZlcj1FLHMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9cixzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9bixzLnNldFRleHR1cmVzKGwpLHRoaXMudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHMsaCksc30sb2UucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oYyxlLHQpe2lmKGUuaXNDdWJlKXtjb25zdCBpPWMud2lkdGh8fGM7cmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbEN1YmVUZXh0dXJlKGksZSx0KX1lbHNlIHJldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGMsZSx0KX0sb2UucHJvdG90eXBlLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPXRoaXMuX2dsLHM9Yy5sYXllcnN8fDAscj1zIT09MD9pLlRFWFRVUkVfMkRfQVJSQVk6aS5URVhUVVJFXzJELG49bmV3IE90KHRoaXMsTmUuRGVwdGhTdGVuY2lsKTtpZighdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb24pcmV0dXJuIE8uRXJyb3IoIkRlcHRoIHRleHR1cmUgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIgb3IgaGFyZHdhcmUuIiksbjtjb25zdCBhPXtiaWxpbmVhckZpbHRlcmluZzohMSxjb21wYXJpc29uRnVuY3Rpb246MCxnZW5lcmF0ZVN0ZW5jaWw6ITEsLi4uZX07aWYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShyLG4sITApLHRoaXMuX3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShuLGMsYS5nZW5lcmF0ZVN0ZW5jaWwsYS5jb21wYXJpc29uRnVuY3Rpb249PT0wPyExOmEuYmlsaW5lYXJGaWx0ZXJpbmcsYS5jb21wYXJpc29uRnVuY3Rpb24sYS5zYW1wbGVzKSxhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PXZvaWQgMCl7aWYoYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNSYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNiYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xMyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNCYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xOClyZXR1cm4gTy5FcnJvcigiRGVwdGggdGV4dHVyZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4iKSxuO24uZm9ybWF0PWEuZGVwdGhUZXh0dXJlRm9ybWF0fWVsc2Ugbi5mb3JtYXQ9YS5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTY7Y29uc3Qgbz1uLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzfHxuLmZvcm1hdD09PTE4O3QuX2RlcHRoU3RlbmNpbFRleHR1cmU9bix0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9bztsZXQgaD1pLlVOU0lHTkVEX0lOVDtuLmZvcm1hdD09PTE1P2g9aS5VTlNJR05FRF9TSE9SVDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP2g9aS5VTlNJR05FRF9JTlRfMjRfODpuLmZvcm1hdD09PTE0P2g9aS5GTE9BVDpuLmZvcm1hdD09PTE4JiYoaD1pLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVik7Y29uc3QgbD1vP2kuREVQVEhfU1RFTkNJTDppLkRFUFRIX0NPTVBPTkVOVDtsZXQgdT1sO3RoaXMud2ViR0xWZXJzaW9uPjEmJihuLmZvcm1hdD09PTE1P3U9aS5ERVBUSF9DT01QT05FTlQxNjpuLmZvcm1hdD09PTE2P3U9aS5ERVBUSF9DT01QT05FTlQyNDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP3U9aS5ERVBUSDI0X1NURU5DSUw4Om4uZm9ybWF0PT09MTQ/dT1pLkRFUFRIX0NPTVBPTkVOVDMyRjpuLmZvcm1hdD09PTE4JiYodT1pLkRFUFRIMzJGX1NURU5DSUw4KSksbi5pczJEQXJyYXk/aS50ZXhJbWFnZTNEKHIsMCx1LG4ud2lkdGgsbi5oZWlnaHQscywwLGwsaCxudWxsKTppLnRleEltYWdlMkQociwwLHUsbi53aWR0aCxuLmhlaWdodCwwLGwsaCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCksdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gobik7Y29uc3QgZD10O2lmKGQuX2RlcHRoU3RlbmNpbEJ1ZmZlcil7Y29uc3QgZj10aGlzLl9jdXJyZW50RnJhbWVidWZmZXI7dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihkLl9mcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLkRFUFRIX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZiksaS5kZWxldGVSZW5kZXJidWZmZXIoZC5fZGVwdGhTdGVuY2lsQnVmZmVyKSxkLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbH1yZXR1cm4gbn0sb2UucHJvdG90eXBlLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudD1mdW5jdGlvbihjLGUpe2lmKHRoaXMud2ViR0xWZXJzaW9uPDJ8fCFjfHwhYy50ZXh0dXJlKXJldHVybiAxO2lmKGMuc2FtcGxlcz09PWUpcmV0dXJuIGU7Y29uc3QgdD10aGlzLl9nbDtlPU1hdGgubWluKGUsdGhpcy5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksYy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLGMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKSxjLl9NU0FBRnJhbWVidWZmZXI9bnVsbCk7Y29uc3QgaT1jLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihpLl9NU0FBUmVuZGVyQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoaS5fTVNBQVJlbmRlckJ1ZmZlciksaS5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSxlPjEmJnQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKXtjb25zdCBzPXQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2MuX01TQUFGcmFtZWJ1ZmZlcj1zLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKTtjb25zdCByPXRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihjLnRleHR1cmUud2lkdGgsYy50ZXh0dXJlLmhlaWdodCxlLC0xLHRoaXMuX2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChjLnRleHR1cmUudHlwZSksdC5DT0xPUl9BVFRBQ0hNRU5UMCwhMSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLl9NU0FBUmVuZGVyQnVmZmVyPXJ9ZWxzZSB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGMuX2ZyYW1lYnVmZmVyKTtyZXR1cm4gYy50ZXh0dXJlLnNhbXBsZXM9ZSxjLl9zYW1wbGVzPWUsYy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixjLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGMudGV4dHVyZS53aWR0aCxjLnRleHR1cmUuaGVpZ2h0LGUpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksZX0sb2UucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITAsYyksaT17Z2VuZXJhdGVNaXBNYXBzOiEwLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITAsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6Myxmb3JtYXQ6NSwuLi5lfTtpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlRGVwdGhCdWZmZXImJmkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLChpLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGkudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoaS5zYW1wbGluZ01vZGU9MSk7Y29uc3Qgcz10aGlzLl9nbCxyPW5ldyBPdCh0aGlzLE5lLlJlbmRlclRhcmdldCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsciwhMCk7Y29uc3Qgbj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoaS5zYW1wbGluZ01vZGUsaS5nZW5lcmF0ZU1pcE1hcHMpO2kudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGkudHlwZT0wLE8uV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIEN1YmUgcmVuZGVyIHRhcmdldCBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5FU0lHTkVEX0JZVEUgdHlwZSIpKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NQUdfRklMVEVSLG4ubWFnKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NSU5fRklMVEVSLG4ubWluKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Mscy5DTEFNUF9UT19FREdFKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Qscy5DTEFNUF9UT19FREdFKTtmb3IobGV0IG89MDtvPDY7bysrKXMudGV4SW1hZ2UyRChzLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtvLDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoaS50eXBlLGkuZm9ybWF0KSxjLGMsMCx0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChpLmZvcm1hdCksdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShpLnR5cGUpLG51bGwpO2NvbnN0IGE9cy5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixpLmdlbmVyYXRlRGVwdGhCdWZmZXIsYyxjKSxpLmdlbmVyYXRlTWlwTWFwcyYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfQ1VCRV9NQVApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocy5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdC5fZnJhbWVidWZmZXI9YSx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9aS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci53aWR0aD1jLHIuaGVpZ2h0PWMsci5pc1JlYWR5PSEwLHIuaXNDdWJlPSEwLHIuc2FtcGxlcz0xLHIuZ2VuZXJhdGVNaXBNYXBzPWkuZ2VuZXJhdGVNaXBNYXBzLHIuc2FtcGxpbmdNb2RlPWkuc2FtcGxpbmdNb2RlLHIudHlwZT1pLnR5cGUsci5mb3JtYXQ9aS5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gociksdC5zZXRUZXh0dXJlcyhyKSx0fTtjb25zdCBKbj0icG9zdHByb2Nlc3NWZXJ0ZXhTaGFkZXIiLGVhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIHNjYWxlOwp2YXJ5aW5nIHZlYzIgdlVWOwpjb25zdCB2ZWMyIG1hZGQ9dmVjMigwLjUsMC41KTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZVVj0ocG9zaXRpb24qbWFkZCttYWRkKSpzY2FsZTsKZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO1UuU2hhZGVyc1N0b3JlW0puXT1lYTtjb25zdCBXcz17cG9zaXRpb25zOlsxLDEsLTEsMSwtMSwtMSwxLC0xXSxpbmRpY2VzOlswLDEsMiwwLDIsM119O2NsYXNzIHRhe2NvbnN0cnVjdG9yKGUsdD1Xcyl7dmFyIGksczt0aGlzLl9mdWxsc2NyZWVuVmlld3BvcnQ9bmV3IEJpKDAsMCwxLDEpO2NvbnN0IHI9KGk9dC5wb3NpdGlvbnMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOldzLnBvc2l0aW9ucyxuPShzPXQuaW5kaWNlcykhPT1udWxsJiZzIT09dm9pZCAwP3M6V3MuaW5kaWNlczt0aGlzLmVuZ2luZT1lLHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e1tnLlBvc2l0aW9uS2luZF06bmV3IGcoZSxyLGcuUG9zaXRpb25LaW5kLCExLCExLDIpfSx0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5faW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTtmb3IoY29uc3QgYSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYV0uX3JlYnVpbGQoKX0pfXNldFZpZXdwb3J0KGU9dGhpcy5fZnVsbHNjcmVlblZpZXdwb3J0KXt0aGlzLmVuZ2luZS5zZXRWaWV3cG9ydChlKX1iaW5kQnVmZmVycyhlKXt0aGlzLmVuZ2luZS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGUpfWFwcGx5RWZmZWN0V3JhcHBlcihlKXt0aGlzLmVuZ2luZS5zZXRTdGF0ZSghMCksdGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSExLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMSx0aGlzLmVuZ2luZS5lbmFibGVFZmZlY3QoZS5fZHJhd1dyYXBwZXIpLHRoaXMuYmluZEJ1ZmZlcnMoZS5lZmZlY3QpLGUub25BcHBseU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KX1yZXN0b3JlU3RhdGVzKCl7dGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMH1kcmF3KCl7dGhpcy5lbmdpbmUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNil9X2lzUmVuZGVyVGFyZ2V0VGV4dHVyZShlKXtyZXR1cm4gZS5yZW5kZXJUYXJnZXQhPT12b2lkIDB9cmVuZGVyKGUsdD1udWxsKXtpZighZS5lZmZlY3QuaXNSZWFkeSgpKXJldHVybjt0aGlzLnNldFZpZXdwb3J0KCk7Y29uc3QgaT10PT09bnVsbD9udWxsOnRoaXMuX2lzUmVuZGVyVGFyZ2V0VGV4dHVyZSh0KT90LnJlbmRlclRhcmdldDp0O2kmJnRoaXMuZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLmFwcGx5RWZmZWN0V3JhcHBlcihlKSx0aGlzLmRyYXcoKSxpJiZ0aGlzLmVuZ2luZS51bkJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLnJlc3RvcmVTdGF0ZXMoKX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdKSx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLmVuZ2luZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCl9fWNsYXNzIGlhe2NvbnN0cnVjdG9yKGUpe3RoaXMub25BcHBseU9ic2VydmFibGU9bmV3IEY7bGV0IHQ7Y29uc3QgaT1lLnVuaWZvcm1OYW1lc3x8W107ZS52ZXJ0ZXhTaGFkZXI/dD17ZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudFNoYWRlcix2ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhTaGFkZXIsc3BlY3Rvck5hbWU6ZS5uYW1lfHwiZWZmZWN0V3JhcHBlciJ9OihpLnB1c2goInNjYWxlIiksdD17ZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudFNoYWRlcix2ZXJ0ZXg6InBvc3Rwcm9jZXNzIixzcGVjdG9yTmFtZTplLm5hbWV8fCJlZmZlY3RXcmFwcGVyIn0sdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmVmZmVjdC5zZXRGbG9hdDIoInNjYWxlIiwxLDEpfSkpO2NvbnN0IHM9ZS5kZWZpbmVzP2UuZGVmaW5lcy5qb2luKGAKYCk6IiI7dGhpcy5fZHJhd1dyYXBwZXI9bmV3IG1pKGUuZW5naW5lKSxlLnVzZVNoYWRlclN0b3JlPyh0LmZyYWdtZW50PXQuZnJhZ21lbnRTb3VyY2UsdC52ZXJ0ZXh8fCh0LnZlcnRleD10LnZlcnRleFNvdXJjZSksZGVsZXRlIHQuZnJhZ21lbnRTb3VyY2UsZGVsZXRlIHQudmVydGV4U291cmNlLHRoaXMuZWZmZWN0PWUuZW5naW5lLmNyZWF0ZUVmZmVjdCh0LGUuYXR0cmlidXRlTmFtZXN8fFsicG9zaXRpb24iXSxpLGUuc2FtcGxlck5hbWVzLHMsdm9pZCAwLGUub25Db21waWxlZCx2b2lkIDAsdm9pZCAwLGUuc2hhZGVyTGFuZ3VhZ2UpKToodGhpcy5lZmZlY3Q9bmV3IFBlKHQsZS5hdHRyaWJ1dGVOYW1lc3x8WyJwb3NpdGlvbiJdLGksZS5zYW1wbGVyTmFtZXMsZS5lbmdpbmUscyx2b2lkIDAsZS5vbkNvbXBpbGVkLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGUuc2hhZGVyTGFuZ3VhZ2UpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5lbmdpbmUub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZWZmZWN0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0aGlzLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHRoaXMuZWZmZWN0Ll9wcmVwYXJlRWZmZWN0KCl9KSl9Z2V0IGVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9c2V0IGVmZmVjdChlKXt0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9ZX1kaXNwb3NlKCl7dGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuZWZmZWN0LmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSx0aGlzLmVmZmVjdC5kaXNwb3NlKCl9fWNvbnN0IHdyPSJwYXNzUGl4ZWxTaGFkZXIiLE9yPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIAp7CmdsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsdlVWKTsKfWA7VS5TaGFkZXJzU3RvcmVbd3JdPU9yO2NvbnN0IExyPXtuYW1lOndyLHNoYWRlcjpPcn07Y2xhc3MgdHR7c3RhdGljIF9DcmVhdGVEdW1wUmVuZGVyZXIoKXtpZighdHQuX0R1bXBUb29sc0VuZ2luZSl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0PW5ldyBvZShlLCExLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsZGVwdGg6ITEsc3RlbmNpbDohMSxhbHBoYTohMCxwcmVtdWx0aXBsaWVkQWxwaGE6ITEsYW50aWFsaWFzOiExLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITF9KTt0LmdldENhcHMoKS5wYXJhbGxlbFNoYWRlckNvbXBpbGU9dm9pZCAwO2NvbnN0IGk9bmV3IHRhKHQpLHM9bmV3IGlhKHtlbmdpbmU6dCxuYW1lOkxyLm5hbWUsZnJhZ21lbnRTaGFkZXI6THIuc2hhZGVyLHNhbXBsZXJOYW1lczpbInRleHR1cmVTYW1wbGVyIl19KTt0dC5fRHVtcFRvb2xzRW5naW5lPXtjYW52YXM6ZSxlbmdpbmU6dCxyZW5kZXJlcjppLHdyYXBwZXI6c319cmV0dXJuIHR0Ll9EdW1wVG9vbHNFbmdpbmV9c3RhdGljIGFzeW5jIER1bXBGcmFtZWJ1ZmZlcihlLHQsaSxzLHI9ImltYWdlL3BuZyIsbil7Y29uc3QgYT1hd2FpdCBpLnJlYWRQaXhlbHMoMCwwLGUsdCksbz1uZXcgVWludDhBcnJheShhLmJ1ZmZlcik7dHQuRHVtcERhdGEoZSx0LG8scyxyLG4sITApfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7cmV0dXJuIG5ldyBQcm9taXNlKGg9Pnt0dC5EdW1wRGF0YShlLHQsaSxsPT5oKGwpLHMscixuLGEsbyl9KX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe2NvbnN0IGw9dHQuX0NyZWF0ZUR1bXBSZW5kZXJlcigpO2lmKGwuZW5naW5lLnNldFNpemUoZSx0LCEwKSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBkPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKTtsZXQgZj1pLmxlbmd0aDtmb3IoO2YtLTspe2NvbnN0IF89aVtmXTtkW2ZdPV88MD8wOl8+MT8xOk1hdGgucm91bmQoXyoyNTUpfWk9ZH1jb25zdCB1PWwuZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUoaSxlLHQsNSwhMSwhYSwxKTtsLnJlbmRlcmVyLnNldFZpZXdwb3J0KCksbC5yZW5kZXJlci5hcHBseUVmZmVjdFdyYXBwZXIobC53cmFwcGVyKSxsLndyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHUpLGwucmVuZGVyZXIuZHJhdygpLG8/SC5Ub0Jsb2IobC5jYW52YXMsZD0+e2NvbnN0IGY9bmV3IEZpbGVSZWFkZXI7Zi5vbmxvYWQ9Xz0+e2NvbnN0IEU9Xy50YXJnZXQucmVzdWx0O3MmJnMoRSl9LGYucmVhZEFzQXJyYXlCdWZmZXIoZCl9LHIsaCk6SC5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShsLmNhbnZhcyxzLHIsbixoKSx1LmRpc3Bvc2UoKX1zdGF0aWMgRGlzcG9zZSgpe3R0Ll9EdW1wVG9vbHNFbmdpbmUmJih0dC5fRHVtcFRvb2xzRW5naW5lLndyYXBwZXIuZGlzcG9zZSgpLHR0Ll9EdW1wVG9vbHNFbmdpbmUucmVuZGVyZXIuZGlzcG9zZSgpLHR0Ll9EdW1wVG9vbHNFbmdpbmUuZW5naW5lLmRpc3Bvc2UoKSksdHQuX0R1bXBUb29sc0VuZ2luZT1udWxsfX0oKCk9PntILkR1bXBEYXRhPXR0LkR1bXBEYXRhLEguRHVtcERhdGFBc3luYz10dC5EdW1wRGF0YUFzeW5jLEguRHVtcEZyYW1lYnVmZmVyPXR0LkR1bXBGcmFtZWJ1ZmZlcn0pKCk7Y2xhc3MgX3QgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKGUsdCxpLHM9ITEscj0hMCxuPTAsYT0hMSxvPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxoPSEwLGw9ITEsdT0hMSxkPTUsZj0hMSxfLEUsbT0hMSx2PSExKXt2YXIgUyx5LEEsQyxiLE07bGV0IEw7aWYodHlwZW9mIHM9PSJvYmplY3QiKXtjb25zdCB3PXM7cz0hIXcuZ2VuZXJhdGVNaXBNYXBzLHI9KFM9dy5kb05vdENoYW5nZUFzcGVjdFJhdGlvKSE9PW51bGwmJlMhPT12b2lkIDA/UzohMCxuPSh5PXcudHlwZSkhPT1udWxsJiZ5IT09dm9pZCAwP3k6MCxhPSEhdy5pc0N1YmUsbz0oQT13LnNhbXBsaW5nTW9kZSkhPT1udWxsJiZBIT09dm9pZCAwP0E6Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGg9KEM9dy5nZW5lcmF0ZURlcHRoQnVmZmVyKSE9PW51bGwmJkMhPT12b2lkIDA/QzohMCxsPSEhdy5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsdT0hIXcuaXNNdWx0aSxkPShiPXcuZm9ybWF0KSE9PW51bGwmJmIhPT12b2lkIDA/Yjo1LGY9ISF3LmRlbGF5QWxsb2NhdGlvbixfPXcuc2FtcGxlcyxFPXcuY3JlYXRpb25GbGFncyxtPSEhdy5ub0NvbG9yQXR0YWNobWVudCx2PSEhdy51c2VTUkdCQnVmZmVyLEw9dy5jb2xvckF0dGFjaG1lbnR9aWYoc3VwZXIobnVsbCxpLCFzLHZvaWQgMCxvLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxkKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQ9KHcsZGUpPT57dmFyIGNlO2NvbnN0IHNlPXRoaXMuX3JlbmRlckxpc3Q/dGhpcy5fcmVuZGVyTGlzdC5sZW5ndGg6MDsoZGU9PT0wJiZzZT4wfHxzZT09PTApJiYoKGNlPXRoaXMuZ2V0U2NlbmUoKSk9PT1udWxsfHxjZT09PXZvaWQgMHx8Y2UubWVzaGVzLmZvckVhY2godGU9Pnt0ZS5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpfSx0aGlzLnJlbmRlclBhcnRpY2xlcz0hMCx0aGlzLnJlbmRlclNwcml0ZXM9ITEsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrPSExLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5za2lwSW5pdGlhbENsZWFyPSExLHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsdGhpcy5fcmVmcmVzaFJhdGU9MSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5fY2FuUmVzY2FsZT0hMCx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLmJvdW5kaW5nQm94UG9zaXRpb249cC5aZXJvKCksaT10aGlzLmdldFNjZW5lKCksIWkpcmV0dXJuO2NvbnN0IGs9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMuX2Nvb3JkaW5hdGVzTW9kZT1OLlBST0pFQ1RJT05fTU9ERSx0aGlzLnJlbmRlckxpc3Q9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaXNSZW5kZXJUYXJnZXQ9ITAsdGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXI9dCx0aGlzLl9yZW5kZXJQYXNzSWRzPVtdLHRoaXMuX2lzQ3ViZURhdGE9YSx0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcih0KSx0aGlzLnJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzWzBdLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPWsub25SZXNpemVPYnNlcnZhYmxlLmFkZCgoKT0+e30pLHRoaXMuX2dlbmVyYXRlTWlwTWFwcz0hIXMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbz1yLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IFdlKGkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITAsIXUmJih0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zPXtnZW5lcmF0ZU1pcE1hcHM6cyx0eXBlOm4sZm9ybWF0OihNPXRoaXMuX2Zvcm1hdCkhPT1udWxsJiZNIT09dm9pZCAwP006dm9pZCAwLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxnZW5lcmF0ZURlcHRoQnVmZmVyOmgsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOmwsc2FtcGxlczpfLGNyZWF0aW9uRmxhZ3M6RSxub0NvbG9yQXR0YWNobWVudDptLHVzZVNSR0JCdWZmZXI6dixjb2xvckF0dGFjaG1lbnQ6TH0sdGhpcy5zYW1wbGluZ01vZGU9PT1OLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodGhpcy53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSksZnx8KGE/KHRoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpLHRoaXMuY29vcmRpbmF0ZXNNb2RlPU4uSU5WQ1VCSUNfTU9ERSx0aGlzLl90ZXh0dXJlTWF0cml4PXguSWRlbnRpdHkoKSk6dGhpcy5fcmVuZGVyVGFyZ2V0PWkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLl9zaXplLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpLHRoaXMuX3RleHR1cmU9dGhpcy5fcmVuZGVyVGFyZ2V0LnRleHR1cmUsXyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz1fKSkpfWdldCByZW5kZXJMaXN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlckxpc3R9c2V0IHJlbmRlckxpc3QoZSl7dGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdCYmKHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3QoKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PVFzKGUsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQpKSx0aGlzLl9yZW5kZXJMaXN0PWV9Z2V0IHBvc3RQcm9jZXNzZXMoKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc31nZXQgX3ByZVBhc3NFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9c2V0IG9uQWZ0ZXJVbmJpbmQoZSl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ2xlYXIoZSl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgcmVuZGVyUGFzc0lkcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfWdldCBjdXJyZW50UmVmcmVzaElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXtsZXQgaTtBcnJheS5pc0FycmF5KGUpP2k9ZTppPVtlXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylmb3IobGV0IHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcilpW3NdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdLHQhPT12b2lkIDA/QXJyYXkuaXNBcnJheSh0KT90W3JdOnQ6dm9pZCAwKX1nZXQgcmVuZGVyVGFyZ2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfWdldCByZW5kZXJUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0fV9vblJhdGlvUmVzY2FsZSgpe3RoaXMuX3NpemVSYXRpbyYmdGhpcy5yZXNpemUodGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXIpfXNldCBib3VuZGluZ0JveFNpemUoZSl7aWYodGhpcy5fYm91bmRpbmdCb3hTaXplJiZ0aGlzLl9ib3VuZGluZ0JveFNpemUuZXF1YWxzKGUpKXJldHVybjt0aGlzLl9ib3VuZGluZ0JveFNpemU9ZTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTt0JiZ0Lm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfWdldCBib3VuZGluZ0JveFNpemUoKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuOyhuPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyxyKX1fcmVsZWFzZVJlbmRlclBhc3NJZCgpe2lmKHRoaXMuX3NjZW5lKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7Kyt0KWUucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLl9yZW5kZXJQYXNzSWRzW3RdKX10aGlzLl9yZW5kZXJQYXNzSWRzPVtdfV9jcmVhdGVSZW5kZXJQYXNzSWQoKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX2lzQ3ViZURhdGE/Njp0aGlzLmdldFJlbmRlckxheWVycygpfHwxO2ZvcihsZXQgaT0wO2k8dDsrK2kpdGhpcy5fcmVuZGVyUGFzc0lkc1tpXT1lLmNyZWF0ZVJlbmRlclBhc3NJZChgUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICR7dGhpcy5uYW1lfSMke2l9YCl9X3Byb2Nlc3NTaXplUGFyYW1ldGVyKGUpe2lmKGUucmF0aW8pe3RoaXMuX3NpemVSYXRpbz1lLnJhdGlvO2NvbnN0IHQ9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24odC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPWU7dGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9Z2V0IHNhbXBsZXMoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyhlKSl9cmVzZXRSZWZyZXNoQ291bnRlcigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2hSYXRlfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9yZWZyZXNoUmF0ZT1lLHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfWFkZFBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3ICRpKHQpLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXRoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKSx0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMX1jbGVhclBvc3RQcm9jZXNzZXMoZT0hMSl7aWYoISF0aGlzLl9wb3N0UHJvY2Vzc2VzKXtpZihlKWZvcihjb25zdCB0IG9mIHRoaXMuX3Bvc3RQcm9jZXNzZXMpdC5kaXNwb3NlKCk7dGhpcy5fcG9zdFByb2Nlc3Nlcz1bXX19cmVtb3ZlUG9zdFByb2Nlc3MoZSl7aWYoIXRoaXMuX3Bvc3RQcm9jZXNzZXMpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpO3QhPT0tMSYmKHRoaXMuX3Bvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSksdGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg+MCYmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbMF0uYXV0b0NsZWFyPSExKSl9X3Nob3VsZFJlbmRlcigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkPT09LTE/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6dGhpcy5yZWZyZXNoUmF0ZT09PXRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQrKywhMSl9Z2V0UmVuZGVyU2l6ZSgpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCl9Z2V0UmVuZGVyV2lkdGgoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aD90aGlzLl9zaXplLndpZHRoOnRoaXMuX3NpemV9Z2V0UmVuZGVySGVpZ2h0KCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS5oZWlnaHQ6dGhpcy5fc2l6ZX1nZXRSZW5kZXJMYXllcnMoKXtjb25zdCBlPXRoaXMuX3NpemUubGF5ZXJzO3JldHVybiBlfHwwfWRpc2FibGVSZXNjYWxpbmcoKXt0aGlzLl9jYW5SZXNjYWxlPSExfWdldCBjYW5SZXNjYWxlKCl7cmV0dXJuIHRoaXMuX2NhblJlc2NhbGV9c2NhbGUoZSl7Y29uc3QgdD1NYXRoLm1heCgxLHRoaXMuZ2V0UmVuZGVyU2l6ZSgpKmUpO3RoaXMucmVzaXplKHQpfWdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl7cmV0dXJuIHRoaXMuaXNDdWJlP3RoaXMuX3RleHR1cmVNYXRyaXg6c3VwZXIuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKX1yZXNpemUoZSl7dmFyIHQ7Y29uc3QgaT10aGlzLmlzQ3ViZTsodD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGw7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCk7IXN8fCh0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKSxpP3RoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfXJlbmRlcihlPSExLHQ9ITEpe3RoaXMuX3JlbmRlcihlLHQpfWlzUmVhZHlGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX1fcmVuZGVyKGU9ITEsdD0hMSxpPSExKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm4gaTtjb25zdCBuPXIuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYoZT10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKGxldCB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXtjb25zdCBkPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGY9ci5nZXRNZXNoQnlJZChkKTtmJiZ0aGlzLnJlbmRlckxpc3QucHVzaChmKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTtjb25zdCB1PXRoaXMuZ2V0U2NlbmUoKTtpZighdSlyZXR1cm4gaTtjb25zdCBkPXUubWVzaGVzO2ZvcihsZXQgZj0wO2Y8ZC5sZW5ndGg7ZisrKXtjb25zdCBfPWRbZl07dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKF8pJiZ0aGlzLnJlbmRlckxpc3QucHVzaChfKX19Y29uc3QgYT1uLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBvPShzPXRoaXMuYWN0aXZlQ2FtZXJhKSE9PW51bGwmJnMhPT12b2lkIDA/czpyLmFjdGl2ZUNhbWVyYSxoPXIuYWN0aXZlQ2FtZXJhO28mJihvIT09ci5hY3RpdmVDYW1lcmEmJihyLnNldFRyYW5zZm9ybU1hdHJpeChvLmdldFZpZXdNYXRyaXgoKSxvLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxyLmFjdGl2ZUNhbWVyYT1vKSxuLnNldFZpZXdwb3J0KG8udmlld3BvcnQsdGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkpKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSExO2xldCBsPWk7aWYoaSl7ci5nZXRWaWV3TWF0cml4KCl8fHIudXBkYXRlVHJhbnNmb3JtTWF0cml4KCk7Y29uc3QgdT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MTtmb3IobGV0IGQ9MDtkPHUmJmw7ZCsrKXtsZXQgZj1udWxsO2NvbnN0IF89dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpyLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsRT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpyLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDtuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tkXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoZj10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QoZCxfLEUpKSxmfHwoZj1fKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGxldCBtPTA7bTxmLmxlbmd0aCYmbDsrK20pe2NvbnN0IHY9ZlttXTtpZighKCF2LmlzRW5hYmxlZCgpfHx2LmlzQmxvY2tlZHx8IXYuaXNWaXNpYmxlfHwhdi5zdWJNZXNoZXMpKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKHYsdGhpcy5yZWZyZXNoUmF0ZSxpKSl7bD0hMTtjb250aW51ZX19ZWxzZSBpZighdi5pc1JlYWR5KCEwKSl7bD0hMTtjb250aW51ZX19fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLCh0aGlzLmlzMkRBcnJheXx8dGhpcy5pc0N1YmUpJiYoci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX19ZWxzZSBpZih0aGlzLmlzMkRBcnJheSlmb3IobGV0IHU9MDt1PHRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk7dSsrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHUsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUpZm9yKGxldCB1PTA7dTw2O3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCh1LGUsdCx2b2lkIDAsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCxlLHQsdm9pZCAwLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9YSxoJiYoci5hY3RpdmVDYW1lcmE9aCwoci5nZXRFbmdpbmUoKS5zY2VuZXMubGVuZ3RoPjF8fHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYSE9PXIuYWN0aXZlQ2FtZXJhKSYmci5zZXRUcmFuc2Zvcm1NYXRyaXgoci5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHIuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxuLnNldFZpZXdwb3J0KHIuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSksci5yZXNldENhY2hlZE1hdGVyaWFsKCksbH1fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oZSx0KXtjb25zdCBzPWUqdCxyPUkuTmVhcmVzdFBPVChzKzEyOCoxMjgvKDEyOCtzKSk7cmV0dXJuIE1hdGgubWluKEkuRmxvb3JQT1QoZSkscil9X3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO2lmKCFyKXJldHVybjt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCk7Y29uc3Qgbj1yLmdldFJlbmRlcklkKCk7Zm9yKGxldCBhPTA7YTx0O2ErKyl7Y29uc3Qgbz1lW2FdO2lmKG8mJiFvLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihvLHRoaXMucmVmcmVzaFJhdGUsITEpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighby5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZyLmFjdGl2ZUNhbWVyYSYmKG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9ci5jdXN0b21MT0RTZWxlY3Rvcj9yLmN1c3RvbUxPRFNlbGVjdG9yKG8sdGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKTpvLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8ci5hY3RpdmVDYW1lcmEpLG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTtsZXQgaD1vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG4pO2xldCBsO2lmKHMmJmk/bD0oby5sYXllck1hc2smaS5sYXllck1hc2spPT09MDpsPSExLG8uaXNFbmFibGVkKCkmJm8uaXNWaXNpYmxlJiZvLnN1Yk1lc2hlcyYmIWwmJihoIT09byYmaC5fYWN0aXZhdGUobiwhMCksby5fYWN0aXZhdGUobiwhMCkmJm8uc3ViTWVzaGVzLmxlbmd0aCkpe28uaXNBbkluc3RhbmNlP28uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihoPW8pOmguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKGxldCB1PTA7dTxoLnN1Yk1lc2hlcy5sZW5ndGg7dSsrKXtjb25zdCBkPWguc3ViTWVzaGVzW3VdO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZCxoKX19fX1mb3IobGV0IGE9MDthPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89ci5wYXJ0aWNsZVN5c3RlbXNbYV0saD1vLmVtaXR0ZXI7IW8uaXNTdGFydGVkKCl8fCFofHwhaC5wb3NpdGlvbnx8IWguaXNFbmFibGVkKCl8fGUuaW5kZXhPZihoKT49MCYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhvKX19X2JpbmRGcmFtZUJ1ZmZlcihlPTAsdD0wKXtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtpZighaSlyZXR1cm47Y29uc3Qgcz1pLmdldEVuZ2luZSgpO3RoaXMuX3JlbmRlclRhcmdldCYmcy5iaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlP2U6dm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCwwLHQpfV91bmJpbmRGcmFtZUJ1ZmZlcihlLHQpeyF0aGlzLl9yZW5kZXJUYXJnZXR8fGUudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlLCgpPT57dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9KX1fcHJlcGFyZUZyYW1lKGUsdCxpLHMpe3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wcmVQYXNzRW5hYmxlZHx8dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSx0aGlzLl9wb3N0UHJvY2Vzc2VzKTooIXN8fCFlLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUpKSYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHQsaSl9X3JlbmRlclRvVGFyZ2V0KGUsdCxpLHM9MCxyPW51bGwpe3ZhciBuLGEsbyxoLGwsdTtjb25zdCBkPXRoaXMuZ2V0U2NlbmUoKTtpZighZClyZXR1cm47Y29uc3QgZj1kLmdldEVuZ2luZSgpO2lmKChuPWYuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbChmLGByZW5kZXIgdG8gZmFjZSAjJHtlfSBsYXllciAjJHtzfWAsMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsZSxzLHQpLHRoaXMuaXMyREFycmF5PyhmLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tzXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocykpOihmLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tlXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpLGYuc25hcHNob3RSZW5kZXJpbmcmJmYuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Zi5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCk7ZWxzZXtsZXQgRT1udWxsO2NvbnN0IG09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpkLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpkLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDt0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihFPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCh0aGlzLmlzMkRBcnJheT9zOmUsbSx2KSksRT90aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihFLEUubGVuZ3RoLHIsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKToodGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZHx8KHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKG0sdixyLCF0aGlzLnJlbmRlckxpc3R8fHRoaXMuZm9yY2VMYXllck1hc2tDaGVjayksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMCksRT1tKTtmb3IoY29uc3QgeSBvZiBkLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlKXkuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Zi5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2Zvcihjb25zdCB5IG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZSl5LmFjdGlvbih0aGlzLGUscyk7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixFLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKGNvbnN0IHkgb2YgZC5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UpeS5hY3Rpb24odGhpcyxlLHMpO2NvbnN0IFM9KG89KGE9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZvIT09dm9pZCAwP286ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChoPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZoIT09dm9pZCAwP2g6dm9pZCAwLGUsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTp0JiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwobD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmbCE9PXZvaWQgMD9sOnZvaWQgMCxlKTtmb3IoY29uc3QgeSBvZiBkLl9hZnRlclJlbmRlclRhcmdldFBvc3RQcm9jZXNzU3RhZ2UpeS5hY3Rpb24odGhpcyxlLHMpO3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmdlbmVyYXRlTWlwTWFwcz1TKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCksaSYmdHQuRHVtcEZyYW1lYnVmZmVyKHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpLGYpfXRoaXMuX3VuYmluZEZyYW1lQnVmZmVyKGYsZSksdGhpcy5fdGV4dHVyZSYmdGhpcy5pc0N1YmUmJmU9PT01JiZmLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAodGhpcy5fdGV4dHVyZSksKHU9Zi5fZGVidWdQb3BHcm91cCk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmNhbGwoZiwxKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKGUsdCxpLHMpfXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5nZXRTaXplKCksdD1uZXcgX3QodGhpcy5uYW1lLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW8sdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy50eXBlLHRoaXMuaXNDdWJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxpbmdNb2RlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5mb3JtYXQsdm9pZCAwLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyk7cmV0dXJuIHQuaGFzQWxwaGE9dGhpcy5oYXNBbHBoYSx0LmxldmVsPXRoaXMubGV2ZWwsdC5jb29yZGluYXRlc01vZGU9dGhpcy5jb29yZGluYXRlc01vZGUsdGhpcy5yZW5kZXJMaXN0JiYodC5yZW5kZXJMaXN0PXRoaXMucmVuZGVyTGlzdC5zbGljZSgwKSksdH1zZXJpYWxpemUoKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7aWYoZS5yZW5kZXJUYXJnZXRTaXplPXRoaXMuZ2V0UmVuZGVyU2l6ZSgpLGUucmVuZGVyTGlzdD1bXSx0aGlzLnJlbmRlckxpc3QpZm9yKGxldCB0PTA7dDx0aGlzLnJlbmRlckxpc3QubGVuZ3RoO3QrKyllLnJlbmRlckxpc3QucHVzaCh0aGlzLnJlbmRlckxpc3RbdF0uaWQpO3JldHVybiBlfWRpc3Bvc2VGcmFtZWJ1ZmZlck9iamVjdHMoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCEwKX1yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCl7dmFyIGU7KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfWRpc3Bvc2UoKXt2YXIgZTt0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbGVhck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiYodGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bnVsbCksdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5kaXNwb3NlKCksdGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpLHRoaXMuY2xlYXJQb3N0UHJvY2Vzc2VzKCEwKSx0aGlzLl9yZXNpemVPYnNlcnZlciYmKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5vblJlc2l6ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3Jlc2l6ZU9ic2VydmVyKSx0aGlzLl9yZXNpemVPYnNlcnZlcj1udWxsKSx0aGlzLnJlbmRlckxpc3Q9bnVsbDtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47bGV0IGk9dC5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7aT49MCYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpO2Zvcihjb25zdCBzIG9mIHQuY2FtZXJhcylpPXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5pbmRleE9mKHRoaXMpLGk+PTAmJnMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5zcGxpY2UoaSwxKTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHN1cGVyLmRpc3Bvc2UoKX1fcmVidWlsZCgpe3RoaXMucmVmcmVzaFJhdGU9PT1fdC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9X3QuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfWdldFZpZXdDb3VudCgpe3JldHVybiAxfX1fdC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLF90LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZRlJBTUU9MSxfdC5SRUZSRVNIUkFURV9SRU5ERVJfT05FVkVSWVRXT0ZSQU1FUz0yLE4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pm5ldyBfdChjLGUsdCxpKTtjbGFzcyBNZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhPTEsbyxoLGw9bnVsbCx1PTAsZD0icG9zdHByb2Nlc3MiLGYsXz0hMSxFPTUsbT1aZS5HTFNMKXt0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLndpZHRoPS0xLHRoaXMuaGVpZ2h0PS0xLHRoaXMubm9kZU1hdGVyaWFsU291cmNlPW51bGwsdGhpcy5fb3V0cHV0VGV4dHVyZT1udWxsLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgUWUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgdmUoMSwxKSx0aGlzLl90ZXhlbFNpemU9dmUuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5uYW1lPWUsbiE9bnVsbD8odGhpcy5fY2FtZXJhPW4sdGhpcy5fc2NlbmU9bi5nZXRTY2VuZSgpLG4uYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOm8mJih0aGlzLl9lbmdpbmU9byx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPXIsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9YXx8MSx0aGlzLl9yZXVzYWJsZT1ofHwhMSx0aGlzLl90ZXh0dXJlVHlwZT11LHRoaXMuX3RleHR1cmVGb3JtYXQ9RSx0aGlzLl9zaGFkZXJMYW5ndWFnZT1tLHRoaXMuX3NhbXBsZXJzPXN8fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9ZCx0aGlzLl9wYXJhbWV0ZXJzPWl8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9Zix0aGlzLl9kcmF3V3JhcHBlcj1uZXcgbWkodGhpcy5fZW5naW5lKSxffHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1zdGF0aWMgUmVnaXN0ZXJTaGFkZXJDb2RlUHJvY2Vzc2luZyhlLHQpe2lmKCF0KXtkZWxldGUgTWUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2UhPW51bGw/ZToiIl07cmV0dXJufU1lLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZ1tlIT1udWxsP2U6IiJdPXR9c3RhdGljIF9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyhlKXt2YXIgdDtyZXR1cm4odD1NZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZV0pIT09bnVsbCYmdCE9PXZvaWQgMD90Ok1lLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZ1siIl19Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXQgc2FtcGxlcyhlKXt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaCh0PT57dC5zZXRTYW1wbGVzKHRoaXMuX3NhbXBsZXMpfSl9Z2V0RWZmZWN0TmFtZSgpe3JldHVybiB0aGlzLl9mcmFnbWVudFVybH1zZXQgb25BY3RpdmF0ZShlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9c2V0IG9uU2l6ZUNoYW5nZWQoZSl7dGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyJiZ0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXIpLHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlcj10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BcHBseShlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgaW5wdXRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfXNldCBpbnB1dFRleHR1cmUoZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfXJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX1nZXQgdGV4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfWdldENsYXNzTmFtZSgpe3JldHVybiJQb3N0UHJvY2VzcyJ9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fXNoYXJlT3V0cHV0V2l0aChlKXtyZXR1cm4gdGhpcy5fZGlzcG9zZVRleHR1cmVzKCksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9ZSx0aGlzfXVzZU93bk91dHB1dCgpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyBRZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4sYSxvKXt2YXIgaCxsO2NvbnN0IHU9TWUuX0dldFNoYWRlckNvZGVQcm9jZXNzaW5nKHRoaXMubmFtZSk7aWYodSE9bnVsbCYmdS5kZWZpbmVDdXN0b21CaW5kaW5ncyl7Y29uc3QgZD0oaD10PT1udWxsP3ZvaWQgMDp0LnNsaWNlKCkpIT09bnVsbCYmaCE9PXZvaWQgMD9oOltdO2QucHVzaCguLi50aGlzLl9wYXJhbWV0ZXJzKTtjb25zdCBmPShsPWk9PW51bGw/dm9pZCAwOmkuc2xpY2UoKSkhPT1udWxsJiZsIT09dm9pZCAwP2w6W107Zi5wdXNoKC4uLnRoaXMuX3NhbXBsZXJzKSxlPXUuZGVmaW5lQ3VzdG9tQmluZGluZ3ModGhpcy5uYW1lLGUsZCxmKSx0PWQsaT1mfXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcz1lLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD10aGlzLl9lbmdpbmUuY3JlYXRlRWZmZWN0KHt2ZXJ0ZXg6YSE9bnVsbD9hOnRoaXMuX3ZlcnRleFVybCxmcmFnbWVudDpvIT1udWxsP286dGhpcy5fZnJhZ21lbnRVcmx9LHthdHRyaWJ1dGVzOlsicG9zaXRpb24iXSx1bmlmb3Jtc05hbWVzOnR8fHRoaXMuX3BhcmFtZXRlcnMsdW5pZm9ybUJ1ZmZlcnNOYW1lczpbXSxzYW1wbGVyczppfHx0aGlzLl9zYW1wbGVycyxkZWZpbmVzOmUhPT1udWxsP2U6IiIsZmFsbGJhY2tzOm51bGwsb25Db21waWxlZDpyIT1udWxsP3I6bnVsbCxvbkVycm9yOm4hPW51bGw/bjpudWxsLGluZGV4UGFyYW1ldGVyczpzfHx0aGlzLl9pbmRleFBhcmFtZXRlcnMscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnUhPW51bGwmJnUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzPyhkLGYpPT51LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0aGlzLm5hbWUsZCxmKTpudWxsLHByb2Nlc3NGaW5hbENvZGU6dSE9bnVsbCYmdS5wcm9jZXNzRmluYWxDb2RlPyhkLGYpPT51LnByb2Nlc3NGaW5hbENvZGUodGhpcy5uYW1lLGQsZik6bnVsbCxzaGFkZXJMYW5ndWFnZTp0aGlzLl9zaGFkZXJMYW5ndWFnZX0sdGhpcy5fZW5naW5lKX1pc1JldXNhYmxlKCl7cmV0dXJuIHRoaXMuX3JldXNhYmxlfW1hcmtUZXh0dXJlRGlydHkoKXt0aGlzLndpZHRoPS0xfV9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCxpPTApe2ZvcihsZXQgcj0wO3I8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtyKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUud2lkdGg9PT1lLndpZHRoJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5oZWlnaHQ9PT1lLmhlaWdodCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnBvc3RQcm9jZXNzQ2hhbm5lbD09PWkmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLl9nZW5lcmF0ZURlcHRoQnVmZmVyPT09dC5nZW5lcmF0ZURlcHRoQnVmZmVyJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5zYW1wbGVzPT09dC5zYW1wbGVzKXJldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZTtjb25zdCBzPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOnMscG9zdFByb2Nlc3NDaGFubmVsOmksbGFzdFVzZWRSZW5kZXJJZDotMX0pLHN9X2ZsdXNoVGV4dHVyZUNhY2hlKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJJZDtmb3IobGV0IHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtsZXQgaT0hMTtmb3IobGV0IHM9MDtzPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtzKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtzXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtpPSEwO2JyZWFrfWl8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19X3Jlc2l6ZShlLHQsaSxzLHIpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2xldCBuPW51bGw7Zm9yKGxldCBoPTA7aDxpLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtoKyspaWYoaS5fcG9zdFByb2Nlc3Nlc1toXSE9PW51bGwpe249aS5fcG9zdFByb2Nlc3Nlc1toXTticmVha31jb25zdCBhPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbz17Z2VuZXJhdGVNaXBNYXBzOnMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpyfHxuPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KHJ8fG49PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdCxzYW1wbGVzOnRoaXMuX3NhbXBsZXN9O3RoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShhLG8sMCkpLHRoaXMuX3JldXNhYmxlJiZ0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoYSxvLDEpKSx0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLndpZHRoLDEvdGhpcy5oZWlnaHQpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWFjdGl2YXRlKGUsdD1udWxsLGkpe3ZhciBzLHI7ZT1lfHx0aGlzLl9jYW1lcmE7Y29uc3Qgbj1lLmdldFNjZW5lKCksYT1uLmdldEVuZ2luZSgpLG89YS5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemU7bGV0IGg9KHQ/dC53aWR0aDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyV2lkdGgoITApKSp0aGlzLl9vcHRpb25zfDA7Y29uc3QgbD0odD90LmhlaWdodDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVySGVpZ2h0KCEwKSkqdGhpcy5fb3B0aW9uc3wwLHU9ZS5wYXJlbnQ7dSYmKHUubGVmdENhbWVyYT09ZXx8dS5yaWdodENhbWVyYT09ZSkmJihoLz0yKTtsZXQgZD10aGlzLl9vcHRpb25zLndpZHRofHxoLGY9dGhpcy5fb3B0aW9ucy5oZWlnaHR8fGw7Y29uc3QgXz10aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTcmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MSYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0yO2lmKCF0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcyYmIXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe2lmKHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0KXtjb25zdCBtPWEuY3VycmVudFZpZXdwb3J0O20mJihkKj1tLndpZHRoLGYqPW0uaGVpZ2h0KX0oX3x8dGhpcy5hbHdheXNGb3JjZVBPVCkmJih0aGlzLl9vcHRpb25zLndpZHRofHwoZD1hLm5lZWRQT1RUZXh0dXJlcz9JLkdldEV4cG9uZW50T2ZUd28oZCxvLHRoaXMuc2NhbGVNb2RlKTpkKSx0aGlzLl9vcHRpb25zLmhlaWdodHx8KGY9YS5uZWVkUE9UVGV4dHVyZXM/SS5HZXRFeHBvbmVudE9mVHdvKGYsbyx0aGlzLnNjYWxlTW9kZSk6ZikpLCh0aGlzLndpZHRoIT09ZHx8dGhpcy5oZWlnaHQhPT1mKSYmdGhpcy5fcmVzaXplKGQsZixlLF8saSksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChtPT57bS5zYW1wbGVzIT09dGhpcy5zYW1wbGVzJiZ0aGlzLl9lbmdpbmUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KG0sdGhpcy5zYW1wbGVzKX0pLHRoaXMuX2ZsdXNoVGV4dHVyZUNhY2hlKCksdGhpcy5fcmVuZGVySWQrK31sZXQgRTtpZih0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcylFPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTtlbHNlIGlmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpRT10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLHRoaXMud2lkdGg9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodDtlbHNle0U9dGhpcy5pbnB1dFRleHR1cmU7bGV0IG07Zm9yKGxldCB2PTA7djx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO3YrKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbdl0udGV4dHVyZT09PUUpe209dGhpcy5fdGV4dHVyZUNhY2hlW3ZdO2JyZWFrfW0mJihtLmxhc3RVc2VkUmVuZGVySWQ9dGhpcy5fcmVuZGVySWQpfXJldHVybiB0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU/KHRoaXMuX3NjYWxlUmF0aW8uY29weUZyb21GbG9hdHMoaC9kLGwvZiksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihFLDAsaCxsLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpKToodGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cygxLDEpLHRoaXMuX2VuZ2luZS5iaW5kRnJhbWVidWZmZXIoRSwwLHZvaWQgMCx2b2lkIDAsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpLChyPShzPXRoaXMuX2VuZ2luZSkuX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChzLGBwb3N0IHByb2Nlc3MgJHt0aGlzLm5hbWV9IGlucHV0YCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5hdXRvQ2xlYXImJnRoaXMuYWxwaGFNb2RlPT09MCYmdGhpcy5fZW5naW5lLmNsZWFyKHRoaXMuY2xlYXJDb2xvcj90aGlzLmNsZWFyQ29sb3I6bi5jbGVhckNvbG9yLG4uX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yLCEwLCEwKSx0aGlzLl9yZXVzYWJsZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPSh0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZCsxKSUyKSxFfWdldCBpc1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuaXNTdXBwb3J0ZWR9Z2V0IGFzcGVjdFJhdGlvKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmFzcGVjdFJhdGlvOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aC90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodDp0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWlzUmVhZHkoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlzUmVhZHkoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9YXBwbHkoKXt2YXIgZSx0LGk7aWYoISghKChlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5pc1JlYWR5KCkpKXJldHVybiBudWxsO3RoaXMuX2VuZ2luZS5lbmFibGVFZmZlY3QodGhpcy5fZHJhd1dyYXBwZXIpLHRoaXMuX2VuZ2luZS5zZXRTdGF0ZSghMSksdGhpcy5fZW5naW5lLnNldERlcHRoQnVmZmVyKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhXcml0ZSghMSksdGhpcy5fZW5naW5lLnNldEFscGhhTW9kZSh0aGlzLmFscGhhTW9kZSksdGhpcy5hbHBoYUNvbnN0YW50cyYmdGhpcy5nZXRFbmdpbmUoKS5zZXRBbHBoYUNvbnN0YW50cyh0aGlzLmFscGhhQ29uc3RhbnRzLnIsdGhpcy5hbHBoYUNvbnN0YW50cy5nLHRoaXMuYWxwaGFDb25zdGFudHMuYix0aGlzLmFscGhhQ29uc3RhbnRzLmEpO2xldCBzO3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz9zPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP3M9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZTpzPXRoaXMuaW5wdXRUZXh0dXJlLHRoaXMuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmd8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixzPT1udWxsP3ZvaWQgMDpzLnRleHR1cmUpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5zZXRWZWN0b3IyKCJzY2FsZSIsdGhpcy5fc2NhbGVSYXRpbyksdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSwoaT0odD1NZS5fR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcodGhpcy5uYW1lKSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmJpbmRDdXN0b21CaW5kaW5ncyk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodCx0aGlzLm5hbWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9X2Rpc3Bvc2VUZXh0dXJlcygpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9X2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKXtmb3IobGV0IGU9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX3RleHR1cmVDYWNoZVtlXS50ZXh0dXJlLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoPTB9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiB0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj8odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb249ZS5hZGRFZmZlY3RDb25maWd1cmF0aW9uKHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uKSx0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbi5lbmFibGVkPSEwLCEwKTohMX1kaXNwb3NlKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO2xldCB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0PXRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSwhIWUpe2lmKGUuZGV0YWNoUG9zdFByb2Nlc3ModGhpcyksdD1lLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdD09PTAmJmUuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5fY2FtZXJhLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7aSYmaS5tYXJrVGV4dHVyZURpcnR5KCl9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9YWUuU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9Y2xvbmUoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7ZS5fZW5naW5lPXRoaXMuX2VuZ2luZSxlLmNhbWVyYUlkPW51bGw7Y29uc3QgdD1NZS5QYXJzZShlLHRoaXMuX3NjZW5lLCIiKTtyZXR1cm4gdD8odC5vbkFjdGl2YXRlT2JzZXJ2YWJsZT10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsb25lKCksdC5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFwcGx5T2JzZXJ2YWJsZT10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsb25lKCksdC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Ll9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj10aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbix0KTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1yaShlLmN1c3RvbVR5cGUpO2lmKCFzfHwhcy5fUGFyc2UpcmV0dXJuIG51bGw7Y29uc3Qgcj10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBzLl9QYXJzZShlLHIsdCxpKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBhZS5QYXJzZSgoKT0+bmV3IE1lKGUubmFtZSxlLmZyYWdtZW50VXJsLGUucGFyYW1ldGVycyxlLnNhbXBsZXJzLGUub3B0aW9ucyx0LGUucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLGUuX2VuZ2luZSxlLnJldXNhYmxlLGUuZGVmaW5lcyxlLnRleHR1cmVUeXBlLGUudmVydGV4VXJsLGUuaW5kZXhQYXJhbWV0ZXJzLCExLGUudGV4dHVyZUZvcm1hdCksZSxpLHMpfX1NZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3Npbmc9e30sVChbUigpXSxNZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJ3aWR0aCIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiaGVpZ2h0Iix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUiLHZvaWQgMCksVChbZHIoKV0sTWUucHJvdG90eXBlLCJjbGVhckNvbG9yIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJhdXRvQ2xlYXIiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImFscGhhTW9kZSIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWxwaGFDb25zdGFudHMiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImVuYWJsZVBpeGVsUGVyZmVjdE1vZGUiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImZvcmNlRnVsbHNjcmVlblZpZXdwb3J0Iix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJzY2FsZU1vZGUiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImFsd2F5c0ZvcmNlUE9UIix2b2lkIDApLFQoW1IoInNhbXBsZXMiKV0sTWUucHJvdG90eXBlLCJfc2FtcGxlcyIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0Iix2b2lkIDApLGl0KCJCQUJZTE9OLlBvc3RQcm9jZXNzIixNZSk7Y29uc3Qgc2E9Imtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24iLHJhPSJ2YXJ5aW5nIHZlYzIgc2FtcGxlQ29vcmR7WH07IjtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NhXT1yYTtjb25zdCBuYT0icGFja2luZ0Z1bmN0aW9ucyIsYWE9YHZlYzQgcGFjayhmbG9hdCBkZXB0aCkKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7CmNvbnN0IHZlYzQgYml0X21hc2s9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApOwp2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpOwpyZXMtPXJlcy54eHl6KmJpdF9tYXNrOwpyZXR1cm4gcmVzOwp9CmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfWA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtuYV09YWE7Y29uc3Qgb2E9Imtlcm5lbEJsdXJGcmFnbWVudCIsaGE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDb29yZHtYfSk7IApjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvYV09aGE7Y29uc3QgbGE9Imtlcm5lbEJsdXJGcmFnbWVudDIiLGNhPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KTsKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKSpjb21wdXRlZFdlaWdodDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xhXT1jYTtjb25zdCB1YT0ia2VybmVsQmx1clBpeGVsU2hhZGVyIixkYT1gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2lmZGVmIERPRgp1bmlmb3JtIHNhbXBsZXIyRCBjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXI7CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7CnJldHVybiBjb2M7IAp9CiNlbmRpZgojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCiNpZmRlZiBQQUNLRURGTE9BVAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKZmxvYXQgY29tcHV0ZWRXZWlnaHQ9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKZmxvYXQgYmxlbmQ9MC47CiNlbHNlCnZlYzQgYmxlbmQ9dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgRE9GCmZsb2F0IHN1bU9mV2VpZ2h0cz1DRU5URVJfV0VJR0hUOyAKZmxvYXQgZmFjdG9yPTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcikpKkNFTlRFUl9XRUlHSFQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSpDRU5URVJfV0VJR0hUOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudD5bMC4udmFyeWluZ0NvdW50XQojaW5jbHVkZTxrZXJuZWxCbHVyRnJhZ21lbnQyPlswLi5kZXBDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCmdsX0ZyYWdDb2xvcj1wYWNrKGJsZW5kKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPWJsZW5kOwojZW5kaWYKI2lmZGVmIERPRgpnbF9GcmFnQ29sb3IvPXN1bU9mV2VpZ2h0czsKI2VuZGlmCn1gO1UuU2hhZGVyc1N0b3JlW3VhXT1kYTtjb25zdCBmYT0ia2VybmVsQmx1clZlcnRleCIsX2E9InNhbXBsZUNvb3Jke1h9PXNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfT0ZGU0VUe1h9OyI7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmYV09X2E7Y29uc3QgZ2E9Imtlcm5lbEJsdXJWZXJ0ZXhTaGFkZXIiLHBhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4Kc2FtcGxlQ2VudGVyPShwb3NpdGlvbiptYWRkK21hZGQpOwojaW5jbHVkZTxrZXJuZWxCbHVyVmVydGV4PlswLi52YXJ5aW5nQ291bnRdCmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtVLlNoYWRlcnNTdG9yZVtnYV09cGE7Y2xhc3MgSnQgZXh0ZW5kcyBNZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbj1OLkJJTElORUFSX1NBTVBMSU5HTU9ERSxhLG8saD0wLGw9IiIsdT0hMSxkPTUpe3N1cGVyKGUsImtlcm5lbEJsdXIiLFsiZGVsdGEiLCJkaXJlY3Rpb24iXSxbImNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlciJdLHMscixuLGEsbyxudWxsLGgsImtlcm5lbEJsdXIiLHt2YXJ5aW5nQ291bnQ6MCxkZXBDb3VudDowfSwhMCxkKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPXUsdGhpcy5fcGFja2VkRmxvYXQ9ITEsdGhpcy5fc3RhdGljRGVmaW5lcz0iIix0aGlzLl9zdGF0aWNEZWZpbmVzPWwsdGhpcy5kaXJlY3Rpb249dCx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmPT57dGhpcy5fb3V0cHV0VGV4dHVyZT9mLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy5fb3V0cHV0VGV4dHVyZS53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSk6Zi5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpfSksdGhpcy5rZXJuZWw9aX1zZXQga2VybmVsKGUpe3RoaXMuX2lkZWFsS2VybmVsIT09ZSYmKGU9TWF0aC5tYXgoZSwxKSx0aGlzLl9pZGVhbEtlcm5lbD1lLHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbChlKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBrZXJuZWwoKXtyZXR1cm4gdGhpcy5faWRlYWxLZXJuZWx9c2V0IHBhY2tlZEZsb2F0KGUpe3RoaXMuX3BhY2tlZEZsb2F0IT09ZSYmKHRoaXMuX3BhY2tlZEZsb2F0PWUsdGhpcy5fYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgcGFja2VkRmxvYXQoKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuKXt0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHIsbil9X3VwZGF0ZVBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2tlcm5lbCxzPShpLTEpLzI7bGV0IHI9W10sbj1bXSxhPTA7Zm9yKGxldCBtPTA7bTxpO20rKyl7Y29uc3Qgdj1tLyhpLTEpLFM9dGhpcy5fZ2F1c3NpYW5XZWlnaHQodioyLTEpO3JbbV09bS1zLG5bbV09UyxhKz1TfWZvcihsZXQgbT0wO208bi5sZW5ndGg7bSsrKW5bbV0vPWE7Y29uc3Qgbz1bXSxoPVtdLGw9W107Zm9yKGxldCBtPTA7bTw9czttKz0yKXtjb25zdCB2PU1hdGgubWluKG0rMSxNYXRoLmZsb29yKHMpKTtpZihtPT09dilsLnB1c2goe286clttXSx3Om5bbV19KTtlbHNle2NvbnN0IHk9dj09PXMsQT1uW21dK25bdl0qKHk/LjU6MSksQz1yW21dKzEvKDErblttXS9uW3ZdKTtDPT09MD8obC5wdXNoKHtvOnJbbV0sdzpuW21dfSksbC5wdXNoKHtvOnJbbSsxXSx3Om5bbSsxXX0pKToobC5wdXNoKHtvOkMsdzpBfSksbC5wdXNoKHtvOi1DLHc6QX0pKX19Zm9yKGxldCBtPTA7bTxsLmxlbmd0aDttKyspaFttXT1sW21dLm8sb1ttXT1sW21dLnc7cj1oLG49bztjb25zdCB1PXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLGQ9TWF0aC5tYXgodSwwKS0xO2xldCBmPU1hdGgubWluKHIubGVuZ3RoLGQpLF89IiI7Xys9dGhpcy5fc3RhdGljRGVmaW5lcyx0aGlzLl9zdGF0aWNEZWZpbmVzLmluZGV4T2YoIkRPRiIpIT0tMSYmKF8rPWAjZGVmaW5lIENFTlRFUl9XRUlHSFQgJHt0aGlzLl9nbHNsRmxvYXQobltmLTFdKX1ccgpgLGYtLSk7Zm9yKGxldCBtPTA7bTxmO20rKylfKz1gI2RlZmluZSBLRVJORUxfT0ZGU0VUJHttfSAke3RoaXMuX2dsc2xGbG9hdChyW21dKX1ccgpgLF8rPWAjZGVmaW5lIEtFUk5FTF9XRUlHSFQke219ICR7dGhpcy5fZ2xzbEZsb2F0KG5bbV0pfVxyCmA7bGV0IEU9MDtmb3IobGV0IG09ZDttPHIubGVuZ3RoO20rKylfKz1gI2RlZmluZSBLRVJORUxfREVQX09GRlNFVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoclttXSl9XHIKYCxfKz1gI2RlZmluZSBLRVJORUxfREVQX1dFSUdIVCR7RX0gJHt0aGlzLl9nbHNsRmxvYXQoblttXSl9XHIKYCxFKys7dGhpcy5wYWNrZWRGbG9hdCYmKF8rPSIjZGVmaW5lIFBBQ0tFREZMT0FUIDEiKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPSExLHN1cGVyLnVwZGF0ZUVmZmVjdChfLG51bGwsbnVsbCx7dmFyeWluZ0NvdW50OmYsZGVwQ291bnQ6RX0sZSx0KX1fbmVhcmVzdEJlc3RLZXJuZWwoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKGUpO2Zvcihjb25zdCBpIG9mW3QsdC0xLHQrMSx0LTIsdCsyXSlpZihpJTIhPT0wJiZNYXRoLmZsb29yKGkvMiklMj09PTAmJmk+MClyZXR1cm4gTWF0aC5tYXgoaSwzKTtyZXR1cm4gTWF0aC5tYXgodCwzKX1fZ2F1c3NpYW5XZWlnaHQoZSl7Y29uc3QgdD0uMzMzMzMzMzMzMzMzMzMzMyxpPU1hdGguc3FydCgyKk1hdGguUEkpKnQscz0tKGUqZS8oMip0KnQpKTtyZXR1cm4gMS9pKk1hdGguZXhwKHMpfV9nbHNsRmxvYXQoZSx0PTgpe3JldHVybiBlLnRvRml4ZWQodCkucmVwbGFjZSgvMCskLywiIil9c3RhdGljIF9QYXJzZShlLHQsaSxzKXtyZXR1cm4gYWUuUGFyc2UoKCk9Pm5ldyBKdChlLm5hbWUsZS5kaXJlY3Rpb24sZS5rZXJuZWwsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsaS5nZXRFbmdpbmUoKSxlLnJldXNhYmxlLGUudGV4dHVyZVR5cGUsdm9pZCAwLCExKSxlLGkscyl9fVQoW1IoImtlcm5lbCIpXSxKdC5wcm90b3R5cGUsIl9rZXJuZWwiLHZvaWQgMCksVChbUigicGFja2VkRmxvYXQiKV0sSnQucHJvdG90eXBlLCJfcGFja2VkRmxvYXQiLHZvaWQgMCksVChbeG4oKV0sSnQucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksaXQoIkJBQllMT04uQmx1clBvc3RQcm9jZXNzIixKdCk7Y2xhc3MgenN7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXVuQmluZE1lc2goKXt0aGlzLl9tZXNoPW51bGx9YWRkRmFsbGJhY2soZSx0KXt0aGlzLl9kZWZpbmVzW2VdfHwoZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSksdGhpcy5fZGVmaW5lc1tlXT1uZXcgQXJyYXkpLHRoaXMuX2RlZmluZXNbZV0ucHVzaCh0KX1hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfWdldCBoYXNNb3JlRmFsbGJhY2tzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5rPD10aGlzLl9tYXhSYW5rfXJlZHVjZShlLHQpe2lmKHRoaXMuX21lc2gmJnRoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2Vycz4wKXt0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSxlPWUucmVwbGFjZSgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3RoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzLCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKSx0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITA7Y29uc3QgaT10aGlzLl9tZXNoLmdldFNjZW5lKCk7Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7cysrKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKCFyLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHIubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKHIubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KXIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoci5zdWJNZXNoZXMpe2Zvcihjb25zdCBuIG9mIHIuc3ViTWVzaGVzKWlmKG4uZWZmZWN0PT09dCl7ci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7YnJlYWt9fX19fWVsc2V7Y29uc3QgaT10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihpKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIraVtzXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX19Y29uc3QgbWE9ImJheWVyRGl0aGVyRnVuY3Rpb25zIixFYT1gZmxvYXQgYmF5ZXJEaXRoZXIyKHZlYzIgX1ApIHsKcmV0dXJuIG1vZCgyLjAqX1AueStfUC54KzEuMCw0LjApOwp9CmZsb2F0IGJheWVyRGl0aGVyNCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7IApyZXR1cm4gNC4wKmJheWVyRGl0aGVyMihQMSkrYmF5ZXJEaXRoZXIyKFAyKTsKfQpmbG9hdCBiYXllckRpdGhlcjgodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOyAKdmVjMiBQMj1mbG9vcigwLjUgKm1vZChfUCw0LjApKTsgCnZlYzIgUDQ9Zmxvb3IoMC4yNSptb2QoX1AsOC4wKSk7IApyZXR1cm4gNC4wKig0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpKStiYXllckRpdGhlcjIoUDQpOwp9CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVttYV09RWE7Y29uc3QgdmE9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsVGE9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZhXT1UYTtjb25zdCBiYT0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIsU2E9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYmFdPVNhO2NvbnN0IHhhPSJjbGlwUGxhbmVGcmFnbWVudCIsTWE9YCNpZiBkZWZpbmVkKENMSVBQTEFORSkgfHwgZGVmaW5lZChDTElQUExBTkUyKSB8fCBkZWZpbmVkKENMSVBQTEFORTMpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNCkgfHwgZGVmaW5lZChDTElQUExBTkU1KSB8fCBkZWZpbmVkKENMSVBQTEFORTYpCmlmIChmYWxzZSkge30KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTI+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2UzPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAplbHNlIGlmIChmQ2xpcERpc3RhbmNlND4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTU+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U2PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeGFdPU1hO2NvbnN0IEFhPSJzaGFkb3dNYXBGcmFnbWVudCIsUmE9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FhXT1SYTtjb25zdCB5YT0ic2hhZG93TWFwUGl4ZWxTaGFkZXIiLENhPWAjaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudEV4dHJhRGVjbGFyYXRpb24+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVYVFVSRQpmbG9hdCBhbHBoYUZyb21BbHBoYVRleHR1cmU9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTsKI2lmZGVmIEFMUEhBVEVTVFZBTFVFCmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8QUxQSEFURVNUVkFMVUUpCmRpc2NhcmQ7CiNlbmRpZgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaWZkZWYgQUxQSEFURVhUVVJFCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYUZyb21BbHBoYVRleHR1cmUpIGRpc2NhcmQ7CiNlbHNlCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSkgZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudD4KfWA7VS5TaGFkZXJzU3RvcmVbeWFdPUNhO2NvbnN0IElhPSJib25lc0RlY2xhcmF0aW9uIixQYT1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCAqNC4wOwpmbG9hdCBkeD0xLjAvYm9uZVRleHR1cmVXaWR0aDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLDAuKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSwwLikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksMC4pKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLDAuKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSWFdPVBhO2NvbnN0IERhPSJiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uIixGYT1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp1bmlmb3JtIGZsb2F0IGJha2VkVmVydGV4QW5pbWF0aW9uVGltZTsKdW5pZm9ybSB2ZWMyIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZDsKdW5pZm9ybSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3M7CnVuaWZvcm0gc2FtcGxlcjJEIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZTsKI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkOwojZW5kaWYKI2RlZmluZSBpbmxpbmUKbWF0NCByZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoc2FtcGxlcjJEIHNtcCxmbG9hdCBpbmRleCxmbG9hdCBmcmFtZSkKewpmbG9hdCBvZmZzZXQ9aW5kZXgqNC4wOwpmbG9hdCBmcmFtZVVWPShmcmFtZSswLjUpKmJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC55OwpmbG9hdCBkeD1iYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLGZyYW1lVVYpKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLGZyYW1lVVYpKTsKdmVjNCBtMj10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsyLjUpLGZyYW1lVVYpKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLGZyYW1lVVYpKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRGFdPUZhO2NvbnN0IHdhPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbiIsT2E9YCNpZmRlZiBNT1JQSFRBUkdFVFMKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbTlVNX01PUlBIX0lORkxVRU5DRVJTXTsKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIApwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkRBcnJheTsgCnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwp1bmlmb3JtIHZlYzMgbW9ycGhUYXJnZXRUZXh0dXJlSW5mbzsKdW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHM7CnZlYzMgcmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcihpbnQgdGFyZ2V0SW5kZXgsZmxvYXQgdmVydGV4SW5kZXgpCnsgCmZsb2F0IHk9Zmxvb3IodmVydGV4SW5kZXgvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55KTsKZmxvYXQgeD12ZXJ0ZXhJbmRleC15Km1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueTsKdmVjMyB0ZXh0dXJlVVY9dmVjMygoeCswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueSwoeSswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueixtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW3RhcmdldEluZGV4XSk7CnJldHVybiB0ZXh0dXJlKG1vcnBoVGFyZ2V0cyx0ZXh0dXJlVVYpLnh5ejsKfQojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3YV09T2E7Y29uc3QgTGE9Im1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uIixOYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZuZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ue1h9OwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWx7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKYXR0cmlidXRlIHZlYzMgdGFuZ2VudHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKYXR0cmlidXRlIHZlYzIgdXZfe1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGFdPU5hO2NvbnN0IEJhPSJoZWxwZXJGdW5jdGlvbnMiLFVhPWBjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTU7CmNvbnN0IGZsb2F0IEhBTEZfTUlOPTUuOTYwNDY0NDhlLTA4OyAKY29uc3QgZmxvYXQgTGluZWFyRW5jb2RlUG93ZXJBcHByb3g9Mi4yOwpjb25zdCBmbG9hdCBHYW1tYUVuY29kZVBvd2VyQXBwcm94PTEuMC9MaW5lYXJFbmNvZGVQb3dlckFwcHJveDsKY29uc3QgdmVjMyBMdW1pbmFuY2VFbmNvZGVBcHByb3g9dmVjMygwLjIxMjYsMC43MTUyLDAuMDcyMik7CmNvbnN0IGZsb2F0IEVwc2lsb249MC4wMDAwMDAxOwojZGVmaW5lIHNhdHVyYXRlKHgpIGNsYW1wKHgsMC4wLDEuMCkKI2RlZmluZSBhYnNFcHMoeCkgYWJzKHgpK0Vwc2lsb24KI2RlZmluZSBtYXhFcHMoeCkgbWF4KHgsRXBzaWxvbikKI2RlZmluZSBzYXR1cmF0ZUVwcyh4KSBjbGFtcCh4LEVwc2lsb24sMS4wKQptYXQzIHRyYW5zcG9zZU1hdDMobWF0MyBpbk1hdHJpeCkgewp2ZWMzIGkwPWluTWF0cml4WzBdOwp2ZWMzIGkxPWluTWF0cml4WzFdOwp2ZWMzIGkyPWluTWF0cml4WzJdOwptYXQzIG91dE1hdHJpeD1tYXQzKAp2ZWMzKGkwLngsaTEueCxpMi54KSwKdmVjMyhpMC55LGkxLnksaTIueSksCnZlYzMoaTAueixpMS56LGkyLnopCik7CnJldHVybiBvdXRNYXRyaXg7Cn0KbWF0MyBpbnZlcnNlTWF0MyhtYXQzIGluTWF0cml4KSB7CmZsb2F0IGEwMD1pbk1hdHJpeFswXVswXSxhMDE9aW5NYXRyaXhbMF1bMV0sYTAyPWluTWF0cml4WzBdWzJdOwpmbG9hdCBhMTA9aW5NYXRyaXhbMV1bMF0sYTExPWluTWF0cml4WzFdWzFdLGExMj1pbk1hdHJpeFsxXVsyXTsKZmxvYXQgYTIwPWluTWF0cml4WzJdWzBdLGEyMT1pbk1hdHJpeFsyXVsxXSxhMjI9aW5NYXRyaXhbMl1bMl07CmZsb2F0IGIwMT1hMjIqYTExLWExMiphMjE7CmZsb2F0IGIxMT0tYTIyKmExMCthMTIqYTIwOwpmbG9hdCBiMjE9YTIxKmExMC1hMTEqYTIwOwpmbG9hdCBkZXQ9YTAwKmIwMSthMDEqYjExK2EwMipiMjE7CnJldHVybiBtYXQzKGIwMSwoLWEyMiphMDErYTAyKmEyMSksKGExMiphMDEtYTAyKmExMSksCmIxMSwoYTIyKmEwMC1hMDIqYTIwKSwoLWExMiphMDArYTAyKmExMCksCmIyMSwoLWEyMSphMDArYTAxKmEyMCksKGExMSphMDAtYTAxKmExMCkpL2RldDsKfQojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKdmVjMyB0b0xpbmVhclNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yK3ZlYzMoMC4wNTUpKSx2ZWMzKDIuNCkpOwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKcmV0dXJuIG1peChyZW1haW5pbmdTZWN0aW9uLG5lYXJaZXJvU2VjdGlvbixsZXNzVGhhbkVxdWFsKGNvbG9yLHZlYzMoMC4wNDA0NSkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5nIDogcmVtYWluaW5nU2VjdGlvbi5nLApjb2xvci5iPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZUV4YWN0KHZlYzMgY29sb3IpCnsKdmVjMyBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj0xLjA1NSpwb3coY29sb3IsdmVjMygwLjQxNjY2KSktdmVjMygwLjA1NSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjAwMzEzMDgpKSk7CiNlbHNlCnJldHVybgp2ZWMzKApjb2xvci5yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5iIDogcmVtYWluaW5nU2VjdGlvbi5iKTsKI2VuZGlmCn0KI2VuZGlmCmZsb2F0IHRvTGluZWFyU3BhY2UoZmxvYXQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCmZsb2F0IG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249cG93KDAuOTQ3ODY3Mjk5Kihjb2xvciswLjA1NSksMi40KTsKcmV0dXJuIGNvbG9yPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uIDogcmVtYWluaW5nU2VjdGlvbjsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcixMaW5lYXJFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9MaW5lYXJTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9MaW5lYXJTcGFjZUV4YWN0KGNvbG9yKTsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9MaW5lYXJTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IucmdiKSxjb2xvci5hKTsKI2Vsc2UKcmV0dXJuIHZlYzQocG93KGNvbG9yLnJnYix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHRvR2FtbWFTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTEyLjkyKmNvbG9yOwpmbG9hdCByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvciwwLjQxNjY2KS0wLjA1NTsKcmV0dXJuIGNvbG9yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9HYW1tYVNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpOwojZW5kaWYKfQp2ZWM0IHRvR2FtbWFTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0dhbW1hU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwojZW5kaWYKfQpmbG9hdCBzcXVhcmUoZmxvYXQgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CnZlYzMgc3F1YXJlKHZlYzMgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CmZsb2F0IHBvdzUoZmxvYXQgdmFsdWUpIHsKZmxvYXQgc3E9dmFsdWUqdmFsdWU7CnJldHVybiBzcSpzcSp2YWx1ZTsKfQpmbG9hdCBnZXRMdW1pbmFuY2UodmVjMyBjb2xvcikKewpyZXR1cm4gY2xhbXAoZG90KGNvbG9yLEx1bWluYW5jZUVuY29kZUFwcHJveCksMC4sMS4pOwp9CmZsb2F0IGdldFJhbmQodmVjMiBzZWVkKSB7CnJldHVybiBmcmFjdChzaW4oZG90KHNlZWQueHkgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkqNDM3NTguNTQ1Myk7Cn0KZmxvYXQgZGl0aGVyKHZlYzIgc2VlZCxmbG9hdCB2YXJpYW5jZUFtb3VudCkgewpmbG9hdCByYW5kPWdldFJhbmQoc2VlZCk7CmZsb2F0IG5vcm1WYXJpYW5jZT12YXJpYW5jZUFtb3VudC8yNTUuMDsKZmxvYXQgZGl0aGVyPW1peCgtbm9ybVZhcmlhbmNlLG5vcm1WYXJpYW5jZSxyYW5kKTsKcmV0dXJuIGRpdGhlcjsKfQpjb25zdCBmbG9hdCByZ2JkTWF4UmFuZ2U9MjU1LjA7CnZlYzQgdG9SR0JEKHZlYzMgY29sb3IpIHsKZmxvYXQgbWF4UkdCPW1heEVwcyhtYXgoY29sb3IucixtYXgoY29sb3IuZyxjb2xvci5iKSkpOwpmbG9hdCBEID1tYXgocmdiZE1heFJhbmdlL21heFJHQiwxLik7CkQgPWNsYW1wKGZsb29yKEQpLzI1NS4wLDAuLDEuKTsKdmVjMyByZ2I9Y29sb3IucmdiKkQ7CnJnYj10b0dhbW1hU3BhY2UocmdiKTsKcmV0dXJuIHZlYzQoY2xhbXAocmdiLDAuLDEuKSxEKTsgCn0KdmVjMyBmcm9tUkdCRCh2ZWM0IHJnYmQpIHsKcmdiZC5yZ2I9dG9MaW5lYXJTcGFjZShyZ2JkLnJnYik7CnJldHVybiByZ2JkLnJnYi9yZ2JkLmE7Cn0KdmVjMyBwYXJhbGxheENvcnJlY3ROb3JtYWwoIHZlYzMgdmVydGV4UG9zLHZlYzMgb3JpZ1ZlYyx2ZWMzIGN1YmVTaXplLHZlYzMgY3ViZVBvcyApIHsKdmVjMyBpbnZPcmlnVmVjPXZlYzMoMS4wLDEuMCwxLjApL29yaWdWZWM7CnZlYzMgaGFsZlNpemU9Y3ViZVNpemUqMC41Owp2ZWMzIGludGVyc2VjQXRNYXhQbGFuZT0oY3ViZVBvcytoYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgaW50ZXJzZWNBdE1pblBsYW5lPShjdWJlUG9zLWhhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBsYXJnZXN0SW50ZXJzZWM9bWF4KGludGVyc2VjQXRNYXhQbGFuZSxpbnRlcnNlY0F0TWluUGxhbmUpOwpmbG9hdCBkaXN0YW5jZT1taW4obWluKGxhcmdlc3RJbnRlcnNlYy54LGxhcmdlc3RJbnRlcnNlYy55KSxsYXJnZXN0SW50ZXJzZWMueik7CnZlYzMgaW50ZXJzZWN0UG9zaXRpb25XUz12ZXJ0ZXhQb3Mrb3JpZ1ZlYypkaXN0YW5jZTsKcmV0dXJuIGludGVyc2VjdFBvc2l0aW9uV1MtY3ViZVBvczsKfQpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQmFdPVVhO2NvbnN0IGthPSJzY2VuZVZlcnRleERlY2xhcmF0aW9uIixWYT1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvblI7CiNlbmRpZgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHByb2plY3Rpb247CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrYV09VmE7Y29uc3QgV2E9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsemE9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2FdPXphO2NvbnN0IEdhPSJzaGFkb3dNYXBWZXJ0ZXhEZWNsYXJhdGlvbiIsWGE9YCNpbmNsdWRlPHNjZW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hWZXJ0ZXhEZWNsYXJhdGlvbj4KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dhXT1YYTtjb25zdCBIYT0ic2NlbmVVYm9EZWNsYXJhdGlvbiIsS2E9YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIFNjZW5lIHsKbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIE1VTFRJVklFVwptYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmIAptYXQ0IHZpZXc7Cm1hdDQgcHJvamVjdGlvbjsKdmVjNCB2RXllUG9zaXRpb247Cn07CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIYV09S2E7Y29uc3QgWWE9Im1lc2hVYm9EZWNsYXJhdGlvbiIsWmE9YCNpZmRlZiBXRUJHTDIKdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNlbHNlCmxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1lc2gKewptYXQ0IHdvcmxkOwpmbG9hdCB2aXNpYmlsaXR5Owp9OwojZW5kaWYKI2RlZmluZSBXT1JMRF9VQk8KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lhXT1aYTtjb25zdCBxYT0ic2hhZG93TWFwVWJvRGVjbGFyYXRpb24iLGphPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcWFdPWphO2NvbnN0IFFhPSJzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uIiwkYT1gI2lmIFNNX05PUk1BTEJJQVM9PTEKdW5pZm9ybSB2ZWMzIGxpZ2h0RGF0YVNNOwojZW5kaWYKdW5pZm9ybSB2ZWMzIGJpYXNBbmRTY2FsZVNNOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXNTTTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FhXT0kYTtjb25zdCBKYT0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLGVvPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmFdPWVvO2NvbnN0IHRvPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWwiLGlvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQpmbG9hdCB2ZXJ0ZXhJRDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdG9dPWlvO2NvbnN0IHNvPSJtb3JwaFRhcmdldHNWZXJ0ZXgiLHJvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRSAKdmVydGV4SUQ9ZmxvYXQoZ2xfVmVydGV4SUQpKm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueDsKcG9zaXRpb25VcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtbm9ybWFsKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKdXZVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLnh5LXV2KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAp0YW5nZW50VXBkYXRlZC54eXorPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkgLXRhbmdlbnQueHl6KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNlbHNlCnBvc2l0aW9uVXBkYXRlZCs9KHBvc2l0aW9ue1h9LXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KG5vcm1hbHtYfS1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHRhbmdlbnR7WH0tdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPSh1dl97WH0tdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc29dPXJvO2NvbnN0IG5vPSJpbnN0YW5jZXNWZXJ0ZXgiLGFvPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbm9dPWFvO2NvbnN0IG9vPSJib25lc1ZlcnRleCIsaG89YCNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgaW5mbHVlbmNlOwojaWZkZWYgQk9ORVRFWFRVUkUKaW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMF0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzFdKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMl0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1szXSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2Vsc2UKaW5mbHVlbmNlPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqaW5mbHVlbmNlOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvb109aG87Y29uc3QgbG89ImJha2VkVmVydGV4QW5pbWF0aW9uIixjbz1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp7CiNpZmRlZiBJTlNUQU5DRVMKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkCiNlbHNlCiNkZWZpbmUgQlZBU05BTUUgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncwojZW5kaWYKZmxvYXQgVkFUU3RhcnRGcmFtZT1CVkFTTkFNRS54OwpmbG9hdCBWQVRFbmRGcmFtZT1CVkFTTkFNRS55OwpmbG9hdCBWQVRPZmZzZXRGcmFtZT1CVkFTTkFNRS56OwpmbG9hdCBWQVRTcGVlZD1CVkFTTkFNRS53OwpmbG9hdCB0b3RhbEZyYW1lcz1WQVRFbmRGcmFtZS1WQVRTdGFydEZyYW1lKzEuMDsKZmxvYXQgdGltZT1iYWtlZFZlcnRleEFuaW1hdGlvblRpbWUqVkFUU3BlZWQvdG90YWxGcmFtZXM7CmZsb2F0IGZyYW1lQ29ycmVjdGlvbj10aW1lPDEuMCA/IDAuMCA6IDEuMDsKZmxvYXQgbnVtT2ZGcmFtZXM9dG90YWxGcmFtZXMtZnJhbWVDb3JyZWN0aW9uOwpmbG9hdCBWQVRGcmFtZU51bT1mcmFjdCh0aW1lKSpudW1PZkZyYW1lczsKVkFURnJhbWVOdW09bW9kKFZBVEZyYW1lTnVtK1ZBVE9mZnNldEZyYW1lLG51bU9mRnJhbWVzKTsKVkFURnJhbWVOdW09Zmxvb3IoVkFURnJhbWVOdW0pOwpWQVRGcmFtZU51bSs9VkFUU3RhcnRGcmFtZStmcmFtZUNvcnJlY3Rpb247Cm1hdDQgVkFUSW5mbHVlbmNlOwpWQVRJbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1sxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1syXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1szXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCpWQVRJbmZsdWVuY2U7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsb109Y287Y29uc3QgdW89InNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXMiLGZvPWAjaWYgU01fTk9STUFMQklBUz09MQojaWYgU01fRElSRUNUSU9OSU5MSUdIVERBVEE9PTEKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKC1saWdodERhdGFTTS54eXopOwojZWxzZQp2ZWMzIGRpcmVjdGlvblRvTGlnaHRTTT1saWdodERhdGFTTS54eXotd29ybGRQb3MueHl6Owp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodFNNKTsKI2VuZGlmCmZsb2F0IG5kbFNNPWRvdCh2Tm9ybWFsVyx3b3JsZExpZ2h0RGlyU00pOwpmbG9hdCBzaW5OTFNNPXNxcnQoMS4wLW5kbFNNKm5kbFNNKTsKZmxvYXQgbm9ybWFsQmlhc1NNPWJpYXNBbmRTY2FsZVNNLnkqc2luTkxTTTsKd29ybGRQb3MueHl6LT12Tm9ybWFsVypub3JtYWxCaWFzU007CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdW9dPWZvO2NvbnN0IF9vPSJzaGFkb3dNYXBWZXJ0ZXhNZXRyaWMiLGdvPWAjaWYgU01fVVNFRElTVEFOQ0U9PTEKdlBvc2l0aW9uV1NNPXdvcmxkUG9zLnh5ejsKI2VuZGlmCiNpZiBTTV9ERVBUSFRFWFRVUkU9PTEKI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIEJJQVNGQUNUT1IgMC41CiNlbHNlCiNkZWZpbmUgQklBU0ZBQ1RPUiAxLjAKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9Qb3NpdGlvbi56LT1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2Vsc2UKZ2xfUG9zaXRpb24ueis9Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQp6U009Z2xfUG9zaXRpb24uejsKZ2xfUG9zaXRpb24uej0wLjA7CiNlbGlmIFNNX1VTRURJU1RBTkNFPT0wCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWNTTT0oLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKdkRlcHRoTWV0cmljU009KGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbX29dPWdvO2NvbnN0IHBvPSJjbGlwUGxhbmVWZXJ0ZXgiLG1vPWAjaWZkZWYgQ0xJUFBMQU5FCmZDbGlwRGlzdGFuY2U9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZkNsaXBEaXN0YW5jZTI9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUyKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmZDbGlwRGlzdGFuY2UzPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lMyk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNApmQ2xpcERpc3RhbmNlND1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTQpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZkNsaXBEaXN0YW5jZTU9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU1KTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmZDbGlwRGlzdGFuY2U2PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNik7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcG9dPW1vO2NvbnN0IEVvPSJzaGFkb3dNYXBWZXJ0ZXhTaGFkZXIiLHZvPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fc2hhZG93TWFwVmVydGV4PgojaWZkZWYgQUxQSEFURVhUVVJFCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1Xb3JsZFNNPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdmVjMyB2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1Xb3JsZFNNWzBdLG5vcm1Xb3JsZFNNWzBdKSxkb3Qobm9ybVdvcmxkU01bMV0sbm9ybVdvcmxkU01bMV0pLGRvdChub3JtV29ybGRTTVsyXSxub3JtV29ybGRTTVsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybVdvcmxkU009dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtV29ybGRTTSkpOwojZW5kaWYKdmVjMyB2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcz4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE1ldHJpYz4KI2lmZGVmIEFMUEhBVEVYVFVSRQojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+Cn1gO1UuU2hhZGVyc1N0b3JlW0VvXT12bztjb25zdCBUbz0iZGVwdGhCb3hCbHVyUGl4ZWxTaGFkZXIiLGJvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemU7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzQgY29sb3JEZXB0aD12ZWM0KDAuMCk7CmZvciAoaW50IHg9LU9GRlNFVDsgeDw9T0ZGU0VUOyB4KyspCmZvciAoaW50IHk9LU9GRlNFVDsgeTw9T0ZGU0VUOyB5KyspCmNvbG9yRGVwdGgrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYrdmVjMih4LHkpL3NjcmVlblNpemUpOwpnbF9GcmFnQ29sb3I9KGNvbG9yRGVwdGgvZmxvYXQoKE9GRlNFVCoyKzEpKihPRkZTRVQqMisxKSkpOwp9YDtVLlNoYWRlcnNTdG9yZVtUb109Ym87Y29uc3QgU289InNoYWRvd01hcEZyYWdtZW50U29mdFRyYW5zcGFyZW50U2hhZG93Iix4bz1gI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00qYWxwaGEpIGRpc2NhcmQ7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbU29dPXhvO2NsYXNzIEd7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IEYsdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPUcuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1HLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1wLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PXguWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD14LklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHRoaXMuX2NhbWVyYT1zIT1udWxsP3M6bnVsbDtsZXQgcj10Ll9zaGFkb3dHZW5lcmF0b3JzO3J8fChyPXQuX3NoYWRvd0dlbmVyYXRvcnM9bmV3IE1hcCksci5zZXQodGhpcy5fY2FtZXJhLHRoaXMpLHRoaXMuaWQ9dC5pZCx0aGlzLl91c2VVQk89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZVVCT3M9W10sdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGBTY2VuZSBmb3IgU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIiR7dGhpcy5fbGlnaHQubmFtZX0iKWApKSksRy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgbj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7aT9uLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOnRoaXMuX3RleHR1cmVUeXBlPTA6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MjpuLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTp0aGlzLl90ZXh0dXJlVHlwZT0wLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpfWdldCBiaWFzKCl7cmV0dXJuIHRoaXMuX2JpYXN9c2V0IGJpYXMoZSl7dGhpcy5fYmlhcz1lfWdldCBub3JtYWxCaWFzKCl7cmV0dXJuIHRoaXMuX25vcm1hbEJpYXN9c2V0IG5vcm1hbEJpYXMoZSl7dGhpcy5fbm9ybWFsQmlhcz1lfWdldCBibHVyQm94T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX2JsdXJCb3hPZmZzZXR9c2V0IGJsdXJCb3hPZmZzZXQoZSl7dGhpcy5fYmx1ckJveE9mZnNldCE9PWUmJih0aGlzLl9ibHVyQm94T2Zmc2V0PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBibHVyU2NhbGUoKXtyZXR1cm4gdGhpcy5fYmx1clNjYWxlfXNldCBibHVyU2NhbGUoZSl7dGhpcy5fYmx1clNjYWxlIT09ZSYmKHRoaXMuX2JsdXJTY2FsZT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgYmx1cktlcm5lbCgpe3JldHVybiB0aGlzLl9ibHVyS2VybmVsfXNldCBibHVyS2VybmVsKGUpe3RoaXMuX2JsdXJLZXJuZWwhPT1lJiYodGhpcy5fYmx1cktlcm5lbD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgdXNlS2VybmVsQmx1cigpe3JldHVybiB0aGlzLl91c2VLZXJuZWxCbHVyfXNldCB1c2VLZXJuZWxCbHVyKGUpe3RoaXMuX3VzZUtlcm5lbEJsdXIhPT1lJiYodGhpcy5fdXNlS2VybmVsQmx1cj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgZGVwdGhTY2FsZSgpe3JldHVybiB0aGlzLl9kZXB0aFNjYWxlIT09dm9pZCAwP3RoaXMuX2RlcHRoU2NhbGU6dGhpcy5fbGlnaHQuZ2V0RGVwdGhTY2FsZSgpfXNldCBkZXB0aFNjYWxlKGUpe3RoaXMuX2RlcHRoU2NhbGU9ZX1fdmFsaWRhdGVGaWx0ZXIoZSl7cmV0dXJuIGV9Z2V0IGZpbHRlcigpe3JldHVybiB0aGlzLl9maWx0ZXJ9c2V0IGZpbHRlcihlKXtpZihlPXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGUpLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCkpe2lmKGU9PT1HLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA7cmV0dXJufWVsc2UgaWYoZT09PUcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA7cmV0dXJufWVsc2UgaWYoZT09PUcuRklMVEVSX1BDRnx8ZT09PUcuRklMVEVSX1BDU1Mpe3RoaXMudXNlUG9pc3NvblNhbXBsaW5nPSEwO3JldHVybn19aWYoKGU9PT1HLkZJTFRFUl9QQ0Z8fGU9PT1HLkZJTFRFUl9QQ1NTKSYmIXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5zdXBwb3J0U2hhZG93U2FtcGxlcnMpe3RoaXMudXNlUG9pc3NvblNhbXBsaW5nPSEwO3JldHVybn10aGlzLl9maWx0ZXIhPT1lJiYodGhpcy5fZmlsdGVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgdXNlUG9pc3NvblNhbXBsaW5nKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfXNldCB1c2VQb2lzc29uU2FtcGxpbmcoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9QT0lTU09OU0FNUExJTkcpOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX1BPSVNTT05TQU1QTElOR3x8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgdXNlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IHVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IHVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgdXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IHVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9QQ0Z9c2V0IHVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihHLkZJTFRFUl9QQ0YpOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX1BDRnx8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgZmlsdGVyaW5nUXVhbGl0eSgpe3JldHVybiB0aGlzLl9maWx0ZXJpbmdRdWFsaXR5fXNldCBmaWx0ZXJpbmdRdWFsaXR5KGUpe3RoaXMuX2ZpbHRlcmluZ1F1YWxpdHkhPT1lJiYodGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IHVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3coKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9QQ1NTfXNldCB1c2VDb250YWN0SGFyZGVuaW5nU2hhZG93KGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfUENTUyk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfUENTU3x8KHRoaXMuZmlsdGVyPWU/dDpHLkZJTFRFUl9OT05FKX1nZXQgY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8oKXtyZXR1cm4gdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW99c2V0IGNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKGUpe3RoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPWV9Z2V0IGRhcmtuZXNzKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfXNldCBkYXJrbmVzcyhlKXt0aGlzLnNldERhcmtuZXNzKGUpfWdldERhcmtuZXNzKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfXNldERhcmtuZXNzKGUpe3JldHVybiBlPj0xP3RoaXMuX2RhcmtuZXNzPTE6ZTw9MD90aGlzLl9kYXJrbmVzcz0wOnRoaXMuX2RhcmtuZXNzPWUsdGhpc31nZXQgdHJhbnNwYXJlbmN5U2hhZG93KCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvd31zZXQgdHJhbnNwYXJlbmN5U2hhZG93KGUpe3RoaXMuc2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpfXNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PWUsdGhpc31nZXRTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5fc2hhZG93TWFwfWdldFNoYWRvd01hcEZvclJlbmRlcmluZygpe3JldHVybiB0aGlzLl9zaGFkb3dNYXAyP3RoaXMuX3NoYWRvd01hcDI6dGhpcy5fc2hhZG93TWFwfWdldENsYXNzTmFtZSgpe3JldHVybiBHLkNMQVNTTkFNRX1hZGRTaGFkb3dDYXN0ZXIoZSx0PSEwKXtpZighdGhpcy5fc2hhZG93TWFwKXJldHVybiB0aGlzO2lmKHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChlKSx0KWZvcihjb25zdCBpIG9mIGUuZ2V0Q2hpbGRNZXNoZXMoKSl0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGkpPT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goaSk7cmV0dXJuIHRoaXN9cmVtb3ZlU2hhZG93Q2FzdGVyKGUsdD0hMCl7aWYoIXRoaXMuX3NoYWRvd01hcHx8IXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXJldHVybiB0aGlzO2NvbnN0IGk9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKTtpZihpIT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnNwbGljZShpLDEpLHQpZm9yKGNvbnN0IHMgb2YgZS5nZXRDaGlsZHJlbigpKXRoaXMucmVtb3ZlU2hhZG93Q2FzdGVyKHMpO3JldHVybiB0aGlzfWdldExpZ2h0KCl7cmV0dXJuIHRoaXMuX2xpZ2h0fV9nZXRDYW1lcmEoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9jYW1lcmEpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYX1nZXQgbWFwU2l6ZSgpe3JldHVybiB0aGlzLl9tYXBTaXplfXNldCBtYXBTaXplKGUpe3RoaXMuX21hcFNpemU9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKX1faW5pdGlhbGl6ZUdlbmVyYXRvcigpe3RoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5faW5pdGlhbGl6ZVNoYWRvd01hcCgpfV9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLl9mZWF0dXJlcy5zdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZT8odGhpcy5fc2hhZG93TWFwPW5ldyBfdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCksdm9pZCAwLCExLCExKSx0aGlzLl9zaGFkb3dNYXAuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj81MTY6NTEzLCEwKSk6dGhpcy5fc2hhZG93TWFwPW5ldyBfdCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCkpfV9pbml0aWFsaXplU2hhZG93TWFwKCl7aWYodGhpcy5fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpLHRoaXMuX3NoYWRvd01hcD09PW51bGwpcmV0dXJuO3RoaXMuX3NoYWRvd01hcC53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTEsdGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShOLkJJTElORUFSX1NBTVBMSU5HTU9ERSksdGhpcy5fc2hhZG93TWFwLnJlbmRlclBhcnRpY2xlcz0hMSx0aGlzLl9zaGFkb3dNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fc3RvcmVkVW5pcXVlSWQmJih0aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQ9dGhpcy5fc3RvcmVkVW5pcXVlSWQpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj10aGlzLl9yZW5kZXJGb3JTaGFkb3dNYXAuYmluZCh0aGlzKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPSgpPT4hMDtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBzO3RoaXMuX2N1cnJlbnRTY2VuZVVCTz10aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwocz1lLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoZSxgc2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICR7ZS5jdXJyZW50UmVuZGVyUGFzc0lkfWAsMSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChzPT57dGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fc2NlbmVVQk9zWzBdKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4PXMsdGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGJiZlLnNldENvbG9yV3JpdGUoITEpLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCksdGhpcy5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuX3ZpZXdNYXRyaXgsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCksdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgcyxyO2lmKHRoaXMuX3NjZW5lVUJPcyYmdGhpcy5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuX2N1cnJlbnRTY2VuZVVCTyksdGhpcy5fc2NlbmUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGJiZlLnNldENvbG9yV3JpdGUoITApLCF0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCYmIXRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApeyhzPWUuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGUsMSk7cmV0dXJufWNvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKTtuJiYodGhpcy5fc2NlbmUucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcih0aGlzLl9ibHVyUG9zdFByb2Nlc3NlcyxuLnJlbmRlclRhcmdldCwhMCksZS51bkJpbmRGcmFtZWJ1ZmZlcihuLnJlbmRlclRhcmdldCwhMCksKHI9ZS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwoZSwxKSl9KTtjb25zdCB0PW5ldyBnZSgwLDAsMCwwKSxpPW5ldyBnZSgxLDEsMSwxKTt0aGlzLl9zaGFkb3dNYXAub25DbGVhck9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0Y/cy5jbGVhcihpLCExLCEwLCExKTp0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9zLmNsZWFyKHQsITAsITAsITEpOnMuY2xlYXIoaSwhMCwhMCwhMSl9KSx0aGlzLl9zaGFkb3dNYXAub25SZXNpemVPYnNlcnZhYmxlLmFkZChzPT57dGhpcy5fc3RvcmVkVW5pcXVlSWQ9dGhpcy5fc2hhZG93TWFwLnVuaXF1ZUlkLHRoaXMuX21hcFNpemU9cy5nZXRSZW5kZXJTaXplKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9KTtmb3IobGV0IHM9V2UuTUlOX1JFTkRFUklOR0dST1VQUztzPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7cysrKXRoaXMuX3NoYWRvd01hcC5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwocywhMSl9X2luaXRpYWxpemVCbHVyUlRUQW5kUG9zdFByb2Nlc3Nlcygpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD10aGlzLl9tYXBTaXplL3RoaXMuYmx1clNjYWxlOyghdGhpcy51c2VLZXJuZWxCbHVyfHx0aGlzLmJsdXJTY2FsZSE9PTEpJiYodGhpcy5fc2hhZG93TWFwMj1uZXcgX3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcDIiLHQsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdm9pZCAwLHZvaWQgMCwhMSksdGhpcy5fc2hhZG93TWFwMi53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLnVwZGF0ZVNhbXBsaW5nTW9kZShOLkJJTElORUFSX1NBTVBMSU5HTU9ERSkpLHRoaXMudXNlS2VybmVsQmx1cj8odGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1uZXcgSnQodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clgiLG5ldyB2ZSgxLDApLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsTi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy53aWR0aD10LHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuaGVpZ2h0PXQsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChpPT57aS5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdGhpcy5fc2hhZG93TWFwKX0pLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bmV3IEp0KHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJZIixuZXcgdmUoMCwxKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLE4uQklMSU5FQVJfU0FNUExJTkdNT0RFLGUsITEsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuYXV0b0NsZWFyPSExLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuYXV0b0NsZWFyPSExLHRoaXMuX3RleHR1cmVUeXBlPT09MCYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MucGFja2VkRmxvYXQ9ITAsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzc10pOih0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bmV3IE1lKHRoaXMuX2xpZ2h0Lm5hbWUrIkRlcHRoQm94Qmx1ciIsImRlcHRoQm94Qmx1ciIsWyJzY3JlZW5TaXplIiwiYm94T2Zmc2V0Il0sW10sMSxudWxsLE4uQklMSU5FQVJfU0FNUExJTkdNT0RFLGUsITEsIiNkZWZpbmUgT0ZGU0VUICIrdGhpcy5fYmx1ckJveE9mZnNldCx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoaT0+e2kuc2V0RmxvYXQyKCJzY3JlZW5TaXplIix0LHQpLGkuc2V0VGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHRoaXMuX3NoYWRvd01hcCl9KSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuYXV0b0NsZWFyPSExLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVt0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3NdKX1fcmVuZGVyRm9yU2hhZG93TWFwKGUsdCxpLHMpe2xldCByO2lmKHMubGVuZ3RoKWZvcihyPTA7cjxzLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChzLmRhdGFbcl0pO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLmRhdGFbcl0pO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcCh0LmRhdGFbcl0pO2lmKHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdylmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoaS5kYXRhW3JdLCEwKTtlbHNlIGZvcihyPTA7cjxpLmxlbmd0aDtyKyspaS5kYXRhW3JdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9X2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdCxpKXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpfV9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdD0hMSl7dmFyIGkscztjb25zdCByPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLG49ZS5nZXRFZmZlY3RpdmVNZXNoKCksYT10aGlzLl9zY2VuZSxvPWEuZ2V0RW5naW5lKCksaD1lLmdldE1hdGVyaWFsKCk7aWYobi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsIWh8fGUudmVydGljZXNDb3VudD09PTB8fGUuX3JlbmRlcklkPT09YS5nZXRSZW5kZXJJZCgpKXJldHVybjtjb25zdCBsPW4uX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTwwO2xldCB1PShpPXIub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbikhPT1udWxsJiZpIT09dm9pZCAwP2k6aC5zaWRlT3JpZW50YXRpb247bCYmKHU9dT09PTA/MTowKTtjb25zdCBkPXU9PT0wO28uc2V0U3RhdGUoaC5iYWNrRmFjZUN1bGxpbmcsdm9pZCAwLHZvaWQgMCxkLGguY3VsbEJhY2tGYWNlcyk7Y29uc3QgZj1yLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUuX2lkLCEhZS5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoZi5tdXN0UmV0dXJuKXJldHVybjtjb25zdCBfPW8uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKGYudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT1udWxsJiZmLnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09dm9pZCAwfHxyLmhhc1RoaW5JbnN0YW5jZXMpO2lmKCEodGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyYmIXRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcoZSkpKWlmKHRoaXMuaXNSZWFkeShlLF8sdCkpe2UuX3JlbmRlcklkPWEuZ2V0UmVuZGVySWQoKTtjb25zdCBFPWguc2hhZG93RGVwdGhXcmFwcGVyLG09KHM9RT09bnVsbD92b2lkIDA6RS5nZXRFZmZlY3QoZSx0aGlzLG8uY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuX2dldERyYXdXcmFwcGVyKCksdj1taS5HZXRFZmZlY3QobSk7by5lbmFibGVFZmZlY3QobSksX3x8ci5fYmluZChlLHYsaC5maWxsTW9kZSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx2LnNldEZsb2F0MygiYmlhc0FuZFNjYWxlU00iLHRoaXMuYmlhcyx0aGlzLm5vcm1hbEJpYXMsdGhpcy5kZXB0aFNjYWxlKSx0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1oZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUP3Yuc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZERpcmVjdGlvbik6di5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkUG9zaXRpb24pO2NvbnN0IFM9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoUyYmdi5zZXRGbG9hdDIoImRlcHRoVmFsdWVzU00iLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooUyksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihTKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKFMpKSx0JiZ0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdyYmdi5zZXRGbG9hdCgic29mdFRyYW5zcGFyZW50U2hhZG93U00iLG4udmlzaWJpbGl0eSpoLmFscGhhKSxFKWUuX3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlKG0pLEUuc3RhbmRhbG9uZT9FLmJhc2VNYXRlcmlhbC5iaW5kRm9yU3ViTWVzaChuLmdldFdvcmxkTWF0cml4KCkscixlKTpoLmJpbmRGb3JTdWJNZXNoKG4uZ2V0V29ybGRNYXRyaXgoKSxyLGUpLGUuX3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlKG51bGwpO2Vsc2V7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93KXtjb25zdCBBPWgub3BhY2l0eVRleHR1cmU7QSYmKHYuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLEEpLHYuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4IixBLmdldFRleHR1cmVNYXRyaXgoKXx8dGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXgpKX1lbHNlIGlmKGgubmVlZEFscGhhVGVzdGluZygpfHxoLm5lZWRBbHBoYUJsZW5kaW5nKCkpe2NvbnN0IEE9aC5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7QSYmKHYuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLEEpLHYuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4IixBLmdldFRleHR1cmVNYXRyaXgoKXx8dGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXgpKX1pZihyLnVzZUJvbmVzJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmci5za2VsZXRvbil7Y29uc3QgQT1yLnNrZWxldG9uO2lmKEEuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7Y29uc3QgQz1BLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUocik7aWYoIUMpcmV0dXJuO3Yuc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLEMpLHYuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKEEuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHYuc2V0TWF0cmljZXMoIm1Cb25lcyIsQS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhyKSl9aWUuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhyLHYpLHIubW9ycGhUYXJnZXRNYW5hZ2VyJiZyLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnIubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHYpLHJzKHYsaCxhKX0hdGhpcy5fdXNlVUJPJiYhRSYmdGhpcy5fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx2LG4pLGllLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodix0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSksdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkuYmluZFVuaWZvcm1CdWZmZXIoKTtjb25zdCB5PW4uZ2V0V29ybGRNYXRyaXgoKTtfJiYobi5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdCh2LCJNZXNoIiksbi50cmFuc2ZlclRvRWZmZWN0KHkpKSx0aGlzLmZvcmNlQmFja0ZhY2VzT25seSYmby5zZXRTdGF0ZSghMCwwLCExLCEwLGguY3VsbEJhY2tGYWNlcyksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModiksci5fcHJvY2Vzc1JlbmRlcmluZyhuLGUsdixoLmZpbGxNb2RlLGYsXywoQSxDKT0+e24hPT1yJiYhQT8oci5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdCh2LCJNZXNoIiksci50cmFuc2ZlclRvRWZmZWN0KEMpKToobi5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdCh2LCJNZXNoIiksbi50cmFuc2ZlclRvRWZmZWN0KEE/Qzp5KSl9KSx0aGlzLmZvcmNlQmFja0ZhY2VzT25seSYmby5zZXRTdGF0ZSghMCwwLCExLCExLGguY3VsbEJhY2tGYWNlcyksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModiksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfWVsc2UgdGhpcy5fc2hhZG93TWFwJiZ0aGlzLl9zaGFkb3dNYXAucmVzZXRSZWZyZXNoQ291bnRlcigpfV9hcHBseUZpbHRlclZhbHVlcygpeyF0aGlzLl9zaGFkb3dNYXB8fCh0aGlzLmZpbHRlcj09PUcuRklMVEVSX05PTkV8fHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUENTUz90aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCl7Y29uc3QgaT17dXNlSW5zdGFuY2VzOiExLC4uLnR9LHM9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighcyl7ZSYmZSh0aGlzKTtyZXR1cm59Y29uc3Qgcj1zLnJlbmRlckxpc3Q7aWYoIXIpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IG49bmV3IEFycmF5O2Zvcihjb25zdCBoIG9mIHIpbi5wdXNoKC4uLmguc3ViTWVzaGVzKTtpZihuLmxlbmd0aD09PTApe2UmJmUodGhpcyk7cmV0dXJufWxldCBhPTA7Y29uc3Qgbz0oKT0+e3ZhciBoLGw7aWYoISghdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSkpe2Zvcig7dGhpcy5pc1JlYWR5KG5bYV0saS51c2VJbnN0YW5jZXMsKGw9KGg9blthXS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKG5bYV0uZ2V0TWVzaCgpKSkhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpOylpZihhKyssYT49bi5sZW5ndGgpe2UmJmUodGhpcyk7cmV0dXJufXNldFRpbWVvdXQobywxNil9fTtvKCl9Zm9yY2VDb21waWxhdGlvbkFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57dGhpcy5mb3JjZUNvbXBpbGF0aW9uKCgpPT57dCgpfSxlKX0pfV9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhlLHQsaSl7fV9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsaSxzKXtpLnB1c2goIiNkZWZpbmUgU01fTElHSFRUWVBFXyIrdGhpcy5fbGlnaHQuZ2V0Q2xhc3NOYW1lKCkudG9VcHBlckNhc2UoKSksaS5wdXNoKCIjZGVmaW5lIFNNX0ZMT0FUICIrKHRoaXMuX3RleHR1cmVUeXBlIT09MD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0VTTSAiKyh0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIVEVYVFVSRSAiKyh0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmd8fHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8iMSI6IjAiKSk7Y29uc3Qgcj1lLmdldE1lc2goKTtyZXR1cm4gaS5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnM/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKGksZSx0KSxpfWlzUmVhZHkoZSx0LGkpe3ZhciBzO2NvbnN0IHI9ZS5nZXRNYXRlcmlhbCgpLG49cj09bnVsbD92b2lkIDA6ci5zaGFkb3dEZXB0aFdyYXBwZXI7aWYoIXIpcmV0dXJuITE7Y29uc3QgYT1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsYSxpKSxuKXtpZighbi5pc1JlYWR5Rm9yU3ViTWVzaChlLGEsdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7Y29uc3Qgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2xldCBoPW8uZWZmZWN0LGw9by5kZWZpbmVzO2NvbnN0IHU9W2cuUG9zaXRpb25LaW5kXSxkPWUuZ2V0TWVzaCgpO3RoaXMubm9ybWFsQmlhcyYmZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHUucHVzaChnLk5vcm1hbEtpbmQpLGEucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxkLm5vblVuaWZvcm1TY2FsaW5nJiZhLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSk7Y29uc3QgZj1yPT1udWxsP3ZvaWQgMDpyLm5lZWRBbHBoYVRlc3RpbmcoKSxfPXI9PW51bGw/dm9pZCAwOnIubmVlZEFscGhhQmxlbmRpbmcoKTtpZihyJiYoZnx8Xykpe2xldCB5PW51bGw7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P3k9ci5vcGFjaXR5VGV4dHVyZTp5PXIuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLHkpe2lmKCF5LmlzUmVhZHkoKSlyZXR1cm4hMTtjb25zdCBBPShzPXIuYWxwaGFDdXRPZmYpIT09bnVsbCYmcyE9PXZvaWQgMD9zOkcuREVGQVVMVF9BTFBIQV9DVVRPRkY7YS5wdXNoKCIjZGVmaW5lIEFMUEhBVEVYVFVSRSIpLGYmJmEucHVzaChgI2RlZmluZSBBTFBIQVRFU1RWQUxVRSAke0F9JHtBJTE9PT0wPyIuIjoiIn1gKSxkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJih1LnB1c2goZy5VVktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjEiKSksZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmeS5jb29yZGluYXRlc0luZGV4PT09MSYmKHUucHVzaChnLlVWMktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjIiKSl9fWNvbnN0IEU9bmV3IHpzO2lmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXt1LnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxkLm51bUJvbmVJbmZsdWVuY2Vycz40JiYodS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKTtjb25zdCB5PWQuc2tlbGV0b247YS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrZC5udW1Cb25lSW5mbHVlbmNlcnMpLGQubnVtQm9uZUluZmx1ZW5jZXJzPjAmJkUuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGQpLHkuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9hLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTphLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKHkuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIGEucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3QgbT1kLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgdj0wO2lmKG0mJm0ubnVtSW5mbHVlbmNlcnM+MCYmKGEucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx2PW0ubnVtSW5mbHVlbmNlcnMsYS5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3YpLG0uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZhLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKHUsZCx2KSksT3Mocix0aGlzLl9zY2VuZSxhKSx0JiYoYS5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLGllLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmEucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcihjb25zdCB5IG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWEuaW5kZXhPZih5KT09PS0xJiZhLnB1c2goeSk7Y29uc3QgUz1hLmpvaW4oYApgKTtpZihsIT09Uyl7bD1TO2xldCB5PSJzaGFkb3dNYXAiO2NvbnN0IEE9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxDPVsiZGlmZnVzZVNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyJdLGI9WyJTY2VuZSIsIk1lc2giXTtpZihzcyhBKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMpe2lmKHk9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNoYWRlck5hbWUsdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpZm9yKGNvbnN0IEwgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpdS5pbmRleE9mKEwpPT09LTEmJnUucHVzaChMKTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpZm9yKGNvbnN0IEwgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKUEuaW5kZXhPZihMKT09PS0xJiZBLnB1c2goTCk7aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcihjb25zdCBMIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycylDLmluZGV4T2YoTCk9PT0tMSYmQy5wdXNoKEwpfWNvbnN0IE09dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7aD1NLmNyZWF0ZUVmZmVjdCh5LHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpBLHVuaWZvcm1CdWZmZXJzTmFtZXM6YixzYW1wbGVyczpDLGRlZmluZXM6UyxmYWxsYmFja3M6RSxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnZ9fSxNKSxvLnNldEVmZmVjdChoLGwpfWlmKCFoLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4odGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoIXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzfHwhdGhpcy5fYmx1clBvc3RQcm9jZXNzZXMubGVuZ3RoKSYmdGhpcy5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCksISh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYhdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmlzUmVhZHkoKSl9cHJlcGFyZURlZmluZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7IWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Ry5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Ry5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCkscy5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpOyFufHwoaS5uZWVkQ3ViZSgpfHx0LnNldE1hdHJpeCgibGlnaHRNYXRyaXgiK2UsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksbi5nZXRTaXplKCkud2lkdGgsMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6dGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENTUz8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qbi5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOih0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdGhpcy5ibHVyU2NhbGUvbi5nZXRTaXplKCkud2lkdGgsdGhpcy5kZXB0aFNjYWxlLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloociksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKHIpLGUpKX1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PWUuZ2V0UmVuZGVySWQoKSYmdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPT09dGhpcy5fY3VycmVudEZhY2VJbmRleClyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4O3RoaXMuX2N1cnJlbnRSZW5kZXJJZD1lLmdldFJlbmRlcklkKCksdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPXRoaXMuX2N1cnJlbnRGYWNlSW5kZXg7bGV0IHQ9dGhpcy5fbGlnaHQucG9zaXRpb247aWYodGhpcy5fbGlnaHQuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKSYmKHQ9dGhpcy5fbGlnaHQudHJhbnNmb3JtZWRQb3NpdGlvbikscC5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24odGhpcy5fY3VycmVudEZhY2VJbmRleCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKHAuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLHAuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2xpZ2h0Lm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfHwhdGhpcy5fY2FjaGVkUG9zaXRpb258fCF0aGlzLl9jYWNoZWREaXJlY3Rpb258fCF0LmVxdWFscyh0aGlzLl9jYWNoZWRQb3NpdGlvbil8fCF0aGlzLl9saWdodERpcmVjdGlvbi5lcXVhbHModGhpcy5fY2FjaGVkRGlyZWN0aW9uKSl7dGhpcy5fY2FjaGVkUG9zaXRpb24uY29weUZyb20odCksdGhpcy5fY2FjaGVkRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSx4Lkxvb2tBdExIVG9SZWYodCx0LmFkZCh0aGlzLl9saWdodERpcmVjdGlvbikscC5VcCgpLHRoaXMuX3ZpZXdNYXRyaXgpO2NvbnN0IGk9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZihpKXtjb25zdCBzPWkucmVuZGVyTGlzdDtzJiZ0aGlzLl9saWdodC5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdmlld01hdHJpeCxzKX10aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpfXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9cmVjcmVhdGVTaGFkb3dNYXAoKXtjb25zdCBlPXRoaXMuX3NoYWRvd01hcDtpZighZSlyZXR1cm47Y29uc3QgdD1lLnJlbmRlckxpc3Q7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5maWx0ZXI9dGhpcy5fZmlsdGVyLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdCl7dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpfWVsc2UgdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9bnVsbH1fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwMiYmKHRoaXMuX3NoYWRvd01hcDIuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcDI9bnVsbCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W119X2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5fc2hhZG93TWFwLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXA9bnVsbCksdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCl9X2Rpc3Bvc2VTY2VuZVVCT3MoKXtpZih0aGlzLl9zY2VuZVVCT3Mpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3NjZW5lVUJPcyllLmRpc3Bvc2UoKTt0aGlzLl9zY2VuZVVCT3M9W119fWRpc3Bvc2UoKXtpZih0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9saWdodCl7aWYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMpe2NvbnN0IGU9dGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuZW50cmllcygpO2ZvcihsZXQgdD1lLm5leHQoKTt0LmRvbmUhPT0hMDt0PWUubmV4dCgpKXtjb25zdFtpLHNdPXQudmFsdWU7cz09PXRoaXMmJnRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLmRlbGV0ZShpKX10aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5zaXplPT09MCYmKHRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzPW51bGwpfXRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUuY2xlYXIoKX1zZXJpYWxpemUoKXt2YXIgZTtjb25zdCB0PXt9LGk9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighaSlyZXR1cm4gdDtpZih0LmNsYXNzTmFtZT10aGlzLmdldENsYXNzTmFtZSgpLHQubGlnaHRJZD10aGlzLl9saWdodC5pZCx0LmNhbWVyYUlkPShlPXRoaXMuX2NhbWVyYSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlkLHQuaWQ9dGhpcy5pZCx0Lm1hcFNpemU9aS5nZXRSZW5kZXJTaXplKCksdC5mb3JjZUJhY2tGYWNlc09ubHk9dGhpcy5mb3JjZUJhY2tGYWNlc09ubHksdC5kYXJrbmVzcz10aGlzLmdldERhcmtuZXNzKCksdC50cmFuc3BhcmVuY3lTaGFkb3c9dGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93LHQuZnJ1c3R1bUVkZ2VGYWxsb2ZmPXRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLHQuYmlhcz10aGlzLmJpYXMsdC5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyx0LnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nLHQudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz10aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3csdC5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz10aGlzLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvLHQuZmlsdGVyaW5nUXVhbGl0eT10aGlzLmZpbHRlcmluZ1F1YWxpdHksdC51c2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCx0LnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlUG9pc3NvblNhbXBsaW5nPXRoaXMudXNlUG9pc3NvblNhbXBsaW5nLHQuZGVwdGhTY2FsZT10aGlzLmRlcHRoU2NhbGUsdC5ibHVyQm94T2Zmc2V0PXRoaXMuYmx1ckJveE9mZnNldCx0LmJsdXJLZXJuZWw9dGhpcy5ibHVyS2VybmVsLHQuYmx1clNjYWxlPXRoaXMuYmx1clNjYWxlLHQudXNlS2VybmVsQmx1cj10aGlzLnVzZUtlcm5lbEJsdXIsdC5yZW5kZXJMaXN0PVtdLGkucmVuZGVyTGlzdClmb3IobGV0IHM9MDtzPGkucmVuZGVyTGlzdC5sZW5ndGg7cysrKXtjb25zdCByPWkucmVuZGVyTGlzdFtzXTt0LnJlbmRlckxpc3QucHVzaChyLmlkKX1yZXR1cm4gdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9dC5nZXRMaWdodEJ5SWQoZS5saWdodElkKSxyPWUuY2FtZXJhSWQhPT12b2lkIDA/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGwsbj1pP2koZS5tYXBTaXplLHMscik6bmV3IEcoZS5tYXBTaXplLHMsdm9pZCAwLHIpLGE9bi5nZXRTaGFkb3dNYXAoKTtmb3IobGV0IG89MDtvPGUucmVuZGVyTGlzdC5sZW5ndGg7bysrKXQuZ2V0TWVzaGVzQnlJZChlLnJlbmRlckxpc3Rbb10pLmZvckVhY2goZnVuY3Rpb24obCl7IWF8fChhLnJlbmRlckxpc3R8fChhLnJlbmRlckxpc3Q9W10pLGEucmVuZGVyTGlzdC5wdXNoKGwpKX0pO3JldHVybiBlLmlkIT09dm9pZCAwJiYobi5pZD1lLmlkKSxuLmZvcmNlQmFja0ZhY2VzT25seT0hIWUuZm9yY2VCYWNrRmFjZXNPbmx5LGUuZGFya25lc3MhPT12b2lkIDAmJm4uc2V0RGFya25lc3MoZS5kYXJrbmVzcyksZS50cmFuc3BhcmVuY3lTaGFkb3cmJm4uc2V0VHJhbnNwYXJlbmN5U2hhZG93KCEwKSxlLmZydXN0dW1FZGdlRmFsbG9mZiE9PXZvaWQgMCYmKG4uZnJ1c3R1bUVkZ2VGYWxsb2ZmPWUuZnJ1c3R1bUVkZ2VGYWxsb2ZmKSxlLmJpYXMhPT12b2lkIDAmJihuLmJpYXM9ZS5iaWFzKSxlLm5vcm1hbEJpYXMhPT12b2lkIDAmJihuLm5vcm1hbEJpYXM9ZS5ub3JtYWxCaWFzKSxlLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc/bi51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPSEwOmUudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz9uLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9ITA6ZS51c2VQb2lzc29uU2FtcGxpbmc/bi51c2VQb2lzc29uU2FtcGxpbmc9ITA6ZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP24udXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlVmFyaWFuY2VTaGFkb3dNYXA/bi51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJWYXJpYW5jZVNoYWRvd01hcCYmKG4udXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPSEwKSxlLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvIT09dm9pZCAwJiYobi5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKSxlLmZpbHRlcmluZ1F1YWxpdHkhPT12b2lkIDAmJihuLmZpbHRlcmluZ1F1YWxpdHk9ZS5maWx0ZXJpbmdRdWFsaXR5KSxlLmRlcHRoU2NhbGUmJihuLmRlcHRoU2NhbGU9ZS5kZXB0aFNjYWxlKSxlLmJsdXJTY2FsZSYmKG4uYmx1clNjYWxlPWUuYmx1clNjYWxlKSxlLmJsdXJCb3hPZmZzZXQmJihuLmJsdXJCb3hPZmZzZXQ9ZS5ibHVyQm94T2Zmc2V0KSxlLnVzZUtlcm5lbEJsdXImJihuLnVzZUtlcm5lbEJsdXI9ZS51c2VLZXJuZWxCbHVyKSxlLmJsdXJLZXJuZWwmJihuLmJsdXJLZXJuZWw9ZS5ibHVyS2VybmVsKSxufX1HLkNMQVNTTkFNRT0iU2hhZG93R2VuZXJhdG9yIixHLkZJTFRFUl9OT05FPTAsRy5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVA9MSxHLkZJTFRFUl9QT0lTU09OU0FNUExJTkc9MixHLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVA9MyxHLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTQsRy5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NSxHLkZJTFRFUl9QQ0Y9NixHLkZJTFRFUl9QQ1NTPTcsRy5RVUFMSVRZX0hJR0g9MCxHLlFVQUxJVFlfTUVESVVNPTEsRy5RVUFMSVRZX0xPVz0yLEcuREVGQVVMVF9BTFBIQV9DVVRPRkY9LjUsRy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgUSgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX07Y29uc3QgTW89ImRlcHRoUGl4ZWxTaGFkZXIiLEFvPWAjaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNpZmRlZiBQQUNLRUQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVNUCmlmICh0ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hPDAuNCkKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBOT05MSU5FQVJERVBUSAojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKGdsX0ZyYWdDb29yZC56KTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQoZ2xfRnJhZ0Nvb3JkLnosMC4wLDAuMCwwLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayh2RGVwdGhNZXRyaWMpOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2RGVwdGhNZXRyaWMsMC4wLDAuMCwxLjApOwojZW5kaWYKI2VuZGlmCn1gO1UuU2hhZGVyc1N0b3JlW01vXT1Bbztjb25zdCBSbz0iaW5zdGFuY2VzRGVjbGFyYXRpb24iLHlvPWAjaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2lmZGVmIElOU1RBTkNFU0NPTE9SCmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykgJiYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMDsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQyOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMzsKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCnVuaWZvcm0gbWF0NCBwcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtSb109eW87Y29uc3QgQ289ImRlcHRoVmVydGV4U2hhZGVyIixJbz1gYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpIHx8IGRlZmluZWQoTkVFRF9VVikKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljPSgoLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2Vsc2UKdkRlcHRoTWV0cmljPSgoZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO1UuU2hhZGVyc1N0b3JlW0NvXT1JbztjbGFzcyBhc3tjb25zdHJ1Y3RvcihlLHQ9MSxpPW51bGwscz0hMSxyPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSl7dGhpcy5lbmFibGVkPSEwLHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXM9ITEsdGhpcy51c2VPbmx5SW5BY3RpdmVDYW1lcmE9ITEsdGhpcy5fc2NlbmU9ZSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoPXMsdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuX2NsZWFyQ29sb3I9bmV3IGdlKDEsMSwxLDEpOnRoaXMuX2NsZWFyQ29sb3I9bmV3IGdlKDEsMCwwLDEpLGFzLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBuPWUuZ2V0RW5naW5lKCk7dGhpcy5fY2FtZXJhPWksciE9PU4uTkVBUkVTVF9TQU1QTElOR01PREUmJih0PT09MSYmIW4uX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nJiYocj1OLk5FQVJFU1RfU0FNUExJTkdNT0RFKSx0PT09MiYmIW4uX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSkpO2NvbnN0IGE9dGhpcy5pc1BhY2tlZHx8IW4uX2ZlYXR1cmVzLnN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzPzU6Njt0aGlzLl9kZXB0aE1hcD1uZXcgX3QoIkRlcHRoUmVuZGVyZXIiLHt3aWR0aDpuLmdldFJlbmRlcldpZHRoKCksaGVpZ2h0Om4uZ2V0UmVuZGVySGVpZ2h0KCl9LHRoaXMuX3NjZW5lLCExLCEwLHQsITEscix2b2lkIDAsdm9pZCAwLHZvaWQgMCxhKSx0aGlzLl9kZXB0aE1hcC53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoaD0+e2guY2xlYXIodGhpcy5fY2xlYXJDb2xvciwhMCwhMCwhMCl9KSx0aGlzLl9kZXB0aE1hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBoOyhoPW4uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fGg9PT12b2lkIDB8fGguY2FsbChuLCJkZXB0aCByZW5kZXJlciIsMSl9KSx0aGlzLl9kZXB0aE1hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgaDsoaD1uLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fGg9PT12b2lkIDB8fGguY2FsbChuLDEpfSksdGhpcy5fZGVwdGhNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPShoLGwsdSk9PntpZigodXx8bD09PTApJiZoLnN1Yk1lc2hlcylmb3IobGV0IGQ9MDtkPGguc3ViTWVzaGVzLmxlbmd0aDsrK2Qpe2NvbnN0IGY9aC5zdWJNZXNoZXNbZF0sXz1mLmdldFJlbmRlcmluZ01lc2goKSxFPV8uX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZi5faWQsISFmLmdldFJlcGxhY2VtZW50TWVzaCgpKSxtPW4uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKEUudmlzaWJsZUluc3RhbmNlc1tmLl9pZF0hPT1udWxsJiZFLnZpc2libGVJbnN0YW5jZXNbZi5faWRdIT09dm9pZCAwfHxfLmhhc1RoaW5JbnN0YW5jZXMpO2lmKCF0aGlzLmlzUmVhZHkoZixtKSlyZXR1cm4hMX1yZXR1cm4hMH07Y29uc3Qgbz1oPT57dmFyIGwsdTtjb25zdCBkPWguZ2V0UmVuZGVyaW5nTWVzaCgpLGY9aC5nZXRFZmZlY3RpdmVNZXNoKCksXz10aGlzLl9zY2VuZSxFPV8uZ2V0RW5naW5lKCksbT1oLmdldE1hdGVyaWFsKCk7aWYoZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsIW18fGYuaW5maW5pdGVEaXN0YW5jZXx8bS5kaXNhYmxlRGVwdGhXcml0ZXx8aC52ZXJ0aWNlc0NvdW50PT09MHx8aC5fcmVuZGVySWQ9PT1fLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IHY9Zi5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IFM9KGw9ZC5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmwhPT12b2lkIDA/bDptLnNpZGVPcmllbnRhdGlvbjt2JiYoUz1TPT09MD8xOjApO2NvbnN0IHk9Uz09PTA7RS5zZXRTdGF0ZShtLmJhY2tGYWNlQ3VsbGluZywwLCExLHksbS5jdWxsQmFja0ZhY2VzKTtjb25zdCBBPWQuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoaC5faWQsISFoLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZihBLm11c3RSZXR1cm4pcmV0dXJuO2NvbnN0IEM9RS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoQS52aXNpYmxlSW5zdGFuY2VzW2guX2lkXSE9PW51bGwmJkEudmlzaWJsZUluc3RhbmNlc1toLl9pZF0hPT12b2lkIDB8fGQuaGFzVGhpbkluc3RhbmNlcyksYj10aGlzLl9jYW1lcmF8fF8uYWN0aXZlQ2FtZXJhO2lmKHRoaXMuaXNSZWFkeShoLEMpJiZiKXtoLl9yZW5kZXJJZD1fLmdldFJlbmRlcklkKCk7Y29uc3QgTT0odT1mLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dVtFLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2xldCBMPWguX2dldERyYXdXcmFwcGVyKCk7IUwmJk0mJihMPU0uX2dldERyYXdXcmFwcGVyKCkpO2NvbnN0IGs9Yi5tb2RlPT09ai5PUlRIT0dSQVBISUNfQ0FNRVJBO2lmKCFMKXJldHVybjtjb25zdCB3PUwuZWZmZWN0O0UuZW5hYmxlRWZmZWN0KEwpLEN8fGQuX2JpbmQoaCx3LG0uZmlsbE1vZGUpLE0/TS5iaW5kRm9yU3ViTWVzaChmLmdldFdvcmxkTWF0cml4KCksZixoKToody5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixfLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx3LnNldE1hdHJpeCgid29ybGQiLGYuZ2V0V29ybGRNYXRyaXgoKSkpO2xldCBkZSxjZTtpZihrPyhkZT0hRS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlPzA6MSxjZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDoxKTooZGU9RS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlP2IubWluWjpFLmlzTkRDSGFsZlpSYW5nZT8wOmIubWluWixjZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDpiLm1heFopLHcuc2V0RmxvYXQyKCJkZXB0aFZhbHVlcyIsZGUsZGUrY2UpLCFNKXtpZihtLm5lZWRBbHBoYVRlc3RpbmcoKSl7Y29uc3Qgc2U9bS5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7c2UmJih3LnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixzZSksdy5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLHNlLmdldFRleHR1cmVNYXRyaXgoKSkpfWlmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXtjb25zdCBzZT1kLnNrZWxldG9uO2lmKHNlLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMpe2NvbnN0IHRlPXNlLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZCk7aWYoIXRlKXJldHVybjt3LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIix0ZSksdy5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooc2UuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHcuc2V0TWF0cmljZXMoIm1Cb25lcyIsc2UuZ2V0VHJhbnNmb3JtTWF0cmljZXMoZCkpfXJzKHcsbSxfKSxpZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGQsdyksZC5tb3JwaFRhcmdldE1hbmFnZXImJmQubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmZC5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQodyl9ZC5fcHJvY2Vzc1JlbmRlcmluZyhmLGgsdyxtLmZpbGxNb2RlLEEsQywoc2UsdGUpPT53LnNldE1hdHJpeCgid29ybGQiLHRlKSl9fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj0oaCxsLHUsZCk9PntsZXQgZjtpZihkLmxlbmd0aClmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKW8oZC5kYXRhW2ZdKTtmb3IoZj0wO2Y8aC5sZW5ndGg7ZisrKW8oaC5kYXRhW2ZdKTtmb3IoZj0wO2Y8bC5sZW5ndGg7ZisrKW8obC5kYXRhW2ZdKTtpZih0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcihmPTA7Zjx1Lmxlbmd0aDtmKyspbyh1LmRhdGFbZl0pO2Vsc2UgZm9yKGY9MDtmPHUubGVuZ3RoO2YrKyl1LmRhdGFbZl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXt0aGlzLl9kZXB0aE1hcC5zZXRNYXRlcmlhbEZvclJlbmRlcmluZyhlLHQpfWlzUmVhZHkoZSx0KXt2YXIgaTtjb25zdCBzPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9ZS5nZXRNZXNoKCksbj1yLmdldFNjZW5lKCksYT0oaT1yLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aVtzLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2lmKGEpcmV0dXJuIGEuaXNSZWFkeUZvclN1Yk1lc2gocixlLHQpO2NvbnN0IG89ZS5nZXRNYXRlcmlhbCgpO2lmKCFvfHxvLmRpc2FibGVEZXB0aFdyaXRlKXJldHVybiExO2NvbnN0IGg9W10sbD1bZy5Qb3NpdGlvbktpbmRdO2lmKG8mJm8ubmVlZEFscGhhVGVzdGluZygpJiZvLmdldEFscGhhVGVzdFRleHR1cmUoKSYmKGgucHVzaCgiI2RlZmluZSBBTFBIQVRFU1QiKSxyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJihsLnB1c2goZy5VVktpbmQpLGgucHVzaCgiI2RlZmluZSBVVjEiKSksci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKGwucHVzaChnLlVWMktpbmQpLGgucHVzaCgiI2RlZmluZSBVVjIiKSkpLHIudXNlQm9uZXMmJnIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKXtsLnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSxsLnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxyLm51bUJvbmVJbmZsdWVuY2Vycz40JiYobC5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxsLnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSxoLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIityLm51bUJvbmVJbmZsdWVuY2VycyksaC5wdXNoKCIjZGVmaW5lIEJvbmVzUGVyTWVzaCAiKyhyLnNrZWxldG9uP3Iuc2tlbGV0b24uYm9uZXMubGVuZ3RoKzE6MCkpO2NvbnN0IG09ZS5nZXRSZW5kZXJpbmdNZXNoKCkuc2tlbGV0b247bSE9bnVsbCYmbS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZoLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKX1lbHNlIGgucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3QgdT1yLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgZD0wO3UmJnUubnVtSW5mbHVlbmNlcnM+MCYmKGQ9dS5udW1JbmZsdWVuY2VycyxoLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTIiksaC5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK2QpLHUuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZoLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGwscixkKSksdCYmKGgucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxpZS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhsKSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZoLnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aCYmaC5wdXNoKCIjZGVmaW5lIE5PTkxJTkVBUkRFUFRIIiksdGhpcy5pc1BhY2tlZCYmaC5wdXNoKCIjZGVmaW5lIFBBQ0tFRCIpLE9zKG8sbixoKTtjb25zdCBmPWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCksXz1mLmRlZmluZXMsRT1oLmpvaW4oYApgKTtpZihfIT09RSl7Y29uc3QgbT1bIndvcmxkIiwibUJvbmVzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXTtzcyhtKSxmLnNldEVmZmVjdChzLmNyZWF0ZUVmZmVjdCgiZGVwdGgiLGwsbSxbImRpZmZ1c2VTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwiYm9uZVNhbXBsZXIiXSxFLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6ZH0pLEUpfXJldHVybiBmLmVmZmVjdC5pc1JlYWR5KCl9Z2V0RGVwdGhNYXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXB9ZGlzcG9zZSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXIpdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF09PT10aGlzJiZlLnB1c2godCk7aWYoZS5sZW5ndGg+MCl7dGhpcy5fZGVwdGhNYXAuZGlzcG9zZSgpO2Zvcihjb25zdCB0IG9mIGUpZGVsZXRlIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdfX19YXMuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93IFEoIkRlcHRoUmVuZGVyZXJTY2VuZUNvbXBvbmVudCIpfTtjb25zdCBQbz0ibWlubWF4UmVkdXhQaXhlbFNoYWRlciIsRG89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojaWYgZGVmaW5lZChJTklUSUFMKQp1bmlmb3JtIHNhbXBsZXIyRCBzb3VyY2VUZXh0dXJlOwp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwpmbG9hdCBmMT10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQsMCkucjsKZmxvYXQgZjI9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMCksMCkucjsKZmxvYXQgZjM9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMSksMCkucjsKZmxvYXQgZjQ9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDAsMSksMCkucjsKZmxvYXQgbWluej1taW4obWluKG1pbihmMSxmMiksZjMpLGY0KTsKI2lmZGVmIERFUFRIX1JFRFVYCmZsb2F0IG1heHo9bWF4KG1heChtYXgoc2lnbigxLjAtZjEpKmYxLHNpZ24oMS4wLWYyKSpmMiksc2lnbigxLjAtZjMpKmYzKSxzaWduKDEuMC1mNCkqZjQpOwojZWxzZQpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLGYyKSxmMyksZjQpOwojZW5kaWYKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTUFJTikKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwwKSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMSksMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigwLDEpLDApLnJnOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLngsZjIueCksZjMueCksZjQueCk7CmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEueSxmMi55KSxmMy55KSxmNC55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoT05FQkVGT1JFTEFTVCkKdW5pZm9ybSBpdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqdmVjMih0ZXhTaXplLTEpKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDApKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwxKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDAsMSkpICUgdGV4U2l6ZSwwKS5yZzsKZmxvYXQgbWluej1taW4oZjEueCxmMi54KTsKZmxvYXQgbWF4ej1tYXgoZjEueSxmMi55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTEFTVCkKdm9pZCBtYWluKHZvaWQpCnsKZ2xGcmFnQ29sb3I9dmVjNCgwLik7CmlmICh0cnVlKSB7IApkaXNjYXJkOwp9Cn0KI2VuZGlmCmA7VS5TaGFkZXJzU3RvcmVbUG9dPURvO2NsYXNzIEZve2NvbnN0cnVjdG9yKGUpe3RoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZD1uZXcgRix0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLl9hY3RpdmF0ZWQ9ITEsdGhpcy5fY2FtZXJhPWUsdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyAkaShlLmdldFNjZW5lKCkpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9KX1nZXQgc291cmNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlfXNldFNvdXJjZVRleHR1cmUoZSx0LGk9MixzPSEwKXtpZihlPT09dGhpcy5fc291cmNlVGV4dHVyZSlyZXR1cm47dGhpcy5kaXNwb3NlKCExKSx0aGlzLl9zb3VyY2VUZXh0dXJlPWUsdGhpcy5fcmVkdWN0aW9uU3RlcHM9W10sdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cztjb25zdCByPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLG49bmV3IE1lKCJJbml0aWFsIHJlZHVjdGlvbiBwaGFzZSIsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxbInNvdXJjZVRleHR1cmUiXSwxLG51bGwsMSxyLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lIElOSVRJQUwiKyh0P2AKI2RlZmluZSBERVBUSF9SRURVWGA6IiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7bi5hdXRvQ2xlYXI9ITEsbi5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zO2xldCBhPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVyV2lkdGgoKSxvPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVySGVpZ2h0KCk7bi5vbkFwcGx5PSgobCx1KT0+ZD0+e2Quc2V0VGV4dHVyZSgic291cmNlVGV4dHVyZSIsdGhpcy5fc291cmNlVGV4dHVyZSksZC5zZXRGbG9hdDIoInRleFNpemUiLGwsdSl9KShhLG8pLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobik7bGV0IGg9MTtmb3IoO2E+MXx8bz4xOyl7YT1NYXRoLm1heChNYXRoLnJvdW5kKGEvMiksMSksbz1NYXRoLm1heChNYXRoLnJvdW5kKG8vMiksMSk7Y29uc3QgbD1uZXcgTWUoIlJlZHVjdGlvbiBwaGFzZSAiK2gsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxudWxsLHt3aWR0aDphLGhlaWdodDpvfSxudWxsLDEsci5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSAiKyhhPT0xJiZvPT0xPyJMQVNUIjphPT0xfHxvPT0xPyJPTkVCRUZPUkVMQVNUIjoiTUFJTiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7aWYobC5hdXRvQ2xlYXI9ITEsbC5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zLGwub25BcHBseT0oKHUsZCk9PmY9Pnt1PT0xfHxkPT0xP2Yuc2V0SW50MigidGV4U2l6ZSIsdSxkKTpmLnNldEZsb2F0MigidGV4U2l6ZSIsdSxkKX0pKGEsbyksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChsKSxoKyssYT09MSYmbz09MSl7Y29uc3QgdT0oZCxmLF8pPT57Y29uc3QgRT1uZXcgRmxvYXQzMkFycmF5KDQqZCpmKSxtPXttaW46MCxtYXg6MH07cmV0dXJuKCk9PntyLmdldEVuZ2luZSgpLl9yZWFkVGV4dHVyZVBpeGVscyhfLmlucHV0VGV4dHVyZS50ZXh0dXJlLGQsZiwtMSwwLEUsITEpLG0ubWluPUVbMF0sbS5tYXg9RVsxXSx0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQubm90aWZ5T2JzZXJ2ZXJzKG0pfX07bC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodShhLG8sbCkpfX19Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmU/dGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZTotMX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fc291cmNlVGV4dHVyZSYmKHRoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU9ZSl9Z2V0IGFjdGl2YXRlZCgpe3JldHVybiB0aGlzLl9hY3RpdmF0ZWR9YWN0aXZhdGUoKXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIGUsdDtjb25zdCBpPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOyhlPWkuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbChpLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUodGhpcy5fY2FtZXJhKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzLHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksaS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLCh0PWkuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKGksMSl9KSx0aGlzLl9hY3RpdmF0ZWQ9ITApfWRlYWN0aXZhdGUoKXshdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWN0aXZhdGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKGUmJih0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuY2xlYXIoKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5fY2FtZXJhLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSksdGhpcy5kZWFjdGl2YXRlKCksdGhpcy5fcmVkdWN0aW9uU3RlcHMpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVkdWN0aW9uU3RlcHMubGVuZ3RoOysrdCl0aGlzLl9yZWR1Y3Rpb25TdGVwc1t0XS5kaXNwb3NlKCk7dGhpcy5fcmVkdWN0aW9uU3RlcHM9bnVsbH10aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJmUmJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fc291cmNlVGV4dHVyZT1udWxsfX1jbGFzcyB3byBleHRlbmRzIEZve2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWdldCBkZXB0aFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX2RlcHRoUmVuZGVyZXJ9c2V0RGVwdGhSZW5kZXJlcihlPW51bGwsdD0yLGk9ITApe2NvbnN0IHM9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCk7dGhpcy5fZGVwdGhSZW5kZXJlciYmKGRlbGV0ZSBzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsKSxlPT09bnVsbCYmKHMuX2RlcHRoUmVuZGVyZXJ8fChzLl9kZXB0aFJlbmRlcmVyPXt9KSxlPXRoaXMuX2RlcHRoUmVuZGVyZXI9bmV3IGFzKHMsdCx0aGlzLl9jYW1lcmEsITEsMSksZS5lbmFibGVkPSExLHRoaXMuX2RlcHRoUmVuZGVyZXJJZD0ibWlubWF4Iit0aGlzLl9jYW1lcmEuaWQscy5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdPWUpLHN1cGVyLnNldFNvdXJjZVRleHR1cmUoZS5nZXREZXB0aE1hcCgpLCEwLHQsaSl9c2V0U291cmNlVGV4dHVyZShlLHQsaT0yLHM9ITApe3N1cGVyLnNldFNvdXJjZVRleHR1cmUoZSx0LGkscyl9YWN0aXZhdGUoKXt0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSEwKSxzdXBlci5hY3RpdmF0ZSgpfWRlYWN0aXZhdGUoKXtzdXBlci5kZWFjdGl2YXRlKCksdGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMSl9ZGlzcG9zZShlPSEwKXtpZihzdXBlci5kaXNwb3NlKGUpLHRoaXMuX2RlcHRoUmVuZGVyZXImJmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLmdldFNjZW5lKCk7dCYmZGVsZXRlIHQuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGx9fX1jb25zdCBOcj1wLlVwKCksT289cC5aZXJvKCksTGU9bmV3IHAseGk9bmV3IHAsb3M9bmV3IHg7Y2xhc3Mga2UgZXh0ZW5kcyBHe2NvbnN0cnVjdG9yKGUsdCxpLHMpe2lmKCFrZS5Jc1N1cHBvcnRlZCl7Ty5FcnJvcigiQ2FzY2FkZWRTaGFkb3dNYXAgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXN1cGVyKGUsdCxpLHMpLHRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMH1fdmFsaWRhdGVGaWx0ZXIoZSl7cmV0dXJuIGU9PT1HLkZJTFRFUl9OT05FfHxlPT09Ry5GSUxURVJfUENGfHxlPT09Ry5GSUxURVJfUENTUz9lOihjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBmaWx0ZXIgIicrZSsnIiEnKSxHLkZJTFRFUl9OT05FKX1nZXQgbnVtQ2FzY2FkZXMoKXtyZXR1cm4gdGhpcy5fbnVtQ2FzY2FkZXN9c2V0IG51bUNhc2NhZGVzKGUpe2U9TWF0aC5taW4oTWF0aC5tYXgoZSxrZS5NSU5fQ0FTQ0FERVNfQ09VTlQpLGtlLk1BWF9DQVNDQURFU19DT1VOVCksZSE9PXRoaXMuX251bUNhc2NhZGVzJiYodGhpcy5fbnVtQ2FzY2FkZXM9ZSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCksdGhpcy5fcmVjcmVhdGVTY2VuZVVCT3MoKSl9Z2V0IGZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb31zZXQgZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmZSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLCF0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmIWUmJih0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT10aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLmJpbmQodGhpcykpKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWUsZSYmdGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKX1fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKXtpZih0aGlzLl9zY2JpTWluLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9zY2JpTWF4LmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXtjb25zdCBlPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBzPWVbaV07aWYoIXMpY29udGludWU7Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpfWNvbnN0IHQ9dGhpcy5fc2NlbmUubWVzaGVzO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07aWYoIXN8fCFzLmlzVmlzaWJsZXx8IXMuaXNFbmFibGVkfHwhcy5yZWNlaXZlU2hhZG93cyljb250aW51ZTtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCl9fXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QodGhpcy5fc2NiaU1pbix0aGlzLl9zY2JpTWF4KX1nZXQgc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvfXNldCBzaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKGUpe3RoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZX1zZXRNaW5NYXhEaXN0YW5jZShlLHQpe3RoaXMuX21pbkRpc3RhbmNlPT09ZSYmdGhpcy5fbWF4RGlzdGFuY2U9PT10fHwoZT50JiYoZT0wLHQ9MSksZTwwJiYoZT0wKSx0PjEmJih0PTEpLHRoaXMuX21pbkRpc3RhbmNlPWUsdGhpcy5fbWF4RGlzdGFuY2U9dCx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0IG1pbkRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21pbkRpc3RhbmNlfWdldCBtYXhEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9tYXhEaXN0YW5jZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4ga2UuQ0xBU1NOQU1FfWdldENhc2NhZGVNaW5FeHRlbnRzKGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdOm51bGx9Z2V0Q2FzY2FkZU1heEV4dGVudHMoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV06bnVsbH1nZXQgc2hhZG93TWF4Wigpe3JldHVybiB0aGlzLl9nZXRDYW1lcmEoKT90aGlzLl9zaGFkb3dNYXhaOjB9c2V0IHNoYWRvd01heFooZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighdCl7dGhpcy5fc2hhZG93TWF4Wj1lO3JldHVybn10aGlzLl9zaGFkb3dNYXhaPT09ZXx8ZTx0Lm1pblp8fGU+dC5tYXhafHwodGhpcy5fc2hhZG93TWF4Wj1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfWdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z31zZXQgZGVidWcoZSl7dGhpcy5fZGVidWc9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfWdldCBkZXB0aENsYW1wKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ2xhbXB9c2V0IGRlcHRoQ2xhbXAoZSl7dGhpcy5fZGVwdGhDbGFtcD1lfWdldCBjYXNjYWRlQmxlbmRQZXJjZW50YWdlKCl7cmV0dXJuIHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2V9c2V0IGNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UoZSl7dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9Z2V0IGxhbWJkYSgpe3JldHVybiB0aGlzLl9sYW1iZGF9c2V0IGxhbWJkYShlKXtjb25zdCB0PU1hdGgubWluKE1hdGgubWF4KGUsMCksMSk7dGhpcy5fbGFtYmRhIT10JiYodGhpcy5fbGFtYmRhPXQsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfWdldENhc2NhZGVWaWV3TWF0cml4KGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3ZpZXdNYXRyaWNlc1tlXTpudWxsfWdldENhc2NhZGVQcm9qZWN0aW9uTWF0cml4KGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tlXTpudWxsfWdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbZV06bnVsbH1zZXREZXB0aFJlbmRlcmVyKGUpe3RoaXMuX2RlcHRoUmVuZGVyZXI9ZSx0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpfWdldCBhdXRvQ2FsY0RlcHRoQm91bmRzKCl7cmV0dXJuIHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHN9c2V0IGF1dG9DYWxjRGVwdGhCb3VuZHMoZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighIXQpe2lmKHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHM9ZSwhZSl7dGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuZGVhY3RpdmF0ZSgpLHRoaXMuc2V0TWluTWF4RGlzdGFuY2UoMCwxKTtyZXR1cm59dGhpcy5fZGVwdGhSZWR1Y2VyfHwodGhpcy5fZGVwdGhSZWR1Y2VyPW5ldyB3byh0KSx0aGlzLl9kZXB0aFJlZHVjZXIub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5hZGQoaT0+e2xldCBzPWkubWluLHI9aS5tYXg7cz49ciYmKHM9MCxyPTEpLChzIT10aGlzLl9taW5EaXN0YW5jZXx8ciE9dGhpcy5fbWF4RGlzdGFuY2UpJiZ0aGlzLnNldE1pbk1heERpc3RhbmNlKHMscil9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fWdldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoKXt2YXIgZSx0LGk7cmV0dXJuKGk9KHQ9KGU9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVwdGhSZW5kZXJlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOi0xfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoZSl7dmFyIHQ7ISgodD10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGU9ZSl9c3BsaXRGcnVzdHVtKCl7dGhpcy5fYnJlYWtzQXJlRGlydHk9ITB9X3NwbGl0RnJ1c3R1bSgpe2NvbnN0IGU9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5taW5aLGk9ZS5tYXhaLHM9aS10LHI9dGhpcy5fbWluRGlzdGFuY2Usbj10aGlzLl9zaGFkb3dNYXhaPGkmJnRoaXMuX3NoYWRvd01heFo+PXQ/TWF0aC5taW4oKHRoaXMuX3NoYWRvd01heFotdCkvKGktdCksdGhpcy5fbWF4RGlzdGFuY2UpOnRoaXMuX21heERpc3RhbmNlLGE9dCtyKnMsbz10K24qcyxoPW8tYSxsPW8vYTtmb3IobGV0IHU9MDt1PHRoaXMuX2Nhc2NhZGVzLmxlbmd0aDsrK3Upe2NvbnN0IGQ9KHUrMSkvdGhpcy5fbnVtQ2FzY2FkZXMsZj1hKmwqKmQsXz1hK2gqZCxFPXRoaXMuX2xhbWJkYSooZi1fKStfO3RoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlPXU9PT0wP3I6dGhpcy5fY2FzY2FkZXNbdS0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW3VdLmJyZWFrRGlzdGFuY2U9KEUtdCkvcyx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbdV09RSx0aGlzLl9mcnVzdHVtTGVuZ3Roc1t1XT0odGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1t1XS5wcmV2QnJlYWtEaXN0YW5jZSkqc310aGlzLl9icmVha3NBcmVEaXJ0eT0hMX1fY29tcHV0ZU1hdHJpY2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZTtpZighdGhpcy5fZ2V0Q2FtZXJhKCkpcmV0dXJuO3AuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKDApLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhwLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixwLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pO2NvbnN0IGk9ZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7Zm9yKGxldCBzPTA7czx0aGlzLl9udW1DYXNjYWRlczsrK3Mpe3RoaXMuX2NvbXB1dGVGcnVzdHVtSW5Xb3JsZFNwYWNlKHMpLHRoaXMuX2NvbXB1dGVDYXNjYWRlRnJ1c3R1bShzKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLExlKSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLnNjYWxlKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLnopLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSkseC5Mb29rQXRMSFRvUmVmKHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLE5yLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSk7bGV0IHI9MCxuPUxlLno7Y29uc3QgYT10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvO2EudXBkYXRlKHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSksbj1NYXRoLm1pbihuLGEuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLnopLCF0aGlzLl9kZXB0aENsYW1wfHx0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BDU1M/cj1NYXRoLm1pbihyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnI9TWF0aC5tYXgocixhLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSx4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS55LGk/bjpyLGk/cjpuLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSxlLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10uej1yLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLno9bix0aGlzLl92aWV3TWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihPbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSxMZSksTGUuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMikseGkuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZChMZS54KSxNYXRoLnJvdW5kKExlLnkpLE1hdGgucm91bmQoTGUueikpLHhpLnN1YnRyYWN0SW5QbGFjZShMZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSkseC5UcmFuc2xhdGlvblRvUmVmKHhpLngseGkueSwwLG9zKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZihvcyx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10pLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LHMqMTYpfX1fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9jYXNjYWRlc1tlXS5wcmV2QnJlYWtEaXN0YW5jZSxzPXRoaXMuX2Nhc2NhZGVzW2VdLmJyZWFrRGlzdGFuY2Uscj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2U7dC5nZXRWaWV3TWF0cml4KCk7Y29uc3Qgbj14LkludmVydCh0LmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCkpLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzQ6MDtmb3IobGV0IG89MDtvPGtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK28pTGUuY29weUZyb20oa2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKG8rYSkla2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoXSksciYmTGUuej09PS0xJiYoTGUuej0wKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoTGUsbix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bb10pO2ZvcihsZXQgbz0wO288a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7KytvKUxlLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvKzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dKSx4aS5jb3B5RnJvbShMZSkuc2NhbGVJblBsYWNlKGkpLExlLnNjYWxlSW5QbGFjZShzKSxMZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW28rNF0uY29weUZyb20oTGUpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXS5hZGRJblBsYWNlKHhpKX1fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGUpe2lmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5jb3B5RnJvbUZsb2F0cygwLDAsMCksISF0aGlzLl9nZXRDYW1lcmEoKSl7Zm9yKGxldCBpPTA7aTx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2ldKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2xldCBpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcyl7Y29uc3Qgcj10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLExlKS5sZW5ndGgoKTtpPU1hdGgubWF4KGkscil9aT1NYXRoLmNlaWwoaSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoaSxpLGkpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKC1pLC1pLC1pKX1lbHNle2NvbnN0IGk9dGhpcy5fZnJ1c3R1bUNlbnRlcltlXTt0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLExlKSx4Lkxvb2tBdExIVG9SZWYoaSxMZSxOcixvcyk7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW3NdLG9zLExlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXS5taW5pbWl6ZUluUGxhY2UoTGUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLm1heGltaXplSW5QbGFjZShMZSl9fX1fcmVjcmVhdGVTY2VuZVVCT3MoKXtpZih0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fc2NlbmVVQk9zKWZvcihsZXQgZT0wO2U8dGhpcy5fbnVtQ2FzY2FkZXM7KytlKXRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihgU2NlbmUgZm9yIENTTSBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIgY2FzY2FkZSAjJHtlfSlgKSl9c3RhdGljIGdldCBJc1N1cHBvcnRlZCgpe2NvbnN0IGU9ZmUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIGU/ZS5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX1faW5pdGlhbGl6ZUdlbmVyYXRvcigpe3ZhciBlLHQsaSxzLHIsbixhLG8saCxsLHUsZCxmLF8sRSxtLHYsUyx5LEE7dGhpcy5wZW51bWJyYURhcmtuZXNzPShlPXRoaXMucGVudW1icmFEYXJrbmVzcykhPT1udWxsJiZlIT09dm9pZCAwP2U6MSx0aGlzLl9udW1DYXNjYWRlcz0odD10aGlzLl9udW1DYXNjYWRlcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6a2UuREVGQVVMVF9DQVNDQURFU19DT1VOVCx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzPShpPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiExLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPShzPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocj10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmciE9PXZvaWQgMD9yOiExLHRoaXMuX3NjYmlNaW49KG49dGhpcy5fc2NiaU1pbikhPT1udWxsJiZuIT09dm9pZCAwP246bmV3IHAoMCwwLDApLHRoaXMuX3NjYmlNYXg9KGE9dGhpcy5fc2NiaU1heCkhPT1udWxsJiZhIT09dm9pZCAwP2E6bmV3IHAoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KG89dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZvIT09dm9pZCAwP286bmV3IGR0KG5ldyBwKDAsMCwwKSxuZXcgcCgwLDAsMCkpLHRoaXMuX2JyZWFrc0FyZURpcnR5PShoPXRoaXMuX2JyZWFrc0FyZURpcnR5KSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9taW5EaXN0YW5jZT0obD10aGlzLl9taW5EaXN0YW5jZSkhPT1udWxsJiZsIT09dm9pZCAwP2w6MCx0aGlzLl9tYXhEaXN0YW5jZT0odT10aGlzLl9tYXhEaXN0YW5jZSkhPT1udWxsJiZ1IT09dm9pZCAwP3U6MSx0aGlzLl9jdXJyZW50TGF5ZXI9KGQ9dGhpcy5fY3VycmVudExheWVyKSE9PW51bGwmJmQhPT12b2lkIDA/ZDowLHRoaXMuX3NoYWRvd01heFo9KEU9KGY9dGhpcy5fc2hhZG93TWF4WikhPT1udWxsJiZmIT09dm9pZCAwP2Y6KF89dGhpcy5fZ2V0Q2FtZXJhKCkpPT09bnVsbHx8Xz09PXZvaWQgMD92b2lkIDA6Xy5tYXhaKSE9PW51bGwmJkUhPT12b2lkIDA/RToxZTQsdGhpcy5fZGVidWc9KG09dGhpcy5fZGVidWcpIT09bnVsbCYmbSE9PXZvaWQgMD9tOiExLHRoaXMuX2RlcHRoQ2xhbXA9KHY9dGhpcy5fZGVwdGhDbGFtcCkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oUz10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9PW51bGwmJlMhPT12b2lkIDA/UzouMSx0aGlzLl9sYW1iZGE9KHk9dGhpcy5fbGFtYmRhKSE9PW51bGwmJnkhPT12b2lkIDA/eTouNSx0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPShBPXRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHMpIT09bnVsbCYmQSE9PXZvaWQgMD9BOiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksc3VwZXIuX2luaXRpYWxpemVHZW5lcmF0b3IoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyBfdCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfV9pbml0aWFsaXplU2hhZG93TWFwKCl7aWYoc3VwZXIuX2luaXRpYWxpemVTaGFkb3dNYXAoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5fbnVtQ2FzY2FkZXM7Kyt0KXt0aGlzLl9jYXNjYWRlc1t0XT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1t0XT14Llplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbdF09eC5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF09bmV3IHAsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNlbnRlclt0XT1uZXcgcCx0aGlzLl9zaGFkb3dDYW1lcmFQb3NbdF09bmV3IHAsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdPW5ldyBBcnJheShrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1baV09bmV3IHB9Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0PT57dGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fc2NlbmVVQk9zW3RdKSx0aGlzLl9jdXJyZW50TGF5ZXI9dCx0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuZ2V0Q2FzY2FkZVZpZXdNYXRyaXgodCksdGhpcy5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeCh0KSksdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB0O3RoaXMuX2N1cnJlbnRTY2VuZVVCTz10aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwodD1lLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoZSxgY2FzY2FkZWQgc2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICR7ZS5jdXJyZW50UmVuZGVyUGFzc0lkfWAsMSksdGhpcy5fYnJlYWtzQXJlRGlydHkmJnRoaXMuX3NwbGl0RnJ1c3R1bSgpLHRoaXMuX2NvbXB1dGVNYXRyaWNlcygpfSksdGhpcy5fc3BsaXRGcnVzdHVtKCl9X2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdCl7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgodGhpcy5fY3VycmVudExheWVyKSl9X2lzUmVhZHlDdXN0b21EZWZpbmVzKGUpe2UucHVzaCgiI2RlZmluZSBTTV9ERVBUSENMQU1QICIrKHRoaXMuX2RlcHRoQ2xhbXAmJnRoaXMuX2ZpbHRlciE9PUcuRklMVEVSX1BDU1M/IjEiOiIwIikpfXByZXBhcmVEZWZpbmVzKGUsdCl7c3VwZXIucHJlcGFyZURlZmluZXMoZSx0KTtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7aWYoIWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2VbIlNIQURPV0NTTSIrdF09ITAsZVsiU0hBRE9XQ1NNREVCVUciK3RdPXRoaXMuZGVidWcsZVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIit0XT10aGlzLm51bUNhc2NhZGVzLGVbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrdF09aS51c2VSaWdodEhhbmRlZFN5c3RlbTtjb25zdCByPXRoaXMuX2dldENhbWVyYSgpO3ImJnRoaXMuX3NoYWRvd01heFo8ci5tYXhaJiYoZVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrdF09ITApLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTAmJihlWyJTSEFET1dDU01OT0JMRU5EIit0XT0hMCl9YmluZFNoYWRvd0xpZ2h0KGUsdCl7Y29uc3QgaT10aGlzLl9saWdodDtpZighdGhpcy5fc2NlbmUuc2hhZG93c0VuYWJsZWR8fCFpLnNoYWRvd0VuYWJsZWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighbilyZXR1cm47Y29uc3QgYT1uLmdldFNpemUoKS53aWR0aDtpZih0LnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrZSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHQuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrZSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHQuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrZSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksdC5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK2UsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRil0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7ZWxzZSBpZih0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ1NTKXtmb3IobGV0IG89MDtvPHRoaXMuX251bUNhc2NhZGVzOysrbyl0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzBdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueCkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLngtdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueCksdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW28qMisxXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnkpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS55LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnkpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbltvXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLnopLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS56LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLnopO3Quc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSx0LnNldFRleHR1cmUoImRlcHRoU2FtcGxlciIrZSxuKSx0LnNldEFycmF5MigibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbiksdC5zZXRBcnJheSgiZGVwdGhDb3JyZWN0aW9uIitlLHRoaXMuX2RlcHRoQ29ycmVjdGlvbiksdC5zZXRGbG9hdCgicGVudW1icmFEYXJrbmVzcyIrZSx0aGlzLnBlbnVtYnJhRGFya25lc3MpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvYSx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyphLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpfWVsc2UgdC5zZXRUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLGEsMS9hLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpO2kuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSl9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksdGhpcy5fZGVwdGhSZWR1Y2VyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlZHVjZXI9bnVsbCl9c2VyaWFsaXplKCl7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKSx0PXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXQpcmV0dXJuIGU7aWYoZS5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyxlLmRlYnVnPXRoaXMuX2RlYnVnLGUuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyxlLmxhbWJkYT10aGlzLl9sYW1iZGEsZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSxlLmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCxlLmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLGUuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLGUucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sZS5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSxlLnJlbmRlckxpc3Q9W10sdC5yZW5kZXJMaXN0KWZvcihsZXQgaT0wO2k8dC5yZW5kZXJMaXN0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dC5yZW5kZXJMaXN0W2ldO2UucmVuZGVyTGlzdC5wdXNoKHMuaWQpfXJldHVybiBlfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9Ry5QYXJzZShlLHQsKHMscixuKT0+bmV3IGtlKHMscix2b2lkIDAsbikpO3JldHVybiBlLm51bUNhc2NhZGVzIT09dm9pZCAwJiYoaS5udW1DYXNjYWRlcz1lLm51bUNhc2NhZGVzKSxlLmRlYnVnIT09dm9pZCAwJiYoaS5kZWJ1Zz1lLmRlYnVnKSxlLnN0YWJpbGl6ZUNhc2NhZGVzIT09dm9pZCAwJiYoaS5zdGFiaWxpemVDYXNjYWRlcz1lLnN0YWJpbGl6ZUNhc2NhZGVzKSxlLmxhbWJkYSE9PXZvaWQgMCYmKGkubGFtYmRhPWUubGFtYmRhKSxlLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UhPT12b2lkIDAmJihpLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSxlLmRlcHRoQ2xhbXAhPT12b2lkIDAmJihpLmRlcHRoQ2xhbXA9ZS5kZXB0aENsYW1wKSxlLmF1dG9DYWxjRGVwdGhCb3VuZHMhPT12b2lkIDAmJihpLmF1dG9DYWxjRGVwdGhCb3VuZHM9ZS5hdXRvQ2FsY0RlcHRoQm91bmRzKSxlLnNoYWRvd01heFohPT12b2lkIDAmJihpLnNoYWRvd01heFo9ZS5zaGFkb3dNYXhaKSxlLnBlbnVtYnJhRGFya25lc3MhPT12b2lkIDAmJihpLnBlbnVtYnJhRGFya25lc3M9ZS5wZW51bWJyYURhcmtuZXNzKSxlLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8hPT12b2lkIDAmJihpLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSxlLm1pbkRpc3RhbmNlIT09dm9pZCAwJiZlLm1heERpc3RhbmNlIT09dm9pZCAwJiZpLnNldE1pbk1heERpc3RhbmNlKGUubWluRGlzdGFuY2UsZS5tYXhEaXN0YW5jZSksaX19a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2U9W25ldyBwKC0xLDEsLTEpLG5ldyBwKDEsMSwtMSksbmV3IHAoMSwtMSwtMSksbmV3IHAoLTEsLTEsLTEpLG5ldyBwKC0xLDEsMSksbmV3IHAoMSwxLDEpLG5ldyBwKDEsLTEsMSksbmV3IHAoLTEsLTEsMSldLGtlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGtlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5NSU5fQ0FTQ0FERVNfQ09VTlQ9MixrZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57dGhyb3cgUSgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX0sWmkuQWRkUGFyc2VyKHEuTkFNRV9TSEFET1dHRU5FUkFUT1IsKGMsZSk9PntpZihjLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmMuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKGxldCB0PTAsaT1jLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9Yy5zaGFkb3dHZW5lcmF0b3JzW3RdO3MuY2xhc3NOYW1lPT09a2UuQ0xBU1NOQU1FP2tlLlBhcnNlKHMsZSk6Ry5QYXJzZShzLGUpfX0pO2NsYXNzIExve2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1xLk5BTUVfU0hBRE9XR0VORVJBVE9SLHRoaXMuc2NlbmU9ZX1yZWdpc3Rlcigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAocS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SLHRoaXMsdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0cyl9cmVidWlsZCgpe31zZXJpYWxpemUoZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2NvbnN0IHQ9dGhpcy5zY2VuZS5saWdodHM7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3Qgcz1pLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihzKXtjb25zdCByPXMudmFsdWVzKCk7Zm9yKGxldCBuPXIubmV4dCgpO24uZG9uZSE9PSEwO249ci5uZXh0KCkpe2NvbnN0IGE9bi52YWx1ZTtlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChhLnNlcmlhbGl6ZSgpKX19fX1hZGRGcm9tQ29udGFpbmVyKGUpe31yZW1vdmVGcm9tQ29udGFpbmVyKGUsdCl7fWRpc3Bvc2UoKXt9X2dhdGhlclJlbmRlclRhcmdldHMoZSl7Y29uc3QgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKGxldCBpPTA7aTx0LmxpZ2h0cy5sZW5ndGg7aSsrKXtjb25zdCBzPXQubGlnaHRzW2ldLHI9cy5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYocy5pc0VuYWJsZWQoKSYmcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBuPXIudmFsdWVzKCk7Zm9yKGxldCBhPW4ubmV4dCgpO2EuZG9uZSE9PSEwO2E9bi5uZXh0KCkpe2NvbnN0IGg9YS52YWx1ZS5nZXRTaGFkb3dNYXAoKTt0LnRleHR1cmVzLmluZGV4T2YoaCkhPT0tMSYmZS5wdXNoKGgpfX19fX1HLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9PntsZXQgZT1jLl9nZXRDb21wb25lbnQocS5OQU1FX1NIQURPV0dFTkVSQVRPUik7ZXx8KGU9bmV3IExvKGMpLGMuX2FkZENvbXBvbmVudChlKSl9O2NvbnN0IE5vPXtlbmFibGVTaGFkb3dzOiEwfTtmdW5jdGlvbiBCcihjPU5vKXtjb25zdHtlbmFibGVTaGFkb3dzOmUsc2hhZG93VHJhbnNwYXJlbmN5OnQsaW50ZW5zaXR5Omksc2NlbmU6c309YyxyPW5ldyBJdCgiRGlyZWN0aW9uYWxMaWdodCIsbmV3IHAoLS4zLC0xLC40KSxzKTtyLnBvc2l0aW9uPW5ldyBwKC01MCw2NSwtNTApLHIuaW50ZW5zaXR5PS42NSppO2NvbnN0IG49bmV3IG5zKCJIZW1pc3BoZXJpY0xpZ2h0IixuZXcgcCgxLDEsMCkscyk7cmV0dXJuIG4uaW50ZW5zaXR5PS40KmksZSYmKHIuc2hhZG93TWluWj0xLHIuc2hhZG93TWF4Wj03MCxyLnNoYWRvd0dlbmVyYXRvcj1uZXcgRygyMDQ4LHIpLHIuc2hhZG93R2VuZXJhdG9yLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITAsci5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dCkse2RpcmVjdGlvbmFsOnIsaGVtaXNwaGVyaWM6bn19ZnVuY3Rpb24gVXIoYyl7bGV0IHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXTtjb25zdCBpPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0scz1bXTtsZXQgcj1bXTtjb25zdCBuPWMud2lkdGh8fGMuc2l6ZXx8MSxhPWMuaGVpZ2h0fHxjLnNpemV8fDEsbz1jLmRlcHRofHxjLnNpemV8fDEsaD1jLndyYXB8fCExO2xldCBsPWMudG9wQmFzZUF0PT09dm9pZCAwPzE6Yy50b3BCYXNlQXQsdT1jLmJvdHRvbUJhc2VBdD09PXZvaWQgMD8wOmMuYm90dG9tQmFzZUF0O2w9KGwrNCklNCx1PSh1KzQpJTQ7Y29uc3QgZD1bMiwwLDMsMV0sZj1bMiwwLDEsM107bGV0IF89ZFtsXSxFPWZbdV0sbT1bMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLC0xLDEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDFdO2lmKGgpe3Q9WzIsMywwLDIsMCwxLDQsNSw2LDQsNiw3LDksMTAsMTEsOSwxMSw4LDEyLDE0LDE1LDEyLDEzLDE0XSxtPVstMSwxLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMV07bGV0IE09W1sxLDEsMV0sWy0xLDEsMV0sWy0xLDEsLTFdLFsxLDEsLTFdXSxMPVtbLTEsLTEsMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwtMSwtMV1dO2NvbnN0IGs9WzE3LDE4LDE5LDE2XSx3PVsyMiwyMywyMCwyMV07Zm9yKDtfPjA7KU0udW5zaGlmdChNLnBvcCgpKSxrLnVuc2hpZnQoay5wb3AoKSksXy0tO2Zvcig7RT4wOylMLnVuc2hpZnQoTC5wb3AoKSksdy51bnNoaWZ0KHcucG9wKCkpLEUtLTtNPU0uZmxhdCgpLEw9TC5mbGF0KCksbT1tLmNvbmNhdChNKS5jb25jYXQoTCksdC5wdXNoKGtbMF0sa1syXSxrWzNdLGtbMF0sa1sxXSxrWzJdKSx0LnB1c2god1swXSx3WzJdLHdbM10sd1swXSx3WzFdLHdbMl0pfWNvbnN0IHY9W24vMixhLzIsby8yXTtyPW0ucmVkdWNlKChNLEwsayk9Pk0uY29uY2F0KEwqdltrJTNdKSxbXSk7Y29uc3QgUz1jLnNpZGVPcmllbnRhdGlvbj09PTA/MDpjLnNpZGVPcmllbnRhdGlvbnx8ZWUuREVGQVVMVFNJREUseT1jLmZhY2VVVnx8bmV3IEFycmF5KDYpLEE9Yy5mYWNlQ29sb3JzLEM9W107Zm9yKGxldCBNPTA7TTw2O00rKyl5W01dPT09dm9pZCAwJiYoeVtNXT1uZXcgQ2UoMCwwLDEsMSkpLEEmJkFbTV09PT12b2lkIDAmJihBW01dPW5ldyBnZSgxLDEsMSwxKSk7Zm9yKGxldCBNPTA7TTw2O00rKylpZihzLnB1c2goeVtNXS56LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnc6eVtNXS53KSxzLnB1c2goeVtNXS54LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnc6eVtNXS53KSxzLnB1c2goeVtNXS54LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnk6eVtNXS55KSxzLnB1c2goeVtNXS56LGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS15W01dLnk6eVtNXS55KSxBKWZvcihsZXQgTD0wO0w8NDtMKyspQy5wdXNoKEFbTV0ucixBW01dLmcsQVtNXS5iLEFbTV0uYSk7ZWUuX0NvbXB1dGVTaWRlcyhTLHIsdCxpLHMsYy5mcm9udFVWcyxjLmJhY2tVVnMpO2NvbnN0IGI9bmV3IGVlO2lmKGIuaW5kaWNlcz10LGIucG9zaXRpb25zPXIsYi5ub3JtYWxzPWksYi51dnM9cyxBKXtjb25zdCBNPVM9PT1lZS5ET1VCTEVTSURFP0MuY29uY2F0KEMpOkM7Yi5jb2xvcnM9TX1yZXR1cm4gYn1mdW5jdGlvbiBNaShjLGU9e30sdD1udWxsKXtjb25zdCBpPW5ldyBXKGMsdCk7cmV0dXJuIGUuc2lkZU9yaWVudGF0aW9uPVcuX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb24oZS5zaWRlT3JpZW50YXRpb24pLGkuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1lLnNpZGVPcmllbnRhdGlvbixVcihlKS5hcHBseVRvTWVzaChpLGUudXBkYXRhYmxlKSxpfWVlLkNyZWF0ZUJveD1VcixXLkNyZWF0ZUJveD0oYyxlLHQ9bnVsbCxpLHMpPT5NaShjLHtzaXplOmUsc2lkZU9yaWVudGF0aW9uOnMsdXBkYXRhYmxlOml9LHQpO2NsYXNzIGtye2NvbnN0cnVjdG9yKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXN0YXRpYyBBZGRVbmlmb3JtcyhlKXtlLnB1c2goInByZXZpb3VzV29ybGQiLCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIiwibVByZXZpb3VzQm9uZXMiKX1zdGF0aWMgQWRkU2FtcGxlcnMoZSl7fWJpbmRGb3JTdWJNZXNoKGUsdCxpLHMscil7aWYodC5wcmVQYXNzUmVuZGVyZXImJnQucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJnQucHJlUGFzc1JlbmRlcmVyLmN1cnJlbnRSVGlzU2NlbmVSVCYmdC5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikhPT0tMSl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF18fCh0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXT1zLmNsb25lKCkpLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbnx8KHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpKTtjb25zdCBuPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09bi5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9bi5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF09cy5jbG9uZSgpfX19Y2xhc3MgVnIgZXh0ZW5kcyBQe2NvbnN0cnVjdG9yKGUsdCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX25vcm1hbE1hdHJpeD1uZXcgeCx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPWl9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OnN1cGVyLmdldEVmZmVjdCgpfWlzUmVhZHkoZSx0KXtyZXR1cm4gZT8hdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8IWUuc3ViTWVzaGVzfHxlLnN1Yk1lc2hlcy5sZW5ndGg9PT0wPyEwOnRoaXMuaXNSZWFkeUZvclN1Yk1lc2goZSxlLnN1Yk1lc2hlc1swXSx0KTohMX1faXNSZWFkeUZvclN1Yk1lc2goZSl7Y29uc3QgdD1lLm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJmUuZWZmZWN0JiZ0JiZ0Ll9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX1iaW5kT25seVdvcmxkTWF0cml4KGUpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIndvcmxkIixlKX1iaW5kT25seU5vcm1hbE1hdHJpeChlKXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJub3JtYWxNYXRyaXgiLGUpfWJpbmQoZSx0KXshdHx8dGhpcy5iaW5kRm9yU3ViTWVzaChlLHQsdC5zdWJNZXNoZXNbMF0pfV9hZnRlckJpbmQoZSx0PW51bGwpe3N1cGVyLl9hZnRlckJpbmQoZSx0KSx0aGlzLmdldFNjZW5lKCkuX2NhY2hlZEVmZmVjdD10LHQmJih0Ll9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEpfV9tdXN0UmViaW5kKGUsdCxpPTEpe3JldHVybiBlLmlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkKHRoaXMsdCxpKX19Y2xhc3MgdWV7c3RhdGljIGdldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IERldGFpbFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTcGVjdWxhclRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQnVtcFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBMaWdodG1hcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBGcmVzbmVsRW5hYmxlZCgpe3JldHVybiB0aGlzLl9GcmVzbmVsRW5hYmxlZH1zdGF0aWMgc2V0IEZyZXNuZWxFbmFibGVkKGUpe3RoaXMuX0ZyZXNuZWxFbmFibGVkIT09ZSYmKHRoaXMuX0ZyZXNuZWxFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg0KSl9c3RhdGljIGdldCBDbGVhckNvYXRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgU2hlZW5UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU2hlZW5UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBUaGlja25lc3NUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFRoaWNrbmVzc1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBUcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX19dWUuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fT3BhY2l0eVRleHR1cmVFbmFibGVkPSEwLHVlLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0J1bXBUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPSEwLHVlLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fRnJlc25lbEVuYWJsZWQ9ITAsdWUuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPSEwLHVlLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fU2hlZW5UZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ITA7Y29uc3QgQm89ImRlZmF1bHRGcmFnbWVudERlY2xhcmF0aW9uIixVbz1gdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSB2ZWM0IHZEaWZmdXNlQ29sb3I7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZTcGVjdWxhckNvbG9yOwojZW5kaWYKdW5pZm9ybSB2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp1bmlmb3JtIHZlYzMgdkFtYmllbnRDb2xvcjsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkgCnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSB2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRPZmY7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGUkFDVElPTikgfHwgZGVmaW5lZChQUkVQQVNTKQp1bmlmb3JtIG1hdDQgdmlldzsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9OCnVuaWZvcm0gdmVjNCB2UmVmcmFjdGlvbkluZm9zOwojaWZuZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBtYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRlJBQ1RJT05NQVBfM0QpCnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTAp1bmlmb3JtIHZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCnVuaWZvcm0gdmVjNCBvcGFjaXR5UGFydHM7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCnVuaWZvcm0gdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gdmVjMiB2UmVmbGVjdGlvbkluZm9zOwojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BMQU5BUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NLWUJPWCkKdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZuZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpCnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0JvXT1Vbztjb25zdCBrbz0iZGVmYXVsdFVib0RlY2xhcmF0aW9uIixWbz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWF0ZXJpYWwKewp2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CnZlYzQgb3BhY2l0eVBhcnRzOwp2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CnZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CnZlYzIgdkRpZmZ1c2VJbmZvczsKdmVjMiB2QW1iaWVudEluZm9zOwp2ZWMyIHZPcGFjaXR5SW5mb3M7CnZlYzIgdlJlZmxlY3Rpb25JbmZvczsKdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsKdmVjMiB2RW1pc3NpdmVJbmZvczsKdmVjMiB2TGlnaHRtYXBJbmZvczsKdmVjMiB2U3BlY3VsYXJJbmZvczsKdmVjMyB2QnVtcEluZm9zOwptYXQ0IGRpZmZ1c2VNYXRyaXg7Cm1hdDQgYW1iaWVudE1hdHJpeDsKbWF0NCBvcGFjaXR5TWF0cml4OwptYXQ0IHJlZmxlY3Rpb25NYXRyaXg7Cm1hdDQgZW1pc3NpdmVNYXRyaXg7Cm1hdDQgbGlnaHRtYXBNYXRyaXg7Cm1hdDQgc3BlY3VsYXJNYXRyaXg7Cm1hdDQgYnVtcE1hdHJpeDsKdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwpmbG9hdCBwb2ludFNpemU7CmZsb2F0IGFscGhhQ3V0T2ZmOwptYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CnZlYzQgdlJlZnJhY3Rpb25JbmZvczsKdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsKdmVjNCB2U3BlY3VsYXJDb2xvcjsKdmVjMyB2RW1pc3NpdmVDb2xvcjsKdmVjNCB2RGlmZnVzZUNvbG9yOwp2ZWMzIHZBbWJpZW50Q29sb3I7CiNkZWZpbmUgQURESVRJT05BTF9VQk9fREVDTEFSQVRJT04KfTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVba29dPVZvO2NvbnN0IFdvPSJwcmVQYXNzRGVjbGFyYXRpb24iLHpvPWAjaWZkZWYgUFJFUEFTUwojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgaGlnaHAgdmVjNCBnbEZyYWdEYXRhW3tYfV07aGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgaGlnaHAgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZhcnlpbmcgaGlnaHAgdmVjNCB2Q3VycmVudFBvc2l0aW9uO3ZhcnlpbmcgaGlnaHAgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV29dPXpvO2NvbnN0IEdvPSJvaXREZWNsYXJhdGlvbiIsWG89YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IHZlYzIgZGVwdGg7IApsYXlvdXQobG9jYXRpb249MSkgb3V0IHZlYzQgZnJvbnRDb2xvcjsKbGF5b3V0KGxvY2F0aW9uPTIpIG91dCB2ZWM0IGJhY2tDb2xvcjsKI2RlZmluZSBNQVhfREVQVEggOTk5OTkuMApoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RGVwdGhTYW1wbGVyOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXRGcm9udENvbG9yU2FtcGxlcjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHb109WG87Y29uc3QgSG89Im1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbiIsS289YCNpZmRlZiBNQUlOVVZ7WH0KdmFyeWluZyB2ZWMyIHZNYWluVVZ7WH07CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSG9dPUtvO2NvbnN0IFlvPSJsaWdodEZyYWdtZW50RGVjbGFyYXRpb24iLFpvPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lvXT1abztjb25zdCBxbz0ibGlnaHRVYm9EZWNsYXJhdGlvbiIsam89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OyAKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxb109am87Y29uc3QgUW89ImxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zIiwkbz1gc3RydWN0IGxpZ2h0aW5nSW5mbwp7CnZlYzMgZGlmZnVzZTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyOwojZW5kaWYKI2lmZGVmIE5ET1RMCmZsb2F0IG5kbDsKI2VuZGlmCn07CmxpZ2h0aW5nSW5mbyBjb21wdXRlTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBsaWdodFZlY3Rvclc7CmZsb2F0IGF0dGVudWF0aW9uPTEuMDsKaWYgKGxpZ2h0RGF0YS53PT0wLikKewp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CmF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7Cn0KZWxzZQp7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoLWxpZ2h0RGF0YS54eXopOwp9CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZVNwb3RMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWM0IGxpZ2h0RGlyZWN0aW9uLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKdmVjMyBsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7CmZsb2F0IGF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpmbG9hdCBjb3NBbmdsZT1tYXgoMC4sZG90KGxpZ2h0RGlyZWN0aW9uLnh5eiwtbGlnaHRWZWN0b3JXKSk7CmlmIChjb3NBbmdsZT49bGlnaHREaXJlY3Rpb24udykKewpjb3NBbmdsZT1tYXgoMC4scG93KGNvc0FuZ2xlLGxpZ2h0RGF0YS53KSk7CmF0dGVudWF0aW9uKj1jb3NBbmdsZTsKZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHRWZWN0b3JXKTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3IqYXR0ZW51YXRpb247CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CnJlc3VsdC5kaWZmdXNlPXZlYzMoMC4pOwojaWZkZWYgU1BFQ1VMQVJURVJNCnJlc3VsdC5zcGVjdWxhcj12ZWMzKDAuKTsKI2VuZGlmCiNpZmRlZiBORE9UTApyZXN1bHQubmRsPTAuOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZ3JvdW5kQ29sb3IsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0OwpmbG9hdCBuZGw9ZG90KHZOb3JtYWwsbGlnaHREYXRhLnh5eikqMC41KzAuNTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bWl4KGdyb3VuZENvbG9yLGRpZmZ1c2VDb2xvcixuZGwpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodERhdGEueHl6KTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3I7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CiNkZWZpbmUgaW5saW5lCnZlYzMgY29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXgpewp2ZWM0IHN0cnE9dGV4dHVyZVByb2plY3Rpb25NYXRyaXgqdmVjNCh2UG9zaXRpb25XLDEuMCk7CnN0cnEvPXN0cnEudzsKdmVjMyB0ZXh0dXJlQ29sb3I9dGV4dHVyZTJEKHByb2plY3Rpb25MaWdodFNhbXBsZXIsc3RycS54eSkucmdiOwpyZXR1cm4gdGV4dHVyZUNvbG9yOwp9YDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FvXT0kbztjb25zdCBKbz0ic2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zIixlaD1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgVEVYVFVSRUZVTkMocyxjLGwpIHRleHR1cmUyRExvZEVYVChzLGMsbCkKI2Vsc2UKI2RlZmluZSBURVhUVVJFRlVOQyhzLGMsYikgdGV4dHVyZTJEKHMsYyxiKQojZW5kaWYKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCB1bnBhY2sodmVjNCBjb2xvcikKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApOwpyZXR1cm4gZG90KGNvbG9yLGJpdF9zaGlmdCk7Cn0KI2VuZGlmCmZsb2F0IGNvbXB1dGVGYWxsT2ZmKGZsb2F0IHZhbHVlLHZlYzIgY2xpcFNwYWNlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpmbG9hdCBtYXNrPXNtb290aHN0ZXAoMS4wLWZydXN0dW1FZGdlRmFsbG9mZiwxLjAwMDAwMDEyLGNsYW1wKGRvdChjbGlwU3BhY2UsY2xpcFNwYWNlKSwwLiwxLikpOwpyZXR1cm4gbWl4KHZhbHVlLDEuMCxtYXNrKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpyZXR1cm4gZGVwdGg+c2hhZG93ID8gZGFya25lc3MgOiAxLjA7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMyBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMygtMS4wLDEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbMV09dmVjMygxLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbMl09dmVjMygtMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzNdPXZlYzMoMS4wLC0xLjAsMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOyAKcmV0dXJuIGVzbTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKZmxvYXQgZXNtPWNsYW1wKGV4cChtaW4oODcuLC1kZXB0aFNjYWxlKihzaGFkb3dQaXhlbERlcHRoLXNoYWRvd01hcFNhbXBsZSkpKSxkYXJrbmVzcywxLik7CnJldHVybiBlc207Cn0KI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDU00oZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKdmVjMyB1dkxheWVyPXZlYzModXYueCx1di55LGxheWVyKTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KI2VuZGlmCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3codmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3c9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMiBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMigtMC45NDIwMTYyNCwtMC4zOTkwNjIxNik7CnBvaXNzb25EaXNrWzFdPXZlYzIoMC45NDU1ODYwOSwtMC43Njg5MDcyNSk7CnBvaXNzb25EaXNrWzJdPXZlYzIoLTAuMDk0MTg0MTAxLC0wLjkyOTM4ODcwKTsKcG9pc3NvbkRpc2tbM109dmVjMigwLjM0NDk1OTM4LDAuMjkzODc3NjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyksY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOyAKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBaSU5DTElQIGNsaXBTcGFjZS56CiNlbHNlCiNkZWZpbmUgWklOQ0xJUCB1dkRlcHRoLnoKI2VuZGlmCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIEdSRUFURVNUX0xFU1NfVEhBTl9PTkUgMC45OTk5OTk5NAojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD0zLi0yLipzdDsKdmVjMiB1dncxPTEuKzIuKnN0Owp2ZWMyIHU9dmVjMigoMi4tc3QueCkvdXZ3MC54LTEuLHN0LngvdXZ3MS54KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMyIHY9dmVjMigoMi4tc3QueSkvdXZ3MC55LTEuLHN0LnkvdXZ3MS55KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE2LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD00Li0zLipzdDsKdmVjMiB1dncxPXZlYzIoNy4pOwp2ZWMyIHV2dzI9MS4rMy4qc3Q7CnZlYzMgdT12ZWMzKCgzLi0yLipzdC54KS91dncwLngtMi4sKDMuK3N0LngpL3V2dzEueCxzdC54L3V2dzIueCsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMyB2PXZlYzMoKDMuLTIuKnN0LnkpL3V2dzAueS0yLiwoMy4rc3QueSkvdXZ3MS55LHN0LnkvdXZ3Mi55KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTQ0LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IHNoYWRvdz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2RGVwdGgsMC4pOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGNSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzMzJbNjRdPXZlYzNbNjRdKAp2ZWMzKDAuMDY0MDcwMTMsMC4wNTQwOTkyNywwLiksCnZlYzMoMC43MzY2NTc3LDAuNTc4OTM5NCwwLiksCnZlYzMoLTAuNjI3MDU0MiwtMC41MzIwMjc4LDAuKSwKdmVjMygtMC40MDk2MTA3LDAuODQxMTA5NSwwLiksCnZlYzMoMC42ODQ5NTY0LC0wLjQ5OTA4MTgsMC4pLAp2ZWMzKC0wLjg3NDE4MSwtMC4wNDU3OTczNSwwLiksCnZlYzMoMC45OTg5OTk4LDAuMDAwOTg4MDA2NiwwLiksCnZlYzMoLTAuMDA0OTIwNTc4LC0wLjkxNTE2NDksMC4pLAp2ZWMzKDAuMTgwNTc2MywwLjk3NDc0ODMsMC4pLAp2ZWMzKC0wLjIxMzg0NTEsMC4yNjM1ODE4LDAuKSwKdmVjMygwLjEwOTg0NSwwLjM4ODQ3ODUsMC4pLAp2ZWMzKDAuMDY4NzY3NTUsLTAuMzU4MTA3NCwwLiksCnZlYzMoMC4zNzQwNzMsLTAuNzY2MTI2NiwwLiksCnZlYzMoMC4zMDc5MTMyLC0wLjEyMTY3NjMsMC4pLAp2ZWMzKC0wLjM3OTQzMzUsLTAuODI3MTU4MywwLiksCnZlYzMoLTAuMjAzODc4LC0wLjA3NzE1MDM0LDAuKSwKdmVjMygwLjU5MTI2OTcsMC4xNDY5Nzk5LDAuKSwKdmVjMygtMC44ODA2OSwwLjMwMzE3ODQsMC4pLAp2ZWMzKDAuNTA0MDEwOCwwLjgyODM3MjIsMC4pLAp2ZWMzKC0wLjU4NDQxMjQsMC41NDk0ODc3LDAuKSwKdmVjMygwLjYwMTc3OTksLTAuMTcyNjY1NCwwLiksCnZlYzMoLTAuNTU1NDk4MSwwLjE1NTk5OTcsMC4pLAp2ZWMzKC0wLjMwMTYzNjksLTAuMzkwMDkyOCwwLiksCnZlYzMoLTAuNTU1MDYzMiwtMC4xNzIzNzYyLDAuKSwKdmVjMygwLjkyNTAyOSwwLjI5OTUwNDEsMC4pLAp2ZWMzKC0wLjI0NzMxMzcsMC41NTM4NTA1LDAuKSwKdmVjMygwLjkxODMwMzcsLTAuMjg2MjM5MiwwLiksCnZlYzMoMC4yNDY5NDIxLDAuNjcxODcxMiwwLiksCnZlYzMoMC4zOTE2Mzk3LC0wLjQzMjgyMDksMC4pLAp2ZWMzKC0wLjAzNTc2OTI3LC0wLjYyMjAwMzIsMC4pLAp2ZWMzKC0wLjA0NjYxMjU1LDAuNzk5NTIwMSwwLiksCnZlYzMoMC40NDAyOTI0LDAuMzY0MDMxMiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKQopOwpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczY0WzY0XT12ZWMzWzY0XSgKdmVjMygtMC42MTMzOTIsMC42MTc0ODEsMC4pLAp2ZWMzKDAuMTcwMDE5LC0wLjA0MDI1NCwwLiksCnZlYzMoLTAuMjk5NDE3LDAuNzkxOTI1LDAuKSwKdmVjMygwLjY0NTY4MCwwLjQ5MzIxMCwwLiksCnZlYzMoLTAuNjUxNzg0LDAuNzE3ODg3LDAuKSwKdmVjMygwLjQyMTAwMywwLjAyNzA3MCwwLiksCnZlYzMoLTAuODE3MTk0LC0wLjI3MTA5NiwwLiksCnZlYzMoLTAuNzA1Mzc0LC0wLjY2ODIwMywwLiksCnZlYzMoMC45NzcwNTAsLTAuMTA4NjE1LDAuKSwKdmVjMygwLjA2MzMyNiwwLjE0MjM2OSwwLiksCnZlYzMoMC4yMDM1MjgsMC4yMTQzMzEsMC4pLAp2ZWMzKC0wLjY2NzUzMSwwLjMyNjA5MCwwLiksCnZlYzMoLTAuMDk4NDIyLC0wLjI5NTc1NSwwLiksCnZlYzMoLTAuODg1OTIyLDAuMjE1MzY5LDAuKSwKdmVjMygwLjU2NjYzNywwLjYwNTIxMywwLiksCnZlYzMoMC4wMzk3NjYsLTAuMzk2MTAwLDAuKSwKdmVjMygwLjc1MTk0NiwwLjQ1MzM1MiwwLiksCnZlYzMoMC4wNzg3MDcsLTAuNzE1MzIzLDAuKSwKdmVjMygtMC4wNzU4MzgsLTAuNTI5MzQ0LDAuKSwKdmVjMygwLjcyNDQ3OSwtMC41ODA3OTgsMC4pLAp2ZWMzKDAuMjIyOTk5LC0wLjIxNTEyNSwwLiksCnZlYzMoLTAuNDY3NTc0LC0wLjQwNTQzOCwwLiksCnZlYzMoLTAuMjQ4MjY4LC0wLjgxNDc1MywwLiksCnZlYzMoMC4zNTQ0MTEsLTAuODg3NTcwLDAuKSwKdmVjMygwLjE3NTgxNywwLjM4MjM2NiwwLiksCnZlYzMoMC40ODc0NzIsLTAuMDYzMDgyLDAuKSwKdmVjMygtMC4wODQwNzgsMC44OTgzMTIsMC4pLAp2ZWMzKDAuNDg4ODc2LC0wLjc4MzQ0MSwwLiksCnZlYzMoMC40NzAwMTYsMC4yMTc5MzMsMC4pLAp2ZWMzKC0wLjY5Njg5MCwtMC41NDk3OTEsMC4pLAp2ZWMzKC0wLjE0OTY5MywwLjYwNTc2MiwwLiksCnZlYzMoMC4wMzQyMTEsMC45Nzk5ODAsMC4pLAp2ZWMzKDAuNTAzMDk4LC0wLjMwODg3OCwwLiksCnZlYzMoLTAuMDE2MjA1LC0wLjg3MjkyMSwwLiksCnZlYzMoMC4zODU3ODQsLTAuMzkzOTAyLDAuKSwKdmVjMygtMC4xNDY4ODYsLTAuODU5MjQ5LDAuKSwKdmVjMygwLjY0MzM2MSwwLjE2NDA5OCwwLiksCnZlYzMoMC42MzQzODgsLTAuMDQ5NDcxLDAuKSwKdmVjMygtMC42ODg4OTQsMC4wMDc4NDMsMC4pLAp2ZWMzKDAuNDY0MDM0LC0wLjE4ODgxOCwwLiksCnZlYzMoLTAuNDQwODQwLDAuMTM3NDg2LDAuKSwKdmVjMygwLjM2NDQ4MywwLjUxMTcwNCwwLiksCnZlYzMoMC4wMzQwMjgsMC4zMjU5NjgsMC4pLAp2ZWMzKDAuMDk5MDk0LC0wLjMwODAyMywwLiksCnZlYzMoMC42OTM5NjAsLTAuMzY2MjUzLDAuKSwKdmVjMygwLjY3ODg4NCwtMC4yMDQ2ODgsMC4pLAp2ZWMzKDAuMDAxODAxLDAuNzgwMzI4LDAuKSwKdmVjMygwLjE0NTE3NywtMC44OTg5ODQsMC4pLAp2ZWMzKDAuMDYyNjU1LC0wLjYxMTg2NiwwLiksCnZlYzMoMC4zMTUyMjYsLTAuNjA0Mjk3LDAuKSwKdmVjMygtMC43ODAxNDUsMC40ODYyNTEsMC4pLAp2ZWMzKC0wLjM3MTg2OCwwLjg4MjEzOCwwLiksCnZlYzMoMC4yMDA0NzYsMC40OTQ0MzAsMC4pLAp2ZWMzKC0wLjQ5NDU1MiwtMC43MTEwNTEsMC4pLAp2ZWMzKDAuNjEyNDc2LDAuNzA1MjUyLDAuKSwKdmVjMygtMC41Nzg4NDUsLTAuNzY4NzkyLDAuKSwKdmVjMygtMC43NzI0NTQsLTAuMDkwOTc2LDAuKSwKdmVjMygwLjUwNDQ0MCwwLjM3MjI5NSwwLiksCnZlYzMoMC4xNTU3MzYsMC4wNjUxNTcsMC4pLAp2ZWMzKDAuMzkxNTIyLDAuODQ5NjA1LDAuKSwKdmVjMygtMC42MjAxMDYsLTAuMzI4MTA0LDAuKSwKdmVjMygwLjc4OTIzOSwtMC40MTk5NjUsMC4pLAp2ZWMzKC0wLjU0NTM5NiwwLjUzODEzMywwLiksCnZlYzMoLTAuMTc4NTY0LC0wLjU5NjA1NywwLikKKTsKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycyx2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdmVjMyh1dkRlcHRoLnh5KyhsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLGxheWVyKSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpKmRlcHRoQ29ycmVjdGlvbitBQU9mZnNldCk7CnZlYzQgZmlsdGVyUmFkaXVzPXZlYzQocGVudW1icmFSYXRpbypsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UsMC4sMC4pOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWM0IG9mZnNldD12ZWM0KHBvaXNzb25TYW1wbGVyc1tpXSwwLik7Cm9mZnNldD12ZWM0KG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4sMC4pOwpzaGFkb3crPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcitvZmZzZXQqZmlsdGVyUmFkaXVzKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sbWluKChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpKmRlcHRoQ29ycmVjdGlvbipwZW51bWJyYURhcmtuZXNzLDEuKSk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1ModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPVRFWFRVUkVGVU5DKGRlcHRoU2FtcGxlcix1dkRlcHRoLnh5KyhsaWdodFNpemVVVipzaGFkb3dNYXBTaXplSW52ZXJzZSpQb2lzc29uU2FtcGxlcnMzMltpXS54eSksMC4pLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkrQUFPZmZzZXQpOwpmbG9hdCBmaWx0ZXJSYWRpdXM9cGVudW1icmFSYXRpbypsaWdodFNpemVVVipzaGFkb3dNYXBTaXplSW52ZXJzZTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjMyBvZmZzZXQ9cG9pc3NvblNhbXBsZXJzW2ldOwpvZmZzZXQ9dmVjMyhvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuKTsKc2hhZG93Kz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2RGVwdGgrb2Zmc2V0KmZpbHRlclJhZGl1cywwLik7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MzMih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSm9dPWVoO2NvbnN0IHRoPSJzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbiIsaWg9YCNpZmRlZiBfREVGSU5FTkFNRV8KI2lmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0xCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjIKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTMKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYzCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT00CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNAojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjUKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTYKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY2CiNlbHNlCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKdW5pZm9ybSBzYW1wbGVyMkQgX1NBTVBMRVJOQU1FX1NhbXBsZXI7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdGhdPWloO2NvbnN0IHNoPSJmcmVzbmVsRnVuY3Rpb24iLHJoPWAjaWZkZWYgRlJFU05FTApmbG9hdCBjb21wdXRlRnJlc25lbFRlcm0odmVjMyB2aWV3RGlyZWN0aW9uLHZlYzMgd29ybGROb3JtYWwsZmxvYXQgYmlhcyxmbG9hdCBwb3dlcikKewpmbG9hdCBmcmVzbmVsVGVybT1wb3coYmlhcythYnMoZG90KHZpZXdEaXJlY3Rpb24sd29ybGROb3JtYWwpKSxwb3dlcik7CnJldHVybiBjbGFtcChmcmVzbmVsVGVybSwwLiwxLik7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzaF09cmg7Y29uc3Qgbmg9InJlZmxlY3Rpb25GdW5jdGlvbiIsYWg9YHZlYzMgY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMoMS4wLXMsdCwwKTsgCn0KdmVjMyBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIGNhbWVyYVRvVmVydGV4PW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIHI9bm9ybWFsaXplKHJlZmxlY3QoY2FtZXJhVG9WZXJ0ZXgsd29ybGROb3JtYWwpKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKZmxvYXQgbG9uPWF0YW4oci56LHIueCk7CmZsb2F0IGxhdD1hY29zKHIueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsKfQp2ZWMzIGNvbXB1dGVTcGhlcmljYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqd29ybGRQb3MpKTsKdmVjMyB2aWV3Tm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqdmVjNCh3b3JsZE5vcm1hbCwwLjApKSk7CnZlYzMgcj1yZWZsZWN0KHZpZXdEaXIsdmlld05vcm1hbCk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CnIuej1yLnotMS4wOwpmbG9hdCBtPTIuMCpsZW5ndGgocik7CnJldHVybiB2ZWMzKHIueC9tKzAuNSwxLjAtci55L20tMC41LDApOwp9CnZlYzMgY29tcHV0ZVBsYW5hckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPXdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbjsKdmVjMyBjb29yZHM9bm9ybWFsaXplKHJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCkpOwpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDEpKTsKfQp2ZWMzIGNvbXB1dGVDdWJpY0Nvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCx2ZWMzIHJlZmxlY3Rpb25TaXplLHZlYzMgcmVmbGVjdGlvblBvc2l0aW9uKQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh3b3JsZFBvcy54eXosY29vcmRzLHJlZmxlY3Rpb25TaXplLHJlZmxlY3Rpb25Qb3NpdGlvbik7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZVByb2plY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqKHZpZXcqd29ybGRQb3MpKTsKfQp2ZWMzIGNvbXB1dGVTa3lCb3hDb29yZHModmVjMyBwb3NpdGlvblcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChwb3NpdGlvblcsMS4pKTsKfQojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIGNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCkKewojaWZkZWYgUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIKcmV0dXJuIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTApyZXR1cm4gY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUExBTkFSCnJldHVybiBjb21wdXRlUGxhbmFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9DVUJJQwojaWZkZWYgVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMKcmV0dXJuIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCx2UmVmbGVjdGlvblNpemUsdlJlZmxlY3Rpb25Qb3NpdGlvbik7CiNlbHNlCnJldHVybiBjb21wdXRlQ3ViaWNDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCnJldHVybiBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh3b3JsZFBvcyx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnJldHVybiBjb21wdXRlU2t5Qm94Q29vcmRzKHZQb3NpdGlvblVWVyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VYUExJQ0lUCnJldHVybiB2ZWMzKDAsMCwwKTsKI2VuZGlmCn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtuaF09YWg7Y29uc3Qgb2g9ImltYWdlUHJvY2Vzc2luZ0RlY2xhcmF0aW9uIixoaD1gI2lmZGVmIEVYUE9TVVJFCnVuaWZvcm0gZmxvYXQgZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgQ09OVFJBU1QKdW5pZm9ybSBmbG9hdCBjb250cmFzdDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZJR05FVFRFKSB8fCBkZWZpbmVkKERJVEhFUikKdW5pZm9ybSB2ZWMyIHZJbnZlcnNlU2NyZWVuU2l6ZTsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczE7CnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMjsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbDsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmU7CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCiNpZmRlZiBDT0xPUkdSQURJTkczRAp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIzRCB0eENvbG9yVHJhbnNmb3JtOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCB0eENvbG9yVHJhbnNmb3JtOwojZW5kaWYKdW5pZm9ybSB2ZWM0IGNvbG9yVHJhbnNmb3JtU2V0dGluZ3M7CiNlbmRpZgojaWZkZWYgRElUSEVSCnVuaWZvcm0gZmxvYXQgZGl0aGVySW50ZW5zaXR5OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29oXT1oaDtjb25zdCBsaD0iaW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zIixjaD1gI2lmIGRlZmluZWQoQ09MT1JHUkFESU5HKSAmJiAhZGVmaW5lZChDT0xPUkdSQURJTkczRCkKLyoqIAoqIFBvbHlmaWxsIGZvciBTQU1QTEVfVEVYVFVSRV8zRCx3aGljaCBpcyB1bnN1cHBvcnRlZCBpbiBXZWJHTC4KKiBzYW1wbGVyM2RTZXR0aW5nLng9dGV4dHVyZU9mZnNldCAoMC41L3RleHR1cmVTaXplKS4KKiBzYW1wbGVyM2RTZXR0aW5nLnk9dGV4dHVyZVNpemUuCiovCiNkZWZpbmUgaW5saW5lCnZlYzMgc2FtcGxlVGV4dHVyZTNEKHNhbXBsZXIyRCBjb2xvclRyYW5zZm9ybSx2ZWMzIGNvbG9yLHZlYzIgc2FtcGxlcjNkU2V0dGluZykKewpmbG9hdCBzbGljZVNpemU9Mi4wKnNhbXBsZXIzZFNldHRpbmcueDsgCiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuZy1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2Vsc2UKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5iLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZW5kaWYKZmxvYXQgc2xpY2VJbnRlZ2VyPWZsb29yKHNsaWNlQ29udGludW91cyk7CmZsb2F0IHNsaWNlRnJhY3Rpb249c2xpY2VDb250aW51b3VzLXNsaWNlSW50ZWdlcjsKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKdmVjMiBzbGljZVVWPWNvbG9yLnJiOwojZWxzZQp2ZWMyIHNsaWNlVVY9Y29sb3Iucmc7CiNlbmRpZgpzbGljZVVWLngqPXNsaWNlU2l6ZTsKc2xpY2VVVi54Kz1zbGljZUludGVnZXIqc2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMENvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKc2xpY2VVVi54Kz1zbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UxQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwp2ZWMzIHJlc3VsdD1taXgoc2xpY2UwQ29sb3IucmdiLHNsaWNlMUNvbG9yLnJnYixzbGljZUZyYWN0aW9uKTsKI2lmZGVmIFNBTVBMRVIzREJHUk1BUApjb2xvci5yZ2I9cmVzdWx0LnJnYjsKI2Vsc2UKY29sb3IucmdiPXJlc3VsdC5iZ3I7CiNlbmRpZgpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCmNvbnN0IG1hdDMgQUNFU0lucHV0TWF0PW1hdDMoCnZlYzMoMC41OTcxOSwwLjA3NjAwLDAuMDI4NDApLAp2ZWMzKDAuMzU0NTgsMC45MDgzNCwwLjEzMzgzKSwKdmVjMygwLjA0ODIzLDAuMDE1NjYsMC44Mzc3NykKKTsKY29uc3QgbWF0MyBBQ0VTT3V0cHV0TWF0PW1hdDMoCnZlYzMoIDEuNjA0NzUsLTAuMTAyMDgsLTAuMDAzMjcpLAp2ZWMzKC0wLjUzMTA4LCAxLjEwODEzLC0wLjA3Mjc2KSwKdmVjMygtMC4wNzM2NywtMC4wMDYwNSwgMS4wNzYwMikKKTsKdmVjMyBSUlRBbmRPRFRGaXQodmVjMyB2KQp7CnZlYzMgYT12Kih2KzAuMDI0NTc4NiktMC4wMDAwOTA1Mzc7CnZlYzMgYj12KigwLjk4MzcyOSp2KzAuNDMyOTUxMCkrMC4yMzgwODE7CnJldHVybiBhL2I7Cn0KdmVjMyBBQ0VTRml0dGVkKHZlYzMgY29sb3IpCnsKY29sb3I9QUNFU0lucHV0TWF0KmNvbG9yOwpjb2xvcj1SUlRBbmRPRFRGaXQoY29sb3IpOwpjb2xvcj1BQ0VTT3V0cHV0TWF0KmNvbG9yOwpjb2xvcj1zYXR1cmF0ZShjb2xvcik7CnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX0RFRklOSVRJT05TCnZlYzQgYXBwbHlJbWFnZVByb2Nlc3NpbmcodmVjNCByZXN1bHQpIHsKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX1VQREFURVJFU1VMVF9BVFNUQVJUCiNpZmRlZiBFWFBPU1VSRQpyZXN1bHQucmdiKj1leHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp2ZWMyIHZpZXdwb3J0WFk9Z2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZTsKdmlld3BvcnRYWT12aWV3cG9ydFhZKjIuMC0xLjA7CnZlYzMgdmlnbmV0dGVYWTE9dmVjMyh2aWV3cG9ydFhZKnZpZ25ldHRlU2V0dGluZ3MxLnh5K3ZpZ25ldHRlU2V0dGluZ3MxLnp3LDEuMCk7CmZsb2F0IHZpZ25ldHRlVGVybT1kb3QodmlnbmV0dGVYWTEsdmlnbmV0dGVYWTEpOwpmbG9hdCB2aWduZXR0ZT1wb3codmlnbmV0dGVUZXJtLHZpZ25ldHRlU2V0dGluZ3MyLncpOwp2ZWMzIHZpZ25ldHRlQ29sb3I9dmlnbmV0dGVTZXR0aW5nczIucmdiOwojaWZkZWYgVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWQp2ZWMzIHZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyPW1peCh2aWduZXR0ZUNvbG9yLHZlYzMoMSwxLDEpLHZpZ25ldHRlKTsKcmVzdWx0LnJnYio9dmlnbmV0dGVDb2xvck11bHRpcGxpZXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEVCTEVORE1PREVPUEFRVUUKcmVzdWx0LnJnYj1taXgodmlnbmV0dGVDb2xvcixyZXN1bHQucmdiLHZpZ25ldHRlKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkcKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKcmVzdWx0LnJnYj1BQ0VTRml0dGVkKHJlc3VsdC5yZ2IpOwojZWxzZQpjb25zdCBmbG9hdCB0b25lbWFwcGluZ0NhbGlicmF0aW9uPTEuNTkwNTc5OwpyZXN1bHQucmdiPTEuMC1leHAyKC10b25lbWFwcGluZ0NhbGlicmF0aW9uKnJlc3VsdC5yZ2IpOwojZW5kaWYKI2VuZGlmCnJlc3VsdC5yZ2I9dG9HYW1tYVNwYWNlKHJlc3VsdC5yZ2IpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IpOwojaWZkZWYgQ09OVFJBU1QKdmVjMyByZXN1bHRIaWdoQ29udHJhc3Q9cmVzdWx0LnJnYipyZXN1bHQucmdiKigzLjAtMi4wKnJlc3VsdC5yZ2IpOwppZiAoY29udHJhc3Q8MS4wKSB7CnJlc3VsdC5yZ2I9bWl4KHZlYzMoMC41LDAuNSwwLjUpLHJlc3VsdC5yZ2IsY29udHJhc3QpOwp9IGVsc2UgewpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLHJlc3VsdEhpZ2hDb250cmFzdCxjb250cmFzdC0xLjApOwp9CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCnZlYzMgY29sb3JUcmFuc2Zvcm1JbnB1dD1yZXN1bHQucmdiKmNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueHh4K2NvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXl5OwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD10ZXh0dXJlKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCkucmdiOwojZWxzZQp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXNhbXBsZVRleHR1cmUzRCh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eikucmdiOwojZW5kaWYKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixjb2xvclRyYW5zZm9ybU91dHB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnd3dyk7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKZmxvYXQgbHVtYT1nZXRMdW1pbmFuY2UocmVzdWx0LnJnYik7CnZlYzIgY3VydmVNaXg9Y2xhbXAodmVjMihsdW1hKjMuMC0xLjUsbHVtYSotMy4wKzEuNSksdmVjMigwLjApLHZlYzIoMS4wKSk7CnZlYzQgY29sb3JDdXJ2ZT12Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwrY3VydmVNaXgueCp2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlLWN1cnZlTWl4LnkqdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKcmVzdWx0LnJnYio9Y29sb3JDdXJ2ZS5yZ2I7CnJlc3VsdC5yZ2I9bWl4KHZlYzMobHVtYSkscmVzdWx0LnJnYixjb2xvckN1cnZlLmEpOwojZW5kaWYKI2lmZGVmIERJVEhFUgpmbG9hdCByYW5kPWdldFJhbmQoZ2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZSk7CmZsb2F0IGRpdGhlcj1taXgoLWRpdGhlckludGVuc2l0eSxkaXRoZXJJbnRlbnNpdHkscmFuZCk7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYit2ZWMzKGRpdGhlcikpOwojZW5kaWYKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX1VQREFURVJFU1VMVF9BVEVORApyZXR1cm4gcmVzdWx0Owp9YDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xoXT1jaDtjb25zdCB1aD0iYnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucyIsZGg9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpIHx8IGRlZmluZWQoREVUQUlMKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUAp1bmlmb3JtIG1hdDQgbm9ybWFsTWF0cml4OwojZW5kaWYKdmVjMyBwZXJ0dXJiTm9ybWFsQmFzZShtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgbm9ybWFsLGZsb2F0IHNjYWxlKQp7CiNpZmRlZiBOT1JNQUxYWVNDQUxFCm5vcm1hbD1ub3JtYWxpemUobm9ybWFsKnZlYzMoc2NhbGUsc2NhbGUsMS4wKSk7CiNlbmRpZgpyZXR1cm4gbm9ybWFsaXplKGNvdGFuZ2VudEZyYW1lKm5vcm1hbCk7Cn0KdmVjMyBwZXJ0dXJiTm9ybWFsKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyB0ZXh0dXJlU2FtcGxlLGZsb2F0IHNjYWxlKQp7CnJldHVybiBwZXJ0dXJiTm9ybWFsQmFzZShjb3RhbmdlbnRGcmFtZSx0ZXh0dXJlU2FtcGxlKjIuMC0xLjAsc2NhbGUpOwp9Cm1hdDMgY290YW5nZW50X2ZyYW1lKHZlYzMgbm9ybWFsLHZlYzMgcCx2ZWMyIHV2LHZlYzIgdGFuZ2VudFNwYWNlUGFyYW1zKQp7CnZlYzMgZHAxPWRGZHgocCk7CnZlYzMgZHAyPWRGZHkocCk7CnZlYzIgZHV2MT1kRmR4KHV2KTsKdmVjMiBkdXYyPWRGZHkodXYpOwp2ZWMzIGRwMnBlcnA9Y3Jvc3MoZHAyLG5vcm1hbCk7CnZlYzMgZHAxcGVycD1jcm9zcyhub3JtYWwsZHAxKTsKdmVjMyB0YW5nZW50PWRwMnBlcnAqZHV2MS54K2RwMXBlcnAqZHV2Mi54Owp2ZWMzIGJpdGFuZ2VudD1kcDJwZXJwKmR1djEueStkcDFwZXJwKmR1djIueTsKdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLng7CmJpdGFuZ2VudCo9dGFuZ2VudFNwYWNlUGFyYW1zLnk7CmZsb2F0IGRldD1tYXgoZG90KHRhbmdlbnQsdGFuZ2VudCksZG90KGJpdGFuZ2VudCxiaXRhbmdlbnQpKTsKZmxvYXQgaW52bWF4PWRldD09MC4wID8gMC4wIDogaW52ZXJzZXNxcnQoZGV0KTsKcmV0dXJuIG1hdDModGFuZ2VudCppbnZtYXgsYml0YW5nZW50Kmludm1heCxub3JtYWwpOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdWhdPWRoO2NvbnN0IGZoPSJidW1wRnJhZ21lbnRGdW5jdGlvbnMiLF9oPWAjaWYgZGVmaW5lZChCVU1QKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9TQU1QTEVSTkFNRV8sYnVtcCkKI2VuZGlmCiNpZiBkZWZpbmVkKERFVEFJTCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX1NBTVBMRVJOQU1FXyxkZXRhaWwpCiNlbmRpZgojaWYgZGVmaW5lZChCVU1QKSAmJiBkZWZpbmVkKFBBUkFMTEFYKQpjb25zdCBmbG9hdCBtaW5TYW1wbGVzPTQuOwpjb25zdCBmbG9hdCBtYXhTYW1wbGVzPTE1LjsKY29uc3QgaW50IGlNYXhTYW1wbGVzPTE1Owp2ZWMyIHBhcmFsbGF4T2NjbHVzaW9uKHZlYzMgdlZpZXdEaXJDb1QsdmVjMyB2Tm9ybWFsQ29ULHZlYzIgdGV4Q29vcmQsZmxvYXQgcGFyYWxsYXhTY2FsZSkgewpmbG9hdCBwYXJhbGxheExpbWl0PWxlbmd0aCh2Vmlld0RpckNvVC54eSkvdlZpZXdEaXJDb1QuejsKcGFyYWxsYXhMaW1pdCo9cGFyYWxsYXhTY2FsZTsKdmVjMiB2T2Zmc2V0RGlyPW5vcm1hbGl6ZSh2Vmlld0RpckNvVC54eSk7CnZlYzIgdk1heE9mZnNldD12T2Zmc2V0RGlyKnBhcmFsbGF4TGltaXQ7CmZsb2F0IG51bVNhbXBsZXM9bWF4U2FtcGxlcysoZG90KHZWaWV3RGlyQ29ULHZOb3JtYWxDb1QpKihtaW5TYW1wbGVzLW1heFNhbXBsZXMpKTsKZmxvYXQgc3RlcFNpemU9MS4wL251bVNhbXBsZXM7CmZsb2F0IGN1cnJSYXlIZWlnaHQ9MS4wOwp2ZWMyIHZDdXJyT2Zmc2V0PXZlYzIoMCwwKTsKdmVjMiB2TGFzdE9mZnNldD12ZWMyKDAsMCk7CmZsb2F0IGxhc3RTYW1wbGVkSGVpZ2h0PTEuMDsKZmxvYXQgY3VyclNhbXBsZWRIZWlnaHQ9MS4wOwpib29sIGtlZXBXb3JraW5nPXRydWU7CmZvciAoaW50IGk9MDsgaTxpTWF4U2FtcGxlczsgaSsrKQp7CmN1cnJTYW1wbGVkSGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix0ZXhDb29yZCt2Q3Vyck9mZnNldCkudzsKaWYgKCFrZWVwV29ya2luZykKewp9CmVsc2UgaWYgKGN1cnJTYW1wbGVkSGVpZ2h0PmN1cnJSYXlIZWlnaHQpCnsKZmxvYXQgZGVsdGExPWN1cnJTYW1wbGVkSGVpZ2h0LWN1cnJSYXlIZWlnaHQ7CmZsb2F0IGRlbHRhMj0oY3VyclJheUhlaWdodCtzdGVwU2l6ZSktbGFzdFNhbXBsZWRIZWlnaHQ7CmZsb2F0IHJhdGlvPWRlbHRhMS8oZGVsdGExK2RlbHRhMik7CnZDdXJyT2Zmc2V0PShyYXRpbykqIHZMYXN0T2Zmc2V0KygxLjAtcmF0aW8pKnZDdXJyT2Zmc2V0OwprZWVwV29ya2luZz1mYWxzZTsKfQplbHNlCnsKY3VyclJheUhlaWdodC09c3RlcFNpemU7CnZMYXN0T2Zmc2V0PXZDdXJyT2Zmc2V0Owp2Q3Vyck9mZnNldCs9c3RlcFNpemUqdk1heE9mZnNldDsKbGFzdFNhbXBsZWRIZWlnaHQ9Y3VyclNhbXBsZWRIZWlnaHQ7Cn0KfQpyZXR1cm4gdkN1cnJPZmZzZXQ7Cn0KdmVjMiBwYXJhbGxheE9mZnNldCh2ZWMzIHZpZXdEaXIsZmxvYXQgaGVpZ2h0U2NhbGUpCnsKZmxvYXQgaGVpZ2h0PXRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS53Owp2ZWMyIHRleENvb3JkT2Zmc2V0PWhlaWdodFNjYWxlKnZpZXdEaXIueHkqaGVpZ2h0OwpyZXR1cm4gLXRleENvb3JkT2Zmc2V0Owp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZmhdPV9oO2NvbnN0IGdoPSJsb2dEZXB0aERlY2xhcmF0aW9uIixwaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKdW5pZm9ybSBmbG9hdCBsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQ7CnZhcnlpbmcgZmxvYXQgdkZyYWdtZW50RGVwdGg7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZ2hdPXBoO2NvbnN0IG1oPSJmb2dGcmFnbWVudERlY2xhcmF0aW9uIixFaD1gI2lmZGVmIEZPRwojZGVmaW5lIEZPR01PREVfTk9ORSAwLgojZGVmaW5lIEZPR01PREVfRVhQIDEuCiNkZWZpbmUgRk9HTU9ERV9FWFAyIDIuCiNkZWZpbmUgRk9HTU9ERV9MSU5FQVIgMy4KI2RlZmluZSBFIDIuNzE4MjgKdW5pZm9ybSB2ZWM0IHZGb2dJbmZvczsKdW5pZm9ybSB2ZWMzIHZGb2dDb2xvcjsKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKZmxvYXQgQ2FsY0ZvZ0ZhY3RvcigpCnsKZmxvYXQgZm9nQ29lZmY9MS4wOwpmbG9hdCBmb2dTdGFydD12Rm9nSW5mb3MueTsKZmxvYXQgZm9nRW5kPXZGb2dJbmZvcy56OwpmbG9hdCBmb2dEZW5zaXR5PXZGb2dJbmZvcy53OwpmbG9hdCBmb2dEaXN0YW5jZT1sZW5ndGgodkZvZ0Rpc3RhbmNlKTsKaWYgKEZPR01PREVfTElORUFSPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0oZm9nRW5kLWZvZ0Rpc3RhbmNlKS8oZm9nRW5kLWZvZ1N0YXJ0KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUD09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkqZm9nRGVuc2l0eSk7Cn0KcmV0dXJuIGNsYW1wKGZvZ0NvZWZmLDAuMCwxLjApOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbWhdPUVoO2NvbnN0IHZoPSJidW1wRnJhZ21lbnQiLFRoPWB2ZWMyIHV2T2Zmc2V0PXZlYzIoMC4wLDAuMCk7CiNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoREVUQUlMKQojaWZkZWYgTk9STUFMWFlTQ0FMRQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbGlmIGRlZmluZWQoQlVNUCkKZmxvYXQgbm9ybWFsU2NhbGU9dkJ1bXBJbmZvcy55OwojZWxzZQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbmRpZgojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2VsaWYgZGVmaW5lZChCVU1QKQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkJ1bXBVViA6IC12QnVtcFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZUYW5nZW50U3BhY2VQYXJhbXMpOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZNYWluVVYxIDogLXZNYWluVVYxOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVyx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUEFSQUxMQVgKbWF0MyBpbnZUQk49dHJhbnNwb3NlTWF0MyhUQk4pOwojaWZkZWYgUEFSQUxMQVhPQ0NMVVNJT04KdXZPZmZzZXQ9cGFyYWxsYXhPY2NsdXNpb24oaW52VEJOKi12aWV3RGlyZWN0aW9uVyxpbnZUQk4qbm9ybWFsVyx2QnVtcFVWLHZCdW1wSW5mb3Mueik7CiNlbHNlCnV2T2Zmc2V0PXBhcmFsbGF4T2Zmc2V0KGludlRCTip2aWV3RGlyZWN0aW9uVyx2QnVtcEluZm9zLnopOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdmVjNCBkZXRhaWxDb2xvcj10ZXh0dXJlMkQoZGV0YWlsU2FtcGxlcix2RGV0YWlsVVYrdXZPZmZzZXQpOwp2ZWMyIGRldGFpbE5vcm1hbFJHPWRldGFpbENvbG9yLnd5KjIuMC0xLjA7CmZsb2F0IGRldGFpbE5vcm1hbEI9c3FydCgxLi1zYXR1cmF0ZShkb3QoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsUkcpKSk7CnZlYzMgZGV0YWlsTm9ybWFsPXZlYzMoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsQik7CiNlbmRpZgojaWZkZWYgQlVNUAojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCm5vcm1hbFc9bm9ybWFsaXplKHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS54eXogKjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CiNpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTAgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CnZlYzMgYmxlbmRlZE5vcm1hbD1ub3JtYWxpemUodmVjMyhidW1wTm9ybWFsLnh5K2RldGFpbE5vcm1hbC54eSxidW1wTm9ybWFsLnoqZGV0YWlsTm9ybWFsLnopKTsKI2VsaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0xIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt2aF09VGg7Y29uc3QgYmg9ImRlcHRoUHJlUGFzcyIsU2g9YCNpZmRlZiBERVBUSFBSRVBBU1MKZ2xfRnJhZ0NvbG9yPXZlYzQoMC4sMC4sMC4sMS4wKTsKcmV0dXJuOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2JoXT1TaDtjb25zdCB4aD0ibGlnaHRGcmFnbWVudCIsTWg9YCNpZmRlZiBMSUdIVHtYfQojaWYgZGVmaW5lZChTSEFET1dPTkxZKSB8fCBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pICYmIGRlZmluZWQoTElHSFRNQVBOT1NQRUNVTEFSe1h9KQojZWxzZQojaWZkZWYgUEJSCiNpZmRlZiBTUE9UTElHSFR7WH0KcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVIZW1pc3BoZXJpY1ByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKERJUkxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVEaXJlY3Rpb25hbFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZW5kaWYKcHJlSW5mby5OZG90Vj1OZG90VjsKI2lmZGVmIFNQT1RMSUdIVHtYfQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfR0xURihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9TdGFuZGFyZChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbmRpZgojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPTEuMDsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9cm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojaWZkZWYgSVJJREVTQ0VOQ0UKcHJlSW5mby5pcmlkZXNjZW5jZUludGVuc2l0eT1pcmlkZXNjZW5jZUludGVuc2l0eTsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KaW5mby5kaWZmdXNlPWNvbXB1dGVIZW1pc3BoZXJpY0RpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCk7CiNlbGlmIGRlZmluZWQoU1NfVFJBTlNMVUNFTkNZKQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VBbmRUcmFuc21pdHRlZExpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2Isc3ViU3VyZmFjZU91dC50cmFuc21pdHRhbmNlKTsKI2Vsc2UKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBBTklTT1RST1BJQwppbmZvLnNwZWN1bGFyPWNvbXB1dGVBbmlzb3Ryb3BpY1NwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyx2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljVGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY0JpdGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3B5LGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbHNlCmluZm8uc3BlY3VsYXI9Y29tcHV0ZVNwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZmRlZiBTSEVFTl9MSU5LV0lUSEFMQkVETwpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlbkludGVuc2l0eTsKI2Vsc2UKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlblJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhzaGVlbk91dC5zaGVlblJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojZW5kaWYKaW5mby5zaGVlbj1jb21wdXRlU2hlZW5MaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsc2hlZW5PdXQuc2hlZW5Db2xvcixzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1jbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKGNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKaW5mby5jbGVhckNvYXQ9Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nKHByZUluZm8sY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEFBUm91Z2huZXNzRmFjdG9ycy54LGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHksbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojaWZkZWYgQ0xFQVJDT0FUX1RJTlQKYWJzb3JwdGlvbj1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmdBYnNvcnB0aW9uKGNsZWFyY29hdE91dC5jbGVhckNvYXROZG90VlJlZnJhY3QscHJlSW5mby5MLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRDb2xvcixjbGVhcmNvYXRPdXQuY2xlYXJDb2F0VGhpY2tuZXNzLGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHkpOwppbmZvLmRpZmZ1c2UqPWFic29ycHRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9YWJzb3JwdGlvbjsKI2VuZGlmCiNlbmRpZgppbmZvLmRpZmZ1c2UqPWluZm8uY2xlYXJDb2F0Lnc7CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNpZmRlZiBTSEVFTgppbmZvLnNoZWVuKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTUE9UTElHSFR7WH0KaW5mbz1jb21wdXRlU3BvdExpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCmluZm89Y29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkgfHwgZGVmaW5lZChESVJMSUdIVHtYfSkKaW5mbz1jb21wdXRlTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQppbmZvLmRpZmZ1c2UqPWNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9LHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSAKewojaWZkZWYgU0hBRE9XQ1NNX1JJR0hUSEFOREVEe1h9CmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldK3ZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2Vsc2UKZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0tdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZW5kaWYKaWYgKGRpZmZ7WH0+PTAuKSB7CmluZGV4e1h9PWk7CmJyZWFrOwp9Cn0KI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaWYgKGluZGV4e1h9Pj0wKQojZW5kaWYKewojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09dmVjMyhzaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV07CiNlbmRpZgojaWZuZGVmIFNIQURPV0NTTU5PQkxFTkR7WH0KZmxvYXQgZnJ1c3R1bUxlbmd0aD1mcnVzdHVtTGVuZ3Roc3tYfVtpbmRleHtYfV07CmZsb2F0IGRpZmZSYXRpbz1jbGFtcChkaWZme1h9L2ZydXN0dW1MZW5ndGgsMC4sMS4pKmNhc2NhZGVCbGVuZEZhY3RvcntYfTsKaWYgKGluZGV4e1h9PChTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMSkgJiYgZGlmZlJhdGlvPDEuKQp7CmluZGV4e1h9Kz0xOwpmbG9hdCBuZXh0U2hhZG93PTAuOwojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKc2hhZG93PW1peChuZXh0U2hhZG93LHNoYWRvdyxkaWZmUmF0aW8pOwojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09bWl4KHZlYzMobmV4dFNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XSxzaGFkb3dEZWJ1Z3tYfSxkaWZmUmF0aW8pOwojZW5kaWYKfQojZW5kaWYKfQojZWxpZiBkZWZpbmVkKFNIQURPV0NMT1NFRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUE9JU1NPTntYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjEodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGNSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzE2KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1M2NCh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2Vsc2UKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1dPTkxZCiNpZm5kZWYgU0hBRE9XSU5VU0UKI2RlZmluZSBTSEFET1dJTlVTRQojZW5kaWYKZ2xvYmFsU2hhZG93Kz1zaGFkb3c7CnNoYWRvd0xpZ2h0Q291bnQrPTEuMDsKI2VuZGlmCiNlbHNlCnNoYWRvdz0xLjsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XT05MWQojaWZkZWYgQ1VTVE9NVVNFUkxJR0hUSU5HCmRpZmZ1c2VCYXNlKz1jb21wdXRlQ3VzdG9tRGlmZnVzZUxpZ2h0aW5nKGluZm8sZGlmZnVzZUJhc2Usc2hhZG93KTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWNvbXB1dGVDdXN0b21TcGVjdWxhckxpZ2h0aW5nKGluZm8sc3BlY3VsYXJCYXNlLHNoYWRvdyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pCmRpZmZ1c2VCYXNlKz1saWdodG1hcENvbG9yLnJnYipzaGFkb3c7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvd0RlYnVne1h9OwojZWxzZSAKZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3c7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3c7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3c7CiNlbmRpZgojaWZkZWYgU0hFRU4Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeGhdPU1oO2NvbnN0IEFoPSJsb2dEZXB0aEZyYWdtZW50IixSaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKZ2xfRnJhZ0RlcHRoRVhUPWxvZzIodkZyYWdtZW50RGVwdGgpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudCowLjU7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQWhdPVJoO2NvbnN0IHloPSJmb2dGcmFnbWVudCIsQ2g9YCNpZmRlZiBGT0cKZmxvYXQgZm9nPUNhbGNGb2dGYWN0b3IoKTsKI2lmZGVmIFBCUgpmb2c9dG9MaW5lYXJTcGFjZShmb2cpOwojZW5kaWYKY29sb3IucmdiPW1peCh2Rm9nQ29sb3IsY29sb3IucmdiLGZvZyk7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeWhdPUNoO2NvbnN0IEloPSJvaXRGcmFnbWVudCIsUGg9YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKZmxvYXQgZnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56OyAKI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMKdWludCBoYWxmRmxvYXQ9cGFja0hhbGYyeDE2KHZlYzIoZnJhZ0RlcHRoKSk7CnZlYzIgZnVsbD11bnBhY2tIYWxmMngxNihoYWxmRmxvYXQpOwpmcmFnRGVwdGg9ZnVsbC54OwojZW5kaWYKaXZlYzIgZnJhZ0Nvb3JkPWl2ZWMyKGdsX0ZyYWdDb29yZC54eSk7CnZlYzIgbGFzdERlcHRoPXRleGVsRmV0Y2gob2l0RGVwdGhTYW1wbGVyLGZyYWdDb29yZCwwKS5yZzsKdmVjNCBsYXN0RnJvbnRDb2xvcj10ZXhlbEZldGNoKG9pdEZyb250Q29sb3JTYW1wbGVyLGZyYWdDb29yZCwwKTsKZGVwdGgucmc9dmVjMigtTUFYX0RFUFRIKTsKZnJvbnRDb2xvcj1sYXN0RnJvbnRDb2xvcjsKYmFja0NvbG9yPXZlYzQoMC4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmZsb2F0IGZ1cnRoZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBuZWFyZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbHNlCmZsb2F0IG5lYXJlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IGZ1cnRoZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbmRpZgpmbG9hdCBhbHBoYU11bHRpcGxpZXI9MS4wLWxhc3RGcm9udENvbG9yLmE7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZW5kaWYKcmV0dXJuOwp9CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZW5kaWYKZGVwdGgucmc9dmVjMigtZnJhZ0RlcHRoLGZyYWdEZXB0aCk7CnJldHVybjsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0loXT1QaDtjb25zdCBEaD0iZGVmYXVsdFBpeGVsU2hhZGVyIixGaD1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0RnJhZ21lbnQ+CiNpZiBkZWZpbmVkKEJVTVApIHx8ICFkZWZpbmVkKE5PUk1BTCkKI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUKI2VuZGlmCiNpbmNsdWRlPHByZVBhc3NEZWNsYXJhdGlvbj5bU0NFTkVfTVJUX0NPVU5UXQojaW5jbHVkZTxvaXREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4KI2lmZGVmIExPR0FSSVRITUlDREVQVEgKI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQojZW5kaWYKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfU0FNUExFUk5BTUVfLGRpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX1NBTVBMRVJOQU1FXyxhbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9TQU1QTEVSTkFNRV8sb3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9TQU1QTEVSTkFNRV8sZW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfU0FNUExFUk5BTUVfLGxpZ2h0bWFwKQojaWZkZWYgUkVGUkFDVElPTgojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZnJhY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmcmFjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfU0FNUExFUk5BTUVfLHNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8ZnJlc25lbEZ1bmN0aW9uPgojaWZkZWYgUkVGTEVDVElPTgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZmxlY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmbGVjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZWxzZQojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8cmVmbGVjdGlvbkZ1bmN0aW9uPgojZW5kaWYKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24+CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwp2ZWM0IGJhc2VDb2xvcj12ZWM0KDEuLDEuLDEuLDEuKTsKdmVjMyBkaWZmdXNlQ29sb3I9dkRpZmZ1c2VDb2xvci5yZ2I7CmZsb2F0IGFscGhhPXZEaWZmdXNlQ29sb3IuYTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSgtY3Jvc3MoZEZkeCh2UG9zaXRpb25XKSxkRmR5KHZQb3NpdGlvblcpKSk7CiNlbmRpZgojaW5jbHVkZTxidW1wRnJhZ21lbnQ+CiNpZmRlZiBUV09TSURFRExJR0hUSU5HCm5vcm1hbFc9Z2xfRnJvbnRGYWNpbmcgPyBub3JtYWxXIDogLW5vcm1hbFc7CiNlbmRpZgojaWZkZWYgRElGRlVTRQpiYXNlQ29sb3I9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZEaWZmdXNlVVYrdXZPZmZzZXQpOwojaWYgZGVmaW5lZChBTFBIQVRFU1QpICYmICFkZWZpbmVkKEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TKQppZiAoYmFzZUNvbG9yLmE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgQUxQSEFGUk9NRElGRlVTRQphbHBoYSo9YmFzZUNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEKYmFzZUNvbG9yLnJnYio9dkRpZmZ1c2VJbmZvcy55OwojZW5kaWYKI2luY2x1ZGU8ZGVwdGhQcmVQYXNzPgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCmJhc2VDb2xvci5yZ2IqPXZDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgREVUQUlMCmJhc2VDb2xvci5yZ2I9YmFzZUNvbG9yLnJnYioyLjAqbWl4KDAuNSxkZXRhaWxDb2xvci5yLHZEZXRhaWxJbmZvcy55KTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFCnZlYzMgYmFzZUFtYmllbnRDb2xvcj12ZWMzKDEuLDEuLDEuKTsKI2lmZGVmIEFNQklFTlQKYmFzZUFtYmllbnRDb2xvcj10ZXh0dXJlMkQoYW1iaWVudFNhbXBsZXIsdkFtYmllbnRVVit1dk9mZnNldCkucmdiKnZBbWJpZW50SW5mb3MueTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMKI2lmZGVmIFNQRUNVTEFSVEVSTQpmbG9hdCBnbG9zc2luZXNzPXZTcGVjdWxhckNvbG9yLmE7CnZlYzMgc3BlY3VsYXJDb2xvcj12U3BlY3VsYXJDb2xvci5yZ2I7CiNpZmRlZiBTUEVDVUxBUgp2ZWM0IHNwZWN1bGFyTWFwQ29sb3I9dGV4dHVyZTJEKHNwZWN1bGFyU2FtcGxlcix2U3BlY3VsYXJVVit1dk9mZnNldCk7CnNwZWN1bGFyQ29sb3I9c3BlY3VsYXJNYXBDb2xvci5yZ2I7CiNpZmRlZiBHTE9TU0lORVNTCmdsb3NzaW5lc3M9Z2xvc3NpbmVzcypzcGVjdWxhck1hcENvbG9yLmE7CiNlbmRpZgojZW5kaWYKI2Vsc2UKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXJCYXNlPXZlYzMoMC4sMC4sMC4pOwojZW5kaWYKZmxvYXQgc2hhZG93PTEuOwojaWZkZWYgTElHSFRNQVAKdmVjNCBsaWdodG1hcENvbG9yPXRleHR1cmUyRChsaWdodG1hcFNhbXBsZXIsdkxpZ2h0bWFwVVYrdXZPZmZzZXQpOwojaWZkZWYgUkdCRExJR0hUTUFQCmxpZ2h0bWFwQ29sb3IucmdiPWZyb21SR0JEKGxpZ2h0bWFwQ29sb3IpOwojZW5kaWYKbGlnaHRtYXBDb2xvci5yZ2IqPXZMaWdodG1hcEluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCnZlYzQgcmVmcmFjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGUkFDVElPTgp2ZWMzIHJlZnJhY3Rpb25WZWN0b3I9bm9ybWFsaXplKHJlZnJhY3QoLXZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsdlJlZnJhY3Rpb25JbmZvcy55KSk7CiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECiNpZmRlZiBVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQwpyZWZyYWN0aW9uVmVjdG9yPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh2UG9zaXRpb25XLHJlZnJhY3Rpb25WZWN0b3IsdlJlZnJhY3Rpb25TaXplLHZSZWZyYWN0aW9uUG9zaXRpb24pOwojZW5kaWYKcmVmcmFjdGlvblZlY3Rvci55PXJlZnJhY3Rpb25WZWN0b3IueSp2UmVmcmFjdGlvbkluZm9zLnc7CmlmIChkb3QocmVmcmFjdGlvblZlY3Rvcix2aWV3RGlyZWN0aW9uVyk8MS4wKSB7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZyYWN0aW9uQ3ViZVNhbXBsZXIscmVmcmFjdGlvblZlY3Rvcik7Cn0KI2Vsc2UKdmVjMyB2UmVmcmFjdGlvblVWVz12ZWMzKHJlZnJhY3Rpb25NYXRyaXgqKHZpZXcqdmVjNCh2UG9zaXRpb25XK3JlZnJhY3Rpb25WZWN0b3IqdlJlZnJhY3Rpb25JbmZvcy56LDEuMCkpKTsKdmVjMiByZWZyYWN0aW9uQ29vcmRzPXZSZWZyYWN0aW9uVVZXLnh5L3ZSZWZyYWN0aW9uVVZXLno7CnJlZnJhY3Rpb25Db29yZHMueT0xLjAtcmVmcmFjdGlvbkNvb3Jkcy55OwpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZnJhY3Rpb24yRFNhbXBsZXIscmVmcmFjdGlvbkNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRlJBQ1RJT04KcmVmcmFjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZyYWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRlJBQ1RJT05fTElORUFSCnJlZnJhY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZnJhY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmcmFjdGlvbkNvbG9yLnJnYio9dlJlZnJhY3Rpb25JbmZvcy54OwojZW5kaWYKdmVjNCByZWZsZWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgdlJlZmxlY3Rpb25VVlc9Y29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCh2UG9zaXRpb25XLDEuMCksbm9ybWFsVyk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX09QUE9TSVRFWgp2UmVmbGVjdGlvblVWVy56Kj0tMS4wOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKI2lmZGVmIFJPVUdITkVTUwpmbG9hdCBiaWFzPXZSZWZsZWN0aW9uSW5mb3MueTsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgU1BFQ1VMQVIKI2lmZGVmIEdMT1NTSU5FU1MKYmlhcyo9KDEuMC1zcGVjdWxhck1hcENvbG9yLmEpOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXLGJpYXMpOwojZWxzZQpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXKTsKI2VuZGlmCiNlbHNlCnZlYzIgY29vcmRzPXZSZWZsZWN0aW9uVVZXLnh5OwojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCmNvb3Jkcy89dlJlZmxlY3Rpb25VVlcuejsKI2VuZGlmCmNvb3Jkcy55PTEuMC1jb29yZHMueTsKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZsZWN0aW9uMkRTYW1wbGVyLGNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRkxFQ1RJT04KcmVmbGVjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZsZWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRkxFQ1RJT05fTElORUFSCnJlZmxlY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZmxlY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmbGVjdGlvbkNvbG9yLnJnYio9dlJlZmxlY3Rpb25JbmZvcy54OwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKZmxvYXQgcmVmbGVjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZmxlY3Rpb25SaWdodENvbG9yLmEscmVmbGVjdGlvbkxlZnRDb2xvci5hKTsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSCiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVmbGVjdGlvbkNvbG9yLnJnYio9c3BlY3VsYXJDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTApmbG9hdCByZWZyYWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmcmFjdGlvblJpZ2h0Q29sb3IuYSxyZWZyYWN0aW9uTGVmdENvbG9yLmEpOwpyZWZyYWN0aW9uQ29sb3IucmdiKj1yZWZyYWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZnJhY3Rpb25GcmVzbmVsVGVybSkrcmVmcmFjdGlvbkZyZXNuZWxUZXJtKnJlZnJhY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnZlYzQgb3BhY2l0eU1hcD10ZXh0dXJlMkQob3BhY2l0eVNhbXBsZXIsdk9wYWNpdHlVVit1dk9mZnNldCk7CiNpZmRlZiBPUEFDSVRZUkdCCm9wYWNpdHlNYXAucmdiPW9wYWNpdHlNYXAucmdiKnZlYzMoMC4zLDAuNTksMC4xMSk7CmFscGhhKj0ob3BhY2l0eU1hcC54K29wYWNpdHlNYXAueStvcGFjaXR5TWFwLnopKiB2T3BhY2l0eUluZm9zLnk7CiNlbHNlCmFscGhhKj1vcGFjaXR5TWFwLmEqdk9wYWNpdHlJbmZvcy55OwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWEFMUEhBKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKYWxwaGEqPXZDb2xvci5hOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCmZsb2F0IG9wYWNpdHlGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxvcGFjaXR5UGFydHMueixvcGFjaXR5UGFydHMudyk7CmFscGhhKz1vcGFjaXR5UGFydHMueCooMS4wLW9wYWNpdHlGcmVzbmVsVGVybSkrb3BhY2l0eUZyZXNuZWxUZXJtKm9wYWNpdHlQYXJ0cy55OwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAojaWZkZWYgQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMKaWYgKGFscGhhPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmbmRlZiBBTFBIQUJMRU5ECmFscGhhPTEuMDsKI2VuZGlmCiNlbmRpZgp2ZWMzIGVtaXNzaXZlQ29sb3I9dkVtaXNzaXZlQ29sb3I7CiNpZmRlZiBFTUlTU0lWRQplbWlzc2l2ZUNvbG9yKz10ZXh0dXJlMkQoZW1pc3NpdmVTYW1wbGVyLHZFbWlzc2l2ZVVWK3V2T2Zmc2V0KS5yZ2IqdkVtaXNzaXZlSW5mb3MueTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKZmxvYXQgZW1pc3NpdmVGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxlbWlzc2l2ZVJpZ2h0Q29sb3IuYSxlbWlzc2l2ZUxlZnRDb2xvci5hKTsKZW1pc3NpdmVDb2xvcio9ZW1pc3NpdmVMZWZ0Q29sb3IucmdiKigxLjAtZW1pc3NpdmVGcmVzbmVsVGVybSkrZW1pc3NpdmVGcmVzbmVsVGVybSplbWlzc2l2ZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCmZsb2F0IGRpZmZ1c2VGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxkaWZmdXNlUmlnaHRDb2xvci5hLGRpZmZ1c2VMZWZ0Q29sb3IuYSk7CmRpZmZ1c2VCYXNlKj1kaWZmdXNlTGVmdENvbG9yLnJnYiooMS4wLWRpZmZ1c2VGcmVzbmVsVGVybSkrZGlmZnVzZUZyZXNuZWxUZXJtKmRpZmZ1c2VSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCiNpZmRlZiBMSU5LRU1JU1NJVkVXSVRIRElGRlVTRQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcCgoZGlmZnVzZUJhc2UrZW1pc3NpdmVDb2xvcikqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK2VtaXNzaXZlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBmaW5hbFNwZWN1bGFyPXNwZWN1bGFyQmFzZSpzcGVjdWxhckNvbG9yOwojaWZkZWYgU1BFQ1VMQVJPVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KGZpbmFsU3BlY3VsYXIsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2Vsc2UKdmVjMyBmaW5hbFNwZWN1bGFyPXZlYzMoMC4wKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OT1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChyZWZsZWN0aW9uQ29sb3IucmdiLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzQgY29sb3I9dmVjNChjbGFtcChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrZW1pc3NpdmVDb2xvcityZWZyYWN0aW9uQ29sb3IucmdiLDAuMCwxLjApLGFscGhhKTsKI2Vsc2UKdmVjNCBjb2xvcj12ZWM0KGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYityZWZyYWN0aW9uQ29sb3IucmdiLGFscGhhKTsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAojaWZuZGVmIExJR0hUTUFQRVhDTFVERUQKI2lmZGVmIFVTRUxJR0hUTUFQQVNTSEFET1dNQVAKY29sb3IucmdiKj1saWdodG1hcENvbG9yLnJnYjsKI2Vsc2UKY29sb3IucmdiKz1saWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRwpjb2xvci5yZ2I9bWF4KGNvbG9yLnJnYiwwLik7CiNpbmNsdWRlPGxvZ0RlcHRoRnJhZ21lbnQ+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgojaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKI2Vsc2UKI2lmZGVmIElNQUdFUFJPQ0VTU0lORwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwpjb2xvcj1hcHBseUltYWdlUHJvY2Vzc2luZyhjb2xvcik7CiNlbmRpZgojZW5kaWYKY29sb3IuYSo9dmlzaWJpbGl0eTsKI2lmZGVmIFBSRU1VTFRJUExZQUxQSEEKY29sb3IucmdiKj1jb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUgojaWZkZWYgUFJFUEFTUwpmbG9hdCB3cml0ZUdlb21ldHJ5SW5mbz1jb2xvci5hPjAuNCA/IDEuMCA6IDAuMDsKZ2xfRnJhZ0RhdGFbMF09Y29sb3I7IAojaWZkZWYgUFJFUEFTU19QT1NJVElPTgpnbF9GcmFnRGF0YVtQUkVQQVNTX1BPU0lUSU9OX0lOREVYXT12ZWM0KHZQb3NpdGlvblcsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmVjMiBhPSh2Q3VycmVudFBvc2l0aW9uLnh5L3ZDdXJyZW50UG9zaXRpb24udykqMC41KzAuNTsKdmVjMiBiPSh2UHJldmlvdXNQb3NpdGlvbi54eS92UHJldmlvdXNQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIHZlbG9jaXR5PWFicyhhLWIpOwp2ZWxvY2l0eT12ZWMyKHBvdyh2ZWxvY2l0eS54LDEuMC8zLjApLHBvdyh2ZWxvY2l0eS55LDEuMC8zLjApKSpzaWduKGEtYikqMC41KzAuNTsKZ2xfRnJhZ0RhdGFbUFJFUEFTU19WRUxPQ0lUWV9JTkRFWF09dmVjNCh2ZWxvY2l0eSwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfSVJSQURJQU5DRQpnbF9GcmFnRGF0YVtQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0RFUFRICmdsX0ZyYWdEYXRhW1BSRVBBU1NfREVQVEhfSU5ERVhdPXZlYzQodlZpZXdQb3MueiwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19OT1JNQUwKZ2xfRnJhZ0RhdGFbUFJFUEFTU19OT1JNQUxfSU5ERVhdPXZlYzQoKHZpZXcqdmVjNChub3JtYWxXLDAuMCkpLnJnYix3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfQUxCRURPX1NRUlQKZ2xfRnJhZ0RhdGFbUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfUkVGTEVDVElWSVRZCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2lmIGRlZmluZWQoU1BFQ1VMQVIpCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHNwZWN1bGFyTWFwQ29sb3IpKndyaXRlR2VvbWV0cnlJbmZvOyAKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoc3BlY3VsYXJDb2xvciwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmICFkZWZpbmVkKFBSRVBBU1MpIHx8IGRlZmluZWQoV0VCR0wyKQpnbF9GcmFnQ29sb3I9Y29sb3I7CiNlbmRpZgojaW5jbHVkZTxvaXRGcmFnbWVudD4KI2lmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQppZiAoZnJhZ0RlcHRoPT1uZWFyZXN0RGVwdGgpIHsKZnJvbnRDb2xvci5yZ2IrPWNvbG9yLnJnYipjb2xvci5hKmFscGhhTXVsdGlwbGllcjsKZnJvbnRDb2xvci5hPTEuMC1hbHBoYU11bHRpcGxpZXIqKDEuMC1jb2xvci5hKTsKfSBlbHNlIHsKYmFja0NvbG9yKz1jb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfQpgO1UuU2hhZGVyc1N0b3JlW0RoXT1GaDtjb25zdCB3aD0iZGVmYXVsdFZlcnRleERlY2xhcmF0aW9uIixPaD1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIG1hdDQgdmlldzsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSBtYXQ0IGFtYmllbnRNYXRyaXg7CnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdW5pZm9ybSBtYXQ0IG9wYWNpdHlNYXRyaXg7CnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKdW5pZm9ybSBtYXQ0IGVtaXNzaXZlTWF0cml4OwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKdW5pZm9ybSBtYXQ0IGxpZ2h0bWFwTWF0cml4OwojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CnVuaWZvcm0gbWF0NCBzcGVjdWxhck1hdHJpeDsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIG1hdDQgYnVtcE1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKdW5pZm9ybSBtYXQ0IGRldGFpbE1hdHJpeDsKI2VuZGlmCiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3doXT1PaDtjb25zdCBMaD0idXZBdHRyaWJ1dGVEZWNsYXJhdGlvbiIsTmg9YCNpZmRlZiBVVntYfQphdHRyaWJ1dGUgdmVjMiB1dntYfTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMaF09Tmg7Y29uc3QgQmg9InByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbiIsVWg9YCNpZmRlZiBQUkVQQVNTCiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnVuaWZvcm0gbWF0NCBwcmV2aW91c1ZpZXdQcm9qZWN0aW9uOwp2YXJ5aW5nIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjsKdmFyeWluZyB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCaF09VWg7Y29uc3Qga2g9InNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbiIsVmg9YCNpZiBkZWZpbmVkKF9ERUZJTkVOQU1FXykgJiYgX0RFRklORU5BTUVfRElSRUNUVVY9PTAKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVba2hdPVZoO2NvbnN0IFdoPSJidW1wVmVydGV4RGVjbGFyYXRpb24iLHpoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXaF09emg7Y29uc3QgR2g9ImZvZ1ZlcnRleERlY2xhcmF0aW9uIixYaD1gI2lmZGVmIEZPRwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0doXT1YaDtjb25zdCBIaD0ibGlnaHRWeEZyYWdtZW50RGVjbGFyYXRpb24iLEtoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSGhdPUtoO2NvbnN0IFloPSJsaWdodFZ4VWJvRGVjbGFyYXRpb24iLFpoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1loXT1aaDtjb25zdCBxaD0icHJlUGFzc1ZlcnRleCIsamg9YCNpZmRlZiBQUkVQQVNTX0RFUFRICnZWaWV3UG9zPSh2aWV3KndvcmxkUG9zKS5yZ2I7CiNlbmRpZgojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiBkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgcHJldmlvdXNJbmZsdWVuY2U7CnByZXZpb3VzSW5mbHVlbmNlPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqcHJldmlvdXNJbmZsdWVuY2UqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2Vsc2UKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcWhdPWpoO2NvbnN0IFFoPSJ1dlZhcmlhYmxlRGVjbGFyYXRpb24iLCRoPWAjaWYgIWRlZmluZWQoVVZ7WH0pICYmIGRlZmluZWQoTUFJTlVWe1h9KQp2ZWMyIHV2e1h9PXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVntYfQp2TWFpblVWe1h9PXV2e1h9OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FoXT0kaDtjb25zdCBKaD0ic2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uIixlbD1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAppZiAodl9JTkZPTkFNRV89PTAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV89PTEuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVYzCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0yLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYzLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNAplbHNlIGlmICh2X0lORk9OQU1FXz09My4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV89PTQuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djUsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY2CmVsc2UgaWYgKHZfSU5GT05BTUVfPT01LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY2LDEuMCwwLjApKTsKfQojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKaF09ZWw7Y29uc3QgdGw9ImJ1bXBWZXJ0ZXgiLGlsPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKdmVjMyB0Ym5Ob3JtYWw9bm9ybWFsaXplKG5vcm1hbFVwZGF0ZWQpOwp2ZWMzIHRiblRhbmdlbnQ9bm9ybWFsaXplKHRhbmdlbnRVcGRhdGVkLnh5eik7CnZlYzMgdGJuQml0YW5nZW50PWNyb3NzKHRibk5vcm1hbCx0Ym5UYW5nZW50KSp0YW5nZW50VXBkYXRlZC53Owp2VEJOPW1hdDMoZmluYWxXb3JsZCkqbWF0Myh0Ym5UYW5nZW50LHRibkJpdGFuZ2VudCx0Ym5Ob3JtYWwpOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0bF09aWw7Y29uc3Qgc2w9ImZvZ1ZlcnRleCIscmw9YCNpZmRlZiBGT0cKdkZvZ0Rpc3RhbmNlPSh2aWV3KndvcmxkUG9zKS54eXo7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc2xdPXJsO2NvbnN0IG5sPSJzaGFkb3dzVmVydGV4IixhbD1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoU0hBRE9XQ1NNe1h9KQp2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9PXZpZXcqd29ybGRQb3M7CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgewp2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV09bGlnaHRNYXRyaXh7WH1baV0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH1baV09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH1baV09KHZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9Xe1h9KSAmJiAhZGVmaW5lZChTSEFET1dDVUJFe1h9KQp2UG9zaXRpb25Gcm9tTGlnaHR7WH09bGlnaHRNYXRyaXh7WH0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH09KHZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtubF09YWw7Y29uc3Qgb2w9InZlcnRleENvbG9yTWl4aW5nIixobD1gI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2Q29sb3I9dmVjNCgxLjApOwojaWZkZWYgVkVSVEVYQ09MT1IKI2lmZGVmIFZFUlRFWEFMUEhBCnZDb2xvcio9Y29sb3I7CiNlbHNlCnZDb2xvci5yZ2IqPWNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKdkNvbG9yKj1pbnN0YW5jZUNvbG9yOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvbF09aGw7Y29uc3QgbGw9InBvaW50Q2xvdWRWZXJ0ZXgiLGNsPWAjaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsbF09Y2w7Y29uc3QgdWw9ImxvZ0RlcHRoVmVydGV4IixkbD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKdkZyYWdtZW50RGVwdGg9MS4wK2dsX1Bvc2l0aW9uLnc7CmdsX1Bvc2l0aW9uLno9bG9nMihtYXgoMC4wMDAwMDEsdkZyYWdtZW50RGVwdGgpKSpsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQ7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdWxdPWRsO2NvbnN0IGZsPSJkZWZhdWx0VmVydGV4U2hhZGVyIixfbD1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0VmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4KYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaW5jbHVkZTx1dkF0dHJpYnV0ZURlY2xhcmF0aW9uPlsyLi43XQojaWZkZWYgVkVSVEVYQ09MT1IKYXR0cmlidXRlIHZlYzQgY29sb3I7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwKQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCkKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8YnVtcFZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRWeEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblVWVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKdmVjNCB0YW5nZW50VXBkYXRlZD10YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2UG9zaXRpb25VVlc9cG9zaXRpb25VcGRhdGVkOwojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9QT1NJVElPTgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX05PUk1BTAojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpZiBkZWZpbmVkKFBSRVBBU1MpICYmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgIWRlZmluZWQoQk9ORVNfVkVMT0NJVFlfRU5BQkxFRCkKdkN1cnJlbnRQb3NpdGlvbj12aWV3UHJvamVjdGlvbipmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybWFsV29ybGQ9bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1hbFdvcmxkWzBdLG5vcm1hbFdvcmxkWzBdKSxkb3Qobm9ybWFsV29ybGRbMV0sbm9ybWFsV29ybGRbMV0pLGRvdChub3JtYWxXb3JsZFsyXSxub3JtYWxXb3JsZFsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybWFsV29ybGQ9dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtYWxXb3JsZCkpOwojZW5kaWYKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKm5vcm1hbFVwZGF0ZWQpOwojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MKI2lmZGVmIE1VTFRJVklFVwppZiAoZ2xfVmlld0lEX09WUj09MHUpIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7Cn0gZWxzZSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uUip3b3JsZFBvczsKfQojZWxzZQpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2VuZGlmCnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXg+CiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMC4wKSkpOwojZW5kaWYKI2lmbmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWMQp2TWFpblVWMT11dlVwZGF0ZWQ7CiNlbmRpZgojaW5jbHVkZTx1dlZhcmlhYmxlRGVjbGFyYXRpb24+WzIuLjddCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9NQVRSSVhOQU1FXyxkaWZmdXNlLF9JTkZPTkFNRV8sRGlmZnVzZUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfTUFUUklYTkFNRV8sZGV0YWlsLF9JTkZPTkFNRV8sRGV0YWlsSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX01BVFJJWE5BTUVfLGFtYmllbnQsX0lORk9OQU1FXyxBbWJpZW50SW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX01BVFJJWE5BTUVfLG9wYWNpdHksX0lORk9OQU1FXyxPcGFjaXR5SW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSxfTUFUUklYTkFNRV8sZW1pc3NpdmUsX0lORk9OQU1FXyxFbWlzc2l2ZUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXAsX01BVFJJWE5BTUVfLGxpZ2h0bWFwLF9JTkZPTkFNRV8sTGlnaHRtYXBJbmZvcy54KQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIsX01BVFJJWE5BTUVfLHNwZWN1bGFyLF9JTkZPTkFNRV8sU3BlY3VsYXJJbmZvcy54KQojZW5kaWYKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX01BVFJJWE5BTUVfLGJ1bXAsX0lORk9OQU1FXyxCdW1wSW5mb3MueCkKI2luY2x1ZGU8YnVtcFZlcnRleD4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8dmVydGV4Q29sb3JNaXhpbmc+CiNpbmNsdWRlPHBvaW50Q2xvdWRWZXJ0ZXg+CiNpbmNsdWRlPGxvZ0RlcHRoVmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO1UuU2hhZGVyc1N0b3JlW2ZsXT1fbDtjb25zdCBnbD1uZXcgUmVnRXhwKCJeKFtnaW11c10rKSEiKTtjbGFzcyBlaXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzPVtdLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5fc2NlbmU9ZS5nZXRTY2VuZSgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKX1fYWRkUGx1Z2luKGUpe2ZvcihsZXQgcz0wO3M8dGhpcy5fcGx1Z2lucy5sZW5ndGg7KytzKWlmKHRoaXMuX3BsdWdpbnNbc10ubmFtZT09PWUubmFtZSl0aHJvd2BQbHVnaW4gIiR7ZS5uYW1lfSIgYWxyZWFkeSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIWA7aWYodGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdCl0aHJvd2BUaGUgcGx1Z2luICIke2UubmFtZX0iIGNhbid0IGJlIGFkZGVkIHRvIHRoZSBtYXRlcmlhbCAiJHt0aGlzLl9tYXRlcmlhbC5uYW1lfSIgYmVjYXVzZSB0aGlzIG1hdGVyaWFsIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCBmb3IgcmVuZGVyaW5nISBQbGVhc2UgYWRkIHBsdWdpbnMgdG8gbWF0ZXJpYWxzIGJlZm9yZSBhbnkgcmVuZGVyaW5nIHdpdGggdGhpcyBtYXRlcmlhbCBvY2N1cnMuYDtjb25zdCB0PWUuZ2V0Q2xhc3NOYW1lKCk7ZWkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF18fChlaS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XT0iTUFURVJJQUxQTFVHSU5fIisgKytlaS5fTWF0ZXJpYWxQbHVnaW5Db3VudGVyKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnQuYmluZCh0aGlzKSx0aGlzLl9wbHVnaW5zLnB1c2goZSksdGhpcy5fcGx1Z2lucy5zb3J0KChzLHIpPT5zLnByaW9yaXR5LXIucHJpb3JpdHkpLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHM9e307Y29uc3QgaT17fTtpW2VpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdXT17dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMH07Zm9yKGNvbnN0IHMgb2YgdGhpcy5fcGx1Z2lucylzLmNvbGxlY3REZWZpbmVzKGkpLHRoaXMuX2NvbGxlY3RQb2ludE5hbWVzKCJ2ZXJ0ZXgiLHMuZ2V0Q3VzdG9tQ29kZSgidmVydGV4IikpLHRoaXMuX2NvbGxlY3RQb2ludE5hbWVzKCJmcmFnbWVudCIscy5nZXRDdXN0b21Db2RlKCJmcmFnbWVudCIpKTt0aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zPWl9X2FjdGl2YXRlUGx1Z2luKGUpe3RoaXMuX2FjdGl2ZVBsdWdpbnMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUGx1Z2lucy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnMuc29ydCgodCxpKT0+dC5wcmlvcml0eS1pLnByaW9yaXR5KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2guYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpLGUucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyYmKHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5zb3J0KCh0LGkpPT50LnByaW9yaXR5LWkucHJpb3JpdHkpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSkpfWdldFBsdWdpbihlKXtmb3IobGV0IHQ9MDt0PHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrdClpZih0aGlzLl9wbHVnaW5zW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLl9wbHVnaW5zW3RdO3JldHVybiBudWxsfV9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKGUpe2xldCB0PSEwO2Zvcihjb25zdCBpIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdD10JiZpLmlzUmVhZHlGb3JTdWJNZXNoKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKTtlLmlzUmVhZHlGb3JTdWJNZXNoPXR9X2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5wcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZS5kZWZpbmVzLHRoaXMuX3NjZW5lLGUubWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LnByZXBhcmVEZWZpbmVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpdC5oYXJkQmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LmJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKGUpe2xldCB0PSExO2Zvcihjb25zdCBpIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cylpZih0PWkuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSx0KWJyZWFrO2UuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dH1faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKXQuZmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUucmVuZGVyVGFyZ2V0cyl9X2hhbmRsZVBsdWdpbkV2ZW50KGUsdCl7c3dpdGNoKGUpe2Nhc2UgJGUuR2V0QWN0aXZlVGV4dHVyZXM6e2NvbnN0IGk9dDtmb3IoY29uc3QgcyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXMuZ2V0QWN0aXZlVGV4dHVyZXMoaS5hY3RpdmVUZXh0dXJlcyk7YnJlYWt9Y2FzZSAkZS5HZXRBbmltYXRhYmxlczp7Y29uc3QgaT10O2Zvcihjb25zdCBzIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpcy5nZXRBbmltYXRhYmxlcyhpLmFuaW1hdGFibGVzKTticmVha31jYXNlICRlLkhhc1RleHR1cmU6e2NvbnN0IGk9dDtsZXQgcz0hMTtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKWlmKHM9ci5oYXNUZXh0dXJlKGkudGV4dHVyZSkscylicmVhaztpLmhhc1RleHR1cmU9czticmVha31jYXNlICRlLkRpc3Bvc2VkOntjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fcGx1Z2lucylzLmRpc3Bvc2UoaS5mb3JjZURpc3Bvc2VUZXh0dXJlcyk7YnJlYWt9Y2FzZSAkZS5HZXREZWZpbmVOYW1lczp7Y29uc3QgaT10O2kuZGVmaW5lTmFtZXM9dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2luczticmVha31jYXNlICRlLlByZXBhcmVFZmZlY3Q6e2NvbnN0IGk9dDtmb3IoY29uc3QgcyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKWkuZmFsbGJhY2tSYW5rPXMuYWRkRmFsbGJhY2tzKGkuZGVmaW5lcyxpLmZhbGxiYWNrcyxpLmZhbGxiYWNrUmFuaykscy5nZXRBdHRyaWJ1dGVzKGkuYXR0cmlidXRlcyx0aGlzLl9zY2VuZSxpLm1lc2gpO3RoaXMuX3VuaWZvcm1MaXN0Lmxlbmd0aD4wJiZpLnVuaWZvcm1zLnB1c2goLi4udGhpcy5fdW5pZm9ybUxpc3QpLHRoaXMuX3NhbXBsZXJMaXN0Lmxlbmd0aD4wJiZpLnNhbXBsZXJzLnB1c2goLi4udGhpcy5fc2FtcGxlckxpc3QpLHRoaXMuX3Vib0xpc3QubGVuZ3RoPjAmJmkudW5pZm9ybUJ1ZmZlcnNOYW1lcy5wdXNoKC4uLnRoaXMuX3Vib0xpc3QpLGkuY3VzdG9tQ29kZT10aGlzLl9pbmplY3RDdXN0b21Db2RlKGkuY3VzdG9tQ29kZSk7YnJlYWt9Y2FzZSAkZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcjp7Y29uc3QgaT10O3RoaXMuX3Vib0RlY2xhcmF0aW9uPSIiLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb249IiIsdGhpcy5fdW5pZm9ybUxpc3Q9W10sdGhpcy5fc2FtcGxlckxpc3Q9W10sdGhpcy5fdWJvTGlzdD1bXTtmb3IoY29uc3QgcyBvZiB0aGlzLl9wbHVnaW5zKXtjb25zdCByPXMuZ2V0VW5pZm9ybXMoKTtpZihyKXtpZihyLnVibylmb3IoY29uc3QgbiBvZiByLnVibylpLnViby5hZGRVbmlmb3JtKG4ubmFtZSxuLnNpemUpLHRoaXMuX3Vib0RlY2xhcmF0aW9uKz1gJHtuLnR5cGV9ICR7bi5uYW1lfTtccgpgLHRoaXMuX3VuaWZvcm1MaXN0LnB1c2gobi5uYW1lKTtyLnZlcnRleCYmKHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKz1yLnZlcnRleCtgXHIKYCksci5mcmFnbWVudCYmKHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24rPXIuZnJhZ21lbnQrYFxyCmApfXMuZ2V0U2FtcGxlcnModGhpcy5fc2FtcGxlckxpc3QpLHMuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyh0aGlzLl91Ym9MaXN0KX1icmVha319fV9jb2xsZWN0UG9pbnROYW1lcyhlLHQpe2lmKCEhdClmb3IoY29uc3QgaSBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW2ldPSEwfV9pbmplY3RDdXN0b21Db2RlKGUpe3JldHVybih0LGkpPT57dmFyIHM7ZSYmKGk9ZSh0LGkpKSx0aGlzLl91Ym9EZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OIix0aGlzLl91Ym9EZWNsYXJhdGlvbikpLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04iLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKSksdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04iLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24pKTtjb25zdCByPShzPXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHMpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1t0XTtpZighcilyZXR1cm4gaTtmb3IobGV0IG4gaW4gcil7bGV0IGE9IiI7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl7Y29uc3QgaD1vLmdldEN1c3RvbUNvZGUodCk7aCE9bnVsbCYmaFtuXSYmKGErPWhbbl0rYFxyCmApfWlmKGEubGVuZ3RoPjApaWYobi5jaGFyQXQoMCk9PT0iISIpe249bi5zdWJzdHJpbmcoMSk7bGV0IG89ImciO2lmKG4uY2hhckF0KDApPT09IiEiKW89IiIsbj1uLnN1YnN0cmluZygxKTtlbHNle2NvbnN0IGQ9Z2wuZXhlYyhuKTtkJiZkLmxlbmd0aD49MiYmKG89ZFsxXSxuPW4uc3Vic3RyaW5nKG8ubGVuZ3RoKzEpKX1vLmluZGV4T2YoImciKTwwJiYobys9ImciKTtjb25zdCBoPWksbD1uZXcgUmVnRXhwKG4sbyk7bGV0IHU9bC5leGVjKGgpO2Zvcig7dSE9PW51bGw7KXtsZXQgZD1hO2ZvcihsZXQgZj0wO2Y8dS5sZW5ndGg7KytmKWQ9ZC5yZXBsYWNlKCIkIitmLHVbZl0pO2k9aS5yZXBsYWNlKHVbMF0sZCksdT1sLmV4ZWMoaCl9fWVsc2V7Y29uc3Qgbz0iI2RlZmluZSAiK247aT1pLnJlcGxhY2UobyxgXHIKYCthK2BccgpgK28pfX1yZXR1cm4gaX19fWVpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LGVpLl9NYXRlcmlhbFBsdWdpbkNvdW50ZXI9MDtjbGFzcyBoc3tjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0hMSl7dGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1pLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgZWkoZSkpLHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzPXMsdGhpcy5fcGx1Z2luTWFuYWdlcj1lLnBsdWdpbk1hbmFnZXIsciYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWRkUGx1Z2luKHRoaXMpLG4mJnRoaXMuX2VuYWJsZSghMCksdGhpcy5tYXJrQWxsRGVmaW5lc0FzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbNjNdfV9lbmFibGUoZSl7ZSYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWN0aXZhdGVQbHVnaW4odGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkscyl7cmV0dXJuITB9aGFyZEJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9ZGlzcG9zZShlKXt9Z2V0Q3VzdG9tQ29kZShlKXtyZXR1cm4gbnVsbH1jb2xsZWN0RGVmaW5lcyhlKXtpZighIXRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKWZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKSl7aWYodFswXT09PSJfIiljb250aW51ZTtjb25zdCBpPXR5cGVvZiB0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XTtlW3RdPXt0eXBlOmk9PT0ibnVtYmVyIj8ibnVtYmVyIjppPT09InN0cmluZyI/InN0cmluZyI6aT09PSJib29sZWFuIj8iYm9vbGVhbiI6Im9iamVjdCIsZGVmYXVsdDp0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XX19fXByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlLHQsaSl7fXByZXBhcmVEZWZpbmVzKGUsdCxpKXt9aGFzVGV4dHVyZShlKXtyZXR1cm4hMX1oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiExfWZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXt9Z2V0QWN0aXZlVGV4dHVyZXMoZSl7fWdldEFuaW1hdGFibGVzKGUpe31hZGRGYWxsYmFja3MoZSx0LGkpe3JldHVybiBpfWdldFNhbXBsZXJzKGUpe31nZXRBdHRyaWJ1dGVzKGUsdCxpKXt9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyhlKXt9Z2V0VW5pZm9ybXMoKXtyZXR1cm57fX1jb3B5VG8oZSl7YWUuQ2xvbmUoKCk9PmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIGFlLlNlcmlhbGl6ZSh0aGlzKX1wYXJzZShlLHQsaSl7YWUuUGFyc2UoKCk9PnRoaXMsZSx0LGkpfX1UKFtSKCldLGhzLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLGhzLnByb3RvdHlwZSwicHJpb3JpdHkiLHZvaWQgMCksVChbUigpXSxocy5wcm90b3R5cGUsInJlZ2lzdGVyRm9yRXh0cmFFdmVudHMiLHZvaWQgMCk7Y2xhc3MgcGwgZXh0ZW5kcyB5c3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5ERVRBSUw9ITEsdGhpcy5ERVRBSUxESVJFQ1RVVj0wLHRoaXMuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPTB9fWNsYXNzIHBpIGV4dGVuZHMgaHN7Y29uc3RydWN0b3IoZSx0PSEwKXtzdXBlcihlLCJEZXRhaWxNYXAiLDE0MCxuZXcgcGwsdCksdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWw9MSx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSx0aGlzLmJ1bXBMZXZlbD0xLHRoaXMuX25vcm1hbEJsZW5kTWV0aG9kPVAuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsdGhpcy5faXNFbmFibGVkPSExLHRoaXMuaXNFbmFibGVkPSExLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1sxXX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2VuYWJsZSh0aGlzLl9pc0VuYWJsZWQpLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkPyEoZS5fYXJlVGV4dHVyZXNEaXJ0eSYmdC50ZXh0dXJlc0VuYWJsZWQmJmkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiYhdGhpcy5fdGV4dHVyZS5pc1JlYWR5KCkpOiEwfXByZXBhcmVEZWZpbmVzKGUsdCl7aWYodGhpcy5faXNFbmFibGVkKXtlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZDtjb25zdCBpPXQuZ2V0RW5naW5lKCk7ZS5fYXJlVGV4dHVyZXNEaXJ0eSYmKGkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiZ0aGlzLl9pc0VuYWJsZWQ/KGllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fdGV4dHVyZSxlLCJERVRBSUwiKSxlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZCk6ZS5ERVRBSUw9ITEpfWVsc2UgZS5ERVRBSUw9ITF9YmluZEZvclN1Yk1lc2goZSx0KXtpZighdGhpcy5faXNFbmFibGVkKXJldHVybjtjb25zdCBpPXRoaXMuX21hdGVyaWFsLmlzRnJvemVuOyghZS51c2VVYm98fCFpfHwhZS5pc1N5bmMpJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmKGUudXBkYXRlRmxvYXQ0KCJ2RGV0YWlsSW5mb3MiLHRoaXMuX3RleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsLHRoaXMuYnVtcExldmVsLHRoaXMucm91Z2huZXNzQmxlbmRMZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fdGV4dHVyZSxlLCJkZXRhaWwiKSksdC50ZXh0dXJlc0VuYWJsZWQmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiZlLnNldFRleHR1cmUoImRldGFpbFNhbXBsZXIiLHRoaXMuX3RleHR1cmUpfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX3RleHR1cmU9PT1lfWdldEFjdGl2ZVRleHR1cmVzKGUpe3RoaXMuX3RleHR1cmUmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1nZXRBbmltYXRhYmxlcyhlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3RleHR1cmUpfWRpc3Bvc2UoZSl7dmFyIHQ7ZSYmKCh0PXRoaXMuX3RleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCkpfWdldENsYXNzTmFtZSgpe3JldHVybiJEZXRhaWxNYXBDb25maWd1cmF0aW9uIn1nZXRTYW1wbGVycyhlKXtlLnB1c2goImRldGFpbFNhbXBsZXIiKX1nZXRVbmlmb3Jtcygpe3JldHVybnt1Ym86W3tuYW1lOiJ2RGV0YWlsSW5mb3MiLHNpemU6NCx0eXBlOiJ2ZWM0In0se25hbWU6ImRldGFpbE1hdHJpeCIsc2l6ZToxNix0eXBlOiJtYXQ0In1dfX19VChbbXQoImRldGFpbFRleHR1cmUiKSxiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0scGkucHJvdG90eXBlLCJ0ZXh0dXJlIix2b2lkIDApLFQoW1IoKV0scGkucHJvdG90eXBlLCJkaWZmdXNlQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtSKCldLHBpLnByb3RvdHlwZSwicm91Z2huZXNzQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtSKCldLHBpLnByb3RvdHlwZSwiYnVtcExldmVsIix2b2lkIDApLFQoW1IoKSxiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0scGkucHJvdG90eXBlLCJub3JtYWxCbGVuZE1ldGhvZCIsdm9pZCAwKSxUKFtSKCksYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLHBpLnByb3RvdHlwZSwiaXNFbmFibGVkIix2b2lkIDApO2NvbnN0IEdzPXtlZmZlY3Q6bnVsbCxzdWJNZXNoOm51bGx9O2NsYXNzIG1sIGV4dGVuZHMgeXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5NQUlOVVYxPSExLHRoaXMuTUFJTlVWMj0hMSx0aGlzLk1BSU5VVjM9ITEsdGhpcy5NQUlOVVY0PSExLHRoaXMuTUFJTlVWNT0hMSx0aGlzLk1BSU5VVjY9ITEsdGhpcy5ESUZGVVNFPSExLHRoaXMuRElGRlVTRURJUkVDVFVWPTAsdGhpcy5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ITEsdGhpcy5BTUJJRU5UPSExLHRoaXMuQU1CSUVOVERJUkVDVFVWPTAsdGhpcy5PUEFDSVRZPSExLHRoaXMuT1BBQ0lUWURJUkVDVFVWPTAsdGhpcy5PUEFDSVRZUkdCPSExLHRoaXMuUkVGTEVDVElPTj0hMSx0aGlzLkVNSVNTSVZFPSExLHRoaXMuRU1JU1NJVkVESVJFQ1RVVj0wLHRoaXMuU1BFQ1VMQVI9ITEsdGhpcy5TUEVDVUxBUkRJUkVDVFVWPTAsdGhpcy5CVU1QPSExLHRoaXMuQlVNUERJUkVDVFVWPTAsdGhpcy5QQVJBTExBWD0hMSx0aGlzLlBBUkFMTEFYT0NDTFVTSU9OPSExLHRoaXMuU1BFQ1VMQVJPVkVSQUxQSEE9ITEsdGhpcy5DTElQUExBTkU9ITEsdGhpcy5DTElQUExBTkUyPSExLHRoaXMuQ0xJUFBMQU5FMz0hMSx0aGlzLkNMSVBQTEFORTQ9ITEsdGhpcy5DTElQUExBTkU1PSExLHRoaXMuQ0xJUFBMQU5FNj0hMSx0aGlzLkFMUEhBVEVTVD0hMSx0aGlzLkRFUFRIUFJFUEFTUz0hMSx0aGlzLkFMUEhBRlJPTURJRkZVU0U9ITEsdGhpcy5QT0lOVFNJWkU9ITEsdGhpcy5GT0c9ITEsdGhpcy5TUEVDVUxBUlRFUk09ITEsdGhpcy5ESUZGVVNFRlJFU05FTD0hMSx0aGlzLk9QQUNJVFlGUkVTTkVMPSExLHRoaXMuUkVGTEVDVElPTkZSRVNORUw9ITEsdGhpcy5SRUZSQUNUSU9ORlJFU05FTD0hMSx0aGlzLkVNSVNTSVZFRlJFU05FTD0hMSx0aGlzLkZSRVNORUw9ITEsdGhpcy5OT1JNQUw9ITEsdGhpcy5UQU5HRU5UPSExLHRoaXMuVVYxPSExLHRoaXMuVVYyPSExLHRoaXMuVVYzPSExLHRoaXMuVVY0PSExLHRoaXMuVVY1PSExLHRoaXMuVVY2PSExLHRoaXMuVkVSVEVYQ09MT1I9ITEsdGhpcy5WRVJURVhBTFBIQT0hMSx0aGlzLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdGhpcy5Cb25lc1Blck1lc2g9MCx0aGlzLkJPTkVURVhUVVJFPSExLHRoaXMuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD0hMSx0aGlzLklOU1RBTkNFUz0hMSx0aGlzLlRISU5fSU5TVEFOQ0VTPSExLHRoaXMuSU5TVEFOQ0VTQ09MT1I9ITEsdGhpcy5HTE9TU0lORVNTPSExLHRoaXMuUk9VR0hORVNTPSExLHRoaXMuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj0hMSx0aGlzLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPSExLHRoaXMuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9ITEsdGhpcy5MSUdIVE1BUD0hMSx0aGlzLkxJR0hUTUFQRElSRUNUVVY9MCx0aGlzLk9CSkVDVFNQQUNFX05PUk1BTE1BUD0hMSx0aGlzLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9ITEsdGhpcy5SRUZMRUNUSU9OTUFQXzNEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9TUEhFUklDQUw9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1BMQU5BUj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSExLHRoaXMuUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OPSExLHRoaXMuUkVGTEVDVElPTk1BUF9TS1lCT1g9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VYUExJQ0lUPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVI9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMSx0aGlzLklOVkVSVENVQklDTUFQPSExLHRoaXMuTE9HQVJJVEhNSUNERVBUSD0hMSx0aGlzLlJFRlJBQ1RJT049ITEsdGhpcy5SRUZSQUNUSU9OTUFQXzNEPSExLHRoaXMuUkVGTEVDVElPTk9WRVJBTFBIQT0hMSx0aGlzLlRXT1NJREVETElHSFRJTkc9ITEsdGhpcy5TSEFET1dGTE9BVD0hMSx0aGlzLk1PUlBIVEFSR0VUUz0hMSx0aGlzLk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdGhpcy5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0aGlzLk1PUlBIVEFSR0VUU19VVj0hMSx0aGlzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wLHRoaXMuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ITEsdGhpcy5OT05VTklGT1JNU0NBTElORz0hMSx0aGlzLlBSRU1VTFRJUExZQUxQSEE9ITEsdGhpcy5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz0hMSx0aGlzLkFMUEhBQkxFTkQ9ITAsdGhpcy5QUkVQQVNTPSExLHRoaXMuUFJFUEFTU19JUlJBRElBTkNFPSExLHRoaXMuUFJFUEFTU19JUlJBRElBTkNFX0lOREVYPS0xLHRoaXMuUFJFUEFTU19BTEJFRE9fU1FSVD0hMSx0aGlzLlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX0RFUFRIPSExLHRoaXMuUFJFUEFTU19ERVBUSF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfTk9STUFMPSExLHRoaXMuUFJFUEFTU19OT1JNQUxfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1BPU0lUSU9OPSExLHRoaXMuUFJFUEFTU19QT1NJVElPTl9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfVkVMT0NJVFk9ITEsdGhpcy5QUkVQQVNTX1ZFTE9DSVRZX0lOREVYPS0xLHRoaXMuUFJFUEFTU19SRUZMRUNUSVZJVFk9ITEsdGhpcy5QUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWD0tMSx0aGlzLlNDRU5FX01SVF9DT1VOVD0wLHRoaXMuUkdCRExJR0hUTUFQPSExLHRoaXMuUkdCRFJFRkxFQ1RJT049ITEsdGhpcy5SR0JEUkVGUkFDVElPTj0hMSx0aGlzLklNQUdFUFJPQ0VTU0lORz0hMSx0aGlzLlZJR05FVFRFPSExLHRoaXMuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT0hMSx0aGlzLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSExLHRoaXMuVE9ORU1BUFBJTkc9ITEsdGhpcy5UT05FTUFQUElOR19BQ0VTPSExLHRoaXMuQ09OVFJBU1Q9ITEsdGhpcy5DT0xPUkNVUlZFUz0hMSx0aGlzLkNPTE9SR1JBRElORz0hMSx0aGlzLkNPTE9SR1JBRElORzNEPSExLHRoaXMuU0FNUExFUjNER1JFRU5ERVBUSD0hMSx0aGlzLlNBTVBMRVIzREJHUk1BUD0hMSx0aGlzLkRJVEhFUj0hMSx0aGlzLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHRoaXMuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0aGlzLk1VTFRJVklFVz0hMSx0aGlzLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT0hMSx0aGlzLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9ITEsdGhpcy5DQU1FUkFfT1JUSE9HUkFQSElDPSExLHRoaXMuQ0FNRVJBX1BFUlNQRUNUSVZFPSExLHRoaXMuSVNfUkVGTEVDVElPTl9MSU5FQVI9ITEsdGhpcy5JU19SRUZSQUNUSU9OX0xJTkVBUj0hMSx0aGlzLkVYUE9TVVJFPSExLHRoaXMucmVidWlsZCgpfXNldFJlZmxlY3Rpb25Nb2RlKGUpe2NvbnN0IHQ9WyJSRUZMRUNUSU9OTUFQX0NVQklDIiwiUkVGTEVDVElPTk1BUF9FWFBMSUNJVCIsIlJFRkxFQ1RJT05NQVBfUExBTkFSIiwiUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OIiwiUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OIiwiUkVGTEVDVElPTk1BUF9TS1lCT1giLCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSIiwiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiLCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIl07Zm9yKGNvbnN0IGkgb2YgdCl0aGlzW2ldPWk9PT1lfX1jbGFzcyBCIGV4dGVuZHMgVnJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2RpZmZ1c2VUZXh0dXJlPW51bGwsdGhpcy5fYW1iaWVudFRleHR1cmU9bnVsbCx0aGlzLl9vcGFjaXR5VGV4dHVyZT1udWxsLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPW51bGwsdGhpcy5fZW1pc3NpdmVUZXh0dXJlPW51bGwsdGhpcy5fc3BlY3VsYXJUZXh0dXJlPW51bGwsdGhpcy5fYnVtcFRleHR1cmU9bnVsbCx0aGlzLl9saWdodG1hcFRleHR1cmU9bnVsbCx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT1udWxsLHRoaXMuYW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5kaWZmdXNlQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLmVtaXNzaXZlQ29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLnNwZWN1bGFyUG93ZXI9NjQsdGhpcy5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ITEsdGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbj0hMSx0aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZT0hMSx0aGlzLl91c2VTcGVjdWxhck92ZXJBbHBoYT0hMSx0aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhPSExLHRoaXMuX2Rpc2FibGVMaWdodGluZz0hMSx0aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcD0hMSx0aGlzLl91c2VQYXJhbGxheD0hMSx0aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbj0hMSx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzPS4wNSx0aGlzLl9yb3VnaG5lc3M9MCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uPS45OCx0aGlzLmludmVydFJlZnJhY3Rpb25ZPSEwLHRoaXMuYWxwaGFDdXRPZmY9LjQsdGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcD0hMSx0aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcj0hMSx0aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE9ITEsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzPTQsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD0hMSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPSExLHRoaXMuX3R3b1NpZGVkTGlnaHRpbmc9ITEsdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgUWUoMTYpLHRoaXMuX3dvcmxkVmlld1Byb2plY3Rpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLmRldGFpbE1hcD1uZXcgcGkodGhpcyksdGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihudWxsKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uPW5ldyBrcix0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT4odGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLEIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0aGlzLl9ldmVudEluZm8ucmVuZGVyVGFyZ2V0cz10aGlzLl9yZW5kZXJUYXJnZXRzLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9yZW5kZXJUYXJnZXRzKX1nZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufXNldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe3RoaXMuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSksdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfV9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe2UhPT10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksZT90aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPWU6dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10aGlzLmdldFNjZW5lKCkuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbix0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXI9dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMuYWRkKCgpPT57dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0pKSl9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hdGhpcy5kaXNhYmxlRGVwdGhXcml0ZX1nZXQgY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZChlKXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkPWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhVG9uZU1hcHBpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkfXNldCBjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZX1zZXQgY2FtZXJhRXhwb3N1cmUoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZT1lfWdldCBjYW1lcmFDb250cmFzdCgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0fXNldCBjYW1lcmFDb250cmFzdChlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0PWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlfXNldCBjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZT1lfWdldCBjYW1lcmFDb2xvckN1cnZlcygpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzfXNldCBjYW1lcmFDb2xvckN1cnZlcyhlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzPWV9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITB9Z2V0IGhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuIEIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXR8fEIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQ/ITA6dGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlc31nZXRDbGFzc05hbWUoKXtyZXR1cm4iU3RhbmRhcmRNYXRlcmlhbCJ9Z2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoKXtyZXR1cm4gdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aH1zZXQgdXNlTG9nYXJpdGhtaWNEZXB0aChlKXt0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoPWUmJnRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuZnJhZ21lbnREZXB0aFN1cHBvcnRlZCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkoKX1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfHx0aGlzLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWR9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiB0aGlzLl9mb3JjZUFscGhhVGVzdD8hMDp0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PW51bGx8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1QLk1BVEVSSUFMX0FMUEhBVEVTVCl9X3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYSYmdGhpcy5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUmJnRoaXMuX3RyYW5zcGFyZW5jeU1vZGUhPT1QLk1BVEVSSUFMX09QQVFVRX1faGFzQWxwaGFDaGFubmVsKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZX1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaT0hMSl7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0fHx0aGlzLmJ1aWxkVW5pZm9ybUxheW91dCgpLHQuZWZmZWN0JiZ0aGlzLmlzRnJvemVuJiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPT09aSlyZXR1cm4hMDt0Lm1hdGVyaWFsRGVmaW5lc3x8KHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKCRlLkdldERlZmluZU5hbWVzLHRoaXMuX2V2ZW50SW5mbyksdC5tYXRlcmlhbERlZmluZXM9bmV3IG1sKHRoaXMuX2V2ZW50SW5mby5kZWZpbmVOYW1lcykpO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLHI9dC5tYXRlcmlhbERlZmluZXM7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2godCkpcmV0dXJuITA7Y29uc3Qgbj1zLmdldEVuZ2luZSgpO3IuX25lZWROb3JtYWxzPWllLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKHMsZSxyLCEwLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyx0aGlzLl9kaXNhYmxlTGlnaHRpbmcpLGllLlByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KHMscik7Y29uc3QgYT10aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3k7aWYoaWUuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKHMscix0aGlzLmNhblJlbmRlclRvTVJUJiYhYSksaWUuUHJlcGFyZURlZmluZXNGb3JPSVQocyxyLGEpLHIuX2FyZVRleHR1cmVzRGlydHkpe3RoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9jYWNoZUhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyxyLl9uZWVkVVZzPSExO2ZvcihsZXQgaD0xO2g8PTY7KytoKXJbIk1BSU5VViIraF09ITE7aWYocy50ZXh0dXJlc0VuYWJsZWQpe2lmKHIuRElGRlVTRURJUkVDVFVWPTAsci5CVU1QRElSRUNUVVY9MCxyLkFNQklFTlRESVJFQ1RVVj0wLHIuT1BBQ0lUWURJUkVDVFVWPTAsci5FTUlTU0lWRURJUkVDVFVWPTAsci5TUEVDVUxBUkRJUkVDVFVWPTAsci5MSUdIVE1BUERJUkVDVFVWPTAsdGhpcy5fZGlmZnVzZVRleHR1cmUmJkIuRGlmZnVzZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9kaWZmdXNlVGV4dHVyZSxyLCJESUZGVVNFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRElGRlVTRT0hMTtpZih0aGlzLl9hbWJpZW50VGV4dHVyZSYmQi5BbWJpZW50VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fYW1iaWVudFRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2FtYmllbnRUZXh0dXJlLHIsIkFNQklFTlQiKTtlbHNlIHJldHVybiExO2Vsc2Ugci5BTUJJRU5UPSExO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9vcGFjaXR5VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fb3BhY2l0eVRleHR1cmUsciwiT1BBQ0lUWSIpLHIuT1BBQ0lUWVJHQj10aGlzLl9vcGFjaXR5VGV4dHVyZS5nZXRBbHBoYUZyb21SR0I7ZWxzZSByZXR1cm4hMTtlbHNlIHIuT1BBQ0lUWT0hMTtpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSl7c3dpdGNoKHIuX25lZWROb3JtYWxzPSEwLHIuUkVGTEVDVElPTj0hMCxyLlJPVUdITkVTUz10aGlzLl9yb3VnaG5lc3M+MCxyLlJFRkxFQ1RJT05PVkVSQUxQSEE9dGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSxyLklOVkVSVENVQklDTUFQPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZT09PU4uSU5WQ1VCSUNfTU9ERSxyLlJFRkxFQ1RJT05NQVBfM0Q9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ci5SRUZMRUNUSU9OTUFQXzNEJiZ0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/IXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFo6dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaW52ZXJ0WixyLlJHQkRSRUZMRUNUSU9OPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUkdCRCx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGUpe2Nhc2UgTi5FWFBMSUNJVF9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiKTticmVhaztjYXNlIE4uUExBTkFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QTEFOQVIiKTticmVhaztjYXNlIE4uUFJPSkVDVElPTl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIpO2JyZWFrO2Nhc2UgTi5TS1lCT1hfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIpO2JyZWFrO2Nhc2UgTi5TUEhFUklDQUxfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIpO2JyZWFrO2Nhc2UgTi5FUVVJUkVDVEFOR1VMQVJfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIpO2JyZWFrO2Nhc2UgTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBOLkNVQklDX01PREU6Y2FzZSBOLklOVkNVQklDX01PREU6ZGVmYXVsdDpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0NVQklDIik7YnJlYWt9ci5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hIXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZX1lbHNlIHJldHVybiExO2Vsc2Ugci5SRUZMRUNUSU9OPSExLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITE7aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9lbWlzc2l2ZVRleHR1cmUsciwiRU1JU1NJVkUiKTtlbHNlIHJldHVybiExO2Vsc2Ugci5FTUlTU0lWRT0hMTtpZih0aGlzLl9saWdodG1hcFRleHR1cmUmJkIuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9saWdodG1hcFRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxyLCJMSUdIVE1BUCIpLHIuVVNFTElHSFRNQVBBU1NIQURPV01BUD10aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwLHIuUkdCRExJR0hUTUFQPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JHQkQ7ZWxzZSByZXR1cm4hMTtlbHNlIHIuTElHSFRNQVA9ITE7aWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZCLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9zcGVjdWxhclRleHR1cmUsciwiU1BFQ1VMQVIiKSxyLkdMT1NTSU5FU1M9dGhpcy5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlNQRUNVTEFSPSExO2lmKHMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX2J1bXBUZXh0dXJlJiZCLkJ1bXBUZXh0dXJlRW5hYmxlZCl7aWYodGhpcy5fYnVtcFRleHR1cmUuaXNSZWFkeSgpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fYnVtcFRleHR1cmUsciwiQlVNUCIpLHIuUEFSQUxMQVg9dGhpcy5fdXNlUGFyYWxsYXgsci5QQVJBTExBWE9DQ0xVU0lPTj10aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbjtlbHNlIHJldHVybiExO3IuT0JKRUNUU1BBQ0VfTk9STUFMTUFQPXRoaXMuX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwfWVsc2Ugci5CVU1QPSExLHIuUEFSQUxMQVg9ITEsci5QQVJBTExBWE9DQ0xVU0lPTj0hMTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlyLl9uZWVkVVZzPSEwLHIuUkVGUkFDVElPTj0hMCxyLlJFRlJBQ1RJT05NQVBfM0Q9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlLHIuUkdCRFJFRlJBQ1RJT049dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSR0JELHIuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemU7ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGUkFDVElPTj0hMTtyLlRXT1NJREVETElHSFRJTkc9IXRoaXMuX2JhY2tGYWNlQ3VsbGluZyYmdGhpcy5fdHdvU2lkZWRMaWdodGluZ31lbHNlIHIuRElGRlVTRT0hMSxyLkFNQklFTlQ9ITEsci5PUEFDSVRZPSExLHIuUkVGTEVDVElPTj0hMSxyLkVNSVNTSVZFPSExLHIuTElHSFRNQVA9ITEsci5CVU1QPSExLHIuUkVGUkFDVElPTj0hMTtyLkFMUEhBRlJPTURJRkZVU0U9dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKSxyLkVNSVNTSVZFQVNJTExVTUlOQVRJT049dGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbixyLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPXRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlLHIuU1BFQ1VMQVJPVkVSQUxQSEE9dGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGEsci5QUkVNVUxUSVBMWUFMUEhBPXRoaXMuYWxwaGFNb2RlPT09N3x8dGhpcy5hbHBoYU1vZGU9PT04LHIuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9dGhpcy50cmFuc3BhcmVuY3lNb2RlIT09bnVsbCxyLkFMUEhBQkxFTkQ9dGhpcy50cmFuc3BhcmVuY3lNb2RlPT09bnVsbHx8dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSl9aWYodGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihyLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMociksci5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHIuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1yLl9hcmVGcmVzbmVsRGlydHkmJihCLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYoci5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixyLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLl9uZWVkTm9ybWFscz0hMCxyLkZSRVNORUw9ITApOnIuRlJFU05FTD0hMSksaWUuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUscyx0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXx8dGhpcy5fZm9yY2VBbHBoYVRlc3QsciksaWUuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKHMsbix0aGlzLHIsaSxudWxsLHQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKHRoaXMuX2V2ZW50SW5mbyksaWUuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMCwhMCwhMCksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbyk7bGV0IG89ITE7aWYoci5pc0RpcnR5KXtjb25zdCBoPXIuX2FyZUxpZ2h0c0Rpc3Bvc2VkO3IubWFya0FzUHJvY2Vzc2VkKCk7Y29uc3QgbD1uZXcgenM7ci5SRUZMRUNUSU9OJiZsLmFkZEZhbGxiYWNrKDAsIlJFRkxFQ1RJT04iKSxyLlNQRUNVTEFSJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSIiksci5CVU1QJiZsLmFkZEZhbGxiYWNrKDAsIkJVTVAiKSxyLlBBUkFMTEFYJiZsLmFkZEZhbGxiYWNrKDEsIlBBUkFMTEFYIiksci5QQVJBTExBWE9DQ0xVU0lPTiYmbC5hZGRGYWxsYmFjaygwLCJQQVJBTExBWE9DQ0xVU0lPTiIpLHIuU1BFQ1VMQVJPVkVSQUxQSEEmJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJPVkVSQUxQSEEiKSxyLkZPRyYmbC5hZGRGYWxsYmFjaygxLCJGT0ciKSxyLlBPSU5UU0laRSYmbC5hZGRGYWxsYmFjaygwLCJQT0lOVFNJWkUiKSxyLkxPR0FSSVRITUlDREVQVEgmJmwuYWRkRmFsbGJhY2soMCwiTE9HQVJJVEhNSUNERVBUSCIpLGllLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixsLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksci5TUEVDVUxBUlRFUk0mJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJURVJNIiksci5ESUZGVVNFRlJFU05FTCYmbC5hZGRGYWxsYmFjaygxLCJESUZGVVNFRlJFU05FTCIpLHIuT1BBQ0lUWUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMiwiT1BBQ0lUWUZSRVNORUwiKSxyLlJFRkxFQ1RJT05GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDMsIlJFRkxFQ1RJT05GUkVTTkVMIiksci5FTUlTU0lWRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soNCwiRU1JU1NJVkVGUkVTTkVMIiksci5GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkZSRVNORUwiKSxyLk1VTFRJVklFVyYmbC5hZGRGYWxsYmFjaygwLCJNVUxUSVZJRVciKTtjb25zdCB1PVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJnUucHVzaChnLk5vcm1hbEtpbmQpLHIuVEFOR0VOVCYmdS5wdXNoKGcuVGFuZ2VudEtpbmQpO2ZvcihsZXQgQT0xO0E8PTY7KytBKXJbIlVWIitBXSYmdS5wdXNoKGB1diR7QT09PTE/IiI6QX1gKTtyLlZFUlRFWENPTE9SJiZ1LnB1c2goZy5Db2xvcktpbmQpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXModSxlLHIsbCksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXModSxyKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyh1LGUsciksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbih1LGUscik7bGV0IGQ9ImRlZmF1bHQiO2NvbnN0IGY9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxfPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSxFPVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWwsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPWYsdGhpcy5fZXZlbnRJbmZvLmF0dHJpYnV0ZXM9dSx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Xyx0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz1FLHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9ldmVudEluZm8ubWVzaD1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKCRlLlByZXBhcmVFZmZlY3QsdGhpcy5fZXZlbnRJbmZvKSxrci5BZGRVbmlmb3JtcyhmKSxtZSYmKG1lLlByZXBhcmVVbmlmb3JtcyhmLHIpLG1lLlByZXBhcmVTYW1wbGVycyhfLHIpKSxpZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOkUsc2FtcGxlcnM6XyxkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pLHNzKGYpO2NvbnN0IG09e307dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZSYmKGQ9dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZShkLGYsRSxfLHIsdSxtKSk7Y29uc3Qgdj1yLnRvU3RyaW5nKCksUz10LmVmZmVjdDtsZXQgeT1zLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdChkLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6RSxzYW1wbGVyczpfLGRlZmluZXM6dixmYWxsYmFja3M6bCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsbWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnIuTlVNX01PUlBIX0lORkxVRU5DRVJTfSxwcm9jZXNzRmluYWxDb2RlOm0ucHJvY2Vzc0ZpbmFsQ29kZSxwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGUsbXVsdGlUYXJnZXQ6ci5QUkVQQVNTfSxuKTtpZih0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAseSlpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYoR3MuZWZmZWN0PXksR3Muc3ViTWVzaD10LHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKEdzKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZTJiYheS5pc1JlYWR5KCkpe2lmKHk9UyxyLm1hcmtBc1VucHJvY2Vzc2VkKCksbz10aGlzLmlzRnJvemVuLGgpcmV0dXJuIHIuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2Ugcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdC5zZXRFZmZlY3QoeSxyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1zLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hbyx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPWkscy5wZXJmb3JtYW5jZVByaW9yaXR5IT09Q3QuQmFja3dhcmRDb21wYXRpYmxlJiYodGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITApLCEwKX1idWlsZFVuaWZvcm1MYXlvdXQoKXtjb25zdCBlPXRoaXMuX3VuaWZvcm1CdWZmZXI7ZS5hZGRVbmlmb3JtKCJkaWZmdXNlTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImRpZmZ1c2VSaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oIm9wYWNpdHlQYXJ0cyIsNCksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25SaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25MZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVMZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVSaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZEaWZmdXNlSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkFtYmllbnRJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2T3BhY2l0eUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25Qb3NpdGlvbiIsMyksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblNpemUiLDMpLGUuYWRkVW5pZm9ybSgidkVtaXNzaXZlSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkxpZ2h0bWFwSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlNwZWN1bGFySW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkJ1bXBJbmZvcyIsMyksZS5hZGRVbmlmb3JtKCJkaWZmdXNlTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJhbWJpZW50TWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJvcGFjaXR5TWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgibGlnaHRtYXBNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInNwZWN1bGFyTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJidW1wTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwyKSxlLmFkZFVuaWZvcm0oInBvaW50U2l6ZSIsMSksZS5hZGRVbmlmb3JtKCJhbHBoYUN1dE9mZiIsMSksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvbkluZm9zIiw0KSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uUG9zaXRpb24iLDMpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25TaXplIiwzKSxlLmFkZFVuaWZvcm0oInZTcGVjdWxhckNvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZFbWlzc2l2ZUNvbG9yIiwzKSxlLmFkZFVuaWZvcm0oInZEaWZmdXNlQ29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkFtYmllbnRDb2xvciIsMyksc3VwZXIuYnVpbGRVbmlmb3JtTGF5b3V0KCl9YmluZEZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLG49aS5tYXRlcmlhbERlZmluZXM7aWYoIW4pcmV0dXJuO2NvbnN0IGE9aS5lZmZlY3Q7aWYoIWEpcmV0dXJuO3RoaXMuX2FjdGl2ZUVmZmVjdD1hLHQuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QoYSwiTWVzaCIpLHQudHJhbnNmZXJUb0VmZmVjdChlKSx0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChhLCJNYXRlcmlhbCIpLHRoaXMucHJlUGFzc0NvbmZpZ3VyYXRpb24uYmluZEZvclN1Yk1lc2godGhpcy5fYWN0aXZlRWZmZWN0LHIsdCxlLHRoaXMuaXNGcm96ZW4pLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPWksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLG4uT0JKRUNUU1BBQ0VfTk9STUFMTUFQJiYoZS50b05vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpLHRoaXMuYmluZE9ubHlOb3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSk7Y29uc3Qgbz1hLl9mb3JjZVJlYmluZE9uTmV4dENhbGx8fHRoaXMuX211c3RSZWJpbmQocixhLHQudmlzaWJpbGl0eSk7aWUuQmluZEJvbmVzUGFyYW1ldGVycyh0LGEpO2NvbnN0IGg9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtpZihvKXtpZih0aGlzLmJpbmRWaWV3UHJvamVjdGlvbihhKSwhaC51c2VVYm98fCF0aGlzLmlzRnJvemVufHwhaC5pc1N5bmN8fGEuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbCl7aWYoQi5GcmVzbmVsRW5hYmxlZCYmbi5GUkVTTkVMJiYodGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJkaWZmdXNlTGVmdENvbG9yIix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJkaWZmdXNlUmlnaHRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmaC51cGRhdGVDb2xvcjQoIm9wYWNpdHlQYXJ0cyIsbmV3IHJlKHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvci50b0x1bWluYW5jZSgpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYoaC51cGRhdGVDb2xvcjQoImVtaXNzaXZlTGVmdENvbG9yIix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksaC51cGRhdGVDb2xvcjQoImVtaXNzaXZlUmlnaHRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSksci50ZXh0dXJlc0VuYWJsZWQpe2lmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2RGlmZnVzZUluZm9zIix0aGlzLl9kaWZmdXNlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9kaWZmdXNlVGV4dHVyZSxoLCJkaWZmdXNlIikpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZCLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2QW1iaWVudEluZm9zIix0aGlzLl9hbWJpZW50VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2FtYmllbnRUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9hbWJpZW50VGV4dHVyZSxoLCJhbWJpZW50IikpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2T3BhY2l0eUluZm9zIix0aGlzLl9vcGFjaXR5VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX29wYWNpdHlUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9vcGFjaXR5VGV4dHVyZSxoLCJvcGFjaXR5IikpLHRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiZoLnVwZGF0ZUZsb2F0KCJhbHBoYUN1dE9mZiIsdGhpcy5hbHBoYUN1dE9mZiksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZSZWZsZWN0aW9uSW5mb3MiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMucm91Z2huZXNzKSxoLnVwZGF0ZU1hdHJpeCgicmVmbGVjdGlvbk1hdHJpeCIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplKSl7Y29uc3QgbD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZTtoLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uUG9zaXRpb24iLGwuYm91bmRpbmdCb3hQb3NpdGlvbiksaC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblNpemUiLGwuYm91bmRpbmdCb3hTaXplKX1pZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJkIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2RW1pc3NpdmVJbmZvcyIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUsaCwiZW1pc3NpdmUiKSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkxpZ2h0bWFwSW5mb3MiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fbGlnaHRtYXBUZXh0dXJlLGgsImxpZ2h0bWFwIikpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZTcGVjdWxhckluZm9zIix0aGlzLl9zcGVjdWxhclRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9zcGVjdWxhclRleHR1cmUubGV2ZWwpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxoLCJzcGVjdWxhciIpKSx0aGlzLl9idW1wVGV4dHVyZSYmci5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmQi5CdW1wVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MygidkJ1bXBJbmZvcyIsdGhpcy5fYnVtcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCwxL3RoaXMuX2J1bXBUZXh0dXJlLmxldmVsLHRoaXMucGFyYWxsYXhTY2FsZUJpYXMpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2J1bXBUZXh0dXJlLGgsImJ1bXAiKSxyLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uP2gudXBkYXRlRmxvYXQyKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIix0aGlzLl9pbnZlcnROb3JtYWxNYXBYPzE6LTEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT8xOi0xKTpoLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8tMToxLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/LTE6MSkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCl7bGV0IGw9MTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmV8fChoLnVwZGF0ZU1hdHJpeCgicmVmcmFjdGlvbk1hdHJpeCIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZGVwdGgmJihsPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoKSksaC51cGRhdGVGbG9hdDQoInZSZWZyYWN0aW9uSW5mb3MiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMuaW5kZXhPZlJlZnJhY3Rpb24sbCx0aGlzLmludmVydFJlZnJhY3Rpb25ZPy0xOjEpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSl7Y29uc3QgdT10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZTtoLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uUG9zaXRpb24iLHUuYm91bmRpbmdCb3hQb3NpdGlvbiksaC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblNpemUiLHUuYm91bmRpbmdCb3hTaXplKX19fXRoaXMucG9pbnRzQ2xvdWQmJmgudXBkYXRlRmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLG4uU1BFQ1VMQVJURVJNJiZoLnVwZGF0ZUNvbG9yNCgidlNwZWN1bGFyQ29sb3IiLHRoaXMuc3BlY3VsYXJDb2xvcix0aGlzLnNwZWN1bGFyUG93ZXIpLGgudXBkYXRlQ29sb3IzKCJ2RW1pc3NpdmVDb2xvciIsQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkP3RoaXMuZW1pc3NpdmVDb2xvcjpyZS5CbGFja1JlYWRPbmx5KSxoLnVwZGF0ZUNvbG9yNCgidkRpZmZ1c2VDb2xvciIsdGhpcy5kaWZmdXNlQ29sb3IsdGhpcy5hbHBoYSksci5hbWJpZW50Q29sb3IubXVsdGlwbHlUb1JlZih0aGlzLmFtYmllbnRDb2xvcix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpLGgudXBkYXRlQ29sb3IzKCJ2QW1iaWVudENvbG9yIix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpfXIudGV4dHVyZXNFbmFibGVkJiYodGhpcy5fZGlmZnVzZVRleHR1cmUmJkIuRGlmZnVzZVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIix0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJkIuQW1iaWVudFRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImFtYmllbnRTYW1wbGVyIix0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJkIuT3BhY2l0eVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoIm9wYWNpdHlTYW1wbGVyIix0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlP2Euc2V0VGV4dHVyZSgicmVmbGVjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk6YS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSkpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImVtaXNzaXZlU2FtcGxlciIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJkIuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJsaWdodG1hcFNhbXBsZXIiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZCLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgic3BlY3VsYXJTYW1wbGVyIix0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZyLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZCLkJ1bXBUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJidW1wU2FtcGxlciIsdGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZT9hLnNldFRleHR1cmUoInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpOmEuc2V0VGV4dHVyZSgicmVmcmFjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpKSksdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJnRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpJiZ0aGlzLmdldFNjZW5lKCkuZGVwdGhQZWVsaW5nUmVuZGVyZXIuYmluZChhKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHJzKGEsdGhpcyxyKSx0aGlzLmJpbmRFeWVQb3NpdGlvbihhKX1lbHNlIHIuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLm5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVycyYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMCk7KG98fCF0aGlzLmlzRnJvemVuKSYmKHIubGlnaHRzRW5hYmxlZCYmIXRoaXMuX2Rpc2FibGVMaWdodGluZyYmaWUuQmluZExpZ2h0cyhyLHQsYSxuLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksKHIuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmci5mb2dNb2RlIT09bmUuRk9HTU9ERV9OT05FfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmV8fHQucmVjZWl2ZVNoYWRvd3N8fG4uUFJFUEFTUykmJnRoaXMuYmluZFZpZXcoYSksaWUuQmluZEZvZ1BhcmFtZXRlcnMocix0LGEpLG4uTlVNX01PUlBIX0lORkxVRU5DRVJTJiZpZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKHQsYSksbi5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJigocz10LmJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLmJpbmQoYSxuLklOU1RBTkNFUykpLHRoaXMudXNlTG9nYXJpdGhtaWNEZXB0aCYmaWUuQmluZExvZ0RlcHRoKG4sYSxyKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQodCx0aGlzLl9hY3RpdmVFZmZlY3QpLGgudXBkYXRlKCl9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPXN1cGVyLmdldEFuaW1hdGFibGVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJnRoaXMuX3NwZWN1bGFyVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZ0aGlzLl9saWdodG1hcFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9Z2V0QWN0aXZlVGV4dHVyZXMoKXtjb25zdCBlPXN1cGVyLmdldEFjdGl2ZVRleHR1cmVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9aGFzVGV4dHVyZShlKXtyZXR1cm4hIShzdXBlci5oYXNUZXh0dXJlKGUpfHx0aGlzLl9kaWZmdXNlVGV4dHVyZT09PWV8fHRoaXMuX2FtYmllbnRUZXh0dXJlPT09ZXx8dGhpcy5fb3BhY2l0eVRleHR1cmU9PT1lfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT09PWV8fHRoaXMuX2VtaXNzaXZlVGV4dHVyZT09PWV8fHRoaXMuX3NwZWN1bGFyVGV4dHVyZT09PWV8fHRoaXMuX2J1bXBUZXh0dXJlPT09ZXx8dGhpcy5fbGlnaHRtYXBUZXh0dXJlPT09ZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmU9PT1lKX1kaXNwb3NlKGUsdCl7dmFyIGkscyxyLG4sYSxvLGgsbCx1O3QmJigoaT10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmRpc3Bvc2UoKSwocz10aGlzLl9hbWJpZW50VGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSwocj10aGlzLl9vcGFjaXR5VGV4dHVyZSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSwobj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSwoYT10aGlzLl9lbWlzc2l2ZVRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5kaXNwb3NlKCksKG89dGhpcy5fc3BlY3VsYXJUZXh0dXJlKT09PW51bGx8fG89PT12b2lkIDB8fG8uZGlzcG9zZSgpLChoPXRoaXMuX2J1bXBUZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDB8fGguZGlzcG9zZSgpLChsPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwfHxsLmRpc3Bvc2UoKSwodT10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksc3VwZXIuZGlzcG9zZShlLHQpfWNsb25lKGUpe2NvbnN0IHQ9YWUuQ2xvbmUoKCk9Pm5ldyBCKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtyZXR1cm4gdC5uYW1lPWUsdC5pZD1lLHRoaXMuc3RlbmNpbC5jb3B5VG8odC5zdGVuY2lsKSx0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1hZS5QYXJzZSgoKT0+bmV3IEIoZS5uYW1lLHQpLGUsdCxpKTtyZXR1cm4gZS5zdGVuY2lsJiZzLnN0ZW5jaWwucGFyc2UoZS5zdGVuY2lsLHQsaSksc31zdGF0aWMgZ2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoZSl7dWUuRGlmZnVzZVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe3VlLkRldGFpbFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe3VlLkFtYmllbnRUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZChlKXt1ZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe3VlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoZSl7dWUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt1ZS5CdW1wVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoZSl7dWUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt1ZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoZSl7dWUuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEZyZXNuZWxFbmFibGVkKCl7cmV0dXJuIHVlLkZyZXNuZWxFbmFibGVkfXN0YXRpYyBzZXQgRnJlc25lbEVuYWJsZWQoZSl7dWUuRnJlc25lbEVuYWJsZWQ9ZX19VChbbXQoImRpZmZ1c2VUZXh0dXJlIildLEIucHJvdG90eXBlLCJfZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbbXQoImFtYmllbnRUZXh0dXJlIildLEIucHJvdG90eXBlLCJfYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJhbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFttdCgib3BhY2l0eVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9vcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJvcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFttdCgicmVmbGVjdGlvblRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9yZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW210KCJlbWlzc2l2ZVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9lbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJlbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbbXQoInNwZWN1bGFyVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3NwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInNwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFttdCgiYnVtcFRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9idW1wVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImJ1bXBUZXh0dXJlIix2b2lkIDApLFQoW210KCJsaWdodG1hcFRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9saWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJsaWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbbXQoInJlZnJhY3Rpb25UZXh0dXJlIildLEIucHJvdG90eXBlLCJfcmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJyZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtjaSgiYW1iaWVudCIpXSxCLnByb3RvdHlwZSwiYW1iaWVudENvbG9yIix2b2lkIDApLFQoW2NpKCJkaWZmdXNlIildLEIucHJvdG90eXBlLCJkaWZmdXNlQ29sb3IiLHZvaWQgMCksVChbY2koInNwZWN1bGFyIildLEIucHJvdG90eXBlLCJzcGVjdWxhckNvbG9yIix2b2lkIDApLFQoW2NpKCJlbWlzc2l2ZSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVDb2xvciIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJzcGVjdWxhclBvd2VyIix2b2lkIDApLFQoW1IoInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIildLEIucHJvdG90eXBlLCJfdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbUigidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIpXSxCLnByb3RvdHlwZSwiX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW1IoImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIildLEIucHJvdG90eXBlLCJfbGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtSKCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIpXSxCLnByb3RvdHlwZSwiX3VzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbUigidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIpXSxCLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW1IoImRpc2FibGVMaWdodGluZyIpXSxCLnByb3RvdHlwZSwiX2Rpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLEIucHJvdG90eXBlLCJkaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbUigidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiKV0sQi5wcm90b3R5cGUsIl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW1IoInVzZVBhcmFsbGF4IildLEIucHJvdG90eXBlLCJfdXNlUGFyYWxsYXgiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtSKCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIpXSxCLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwicGFyYWxsYXhTY2FsZUJpYXMiLHZvaWQgMCksVChbUigicm91Z2huZXNzIildLEIucHJvdG90eXBlLCJfcm91Z2huZXNzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwicm91Z2huZXNzIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImluZGV4T2ZSZWZyYWN0aW9uIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImludmVydFJlZnJhY3Rpb25ZIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImFscGhhQ3V0T2ZmIix2b2lkIDApLFQoW1IoInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiKV0sQi5wcm90b3R5cGUsIl91c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFtOaSgiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbTmkoIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtOaSgicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbTmkoInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW05pKCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtSKCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIpXSxCLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtSKCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbUigibWF4U2ltdWx0YW5lb3VzTGlnaHRzIildLEIucHJvdG90eXBlLCJfbWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sQi5wcm90b3R5cGUsIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtSKCJpbnZlcnROb3JtYWxNYXBYIildLEIucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbUigiaW52ZXJ0Tm9ybWFsTWFwWSIpXSxCLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW1IoInR3b1NpZGVkTGlnaHRpbmciKV0sQi5wcm90b3R5cGUsIl90d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJ1c2VMb2dhcml0aG1pY0RlcHRoIixudWxsKSxpdCgiQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIixCKSxuZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWM9Pm5ldyBCKCJkZWZhdWx0IG1hdGVyaWFsIixjKTtjb25zdCBFbD0iaW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eSIsdmw9YCNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpnbF9GcmFnQ29sb3IucmdiPXBvdyhnbF9GcmFnQ29sb3IucmdiLHZlYzMoMi4yKSk7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRWxdPXZsO2NvbnN0IFRsPSJzaGFkb3dPbmx5UGl4ZWxTaGFkZXIiLGJsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgYWxwaGE7CnVuaWZvcm0gdmVjMyBzaGFkb3dDb2xvcjsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPXZlYzMoMS4wLDEuMCwxLjApOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CmZsb2F0IHNoYWRvdz0xLjsKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4uMV0KdmVjNCBjb2xvcj12ZWM0KHNoYWRvd0NvbG9yLCgxLjAtY2xhbXAoc2hhZG93LDAuLDEuKSkqYWxwaGEpOwojaW5jbHVkZTxmb2dGcmFnbWVudD4KZ2xfRnJhZ0NvbG9yPWNvbG9yOwojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5PgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9YDtVLlNoYWRlcnNTdG9yZVtUbF09Ymw7Y29uc3QgU2w9InNoYWRvd09ubHlWZXJ0ZXhTaGFkZXIiLHhsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmZGVmIFZFUlRFWENPTE9SCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uLDEuMCk7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaWZkZWYgTk9STUFMCnZOb3JtYWxXPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChub3JtYWwsMC4wKSkpOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO1UuU2hhZGVyc1N0b3JlW1NsXT14bDtjbGFzcyBNbCBleHRlbmRzIHlze2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkNMSVBQTEFORT0hMSx0aGlzLkNMSVBQTEFORTI9ITEsdGhpcy5DTElQUExBTkUzPSExLHRoaXMuQ0xJUFBMQU5FND0hMSx0aGlzLkNMSVBQTEFORTU9ITEsdGhpcy5DTElQUExBTkU2PSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuTk9STUFMPSExLHRoaXMuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0aGlzLkJvbmVzUGVyTWVzaD0wLHRoaXMuSU5TVEFOQ0VTPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdGhpcy5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHRoaXMucmVidWlsZCgpfX1jbGFzcyBraSBleHRlbmRzIFZye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCx0aGlzLnNoYWRvd0NvbG9yPXJlLkJsYWNrKCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fbmVlZEFscGhhQmxlbmRpbmd9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiExfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1nZXQgYWN0aXZlTGlnaHQoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTGlnaHR9c2V0IGFjdGl2ZUxpZ2h0KGUpe3RoaXMuX2FjdGl2ZUxpZ2h0PWV9X2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKGUpe2Zvcihjb25zdCB0IG9mIGUubGlnaHRTb3VyY2VzKWlmKHQuc2hhZG93RW5hYmxlZClyZXR1cm4gdDtyZXR1cm4gbnVsbH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHkmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9PT1pKXJldHVybiEwO3QubWF0ZXJpYWxEZWZpbmVzfHwodC5tYXRlcmlhbERlZmluZXM9bmV3IE1sKTtjb25zdCByPXQubWF0ZXJpYWxEZWZpbmVzLG49dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IGE9bi5nZXRFbmdpbmUoKTtpZih0aGlzLl9hY3RpdmVMaWdodCl7Zm9yKGNvbnN0IGggb2YgZS5saWdodFNvdXJjZXMpaWYoaC5zaGFkb3dFbmFibGVkKXtpZih0aGlzLl9hY3RpdmVMaWdodD09PWgpYnJlYWs7Y29uc3QgbD1lLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMuX2FjdGl2ZUxpZ2h0KTtsIT09LTEmJihlLmxpZ2h0U291cmNlcy5zcGxpY2UobCwxKSxlLmxpZ2h0U291cmNlcy5zcGxpY2UoMCwwLHRoaXMuX2FjdGl2ZUxpZ2h0KSk7YnJlYWt9fWllLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhuLGEsdGhpcyxyLCEhaSksaWUuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUsbiwhMSx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSksciksci5fbmVlZE5vcm1hbHM9aWUuUHJlcGFyZURlZmluZXNGb3JMaWdodHMobixlLHIsITEsMSk7Y29uc3Qgbz0ocz10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaChlKSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLG8mJm8uZ2V0Q2xhc3NOYW1lJiZvLmdldENsYXNzTmFtZSgpPT09IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIil7Y29uc3QgaD1vO3RoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSFoLmF1dG9DYWxjRGVwdGhCb3VuZHN9aWYoaWUuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMSwhMCksci5pc0RpcnR5KXtyLm1hcmtBc1Byb2Nlc3NlZCgpLG4ucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2NvbnN0IGg9bmV3IHpzO3IuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLGllLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixoLDEpLHIuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmaC5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsZSksci5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz1uLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzO2NvbnN0IGw9W2cuUG9zaXRpb25LaW5kXTtyLk5PUk1BTCYmbC5wdXNoKGcuTm9ybWFsS2luZCksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhsLGUscixoKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhsLHIpO2NvbnN0IHU9InNoYWRvd09ubHkiLGQ9ci50b1N0cmluZygpLGY9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkZvZ0luZm9zIiwidkZvZ0NvbG9yIiwicG9pbnRTaXplIiwiYWxwaGEiLCJzaGFkb3dDb2xvciIsIm1Cb25lcyJdLF89bmV3IEFycmF5LEU9bmV3IEFycmF5O3NzKGYpLGllLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdCh7dW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6RSxzYW1wbGVyczpfLGRlZmluZXM6cixtYXhTaW11bHRhbmVvdXNMaWdodHM6MX0pLHQuc2V0RWZmZWN0KG4uZ2V0RW5naW5lKCkuY3JlYXRlRWZmZWN0KHUse2F0dHJpYnV0ZXM6bCx1bmlmb3Jtc05hbWVzOmYsdW5pZm9ybUJ1ZmZlcnNOYW1lczpFLHNhbXBsZXJzOl8sZGVmaW5lczpkLGZhbGxiYWNrczpoLG9uQ29tcGlsZWQ6dGhpcy5vbkNvbXBpbGVkLG9uRXJyb3I6dGhpcy5vbkVycm9yLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9fSxhKSxyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1uLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMCx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPSEhaSwhMCl9YmluZEZvclN1Yk1lc2goZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLHI9aS5tYXRlcmlhbERlZmluZXM7aWYoIXIpcmV0dXJuO2NvbnN0IG49aS5lZmZlY3Q7aWYoISFuKXtpZih0aGlzLl9hY3RpdmVFZmZlY3Q9bix0aGlzLmJpbmRPbmx5V29ybGRNYXRyaXgoZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLGllLkJpbmRCb25lc1BhcmFtZXRlcnModCx0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX211c3RSZWJpbmQocyxuKSYmKHJzKG4sdGhpcyxzKSx0aGlzLnBvaW50c0Nsb3VkJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgiYWxwaGEiLHRoaXMuYWxwaGEpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRDb2xvcjMoInNoYWRvd0NvbG9yIix0aGlzLnNoYWRvd0NvbG9yKSxzLmJpbmRFeWVQb3NpdGlvbihuKSkscy5saWdodHNFbmFibGVkKXtpZS5CaW5kTGlnaHRzKHMsdCx0aGlzLl9hY3RpdmVFZmZlY3QsciwxKTtjb25zdCBhPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKHQpO2EmJihhLl9yZW5kZXJJZD0tMSl9KHMuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmcy5mb2dNb2RlIT09bmUuRk9HTU9ERV9OT05FfHxyLlNIQURPV0NTTTApJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3IixzLmdldFZpZXdNYXRyaXgoKSksaWUuQmluZEZvZ1BhcmFtZXRlcnMocyx0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KX19Y2xvbmUoZSl7cmV0dXJuIGFlLkNsb25lKCgpPT5uZXcga2koZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7cmV0dXJuIGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9c3RhdGljIFBhcnNlKGUsdCxpKXtyZXR1cm4gYWUuUGFyc2UoKCk9Pm5ldyBraShlLm5hbWUsdCksZSx0LGkpfX1pdCgiQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLGtpKTtjb25zdCBBbD17YXNwZWN0OjMwMC8xNTAsZW5hYmxlRGVidWdnaW5nOiExLGVuYWJsZVNoYWRvd3M6ITB9O2NsYXNzIFJse2NvbnN0cnVjdG9yKGUpe2J0KHRoaXMsInNpemUiLDkuNSk7dGhpcy5jb25maWc9ey4uLkFsLC4uLmV9LHRoaXMuY3JlYXRlKCl9Y3JlYXRlKGUpe3RoaXMuZGVzdHJveSgpLE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsZSk7Y29uc3R7YXNwZWN0OnQsZW5hYmxlRGVidWdnaW5nOmk9ITAsZW5hYmxlU2hhZG93czpzfT10aGlzLmNvbmZpZyxyPTMwO2xldCBuO3RoaXMuYm94PW5ldyBKKCJkaWNlQm94IiksaT8obj1uZXcgQigiZGljZUJveF9tYXRlcmlhbCIpLG4uYWxwaGE9Ljcsbi5kaWZmdXNlQ29sb3I9bmV3IHJlKDEsMSwwKSk6cyYmKG49bmV3IGtpKCJzaGFkb3dPbmx5Iix0aGlzLmNvbmZpZy5zY2VuZSkpO2NvbnN0IGE9TWkoImdyb3VuZCIse3dpZHRoOnRoaXMuc2l6ZSoyLGhlaWdodDoxLGRlcHRoOnRoaXMuc2l6ZSoyfSx0aGlzLmNvbmZpZy5zY2VuZSk7aWYoYS5zY2FsaW5nPW5ldyBwKHQsMSwxKSxhLm1hdGVyaWFsPW4sYS5yZWNlaXZlU2hhZG93cz0hMCxhLnNldFBhcmVudCh0aGlzLmJveCksaSl7Y29uc3Qgbz1NaSgid2FsbFRvcCIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6cixkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7by5wb3NpdGlvbi55PXIvMixvLnBvc2l0aW9uLno9dGhpcy5zaXplLy0yLG8uc2NhbGluZz1uZXcgcCh0LDEsMSksby5tYXRlcmlhbD1uLG8uc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBoPU1pKCJ3YWxsUmlnaHQiLHt3aWR0aDoxLGhlaWdodDpyLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2gucG9zaXRpb24ueD10aGlzLnNpemUqdC8yLGgucG9zaXRpb24ueT1yLzIsaC5tYXRlcmlhbD1uLGguc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBsPU1pKCJ3YWxsQm90dG9tIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDpyLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtsLnBvc2l0aW9uLnk9ci8yLGwucG9zaXRpb24uej10aGlzLnNpemUvMixsLnNjYWxpbmc9bmV3IHAodCwxLDEpLGwubWF0ZXJpYWw9bixsLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgdT1NaSgid2FsbExlZnQiLHt3aWR0aDoxLGhlaWdodDpyLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO3UucG9zaXRpb24ueD10aGlzLnNpemUqdC8tMix1LnBvc2l0aW9uLnk9ci8yLHUubWF0ZXJpYWw9bix1LnNldFBhcmVudCh0aGlzLmJveCl9fWRlc3Ryb3koKXt0aGlzLmJveCYmdGhpcy5ib3guZGlzcG9zZSgpfX12YXIgdGk7KGZ1bmN0aW9uKGMpe2NbYy5DbGVhbj0wXT0iQ2xlYW4iLGNbYy5TdG9wPTFdPSJTdG9wIixjW2MuU3luYz0yXT0iU3luYyIsY1tjLk5vU3luYz0zXT0iTm9TeW5jIn0pKHRpfHwodGk9e30pKTtjbGFzcyBsZXtzdGF0aWMgZ2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKCl7cmV0dXJuIE9lLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsfXN0YXRpYyBzZXQgRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwoZSl7T2UuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIE9lLlNob3dMb2FkaW5nU2NyZWVufXN0YXRpYyBzZXQgU2hvd0xvYWRpbmdTY3JlZW4oZSl7T2UuU2hvd0xvYWRpbmdTY3JlZW49ZX1zdGF0aWMgZ2V0IGxvZ2dpbmdMZXZlbCgpe3JldHVybiBPZS5sb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7T2UubG9nZ2luZ0xldmVsPWV9c3RhdGljIGdldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKCl7cmV0dXJuIE9lLkNsZWFuQm9uZU1hdHJpeFdlaWdodHN9c3RhdGljIHNldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKGUpe09lLkNsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX1zdGF0aWMgR2V0RGVmYXVsdFBsdWdpbigpe3JldHVybiBsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbIi5iYWJ5bG9uIl19c3RhdGljIF9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSl7Y29uc3QgdD1sZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV07cmV0dXJuIHR8fChPLldhcm4oIlVuYWJsZSB0byBmaW5kIGEgcGx1Z2luIHRvIGxvYWQgIitlKyIgZmlsZXMuIFRyeWluZyB0byB1c2UgLmJhYnlsb24gZGVmYXVsdCBwbHVnaW4uIFRvIGxvYWQgZnJvbSBhIHNwZWNpZmljIGZpbGV0eXBlIChlZy4gZ2x0Zikgc2VlOiBodHRwczovL2RvYy5iYWJ5bG9uanMuY29tL2ZlYXR1cmVzL2ZlYXR1cmVzRGVlcERpdmUvaW1wb3J0ZXJzL2xvYWRpbmdGaWxlVHlwZXMiKSxsZS5HZXREZWZhdWx0UGx1Z2luKCkpfXN0YXRpYyBfR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlKXtmb3IoY29uc3QgdCBpbiBsZS5fUmVnaXN0ZXJlZFBsdWdpbnMpe2NvbnN0IGk9bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdLnBsdWdpbjtpZihpLmNhbkRpcmVjdExvYWQmJmkuY2FuRGlyZWN0TG9hZChlKSlyZXR1cm4gbGUuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBsZS5HZXREZWZhdWx0UGx1Z2luKCl9c3RhdGljIF9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlKXtjb25zdCB0PWUuaW5kZXhPZigiPyIpO3QhPT0tMSYmKGU9ZS5zdWJzdHJpbmcoMCx0KSk7Y29uc3QgaT1lLmxhc3RJbmRleE9mKCIuIikscz1lLnN1YnN0cmluZyhpLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBsZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKHMpfXN0YXRpYyBfR2V0RGlyZWN0TG9hZChlKXtyZXR1cm4gZS5zdWJzdHIoMCw1KT09PSJkYXRhOiI/ZS5zdWJzdHIoNSk6bnVsbH1zdGF0aWMgX0Zvcm1hdEVycm9yTWVzc2FnZShlLHQsaSl7bGV0IHM9IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9zKz1gOiAke3R9YDppJiYocys9YDogJHtpfWApLHN9c3RhdGljIF9Mb2FkRGF0YShlLHQsaSxzLHIsbixhKXtjb25zdCBvPWxlLl9HZXREaXJlY3RMb2FkKGUudXJsKSxoPWE/bGUuX0dldFBsdWdpbkZvckV4dGVuc2lvbihhKTpvP2xlLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTpsZS5fR2V0UGx1Z2luRm9yRmlsZW5hbWUoZS51cmwpO2xldCBsO2lmKGgucGx1Z2luLmNyZWF0ZVBsdWdpbiE9PXZvaWQgMD9sPWgucGx1Z2luLmNyZWF0ZVBsdWdpbigpOmw9aC5wbHVnaW4sIWwpdGhyb3ciVGhlIGxvYWRlciBwbHVnaW4gY29ycmVzcG9uZGluZyB0byB0aGUgZmlsZSB0eXBlIHlvdSBhcmUgdHJ5aW5nIHRvIGxvYWQgaGFzIG5vdCBiZWVuIGZvdW5kLiBJZiB1c2luZyBlczYsIHBsZWFzZSBpbXBvcnQgdGhlIHBsdWdpbiB5b3Ugd2lzaCB0byB1c2UgYmVmb3JlLiI7aWYobGUuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSxvJiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhTXMoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXtjb25zdCB5PWwuZGlyZWN0TG9hZCh0LG8pO3kudGhlbj95LnRoZW4oQT0+e2kobCxBKX0pLmNhdGNoKEE9PntyKCJFcnJvciBpbiBkaXJlY3RMb2FkIG9mIF9sb2FkRGF0YTogIitBLEEpfSk6aShsLHkpfWVsc2UgaShsLG8pO3JldHVybiBsfWNvbnN0IHU9aC5pc0JpbmFyeSxkPSh5LEEpPT57aWYodC5pc0Rpc3Bvc2VkKXtyKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1pKGwseSxBKX07bGV0IGY9bnVsbCxfPSExO2NvbnN0IEU9bC5vbkRpc3Bvc2VPYnNlcnZhYmxlO0UmJkUuYWRkKCgpPT57Xz0hMCxmJiYoZi5hYm9ydCgpLGY9bnVsbCksbigpfSk7Y29uc3QgbT0oKT0+e2lmKF8pcmV0dXJuO2NvbnN0IHk9KEMsYik9PntyKEM9PW51bGw/dm9pZCAwOkMuc3RhdHVzVGV4dCxiKX0sQT1lLmZpbGV8fGUudXJsO2Y9bC5sb2FkRmlsZT9sLmxvYWRGaWxlKHQsQSxkLHMsdSx5KTp0Ll9sb2FkRmlsZShBLGQscywhMCx1LHkpfSx2PXQuZ2V0RW5naW5lKCk7bGV0IFM9di5lbmFibGVPZmZsaW5lU3VwcG9ydDtpZihTKXtsZXQgeT0hMTtmb3IoY29uc3QgQSBvZiB0LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzKWlmKEEudGVzdChlLnVybCkpe3k9ITA7YnJlYWt9Uz0heX1yZXR1cm4gUyYmSS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5P3Qub2ZmbGluZVByb3ZpZGVyPUkuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCxtLHYuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOm0oKSxsfXN0YXRpYyBfR2V0RmlsZUluZm8oZSx0KXtsZXQgaSxzLHI9bnVsbDtpZighdClpPWUscz1ILkdldEZpbGVuYW1lKGUpLGU9SC5HZXRGb2xkZXJQYXRoKGUpO2Vsc2UgaWYodC5uYW1lKXtjb25zdCBuPXQ7aT1gZmlsZToke24ubmFtZX1gLHM9bi5uYW1lLHI9bn1lbHNlIGlmKHR5cGVvZiB0PT0ic3RyaW5nIiYmdC5zdGFydHNXaXRoKCJkYXRhOiIpKWk9dCxzPSIiO2Vsc2V7Y29uc3Qgbj10O2lmKG4uc3Vic3RyKDAsMSk9PT0iLyIpcmV0dXJuIEguRXJyb3IoIldyb25nIHNjZW5lRmlsZW5hbWUgcGFyYW1ldGVyIiksbnVsbDtpPWUrbixzPW59cmV0dXJue3VybDppLHJvb3RVcmw6ZSxuYW1lOnMsZmlsZTpyfX1zdGF0aWMgR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe3JldHVybiBsZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn1zdGF0aWMgSXNQbHVnaW5Gb3JFeHRlbnNpb25BdmFpbGFibGUoZSl7cmV0dXJuISFsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19c3RhdGljIFJlZ2lzdGVyUGx1Z2luKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXtjb25zdCB0PWUuZXh0ZW5zaW9ucztsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7Y29uc3QgdD1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXModCkuZm9yRWFjaChpPT57bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2kudG9Mb3dlckNhc2UoKV09e3BsdWdpbjplLGlzQmluYXJ5OnRbaV0uaXNCaW5hcnl9fSl9fXN0YXRpYyBJbXBvcnRNZXNoKGUsdCxpPSIiLHM9ZmUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsLGE9bnVsbCxvPW51bGwpe2lmKCFzKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO2NvbnN0IGg9bGUuX0dldEZpbGVJbmZvKHQsaSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgbD17fTtzLmFkZFBlbmRpbmdEYXRhKGwpO2NvbnN0IHU9KCk9PntzLnJlbW92ZVBlbmRpbmdEYXRhKGwpfSxkPShFLG0pPT57Y29uc3Qgdj1sZS5fRm9ybWF0RXJyb3JNZXNzYWdlKGgsRSxtKTthP2Eocyx2LG5ldyBOdCh2LG9pLlNjZW5lTG9hZGVyRXJyb3IsbSkpOk8uRXJyb3IodiksdSgpfSxmPW4/RT0+e3RyeXtuKEUpfWNhdGNoKG0pe2QoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrbSxtKX19OnZvaWQgMCxfPShFLG0sdixTLHksQSxDKT0+e2lmKHMuaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGgudXJsKSxyKXRyeXtyKEUsbSx2LFMseSxBLEMpfWNhdGNoKGIpe2QoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIitiLGIpfXMucmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBsZS5fTG9hZERhdGEoaCxzLChFLG0sdik9PntpZihFLnJld3JpdGVSb290VVJMJiYoaC5yb290VXJsPUUucmV3cml0ZVJvb3RVUkwoaC5yb290VXJsLHYpKSxFLmltcG9ydE1lc2gpe2NvbnN0IFM9RSx5PW5ldyBBcnJheSxBPW5ldyBBcnJheSxDPW5ldyBBcnJheTtpZighUy5pbXBvcnRNZXNoKGUscyxtLGgucm9vdFVybCx5LEEsQyxkKSlyZXR1cm47cy5sb2FkaW5nUGx1Z2luTmFtZT1FLm5hbWUsXyh5LEEsQyxbXSxbXSxbXSxbXSl9ZWxzZSBFLmltcG9ydE1lc2hBc3luYyhlLHMsbSxoLnJvb3RVcmwsZixoLm5hbWUpLnRoZW4oeT0+e3MubG9hZGluZ1BsdWdpbk5hbWU9RS5uYW1lLF8oeS5tZXNoZXMseS5wYXJ0aWNsZVN5c3RlbXMseS5za2VsZXRvbnMseS5hbmltYXRpb25Hcm91cHMseS50cmFuc2Zvcm1Ob2Rlcyx5Lmdlb21ldHJpZXMseS5saWdodHMpfSkuY2F0Y2goeT0+e2QoeS5tZXNzYWdlLHkpfSl9LGYsZCx1LG8pfXN0YXRpYyBJbXBvcnRNZXNoQXN5bmMoZSx0LGk9IiIscz1mZS5MYXN0Q3JlYXRlZFNjZW5lLHI9bnVsbCxuPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgoYSxvKT0+e2xlLkltcG9ydE1lc2goZSx0LGkscywoaCxsLHUsZCxmLF8sRSk9PnthKHttZXNoZXM6aCxwYXJ0aWNsZVN5c3RlbXM6bCxza2VsZXRvbnM6dSxhbmltYXRpb25Hcm91cHM6ZCx0cmFuc2Zvcm1Ob2RlczpmLGdlb21ldHJpZXM6XyxsaWdodHM6RX0pfSxyLChoLGwsdSk9PntvKHV8fG5ldyBFcnJvcihsKSl9LG4pfSl9c3RhdGljIExvYWQoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsKXtyZXR1cm4gaT9sZS5BcHBlbmQoZSx0LG5ldyBuZShpKSxzLHIsbixhKTooSC5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfXN0YXRpYyBMb2FkQXN5bmMoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57bGUuTG9hZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBBcHBlbmQoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gYXBwZW5kIHRvIiksbnVsbDtjb25zdCBvPWxlLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGg9e307aS5hZGRQZW5kaW5nRGF0YShoKTtjb25zdCBsPSgpPT57aS5yZW1vdmVQZW5kaW5nRGF0YShoKX07bGUuU2hvd0xvYWRpbmdTY3JlZW4mJiF0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbiYmKHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSEwLGkuZ2V0RW5naW5lKCkuZGlzcGxheUxvYWRpbmdVSSgpLGkuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2kuZ2V0RW5naW5lKCkuaGlkZUxvYWRpbmdVSSgpLHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExfSkpO2NvbnN0IHU9KF8sRSk9Pntjb25zdCBtPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UobyxfLEUpO24/bihpLG0sbmV3IE50KG0sb2kuU2NlbmVMb2FkZXJFcnJvcixFKSk6Ty5FcnJvcihtKSxsKCl9LGQ9cj9fPT57dHJ5e3IoXyl9Y2F0Y2goRSl7dSgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsRSl9fTp2b2lkIDAsZj0oKT0+e2lmKHMpdHJ5e3MoaSl9Y2F0Y2goXyl7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixfKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gbGUuX0xvYWREYXRhKG8saSwoXyxFKT0+e2lmKF8ubG9hZCl7aWYoIV8ubG9hZChpLEUsby5yb290VXJsLHUpKXJldHVybjtpLmxvYWRpbmdQbHVnaW5OYW1lPV8ubmFtZSxmKCl9ZWxzZSBfLmxvYWRBc3luYyhpLEUsby5yb290VXJsLGQsby5uYW1lKS50aGVuKCgpPT57aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZigpfSkuY2F0Y2godj0+e3Uodi5tZXNzYWdlLHYpfSl9LGQsdSxsLGEpfXN0YXRpYyBBcHBlbmRBc3luYyhlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e2xlLkFwcGVuZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXIoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhc3NldCBjb250YWluZXIgdG8iKSxudWxsO2NvbnN0IG89bGUuX0dldEZpbGVJbmZvKGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaD17fTtpLmFkZFBlbmRpbmdEYXRhKGgpO2NvbnN0IGw9KCk9PntpLnJlbW92ZVBlbmRpbmdEYXRhKGgpfSx1PShfLEUpPT57Y29uc3QgbT1sZS5fRm9ybWF0RXJyb3JNZXNzYWdlKG8sXyxFKTtuP24oaSxtLG5ldyBOdChtLG9pLlNjZW5lTG9hZGVyRXJyb3IsRSkpOk8uRXJyb3IobSksbCgpfSxkPXI/Xz0+e3RyeXtyKF8pfWNhdGNoKEUpe3UoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLEUpfX06dm9pZCAwLGY9Xz0+e2lmKHMpdHJ5e3MoXyl9Y2F0Y2goRSl7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixFKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gbGUuX0xvYWREYXRhKG8saSwoXyxFKT0+e2lmKF8ubG9hZEFzc2V0Q29udGFpbmVyKXtjb25zdCB2PV8ubG9hZEFzc2V0Q29udGFpbmVyKGksRSxvLnJvb3RVcmwsdSk7aWYoIXYpcmV0dXJuO2kubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLGYodil9ZWxzZSBfLmxvYWRBc3NldENvbnRhaW5lckFzeW5jP18ubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMoaSxFLG8ucm9vdFVybCxkLG8ubmFtZSkudGhlbih2PT57aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZih2KX0pLmNhdGNoKHY9Pnt1KHYubWVzc2FnZSx2KX0pOnUoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sZCx1LGwsYSl9c3RhdGljIExvYWRBc3NldENvbnRhaW5lckFzeW5jKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57bGUuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIEltcG9ydEFuaW1hdGlvbnMoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9dGkuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7aWYoIWkpe08uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFuaW1hdGlvbnMgdG8iKTtyZXR1cm59aWYocyl7Zm9yKGNvbnN0IF8gb2YgaS5hbmltYXRhYmxlcylfLnJlc2V0KCk7aS5zdG9wQWxsQW5pbWF0aW9ucygpLGkuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChfPT57Xy5kaXNwb3NlKCl9KSxpLmdldE5vZGVzKCkuZm9yRWFjaChfPT57Xy5hbmltYXRpb25zJiYoXy5hbmltYXRpb25zPVtdKX0pfWVsc2Ugc3dpdGNoKHIpe2Nhc2UgdGkuQ2xlYW46aS5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGY9PntmLmRpc3Bvc2UoKX0pO2JyZWFrO2Nhc2UgdGkuU3RvcDppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGY9PntmLnN0b3AoKX0pO2JyZWFrO2Nhc2UgdGkuU3luYzppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKGY9PntmLnJlc2V0KCksZi5yZXN0YXJ0KCl9KTticmVhaztjYXNlIHRpLk5vU3luYzpicmVhaztkZWZhdWx0Ok8uRXJyb3IoIlVua25vd24gYW5pbWF0aW9uIGdyb3VwIGxvYWRpbmcgbW9kZSB2YWx1ZSAnIityKyInIik7cmV0dXJufWNvbnN0IHU9aS5hbmltYXRhYmxlcy5sZW5ndGgsZD1mPT57Zi5tZXJnZUFuaW1hdGlvbnNUbyhpLGkuYW5pbWF0YWJsZXMuc2xpY2UodSksbiksZi5kaXNwb3NlKCksaS5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGEmJmEoaSl9O3RoaXMuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLGQsbyxoLGwpfXN0YXRpYyBJbXBvcnRBbmltYXRpb25zQXN5bmMoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9dGkuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKCh1LGQpPT57bGUuSW1wb3J0QW5pbWF0aW9ucyhlLHQsaSxzLHIsbixmPT57dShmKX0sbywoZixfLEUpPT57ZChFfHxuZXcgRXJyb3IoXykpfSxsKX0pfX1sZS5OT19MT0dHSU5HPTAsbGUuTUlOSU1BTF9MT0dHSU5HPTEsbGUuU1VNTUFSWV9MT0dHSU5HPTIsbGUuREVUQUlMRURfTE9HR0lORz0zLGxlLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgRixsZS5fUmVnaXN0ZXJlZFBsdWdpbnM9e30sbGUuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExO2NsYXNzIF9le2NvbnN0cnVjdG9yKGUsdCxpPU51bWJlci5NQVhfVkFMVUUpe3RoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dCx0aGlzLmxlbmd0aD1pfWNsb25lKCl7cmV0dXJuIG5ldyBfZSh0aGlzLm9yaWdpbi5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uLmNsb25lKCksdGhpcy5sZW5ndGgpfWludGVyc2VjdHNCb3hNaW5NYXgoZSx0LGk9MCl7Y29uc3Qgcz1fZS5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbUZsb2F0cyhlLngtaSxlLnktaSxlLnotaSkscj1fZS5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyh0LngraSx0LnkraSx0LnoraSk7bGV0IG49MCxhPU51bWJlci5NQVhfVkFMVUUsbyxoLGwsdTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi54KTwxZS03KXtpZih0aGlzLm9yaWdpbi54PHMueHx8dGhpcy5vcmlnaW4ueD5yLngpcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueCxoPShzLngtdGhpcy5vcmlnaW4ueCkqbyxsPShyLngtdGhpcy5vcmlnaW4ueCkqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueSk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueTxzLnl8fHRoaXMub3JpZ2luLnk+ci55KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLnksaD0ocy55LXRoaXMub3JpZ2luLnkpKm8sbD0oci55LXRoaXMub3JpZ2luLnkpKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnopPDFlLTcpe2lmKHRoaXMub3JpZ2luLno8cy56fHx0aGlzLm9yaWdpbi56PnIueilyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi56LGg9KHMuei10aGlzLm9yaWdpbi56KSpvLGw9KHIuei10aGlzLm9yaWdpbi56KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUsdD0wKXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzQm94TWluTWF4KGUubWluaW11bSxlLm1heGltdW0sdCl9aW50ZXJzZWN0c1NwaGVyZShlLHQ9MCl7Y29uc3QgaT1lLmNlbnRlci54LXRoaXMub3JpZ2luLngscz1lLmNlbnRlci55LXRoaXMub3JpZ2luLnkscj1lLmNlbnRlci56LXRoaXMub3JpZ2luLnosbj1pKmkrcypzK3IqcixhPWUucmFkaXVzK3Qsbz1hKmE7aWYobjw9bylyZXR1cm4hMDtjb25zdCBoPWkqdGhpcy5kaXJlY3Rpb24ueCtzKnRoaXMuZGlyZWN0aW9uLnkrcip0aGlzLmRpcmVjdGlvbi56O3JldHVybiBoPDA/ITE6bi1oKmg8PW99aW50ZXJzZWN0c1RyaWFuZ2xlKGUsdCxpKXtjb25zdCBzPV9lLl9UbXBWZWN0b3IzWzBdLHI9X2UuX1RtcFZlY3RvcjNbMV0sbj1fZS5fVG1wVmVjdG9yM1syXSxhPV9lLl9UbXBWZWN0b3IzWzNdLG89X2UuX1RtcFZlY3RvcjNbNF07dC5zdWJ0cmFjdFRvUmVmKGUscyksaS5zdWJ0cmFjdFRvUmVmKGUscikscC5Dcm9zc1RvUmVmKHRoaXMuZGlyZWN0aW9uLHIsbik7Y29uc3QgaD1wLkRvdChzLG4pO2lmKGg9PT0wKXJldHVybiBudWxsO2NvbnN0IGw9MS9oO3RoaXMub3JpZ2luLnN1YnRyYWN0VG9SZWYoZSxhKTtjb25zdCB1PXAuRG90KGEsbikqbDtpZih1PDB8fHU+MSlyZXR1cm4gbnVsbDtwLkNyb3NzVG9SZWYoYSxzLG8pO2NvbnN0IGQ9cC5Eb3QodGhpcy5kaXJlY3Rpb24sbykqbDtpZihkPDB8fHUrZD4xKXJldHVybiBudWxsO2NvbnN0IGY9cC5Eb3QocixvKSpsO3JldHVybiBmPnRoaXMubGVuZ3RoP251bGw6bmV3IERzKDEtdS1kLHUsZil9aW50ZXJzZWN0c1BsYW5lKGUpe2xldCB0O2NvbnN0IGk9cC5Eb3QoZS5ub3JtYWwsdGhpcy5kaXJlY3Rpb24pO2lmKE1hdGguYWJzKGkpPDk5OTk5OTk5NzQ3NTI0M2UtMjEpcmV0dXJuIG51bGw7e2NvbnN0IHM9cC5Eb3QoZS5ub3JtYWwsdGhpcy5vcmlnaW4pO3JldHVybiB0PSgtZS5kLXMpL2ksdDwwP3Q8LTk5OTk5OTk5NzQ3NTI0M2UtMjE/bnVsbDowOnR9fWludGVyc2VjdHNBeGlzKGUsdD0wKXtzd2l0Y2goZSl7Y2FzZSJ5Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLWksdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLWkpfWNhc2UieCI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLngtdCkvdGhpcy5kaXJlY3Rpb24ueDtyZXR1cm4gaT4wP251bGw6bmV3IHAodCx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1pKX1jYXNlInoiOntjb25zdCBpPSh0aGlzLm9yaWdpbi56LXQpL3RoaXMuZGlyZWN0aW9uLno7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotaSx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdCl9ZGVmYXVsdDpyZXR1cm4gbnVsbH19aW50ZXJzZWN0c01lc2goZSx0KXtjb25zdCBpPUQuTWF0cml4WzBdO3JldHVybiBlLmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoaSksdGhpcy5fdG1wUmF5P19lLlRyYW5zZm9ybVRvUmVmKHRoaXMsaSx0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1fZS5UcmFuc2Zvcm0odGhpcyxpKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQpfWludGVyc2VjdHNNZXNoZXMoZSx0LGkpe2k/aS5sZW5ndGg9MDppPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuaW50ZXJzZWN0c01lc2goZVtzXSx0KTtyLmhpdCYmaS5wdXNoKHIpfXJldHVybiBpLnNvcnQodGhpcy5fY29tcGFyZVBpY2tpbmdJbmZvKSxpfV9jb21wYXJlUGlja2luZ0luZm8oZSx0KXtyZXR1cm4gZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9aW50ZXJzZWN0aW9uU2VnbWVudChlLHQsaSl7Y29uc3Qgcz10aGlzLm9yaWdpbixyPUQuVmVjdG9yM1swXSxuPUQuVmVjdG9yM1sxXSxhPUQuVmVjdG9yM1syXSxvPUQuVmVjdG9yM1szXTt0LnN1YnRyYWN0VG9SZWYoZSxyKSx0aGlzLmRpcmVjdGlvbi5zY2FsZVRvUmVmKF9lLl9SYXlsLGEpLHMuYWRkVG9SZWYoYSxuKSxlLnN1YnRyYWN0VG9SZWYocyxvKTtjb25zdCBoPXAuRG90KHIsciksbD1wLkRvdChyLGEpLHU9cC5Eb3QoYSxhKSxkPXAuRG90KHIsbyksZj1wLkRvdChhLG8pLF89aCp1LWwqbDtsZXQgRSxtPV8sdixTPV87XzxfZS5fU21hbGxudW0/KEU9MCxtPTEsdj1mLFM9dSk6KEU9bCpmLXUqZCx2PWgqZi1sKmQsRTwwPyhFPTAsdj1mLFM9dSk6RT5tJiYoRT1tLHY9ZitsLFM9dSkpLHY8MD8odj0wLC1kPDA/RT0wOi1kPmg/RT1tOihFPS1kLG09aCkpOnY+UyYmKHY9UywtZCtsPDA/RT0wOi1kK2w+aD9FPW06KEU9LWQrbCxtPWgpKTtjb25zdCB5PU1hdGguYWJzKEUpPF9lLl9TbWFsbG51bT8wOkUvbSxBPU1hdGguYWJzKHYpPF9lLl9TbWFsbG51bT8wOnYvUyxDPUQuVmVjdG9yM1s0XTthLnNjYWxlVG9SZWYoQSxDKTtjb25zdCBiPUQuVmVjdG9yM1s1XTtyLnNjYWxlVG9SZWYoeSxiKSxiLmFkZEluUGxhY2Uobyk7Y29uc3QgTT1ELlZlY3RvcjNbNl07cmV0dXJuIGIuc3VidHJhY3RUb1JlZihDLE0pLEE+MCYmQTw9dGhpcy5sZW5ndGgmJk0ubGVuZ3RoU3F1YXJlZCgpPGkqaT9iLmxlbmd0aCgpOi0xfXVwZGF0ZShlLHQsaSxzLHIsbixhLG89ITEpe2lmKG8pe19lLl9SYXlEaXN0YW50fHwoX2UuX1JheURpc3RhbnQ9X2UuWmVybygpKSxfZS5fUmF5RGlzdGFudC51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHguSWRlbnRpdHlSZWFkT25seSxuLGEpO2NvbnN0IGg9RC5NYXRyaXhbMF07ci5pbnZlcnRUb1JlZihoKSxfZS5UcmFuc2Zvcm1Ub1JlZihfZS5fUmF5RGlzdGFudCxoLHRoaXMpfWVsc2UgdGhpcy51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHIsbixhKTtyZXR1cm4gdGhpc31zdGF0aWMgWmVybygpe3JldHVybiBuZXcgX2UocC5aZXJvKCkscC5aZXJvKCkpfXN0YXRpYyBDcmVhdGVOZXcoZSx0LGkscyxyLG4sYSl7cmV0dXJuIF9lLlplcm8oKS51cGRhdGUoZSx0LGkscyxyLG4sYSl9c3RhdGljIENyZWF0ZU5ld0Zyb21UbyhlLHQsaT14LklkZW50aXR5UmVhZE9ubHkpe2NvbnN0IHM9dC5zdWJ0cmFjdChlKSxyPU1hdGguc3FydChzLngqcy54K3MueSpzLnkrcy56KnMueik7cmV0dXJuIHMubm9ybWFsaXplKCksX2UuVHJhbnNmb3JtKG5ldyBfZShlLHMsciksaSl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IF9lKG5ldyBwKDAsMCwwKSxuZXcgcCgwLDAsMCkpO3JldHVybiBfZS5UcmFuc2Zvcm1Ub1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtVG9SZWYoZSx0LGkpe3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbix0LGkub3JpZ2luKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUuZGlyZWN0aW9uLHQsaS5kaXJlY3Rpb24pLGkubGVuZ3RoPWUubGVuZ3RoO2NvbnN0IHM9aS5kaXJlY3Rpb24scj1zLmxlbmd0aCgpO2lmKCEocj09PTB8fHI9PT0xKSl7Y29uc3Qgbj0xL3I7cy54Kj1uLHMueSo9bixzLnoqPW4saS5sZW5ndGgqPXJ9fXVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpe3ZhciBvO2NvbnN0IGg9RC5NYXRyaXhbMF07ci5tdWx0aXBseVRvUmVmKG4saCksaC5tdWx0aXBseVRvUmVmKGEsaCksaC5pbnZlcnQoKTtjb25zdCBsPUQuVmVjdG9yM1swXTtsLng9ZS9pKjItMSxsLnk9LSh0L3MqMi0xKSxsLno9ISgobz1mZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxvPT09dm9pZCAwKSYmby5pc05EQ0hhbGZaUmFuZ2U/MDotMTtjb25zdCB1PUQuVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyhsLngsbC55LDEtMWUtOCksZD1ELlZlY3RvcjNbMl0sZj1ELlZlY3RvcjNbM107cC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYobCxoLGQpLHAuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKHUsaCxmKSx0aGlzLm9yaWdpbi5jb3B5RnJvbShkKSxmLnN1YnRyYWN0VG9SZWYoZCx0aGlzLmRpcmVjdGlvbiksdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCl9fV9lLl9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoNixwLlplcm8pLF9lLl9SYXlEaXN0YW50PV9lLlplcm8oKSxfZS5fU21hbGxudW09MWUtOCxfZS5fUmF5bD0xZTksbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXk9ZnVuY3Rpb24oYyxlLHQsaSxzPSExKXtjb25zdCByPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoYyxlLHQscixpLHMpLHJ9LG5lLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24oYyxlLHQsaSxzLHI9ITEsbj0hMSl7Y29uc3QgYT10aGlzLmdldEVuZ2luZSgpO2lmKCFzKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuIHRoaXM7cz10aGlzLmFjdGl2ZUNhbWVyYX1jb25zdCBoPXMudmlld3BvcnQudG9HbG9iYWwoYS5nZXRSZW5kZXJXaWR0aCgpLGEuZ2V0UmVuZGVySGVpZ2h0KCkpO3JldHVybiBjPWMvYS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLWgueCxlPWUvYS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLShhLmdldFJlbmRlckhlaWdodCgpLWgueS1oLmhlaWdodCksaS51cGRhdGUoYyxlLGgud2lkdGgsaC5oZWlnaHQsdHx8eC5JZGVudGl0eVJlYWRPbmx5LHI/eC5JZGVudGl0eVJlYWRPbmx5OnMuZ2V0Vmlld01hdHJpeCgpLHMuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLG4pLHRoaXN9LG5lLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZT1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1fZS5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihjLGUsaSx0KSxpfSxuZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbihjLGUsdCxpKXtpZighVXQpcmV0dXJuIHRoaXM7Y29uc3Qgcz10aGlzLmdldEVuZ2luZSgpO2lmKCFpKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IG49aS52aWV3cG9ydC50b0dsb2JhbChzLmdldFJlbmRlcldpZHRoKCkscy5nZXRSZW5kZXJIZWlnaHQoKSksYT14LklkZW50aXR5KCk7cmV0dXJuIGM9Yy9zLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktbi54LGU9ZS9zLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKHMuZ2V0UmVuZGVySGVpZ2h0KCktbi55LW4uaGVpZ2h0KSx0LnVwZGF0ZShjLGUsbi53aWR0aCxuLmhlaWdodCxhLGEsaS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXN9LG5lLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrRm9yTWVzaD1mdW5jdGlvbihjLGUsdCxpLHMscixuLGEpe2NvbnN0IG89ZShpLHQuZW5hYmxlRGlzdGFudFBpY2tpbmcpLGg9dC5pbnRlcnNlY3RzKG8scyxuLHIsaSxhKTtyZXR1cm4haHx8IWguaGl0fHwhcyYmYyE9bnVsbCYmaC5kaXN0YW5jZT49Yy5kaXN0YW5jZT9udWxsOmh9LG5lLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrPWZ1bmN0aW9uKGMsZSx0LGkscyl7bGV0IHI9bnVsbDtmb3IobGV0IG49MDtuPHRoaXMubWVzaGVzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5tZXNoZXNbbl07aWYoZSl7aWYoIWUoYSkpY29udGludWV9ZWxzZSBpZighYS5pc0VuYWJsZWQoKXx8IWEuaXNWaXNpYmxlfHwhYS5pc1BpY2thYmxlKWNvbnRpbnVlO2NvbnN0IG89YS5nZXRXb3JsZE1hdHJpeCgpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXtjb25zdCBoPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGEsbywhMCwhMCxzKTtpZihoKXtpZihpKXJldHVybiBoO2NvbnN0IGw9RC5NYXRyaXhbMV0sdT1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKTtmb3IobGV0IGQ9MDtkPHUubGVuZ3RoO2QrKyl7dVtkXS5tdWx0aXBseVRvUmVmKG8sbCk7Y29uc3QgXz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxhLGwsdCxpLHMsITApO2lmKF8mJihyPV8sci50aGluSW5zdGFuY2VJbmRleD1kLHQpKXJldHVybiByfX19ZWxzZXtjb25zdCBoPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGEsbyx0LGkscyk7aWYoaCYmKHI9aCx0KSlyZXR1cm4gcn19cmV0dXJuIHJ8fG5ldyBVdH0sbmUucHJvdG90eXBlLl9pbnRlcm5hbE11bHRpUGljaz1mdW5jdGlvbihjLGUsdCl7aWYoIVV0KXJldHVybiBudWxsO2NvbnN0IGk9bmV3IEFycmF5O2ZvcihsZXQgcz0wO3M8dGhpcy5tZXNoZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLm1lc2hlc1tzXTtpZihlKXtpZighZShyKSljb250aW51ZX1lbHNlIGlmKCFyLmlzRW5hYmxlZCgpfHwhci5pc1Zpc2libGV8fCFyLmlzUGlja2FibGUpY29udGludWU7Y29uc3Qgbj1yLmdldFdvcmxkTWF0cml4KCk7aWYoci5oYXNUaGluSW5zdGFuY2VzJiZyLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2lmKHRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLHIsbiwhMCwhMCx0KSl7Y29uc3Qgbz1ELk1hdHJpeFsxXSxoPXIudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtoW2xdLm11bHRpcGx5VG9SZWYobixvKTtjb25zdCBkPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLHIsbywhMSwhMSx0LCEwKTtkJiYoZC50aGluSW5zdGFuY2VJbmRleD1sLGkucHVzaChkKSl9fX1lbHNle2NvbnN0IGE9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMscixuLCExLCExLHQpO2EmJmkucHVzaChhKX19cmV0dXJuIGl9LG5lLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbihjLGUsdCxpLHMpe2lmKCFVdClyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuX2ludGVybmFsUGljayhuPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxuLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITApO3JldHVybiByJiYoci5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSx4LklkZW50aXR5KCksc3x8bnVsbCkpLHJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZS5wcm90b3R5cGUsIl9waWNraW5nQXZhaWxhYmxlIix7Z2V0OigpPT4hMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMX0pLG5lLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG49ITEpe2NvbnN0IGE9dGhpcy5faW50ZXJuYWxQaWNrKChvLGgpPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxvLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwsITEsaCksdGhpcy5fdGVtcFBpY2tpbmdSYXkpLHQsaSwhMSxyKTtyZXR1cm4gYSYmKGEucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUseC5JZGVudGl0eSgpLHN8fG51bGwpKSxhfSxuZS5wcm90b3R5cGUucGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQsaSl7Y29uc3Qgcz10aGlzLl9pbnRlcm5hbFBpY2socj0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD14LklkZW50aXR5KCkpLHIuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0LCExLGkpO3JldHVybiBzJiYocy5yYXk9Yyksc30sbmUucHJvdG90eXBlLm11bHRpUGljaz1mdW5jdGlvbihjLGUsdCxpLHMpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhyPT50aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHIsaXx8bnVsbCksdCxzKX0sbmUucHJvdG90eXBlLm11bHRpUGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhpPT4odGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PXguSWRlbnRpdHkoKSksaS5pbnZlcnRUb1JlZih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1fZS5aZXJvKCkpLF9lLlRyYW5zZm9ybVRvUmVmKGMsdGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSxlLHQpfSxqLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5PWZ1bmN0aW9uKGM9MTAwLGUsdCl7cmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFJheVRvUmVmKG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSxjKSxjLGUsdCl9LGoucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbihjLGU9MTAwLHQsaSl7cmV0dXJuIHR8fCh0PXRoaXMuZ2V0V29ybGRNYXRyaXgoKSksYy5sZW5ndGg9ZSxpP2Mub3JpZ2luLmNvcHlGcm9tKGkpOmMub3JpZ2luLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLEQuVmVjdG9yM1syXS5zZXQoMCwwLHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoRC5WZWN0b3IzWzJdLHQsRC5WZWN0b3IzWzNdKSxwLk5vcm1hbGl6ZVRvUmVmKEQuVmVjdG9yM1szXSxjLmRpcmVjdGlvbiksY307dmFyIHlsPWZ1bmN0aW9uKGMsZSx0KXtmb3IodmFyIGkgaW4gZSlpZihjLm5hbWU9PT1lW2ldKXJldHVybiB0LnB1c2goYy5pZCksITA7cmV0dXJuIGMucGFyZW50SWQmJnQuaW5kZXhPZihjLnBhcmVudElkKSE9PS0xPyh0LnB1c2goYy5pZCksITApOiExfSxscz1mdW5jdGlvbihjLGUpe3JldHVybiBjKyIgb2YgIisoZT9lLmZpbGUrIiBmcm9tICIrZS5uYW1lKyIgdmVyc2lvbjogIitlLnZlcnNpb24rIiwgZXhwb3J0ZXIgdmVyc2lvbjogIitlLmV4cG9ydGVyX3ZlcnNpb246InVua25vd24iKX07bGUuUmVnaXN0ZXJQbHVnaW4oe25hbWU6ImJhYnlsb24uanMiLGV4dGVuc2lvbnM6Ii5qc29uIixjYW5EaXJlY3RMb2FkOmZ1bmN0aW9uKGMpe3JldHVybiBjLmluZGV4T2YoImpzb24iKSE9PS0xLCEwfSxpbXBvcnRNZXNoOmZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7dmFyIG89ImltcG9ydE1lc2ggaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIGg9SlNPTi5wYXJzZSh0KTtoLnBoeXNpY3NFbmFibGVkPSExLGg9PW51bGx8fGgubWVzaGVzLm1hcChTPT5kZWxldGUgUy5waHlzaWNzSW1wb3N0b3IpLG89IiI7dmFyIGw9bGUubG9nZ2luZ0xldmVsPT09bGUuREVUQUlMRURfTE9HR0lORztjP0FycmF5LmlzQXJyYXkoYyl8fChjPVtjXSk6Yz1udWxsO3ZhciB1PW5ldyBBcnJheTtpZihoLm1lc2hlcyE9PXZvaWQgMCYmaC5tZXNoZXMhPT1udWxsKXt2YXIgZCxmO2ZvcihkPTAsZj1oLm1lc2hlcy5sZW5ndGg7ZDxmO2QrKyl7dmFyIF89aC5tZXNoZXNbZF07aWYoYz09PW51bGx8fHlsKF8sYyx1KSl7YyE9PW51bGwmJmRlbGV0ZSBjW2MuaW5kZXhPZihfLm5hbWUpXTt2YXIgRT1XLlBhcnNlKF8sZSxpKTtzLnB1c2goRSksbys9YAoJTWVzaCBgK0UudG9TdHJpbmcobCl9fXZhciBtO2ZvcihkPTAsZj1lLm1lc2hlcy5sZW5ndGg7ZDxmO2QrKyltPWUubWVzaGVzW2RdLG0uX3dhaXRpbmdQYXJlbnRJZCYmKG0ucGFyZW50PWUuZ2V0TGFzdEVudHJ5QnlJRChtLl93YWl0aW5nUGFyZW50SWQpLG0uX3dhaXRpbmdQYXJlbnRJZD1udWxsKSxtLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9cmV0dXJuITB9Y2F0Y2goUyl7dmFyIHY9bHMoImltcG9ydE1lc2giLGg/aC5wcm9kdWNlcjoiVW5rbm93biIpK287aWYoYSlhKHYsUyk7ZWxzZSB0aHJvdyBPLkxvZyh2KSxTfWZpbmFsbHl7byE9PW51bGwmJmxlLmxvZ2dpbmdMZXZlbCE9PWxlLk5PX0xPR0dJTkcmJk8uTG9nKGxzKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKSsobGUubG9nZ2luZ0xldmVsIT09bGUuTUlOSU1BTF9MT0dHSU5HP286IiIpKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbihjLGUsdCxpKXt2YXIgcz0iaW1wb3J0U2NlbmUgaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIHI9SlNPTi5wYXJzZShlKTtzPSIiLHIuY2xlYXJDb2xvciE9PXZvaWQgMCYmci5jbGVhckNvbG9yIT09bnVsbCYmKGMuY2xlYXJDb2xvcj1Db2xvcjQuRnJvbUFycmF5KHIuY2xlYXJDb2xvcikpO3ZhciBuPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpLCEwKTtyZXR1cm4hIW59Y2F0Y2gobyl7dmFyIGE9bHMoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKStzO2lmKGkpaShhLG8pO2Vsc2UgdGhyb3cgTy5Mb2coYSksb31maW5hbGx5e3MhPT1udWxsJiZsZS5sb2dnaW5nTGV2ZWwhPT1sZS5OT19MT0dHSU5HJiZPLkxvZyhscygiaW1wb3J0U2NlbmUiLHI/ci5wcm9kdWNlcjoiVW5rbm93biIpKyhsZS5sb2dnaW5nTGV2ZWwhPT1sZS5NSU5JTUFMX0xPR0dJTkc/czoiIikpfXJldHVybiExfSxsb2FkQXNzZXRDb250YWluZXI6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9bG9hZEFzc2V0Q29udGFpbmVyKGMsZSx0LGkpO3JldHVybiBzfX0pLFcuX2luc3RhbmNlZE1lc2hGYWN0b3J5PShjLGUpPT57Y29uc3QgdD1uZXcgQ2woYyxlKTtpZihlLmluc3RhbmNlZEJ1ZmZlcnMpe3QuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgaSBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW2ldPWUuaW5zdGFuY2VkQnVmZmVyc1tpXX1yZXR1cm4gdH07Y2xhc3MgQ2wgZXh0ZW5kcyBvdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdC5nZXRTY2VuZSgpKSx0aGlzLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHQuYWRkSW5zdGFuY2UodGhpcyksdGhpcy5fc291cmNlTWVzaD10LHRoaXMuX3VuSW5kZXhlZD10Ll91bkluZGV4ZWQsdGhpcy5wb3NpdGlvbi5jb3B5RnJvbSh0LnBvc2l0aW9uKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHQucm90YXRpb24pLHRoaXMuc2NhbGluZy5jb3B5RnJvbSh0LnNjYWxpbmcpLHQucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dC5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5hbmltYXRpb25zPXQuYW5pbWF0aW9ucy5zbGljZSgpO2Zvcihjb25zdCBpIG9mIHQuZ2V0QW5pbWF0aW9uUmFuZ2VzKCkpaSE9bnVsbCYmdGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShpLm5hbWUsaS5mcm9tLGkudG8pO3RoaXMuaW5maW5pdGVEaXN0YW5jZT10LmluZmluaXRlRGlzdGFuY2UsdGhpcy5zZXRQaXZvdE1hdHJpeCh0LmdldFBpdm90TWF0cml4KCkpLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5fc3luY1N1Yk1lc2hlcygpfWdldENsYXNzTmFtZSgpe3JldHVybiJJbnN0YW5jZWRNZXNoIn1nZXQgbGlnaHRTb3VyY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2xpZ2h0U291cmNlc31fcmVzeW5jTGlnaHRTb3VyY2VzKCl7fV9yZXN5bmNMaWdodFNvdXJjZSgpe31fcmVtb3ZlTGlnaHRTb3VyY2UoKXt9Z2V0IHJlY2VpdmVTaGFkb3dzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVjZWl2ZVNoYWRvd3N9Z2V0IG1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gubWF0ZXJpYWx9Z2V0IHZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC52aXNpYmlsaXR5fWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnNrZWxldG9ufWdldCByZW5kZXJpbmdHcm91cElkKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZH1zZXQgcmVuZGVyaW5nR3JvdXBJZChlKXshdGhpcy5fc291cmNlTWVzaHx8ZT09PXRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZHx8Ty5XYXJuKCJOb3RlIC0gc2V0dGluZyByZW5kZXJpbmdHcm91cElkIG9mIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3Qgb24gdGhlIHNjZW5lIil9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoP3RoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxWZXJ0aWNlcygpOjB9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxJbmRpY2VzKCl9Z2V0IHNvdXJjZU1lc2goKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaH1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZShlKX1pc1JlYWR5KGU9ITEpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzUmVhZHkoZSwhMCl9Z2V0VmVydGljZXNEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VmVydGljZXNEYXRhKGUsdCl9c2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyksdGhpcy5zb3VyY2VNZXNofXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2gudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH1zZXRJbmRpY2VzKGUsdD1udWxsKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyhlLHQpLHRoaXMuc291cmNlTWVzaH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpfWdldEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRJbmRpY2VzKCl9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fcG9zaXRpb25zfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnk/dGhpcy5fc291cmNlTWVzaC5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9zb3VyY2VNZXNoLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9wcmVBY3RpdmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELl9wcmVBY3RpdmF0ZSgpLHRoaXN9X2FjdGl2YXRlKGUsdCl7aWYoc3VwZXIuX2FjdGl2YXRlKGUsdCksdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXN8fE8uV2FybigiSW5zdGFuY2VzIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgZm9yIG1lc2hlcyB3aXRoIGdlb21ldHJ5LiIpLHRoaXMuX2N1cnJlbnRMT0Qpe2lmKHRoaXMuX2N1cnJlbnRMT0QuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MCE9dGhpcy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wKXJldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSEwLCEwO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRC5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKHRoaXMsZSksdCl7aWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSEwLCEwfWVsc2UgaWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSEwLCEwfXJldHVybiExfV9wb3N0QWN0aXZhdGUoKXt0aGlzLl9zb3VyY2VNZXNoLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXA/KHRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciksdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKTp0aGlzLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoKHRoaXMuX2VkZ2VzUmVuZGVyZXIpfWdldFdvcmxkTWF0cml4KCl7aWYodGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5iaWxsYm9hcmRNb2RlIT09Si5CSUxMQk9BUkRNT0RFX05PTkUmJnRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2ghPT10aGlzKXt0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeHx8KHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4PW5ldyB4KTtjb25zdCBlPXRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g9dGhpcyxELlZlY3RvcjNbN10uY29weUZyb20odGhpcy5fY3VycmVudExPRC5wb3NpdGlvbiksdGhpcy5fY3VycmVudExPRC5wb3NpdGlvbi5zZXQoMCwwLDApLHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5fY3VycmVudExPRC5wb3NpdGlvbi5jb3B5RnJvbShELlZlY3RvcjNbN10pLHRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g9ZSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeH1yZXR1cm4gc3VwZXIuZ2V0V29ybGRNYXRyaXgoKX1nZXQgaXNBbkluc3RhbmNlKCl7cmV0dXJuITB9Z2V0TE9EKGUpe2lmKCFlKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5zb3VyY2VNZXNoLmdldExPRExldmVscygpO2lmKCF0fHx0Lmxlbmd0aD09PTApdGhpcy5fY3VycmVudExPRD10aGlzLnNvdXJjZU1lc2g7ZWxzZXtjb25zdCBpPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7dGhpcy5fY3VycmVudExPRD10aGlzLnNvdXJjZU1lc2guZ2V0TE9EKGUsaS5ib3VuZGluZ1NwaGVyZSl9cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0R9X3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpe3JldHVybiB0aGlzLnNvdXJjZU1lc2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpfV9zeW5jU3ViTWVzaGVzKCl7aWYodGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMpZm9yKGxldCBlPTA7ZTx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlcy5sZW5ndGg7ZSsrKXRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzW2VdLmNsb25lKHRoaXMsdGhpcy5fc291cmNlTWVzaCk7cmV0dXJuIHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fZ2VuZXJhdGVQb2ludHNBcnJheSgpfV91cGRhdGVCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5oYXNCb3VuZGluZ0luZm8/dGhpcy5nZXRCb3VuZGluZ0luZm8oKS51cGRhdGUodGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSk6dGhpcy5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfWNsb25lKGUsdD1udWxsLGkscyl7Y29uc3Qgcj0oc3x8dGhpcy5fc291cmNlTWVzaCkuY3JlYXRlSW5zdGFuY2UoZSk7aWYodnMuRGVlcENvcHkodGhpcyxyLFsibmFtZSIsInN1Yk1lc2hlcyIsInVuaXF1ZUlkIiwicGFyZW50IiwibGlnaHRTb3VyY2VzIiwicmVjZWl2ZVNoYWRvd3MiLCJtYXRlcmlhbCIsInZpc2liaWxpdHkiLCJza2VsZXRvbiIsInNvdXJjZU1lc2giLCJpc0FuSW5zdGFuY2UiLCJmYWNldE5iIiwiaXNGYWNldERhdGFFbmFibGVkIiwiaXNCbG9ja2VkIiwidXNlQm9uZXMiLCJoYXNJbnN0YW5jZXMiLCJjb2xsaWRlciIsImVkZ2VzUmVuZGVyZXIiLCJmb3J3YXJkIiwidXAiLCJyaWdodCIsImFic29sdXRlUG9zaXRpb24iLCJhYnNvbHV0ZVNjYWxpbmciLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIsImlzV29ybGRNYXRyaXhGcm96ZW4iLCJub25Vbmlmb3JtU2NhbGluZyIsImJlaGF2aW9ycyIsIndvcmxkTWF0cml4RnJvbUNhY2hlIiwiaGFzVGhpbkluc3RhbmNlcyIsImhhc0JvdW5kaW5nSW5mbyJdLFtdKSx0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0JiYoci5wYXJlbnQ9dCksIWkpZm9yKGxldCBuPTA7bjx0aGlzLmdldFNjZW5lKCkubWVzaGVzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpLm1lc2hlc1tuXTthLnBhcmVudD09PXRoaXMmJmEuY2xvbmUoYS5uYW1lLHIpfXJldHVybiByLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHJ9ZGlzcG9zZShlLHQ9ITEpe3RoaXMuX3NvdXJjZU1lc2gucmVtb3ZlSW5zdGFuY2UodGhpcyksc3VwZXIuZGlzcG9zZShlLHQpfV9zZXJpYWxpemVBc1BhcmVudChlKXtzdXBlci5fc2VyaWFsaXplQXNQYXJlbnQoZSksZS5wYXJlbnRJZD10aGlzLl9zb3VyY2VNZXNoLnVuaXF1ZUlkLGUucGFyZW50SW5zdGFuY2VJbmRleD10aGlzLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXl9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwLHQmJnQubmV3U291cmNlZE1lc2gpO3MmJmkmJmkodGhpcyxzKTtmb3IoY29uc3QgciBvZiB0aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApKXIuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx0LGkpO3JldHVybiBzfX1XLnByb3RvdHlwZS5yZWdpc3Rlckluc3RhbmNlZEJ1ZmZlcj1mdW5jdGlvbihjLGUpe3ZhciB0LGk7aWYoKGk9KHQ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudmVydGV4QnVmZmVyc1tjXSk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmRpc3Bvc2UoKSwhdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXt0aGlzLmluc3RhbmNlZEJ1ZmZlcnM9e307Zm9yKGNvbnN0IHMgb2YgdGhpcy5pbnN0YW5jZXMpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pfXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tjXT1udWxsLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2NdPWUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2NdPWUqMzIsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbY109bmV3IEZsb2F0MzJBcnJheSh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbY10pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdPW5ldyBnKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbY10sYywhMCwhMSxlLCEwKTtmb3IoY29uc3QgcyBvZiB0aGlzLmluc3RhbmNlcylzLmluc3RhbmNlZEJ1ZmZlcnNbY109bnVsbDt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxXLnByb3RvdHlwZS5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnM9ZnVuY3Rpb24oYyxlKXtjb25zdCB0PWM/Yy5sZW5ndGg6MDtmb3IoY29uc3QgaSBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe2xldCBzPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tpXTtjb25zdCByPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2ldLG49KHQrMSkqcjtmb3IoO3M8bjspcyo9Mjt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXS5sZW5ndGghPXMmJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXT1uZXcgRmxvYXQzMkFycmF5KHMpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tpXT1zLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0uZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW51bGwpKTtjb25zdCBhPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldO2xldCBvPTA7aWYoZSl7Y29uc3QgaD10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbaV07aC50b0FycmF5P2gudG9BcnJheShhLG8pOmguY29weVRvQXJyYXk/aC5jb3B5VG9BcnJheShhLG8pOmFbb109aCxvKz1yfWZvcihsZXQgaD0wO2g8dDtoKyspe2NvbnN0IHU9Y1toXS5pbnN0YW5jZWRCdWZmZXJzW2ldO3UudG9BcnJheT91LnRvQXJyYXkoYSxvKTp1LmNvcHlUb0FycmF5P3UuY29weVRvQXJyYXkoYSxvKTphW29dPXUsbys9cn10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT90aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXS51cGRhdGVEaXJlY3RseShhLDApOih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1uZXcgZyh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldLGksITAsITEsciwhMCksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSl9fSxXLnByb3RvdHlwZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oKXtpZighKCF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9PT12b2lkIDApKXtmb3IoY29uc3QgYyBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzKXRoaXMuZ2V0RW5naW5lKCkucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHNbY10pO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e319fSxXLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpO3RoaXMuaW5zdGFuY2VzLmxlbmd0aDspdGhpcy5pbnN0YW5jZXNbMF0uZGlzcG9zZSgpO2Zvcihjb25zdCBjIGluIHRoaXMuaW5zdGFuY2VkQnVmZmVycyl0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXSYmdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY10uZGlzcG9zZSgpO3RoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9fTtjb25zdCBXcj1jPT5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGMpKSxJbD17YXNzZXRQYXRoOiIiLGVuYWJsZVNoYWRvd3M6ITEsZ3JvdXBJZDpudWxsLGlkOm51bGwsbGlnaHRzOltdLHJvbGxJZDpudWxsLHNjZW5lOm51bGx9LFh0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7YnQodGhpcywidmFsdWUiLDApO2J0KHRoaXMsImFzbGVlcCIsITEpO3RoaXMuY29uZmlnPXsuLi5JbCwuLi5lfSx0aGlzLmlkPXRoaXMuY29uZmlnLmlkIT09dm9pZCAwP3RoaXMuY29uZmlnLmlkOkRhdGUubm93KCksdGhpcy5kaWVUeXBlPXRoaXMuY29uZmlnLnNpZGVzLHRoaXMuY29tYm9LZXk9YCR7dGhpcy5jb25maWcudGhlbWV9XyR7dGhpcy5kaWVUeXBlfWAsdGhpcy5zY2VuZT10LHRoaXMuY3JlYXRlSW5zdGFuY2UoKX1jcmVhdGVJbnN0YW5jZSgpe2NvbnN0IGU9YCR7dGhpcy5jb25maWcubWVzaE5hbWV9XyR7dGhpcy5kaWVUeXBlfV8ke3RoaXMuY29uZmlnLnRoZW1lfSR7dGhpcy5jb25maWcuY29sb3JTdWZmaXh9YCx0PWAke2V9LWluc3RhbmNlLSR7dGhpcy5pZH1gLGk9dGhpcy5zY2VuZS5nZXRNZXNoQnlOYW1lKGUpLmNyZWF0ZUluc3RhbmNlKHQpO2lmKHRoaXMuY29uZmlnLmNvbG9yU3VmZml4Lmxlbmd0aD4wKXtjb25zdCBzPXJlLkZyb21IZXhTdHJpbmcodGhpcy5jb25maWcudGhlbWVDb2xvcik7aS5pbnN0YW5jZWRCdWZmZXJzLmN1c3RvbUNvbG9yPXN9aS5wb3NpdGlvbi55PS0xMDAsaS5zY2FsaW5nPW5ldyBwKGkuc2NhbGluZy54KnRoaXMuY29uZmlnLnNjYWxlLGkuc2NhbGluZy55KnRoaXMuY29uZmlnLnNjYWxlLGkuc2NhbGluZy56KnRoaXMuY29uZmlnLnNjYWxlKSx0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzJiZ0aGlzLmNvbmZpZy5saWdodHMuZGlyZWN0aW9uYWwuc2hhZG93R2VuZXJhdG9yLmFkZFNoYWRvd0Nhc3RlcihpKSx0aGlzLm1lc2g9aX1zdGF0aWMgYXN5bmMgbG9hZERpZShlLHQpe2NvbnN0e3NpZGVzOmksdGhlbWU6cz0iZGVmYXVsdCIsbWVzaE5hbWU6cixjb2xvclN1ZmZpeDpufT1lLGE9cisiXyIraSxvPWErIl8iK3MrbjtsZXQgaD10LmdldE1lc2hCeU5hbWUobyk7cmV0dXJuIGh8fChoPXQuZ2V0TWVzaEJ5TmFtZShhKS5jbG9uZShvKSksaC5tYXRlcmlhbHx8KGgubWF0ZXJpYWw9dC5nZXRNYXRlcmlhbEJ5TmFtZShzK24pLG4ubGVuZ3RoPjAmJmgucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXIoImN1c3RvbUNvbG9yIiwzKSksZX1zdGF0aWMgYXN5bmMgbG9hZE1vZGVscyhlLHQpe2NvbnN0e21lc2hGaWxlUGF0aDppLG1lc2hOYW1lOnMsc2NhbGU6cixkNEZhY2VEb3duOm49ITB9PWU7bGV0IGE9ITEsbz0hMTtjb25zdCBoPWF3YWl0IGZldGNoKGAke2l9YCkudGhlbihsPT57aWYobC5vayl7Y29uc3QgdT1sLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKTtpZih1JiZ1LmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKSE9PS0xKXJldHVybiBsLmpzb24oKTtpZihsLnR5cGUmJmwudHlwZT09PSJiYXNpYyIpcmV0dXJuIGwuanNvbigpO3Rocm93IG5ldyBFcnJvcihgSW5jb3JyZWN0IGNvbnRlbnRUeXBlOiAke3V9LiBFeHBlY3RlZCAiYXBwbGljYXRpb24vanNvbiIgb3IgImJhc2ljImApfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9hZCAzRCBtZXNoIGZpbGU6ICcke2l9Jy4gUmVxdWVzdCByZWplY3RlZCB3aXRoIHN0YXR1cyAke2wuc3RhdHVzfTogJHtsLnN0YXR1c1RleHR9YCl9KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKTtpZighIWgpcmV0dXJuIGxlLkltcG9ydE1lc2hBc3luYyhudWxsLG51bGwsImRhdGE6IitKU09OLnN0cmluZ2lmeShoKSx0KS50aGVuKGw9PntpZihsLm1lc2hlcy5mb3JFYWNoKHU9Pnt1Lm5hbWU9PT0iX19yb290X18iJiZ1LmRpc3Bvc2UoKSx1Lm5hbWUuaW5jbHVkZXMoImNvbGxpZGVyIikmJih1LnNjYWxpbmc9bmV3IHAodS5zY2FsaW5nLngqLjksdS5zY2FsaW5nLnkqLjksdS5zY2FsaW5nLnoqLjkpKSxhfHwoYT11Lm5hbWU9PT0iZDEwMCIpLG98fChvPXUubmFtZT09PSJkMTAiKSx1LnNldEVuYWJsZWQoITEpLHUuZnJlZXplTm9ybWFscygpLHUuZnJlZXplV29ybGRNYXRyaXgoKSx1LmlzUGlja2FibGU9ITEsdS5kb05vdFN5bmNCb3VuZGluZ0luZm89ITAsdS5uYW1lPXMrIl8iK3UubmFtZX0pLCFhJiZvJiYodC5nZXRNZXNoQnlOYW1lKHMrIl9kMTAiKS5jbG9uZShzKyJfZDEwMCIpLHQuZ2V0TWVzaEJ5TmFtZShzKyJfZDEwX2NvbGxpZGVyIikuY2xvbmUocysiX2QxMDBfY29sbGlkZXIiKSxoLmNvbGxpZGVyRmFjZU1hcCYmKGguY29sbGlkZXJGYWNlTWFwLmQxMDA9V3IoaC5jb2xsaWRlckZhY2VNYXAuZDEwKSxPYmplY3QudmFsdWVzKGguY29sbGlkZXJGYWNlTWFwLmQxMDApLmZvckVhY2goKHUsZCk9PntoLmNvbGxpZGVyRmFjZU1hcC5kMTAwW2RdPXUqKHU9PT0xMD8wOjEwKX0pKSksIWguY29sbGlkZXJGYWNlTWFwKXRocm93IG5ldyBFcnJvcihgJ2NvbGxpZGVyRmFjZU1hcCcgZGF0YSBub3QgZm91bmQgaW4gJHtpfS4gV2l0aG91dCB0aGUgY29sbGlkZXJGYWNlTWFwIGRhdGEgZGljZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXNvbHZlZC5gKTt0LnRoZW1lRGF0YVtzXT17fSx0LnRoZW1lRGF0YVtzXS5jb2xsaWRlckZhY2VNYXA9aC5jb2xsaWRlckZhY2VNYXAsdC50aGVtZURhdGFbc10uZDRGYWNlRG93bj1ufSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSksaC5tZXNoZXMuZmlsdGVyKGw9PmwubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSl9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPXsuLi50aGlzLmNvbmZpZywuLi5lfX1zdGF0aWMgc2V0VmVjdG9yMyhlLHQsaSl7cmV0dXJuIFh0LnZlY3RvcjMuc2V0KGUsdCxpKX1zdGF0aWMgZ2V0VmVjdG9yMygpe3JldHVybiBYdC52ZWN0b3IzfXN0YXRpYyBhc3luYyBnZXRSb2xsUmVzdWx0KGUsdCl7Y29uc3QgaT0ocz1lKT0+bmV3IFByb21pc2UoKHIsbik9Pntjb25zdCBhPWUuY29uZmlnLnBhcmVudE1lc2h8fGUuY29uZmlnLm1lc2hOYW1lLG89dC50aGVtZURhdGFbYV0uY29sbGlkZXJGYWNlTWFwLGg9dC50aGVtZURhdGFbYV0uZDRGYWNlRG93bjtpZighb1tzLmRpZVR5cGVdKXRocm93IG5ldyBFcnJvcihgTm8gY29sbGlkZXJGYWNlTWFwIGRhdGEgZm9yICR7cy5kaWVUeXBlfWApO2NvbnN0IGw9dC5nZXRNZXNoQnlOYW1lKGAke2F9XyR7cy5kaWVUeXBlfV9jb2xsaWRlcmApLmNyZWF0ZUluc3RhbmNlKGAke2F9XyR7cy5kaWVUeXBlfS1oaXRib3gtJHtzLmlkfWApO2wuaXNQaWNrYWJsZT0hMCxsLmlzVmlzaWJsZT0hMCxsLnNldEVuYWJsZWQoITApLGwucG9zaXRpb249cy5tZXNoLnBvc2l0aW9uLGwucm90YXRpb25RdWF0ZXJuaW9uPXMubWVzaC5yb3RhdGlvblF1YXRlcm5pb247bGV0IHU9WHQuc2V0VmVjdG9yMygwLDEsMCk7cy5kaWVUeXBlPT09ImQ0IiYmaCYmKHU9WHQuc2V0VmVjdG9yMygwLC0xLDApKSxYdC5yYXkuZGlyZWN0aW9uPXUsWHQucmF5Lm9yaWdpbj1lLm1lc2gucG9zaXRpb247Y29uc3QgZD10LnBpY2tXaXRoUmF5KFh0LnJheSk7aWYobC5kaXNwb3NlKCkscy52YWx1ZT1vW3MuZGllVHlwZV1bZC5mYWNlSWRdLHMudmFsdWU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBjb2xsaWRlckZhY2VNYXAgRXJyb3I6IE5vIHZhbHVlIGZvdW5kIGZvciAke3MuZGllVHlwZX0gbWVzaCBmYWNlICR7ZC5mYWNlSWR9YCk7cmV0dXJuIHIocy52YWx1ZSl9KS5jYXRjaChyPT5jb25zb2xlLmVycm9yKHIpKTtyZXR1cm4gZS5tZXNoP2F3YWl0IGkoKTplLnZhbHVlfX07bGV0IFB0PVh0O2J0KFB0LCJyYXkiLG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSwxKSksYnQoUHQsInZlY3RvcjMiLHAuWmVybygpKTtjbGFzcyBQbHtjb25zdHJ1Y3Rvcigpe319Y2xhc3MgaWkgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLkN1c3RvbVBhcnRzPW5ldyBQbCx0aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlPXRoaXMuQnVpbGRlcix0aGlzLkZyYWdtZW50U2hhZGVyPVBlLlNoYWRlcnNTdG9yZS5kZWZhdWx0UGl4ZWxTaGFkZXIsdGhpcy5WZXJ0ZXhTaGFkZXI9UGUuU2hhZGVyc1N0b3JlLmRlZmF1bHRWZXJ0ZXhTaGFkZXJ9QXR0YWNoQWZ0ZXJCaW5kKGUsdCl7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IoY29uc3QgaSBpbiB0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKXtjb25zdCBzPWkudG9TdHJpbmcoKS5zcGxpdCgiLSIpO3NbMF09PSJ2ZWMyIj90LnNldFZlY3RvcjIoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjMyI/dC5zZXRWZWN0b3IzKHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09InZlYzQiP3Quc2V0VmVjdG9yNChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJtYXQ0Ij90LnNldE1hdHJpeChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJmbG9hdCImJnQuc2V0RmxvYXQoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKX1pZih0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InNhbXBsZXIyRCImJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0uaXNSZWFkeSYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5KCkmJnQuc2V0VGV4dHVyZShzWzFdLHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0pfX1SZXZpZXdVbmlmb3JtKGUsdCl7aWYoZT09InVuaWZvcm0iJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIik9PS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0pO2lmKGU9PSJzYW1wbGVyIiYmdGhpcy5fbmV3VW5pZm9ybXMpZm9yKGxldCBpPTA7aTx0aGlzLl9uZXdVbmlmb3Jtcy5sZW5ndGg7aSsrKXRoaXMuX2N1c3RvbVVuaWZvcm1baV0uaW5kZXhPZigic2FtcGxlciIpIT0tMSYmdC5wdXNoKHRoaXMuX25ld1VuaWZvcm1zW2ldKTtyZXR1cm4gdH1CdWlsZGVyKGUsdCxpLHMscixuKXtpZihuJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLmxlbmd0aD4wJiZuLnB1c2goLi4udGhpcy5fY3VzdG9tQXR0cmlidXRlcyksdGhpcy5SZXZpZXdVbmlmb3JtKCJ1bmlmb3JtIix0KSx0aGlzLlJldmlld1VuaWZvcm0oInNhbXBsZXIiLHMpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcilyZXR1cm4gdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU7dGhpcy5faXNDcmVhdGVkU2hhZGVyPSExLGlpLlNoYWRlckluZGV4ZXIrKztjb25zdCBhPSJjdXN0b21fIitpaS5TaGFkZXJJbmRleGVyLG89dGhpcy5fYWZ0ZXJCaW5kLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMuX2FmdGVyQmluZD0oaCxsKT0+e2lmKCEhbCl7dGhpcy5BdHRhY2hBZnRlckJpbmQoaCxsKTt0cnl7byhoLGwpfWNhdGNoe319fSxQZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl09dGhpcy5WZXJ0ZXhTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCYmKFBlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXT1QZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUyIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCkpLFBlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdPXRoaXMuRnJhZ21lbnRTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cmJihQZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXT1QZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cpKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXI9ITAsdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU9YSxhfUFkZFVuaWZvcm0oZSx0LGkpe3JldHVybiB0aGlzLl9jdXN0b21Vbmlmb3JtfHwodGhpcy5fY3VzdG9tVW5pZm9ybT1uZXcgQXJyYXksdGhpcy5fbmV3VW5pZm9ybXM9bmV3IEFycmF5LHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXM9e30sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcz17fSksaSYmKHQuaW5kZXhPZigic2FtcGxlciIpIT0tMT90aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW3QrIi0iK2VdPWk6dGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1t0KyItIitlXT1pKSx0aGlzLl9jdXN0b21Vbmlmb3JtLnB1c2goInVuaWZvcm0gIit0KyIgIitlKyI7IiksdGhpcy5fbmV3VW5pZm9ybXMucHVzaChlKSx0aGlzfUFkZEF0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy5fY3VzdG9tQXR0cmlidXRlc3x8KHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM9W10pLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMucHVzaChlKSx0aGlzfUZyYWdtZW50X0JlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUsdGhpc31GcmFnbWVudF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLHRoaXN9RnJhZ21lbnRfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLHRoaXN9RnJhZ21lbnRfTWFpbkVuZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kPWUsdGhpc31GcmFnbWVudF9DdXN0b21fRGlmZnVzZShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT1lLnJlcGxhY2UoInJlc3VsdCIsImRpZmZ1c2VDb2xvciIpLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0FscGhhKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT1lLnJlcGxhY2UoInJlc3VsdCIsImFscGhhIiksdGhpc31GcmFnbWVudF9CZWZvcmVfTGlnaHRzKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9Gb2coZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUucmVwbGFjZSgicmVzdWx0IiwiY29sb3IiKSx0aGlzfVZlcnRleF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZSx0aGlzfVZlcnRleF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZSx0aGlzfVZlcnRleF9NYWluQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj1lLHRoaXN9VmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJwb3NpdGlvblVwZGF0ZWQiKSx0aGlzfVZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJub3JtYWxVcGRhdGVkIiksdGhpc31WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLHRoaXN9VmVydGV4X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZSx0aGlzfX1paS5TaGFkZXJJbmRleGVyPTEsaXQoIkJBQllMT04uQ3VzdG9tTWF0ZXJpYWwiLGlpKSxpaS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLHQ9YWUuQ2xvbmUoKCk9Pm5ldyBpaShjLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1jLHQuaWQ9Yyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4sdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2csdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGEsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kLHR9O2NsYXNzIERse2NvbnN0cnVjdG9yKGUpe2J0KHRoaXMsImxvYWRlZFRoZW1lcyIse30pO2J0KHRoaXMsInRoZW1lRGF0YSIse30pO3RoaXMuc2NlbmU9ZS5zY2VuZX1hc3luYyBsb2FkU3RhbmRhcmRNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgQih0LHRoaXMuc2NlbmUpO2kuZGlmZnVzZVRleHR1cmUmJihzLmRpZmZ1c2VUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiZGlmZnVzZSIsZSkpLGkuYnVtcFRleHR1cmUmJihzLmJ1bXBUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiYnVtcCIsZSkpLGkuc3BlY3VsYXJUZXh0dXJlJiYocy5zcGVjdWxhclRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJzcGVjdWxhciIsZSkpLHMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMX1hc3luYyBsb2FkQ29sb3JNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgaWkodCsiX2xpZ2h0Iix0aGlzLnNjZW5lKSxyPVdyKGUpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUubGlnaHQmJihyLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlPWUubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUubGlnaHQscy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITEscy5WZXJ0ZXhfRGVmaW5pdGlvbnMoYAogICAgICBhdHRyaWJ1dGUgdmVjMyBjdXN0b21Db2xvcjsKICAgICAgdmFyeWluZyB2ZWMzIHZDb2xvcjsKICAgIGApLlZlcnRleF9NYWluRW5kKGAKICAgICAgdkNvbG9yID0gY3VzdG9tQ29sb3I7CiAgICBgKS5GcmFnbWVudF9EZWZpbml0aW9ucyhgCiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5GcmFnbWVudF9DdXN0b21fRGlmZnVzZShgCiAgICAgIGJhc2VDb2xvci5yZ2IgPSBtaXgodkNvbG9yLnJnYiwgYmFzZUNvbG9yLnJnYiwgYmFzZUNvbG9yLmEpOwogICAgYCkscy5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIik7Y29uc3Qgbj1zLmNsb25lKHQrIl9kYXJrIik7aS5kaWZmdXNlVGV4dHVyZSYmaS5kaWZmdXNlVGV4dHVyZS5kYXJrJiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmRhcmssbi5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxuLkFkZEF0dHJpYnV0ZSgiY3VzdG9tQ29sb3IiKX1hc3luYyBnZXRUZXh0dXJlKGUsdCl7Y29uc3R7YmFzZVBhdGg6aSxtYXRlcmlhbDpzLHRoZW1lOnJ9PXQ7bGV0IG47Y29uc3QgYT1lKyJMZXZlbCIsbz1lKyJUZXh0dXJlIjt0cnl7c3dpdGNoKGUpe2Nhc2UiZGlmZnVzZSI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzW2FdJiYobi5sZXZlbD1zW2FdKTticmVhaztjYXNlImJ1bXAiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJzcGVjdWxhciI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzLnNwZWN1bGFyUG93ZXImJihuLnNwZWN1bGFyUG93ZXI9cy5zcGVjdWxhclBvd2VyKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVGV4dHVyZSB0eXBlOiAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX19Y2F0Y2goaCl7Y29uc29sZS5lcnJvcihoKX1yZXR1cm4gbn1hc3luYyBpbXBvcnRUZXh0dXJlQXN5bmMoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9PntsZXQgcj1lLm1hdGNoKC9eKC4qXC8pKC4qKSQvKSxuPW5ldyBOKGUsdGhpcy5zY2VuZSx2b2lkIDAsITAsdm9pZCAwLCgpPT5pKG4pLCgpPT5zKGBVbmFibGUgdG8gbG9hZCB0ZXh0dXJlICcke3JbMl19JyBmb3IgdGhlbWU6ICcke3R9Jy4gQ2hlY2sgdGhhdCB5b3VyIGFzc2V0UGF0aCBpcyBjb25maWd1cmVkIGNvcnJlY3RseSBhbmQgdGhhdCB0aGUgZmlsZXMgZXhpc3QgYXQgcGF0aDogJyR7clsxXX0nYCkpfSkuY2F0Y2goaT0+Y29uc29sZS5lcnJvcihpKSl9YXN5bmMgbG9hZChlKXtjb25zdHttYXRlcmlhbDp0fT1lO3QudHlwZT09PSJjb2xvciI/YXdhaXQgdGhpcy5sb2FkQ29sb3JNYXRlcmlhbChlKTp0LnR5cGU9PT0ic3RhbmRhcmQiP2F3YWl0IHRoaXMubG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSk6Y29uc29sZS5lcnJvcihgTWF0ZXJpYWwgdHlwZTogJHt0LnR5cGV9IG5vdCBzdXBwb3J0ZWRgKX19Y2xhc3MgRmx7Y29uc3RydWN0b3IoZSl7bnQodGhpcyx1cyk7YnQodGhpcywiY29uZmlnIik7YnQodGhpcywiaW5pdGlhbGl6ZWQiLCExKTtudCh0aGlzLFhlLHt9KTtudCh0aGlzLEFpLDApO250KHRoaXMsRnQsMCk7bnQodGhpcyxSaSxbXSk7bnQodGhpcyxNdCx2b2lkIDApO250KHRoaXMsVHQsdm9pZCAwKTtudCh0aGlzLEplLHZvaWQgMCk7bnQodGhpcyxjcyx2b2lkIDApO250KHRoaXMsQXQsdm9pZCAwKTtudCh0aGlzLFZpLHZvaWQgMCk7bnQodGhpcyxXaSx2b2lkIDApO250KHRoaXMsZ3Qsdm9pZCAwKTtudCh0aGlzLHppLHt9KTtidCh0aGlzLCJub29wIiwoKT0+e30pO2J0KHRoaXMsImRpY2VCdWZmZXJWaWV3IixuZXcgRmxvYXQzMkFycmF5KDhlMykpO3RoaXMub25Jbml0Q29tcGxldGU9ZS5vbkluaXRDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25UaGVtZUxvYWRlZD1lLm9uVGhlbWVMb2FkZWR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbFJlc3VsdD1lLm9uUm9sbFJlc3VsdHx8dGhpcy5ub29wLHRoaXMub25Sb2xsQ29tcGxldGU9ZS5vblJvbGxDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25EaWVSZW1vdmVkPWUub25EaWVSZW1vdmVkfHx0aGlzLm5vb3AsdGhpcy5pbml0aWFsaXplZD10aGlzLmluaXRTY2VuZShlKX1hc3luYyBpbml0U2NlbmUoZSl7bHQodGhpcyxNdCxlLmNhbnZhcyksWSh0aGlzLE10KS53aWR0aD1lLndpZHRoLFkodGhpcyxNdCkuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuY29uZmlnPWUub3B0aW9ucyxsdCh0aGlzLFR0LGduKFkodGhpcyxNdCkpKSxsdCh0aGlzLEplLEtuKHtlbmdpbmU6WSh0aGlzLFR0KX0pKSxsdCh0aGlzLGNzLFluKHtlbmdpbmU6WSh0aGlzLFR0KSxzY2VuZTpZKHRoaXMsSmUpfSkpLGx0KHRoaXMsQXQsQnIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzaGFkb3dUcmFuc3BhcmVuY3k6dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5LGludGVuc2l0eTp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxzY2VuZTpZKHRoaXMsSmUpfSkpLGx0KHRoaXMsVmksbmV3IFJsKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MsYXNwZWN0OlkodGhpcyxNdCkud2lkdGgvWSh0aGlzLE10KS5oZWlnaHQsbGlnaHRzOlkodGhpcyxBdCksc2NlbmU6WSh0aGlzLEplKX0pKSxsdCh0aGlzLFdpLG5ldyBEbCh7c2NlbmU6WSh0aGlzLEplKX0pKSx0aGlzLm9uSW5pdENvbXBsZXRlKCl9Y29ubmVjdChlKXtsdCh0aGlzLGd0LGUpLFkodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdEJ1ZmZlciIsZGljZUJ1ZmZlcjp0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcn0sW3RoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyXSksWSh0aGlzLGd0KS5vbm1lc3NhZ2U9dD0+e3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlInVwZGF0ZXMiOnRoaXMudXBkYXRlc0Zyb21QaHlzaWNzKHQuZGF0YS5kaWNlQnVmZmVyKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBmcm9tIHBoeXNpY3NXb3JrZXIgbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKTticmVha319fXVwZGF0ZUNvbmZpZyhlKXtjb25zdCB0PXRoaXMuY29uZmlnO3RoaXMuY29uZmlnPWUsdC5lbmFibGVTaGFkb3dzIT09dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmKE9iamVjdC52YWx1ZXMoWSh0aGlzLEF0KSkuZm9yRWFjaChpPT5pLmRpc3Bvc2UoKSksbHQodGhpcyxBdCxCcih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzfSkpKSx0LnNjYWxlIT09dGhpcy5jb25maWcuc2NhbGUmJk9iamVjdC52YWx1ZXMoWSh0aGlzLFhlKSkuZm9yRWFjaCgoe21lc2g6aX0pPT57aSYmKGkuc2NhbGluZz1uZXcgcCh0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSkpfSksdC5zaGFkb3dUcmFuc3BhcmVuY3khPT10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kmJihZKHRoaXMsQXQpLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kpLHQubGlnaHRJbnRlbnNpdHkhPT10aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSYmKFkodGhpcyxBdCkuZGlyZWN0aW9uYWwuaW50ZW5zaXR5PS42NSp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxZKHRoaXMsQXQpLmhlbWlzcGhlcmljLmludGVuc2l0eT0uNCp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSl9cmVuZGVyKGUpe1kodGhpcyxUdCkucnVuUmVuZGVyTG9vcCh0aGlzLnJlbmRlckxvb3AuYmluZCh0aGlzKSksWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXN1bWVTaW11bGF0aW9uIixuZXdTdGFydFBvaW50OmV9KX1yZW5kZXJMb29wKCl7WSh0aGlzLEZ0KSYmWSh0aGlzLEZ0KT09PU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aD8oWSh0aGlzLFR0KS5zdG9wUmVuZGVyTG9vcCgpLFkodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksdGhpcy5vblJvbGxDb21wbGV0ZSgpKTpZKHRoaXMsSmUpLnJlbmRlcigpfWFzeW5jIGxvYWRUaGVtZShlKXtjb25zdHt0aGVtZTp0LGJhc2VQYXRoOmksbWF0ZXJpYWw6cyxtZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufT1lO2lmKGF3YWl0IFkodGhpcyxXaSkubG9hZCh7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnN9KSwhT2JqZWN0LmtleXMoWSh0aGlzLHppKSkuaW5jbHVkZXMobikpe1kodGhpcyx6aSlbbl09cjtjb25zdCBhPWF3YWl0IFB0LmxvYWRNb2RlbHMoe21lc2hGaWxlUGF0aDpyLG1lc2hOYW1lOm59LFkodGhpcyxKZSkpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiTm8gY29sbGlkZXJzIHJldHVybmVkIGZyb20gdGhlIDNEIG1lc2ggZmlsZS4gTG93IHBvbHkgY29sbGlkZXJzIGFyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgc2FtZSBmaWxlIGFzIHRoZSBoaWdoIHBvbHkgZGljZSBhbmQgdGhlIG1lc2ggbmFtZSBjb250YWlucyB0aGUgd29yZCAnY29sbGlkZXInIik7WSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJsb2FkTW9kZWxzIixvcHRpb25zOntjb2xsaWRlcnM6YSxtZXNoTmFtZTpufX0pfXRoaXMub25UaGVtZUxvYWRlZCh7aWQ6dH0pfWNsZWFyKCl7IU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCYmIVkodGhpcyxGdCl8fCh0aGlzLmRpY2VCdWZmZXJWaWV3LmJ5dGVMZW5ndGgmJnRoaXMuZGljZUJ1ZmZlclZpZXcuZmlsbCgwKSxZKHRoaXMsUmkpLmZvckVhY2goZT0+Y2xlYXJUaW1lb3V0KGUpKSxZKHRoaXMsVHQpLnN0b3BSZW5kZXJMb29wKCksT2JqZWN0LnZhbHVlcyhZKHRoaXMsWGUpKS5mb3JFYWNoKGU9PntlLm1lc2gmJmUubWVzaC5kaXNwb3NlKCl9KSxsdCh0aGlzLFhlLHt9KSxsdCh0aGlzLEFpLDApLGx0KHRoaXMsRnQsMCksWSh0aGlzLEplKS5yZW5kZXIoKSl9YWRkKGUpe1B0LmxvYWREaWUoZSxZKHRoaXMsSmUpKS50aGVuKHQ9PntZKHRoaXMsUmkpLnB1c2goc2V0VGltZW91dCgoKT0+e3pyKHRoaXMsdXMsR3IpLmNhbGwodGhpcyx0KX0seWkodGhpcyxBaSkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9KX1hZGROb25EaWUoZSl7WSh0aGlzLFR0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcighMSk7Y29uc3R7aWQ6dCx2YWx1ZTppLC4uLnN9PWUscj17aWQ6dCx2YWx1ZTppLGNvbmZpZzpzfTtZKHRoaXMsWGUpW3RdPXIsc2V0VGltZW91dCgoKT0+e1kodGhpcyxSaSkucHVzaChzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVBc2xlZXAocil9LHlpKHRoaXMsQWkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSwxMCl9cmVtb3ZlKGUpe2NvbnN0IHQ9WSh0aGlzLFhlKVtlLmlkXTt0Lmhhc093blByb3BlcnR5KCJkMTBJbnN0YW5jZSIpJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoLmRpc3Bvc2UoKSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlbW92ZURpZSIsaWQ6dC5kMTBJbnN0YW5jZS5pZH0pKSxkZWxldGUgWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXSx5aSh0aGlzLEZ0KS5fLS0pLFkodGhpcyxYZSlbZS5pZF0ubWVzaCYmWSh0aGlzLFhlKVtlLmlkXS5tZXNoLmRpc3Bvc2UoKSxkZWxldGUgWSh0aGlzLFhlKVtlLmlkXSx5aSh0aGlzLEZ0KS5fLS0sWSh0aGlzLEplKS5yZW5kZXIoKSx0aGlzLm9uRGllUmVtb3ZlZChlLnJvbGxJZCl9dXBkYXRlc0Zyb21QaHlzaWNzKGUpe3RoaXMuZGljZUJ1ZmZlclZpZXc9bmV3IEZsb2F0MzJBcnJheShlKTtsZXQgdD0xO2ZvcihsZXQgaT0wLHM9dGhpcy5kaWNlQnVmZmVyVmlld1swXTtpPHM7aSsrKXtpZighT2JqZWN0LmtleXMoWSh0aGlzLFhlKSkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9WSh0aGlzLFhlKVtgJHt0aGlzLmRpY2VCdWZmZXJWaWV3W3RdfWBdO2lmKCFyKXtjb25zb2xlLmxvZygiRXJyb3I6IGRpZSBub3QgYXZhaWxhYmxlIGluIHNjZW5lIHRvIGFuaW1hdGUiKTticmVha31pZih0aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV09PT0tMSl0aGlzLmhhbmRsZUFzbGVlcChyKTtlbHNle2NvbnN0IG49dGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdLGE9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzJdLG89dGhpcy5kaWNlQnVmZmVyVmlld1t0KzNdLGg9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzRdLGw9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzVdLHU9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzZdLGQ9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzddO3IubWVzaC5wb3NpdGlvbi5zZXQobixhLG8pLHIubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KGgsbCx1LGQpfXQ9dCs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1kodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RlcFNpbXVsYXRpb24iLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pfSl9YXN5bmMgaGFuZGxlQXNsZWVwKGUpe3ZhciB0LGk7aWYoZS5hc2xlZXA9ITAsYXdhaXQgUHQuZ2V0Um9sbFJlc3VsdChlLFkodGhpcyxKZSkpLGUuZDEwSW5zdGFuY2V8fGUuZGllUGFyZW50KXtpZigoKHQ9ZT09bnVsbD92b2lkIDA6ZS5kMTBJbnN0YW5jZSk9PW51bGw/dm9pZCAwOnQuYXNsZWVwKXx8KChpPWU9PW51bGw/dm9pZCAwOmUuZGllUGFyZW50KT09bnVsbD92b2lkIDA6aS5hc2xlZXApKXtjb25zdCBzPWUuY29uZmlnLnNpZGVzPT09MTAwP2U6ZS5kaWVQYXJlbnQscj1lLmNvbmZpZy5zaWRlcz09PTEwP2U6ZS5kMTBJbnN0YW5jZTtyLnZhbHVlPT09MCYmcy52YWx1ZT09PTA/cy52YWx1ZT0xMDA6cy52YWx1ZT1zLnZhbHVlK3IudmFsdWUsdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDpzLmNvbmZpZy5yb2xsSWQsdmFsdWU6cy52YWx1ZX0pfX1lbHNlIGUuY29uZmlnLnNpZGVzPT09MTAmJmUudmFsdWU9PT0wJiYoZS52YWx1ZT0xMCksdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDplLmNvbmZpZy5yb2xsSWQsdmFsdWU6ZS52YWx1ZX0pO3lpKHRoaXMsRnQpLl8rK31yZXNpemUoZSl7Y29uc3QgdD1ZKHRoaXMsTXQpLndpZHRoPWUud2lkdGgsaT1ZKHRoaXMsTXQpLmhlaWdodD1lLmhlaWdodDtZKHRoaXMsVmkpLmNyZWF0ZSh7YXNwZWN0OnQvaX0pLFkodGhpcyxUdCkucmVzaXplKCl9fVhlPW5ldyBXZWFrTWFwLEFpPW5ldyBXZWFrTWFwLEZ0PW5ldyBXZWFrTWFwLFJpPW5ldyBXZWFrTWFwLE10PW5ldyBXZWFrTWFwLFR0PW5ldyBXZWFrTWFwLEplPW5ldyBXZWFrTWFwLGNzPW5ldyBXZWFrTWFwLEF0PW5ldyBXZWFrTWFwLFZpPW5ldyBXZWFrTWFwLFdpPW5ldyBXZWFrTWFwLGd0PW5ldyBXZWFrTWFwLHppPW5ldyBXZWFrTWFwLHVzPW5ldyBXZWFrU2V0LEdyPWFzeW5jIGZ1bmN0aW9uKGUpe1kodGhpcyxUdCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoZS5uZXdTdGFydFBvaW50KTtjb25zdCB0PXsuLi5lLGFzc2V0UGF0aDp0aGlzLmNvbmZpZy5hc3NldFBhdGgsZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGxpZ2h0czpZKHRoaXMsQXQpfSxpPW5ldyBQdCh0LFkodGhpcyxKZSkpO3JldHVybiBZKHRoaXMsWGUpW2kuaWRdPWksWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOmUuc2lkZXMsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5pZCxuZXdTdGFydFBvaW50OmUubmV3U3RhcnRQb2ludCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSksZS5zaWRlcz09PTEwMCYmKGkuZDEwSW5zdGFuY2U9YXdhaXQgUHQubG9hZERpZSh7Li4udCxzaWRlczoxMCxpZDppLmlkKzFlNH0sWSh0aGlzLEplKSkudGhlbihzPT57Y29uc3Qgcj1uZXcgUHQocyxZKHRoaXMsSmUpKTtyZXR1cm4gci5kaWVQYXJlbnQ9aSxyfSksWSh0aGlzLFhlKVtgJHtpLmQxMEluc3RhbmNlLmlkfWBdPWkuZDEwSW5zdGFuY2UsWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOjEwLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOmkuZDEwSW5zdGFuY2UuaWQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pKSxpfTtsZXQgRHQ7c2VsZi5vbm1lc3NhZ2U9YXN5bmMgYz0+e3N3aXRjaChjLmRhdGEuYWN0aW9uKXtjYXNlInJvbGxEaWUiOkR0LnBoeXNpY3NXb3JrZXJQb3J0LnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwifSk7YnJlYWs7Y2FzZSJhZGREaWUiOkR0LmFkZChjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJhZGROb25EaWUiOkR0LmFkZE5vbkRpZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJsb2FkVGhlbWUiOmF3YWl0IER0LmxvYWRUaGVtZShjLmRhdGEub3B0aW9ucykuY2F0Y2goZT0+Y29uc29sZS5lcnJvcihlKSk7YnJlYWs7Y2FzZSJjbGVhckRpY2UiOkR0LmNsZWFyKCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOkR0LnJlbW92ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJyZXNpemUiOkR0LnJlc2l6ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJpbml0IjpEdD1uZXcgRmwoey4uLmMuZGF0YSxvbkluaXRDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0sb25UaGVtZUxvYWRlZDooe2lkOmV9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidGhlbWUtbG9hZGVkIixpZDplfSl9LG9uUm9sbFJlc3VsdDooe3JvbGxJZDplLHZhbHVlOnR9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1yZXN1bHQiLGRpZTp7cm9sbElkOmUsdmFsdWU6dH19KX0sb25Sb2xsQ29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtY29tcGxldGUifSl9LG9uRGllUmVtb3ZlZDplPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkaWUtcmVtb3ZlZCIscm9sbElkOmV9KX19KTticmVhaztjYXNlInVwZGF0ZUNvbmZpZyI6RHQudXBkYXRlQ29uZmlnKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOkR0LmNvbm5lY3QoYy5kYXRhLnBvcnQpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiY29ubmVjdC1jb21wbGV0ZSJ9KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpfX19KSgpOwo=", y = typeof window < "u" && window.Blob && new Blob([atob(p)], { type: "text/javascript;charset=utf-8" });
function N() {
  const X = y && (window.URL || window.webkitURL).createObjectURL(y);
  try {
    return X ? new Worker(X) : new Worker("data:application/javascript;base64," + p);
  } finally {
    X && (window.URL || window.webkitURL).revokeObjectURL(X);
  }
}
var b, G, W, Y;
class U {
  constructor(l) {
    m(this, W);
    d(this, "initialized", !1);
    d(this, "offscreenWorkerInit", !1);
    d(this, "themeLoadedInit", !1);
    d(this, "pendingThemePromises", {});
    m(this, b, void 0);
    m(this, G, void 0);
    d(this, "onRollResult", () => {
    });
    d(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, h(this, b, l.canvas.transferControlToOffscreen()), h(this, G, new N()), V(this, G).init = new Promise((Z, c) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = a(this, W, Y).call(this, l);
  }
  connect(l) {
    V(this, G).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    V(this, G).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    V(this, G).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, c) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, V(this, G).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    V(this, G).postMessage({ action: "clearDice" });
  }
  add(l) {
    V(this, G).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    V(this, G).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    V(this, G).postMessage({ action: "removeDie", options: l });
  }
}
b = new WeakMap(), G = new WeakMap(), W = new WeakSet(), Y = async function(l) {
  return V(this, G).postMessage({
    action: "init",
    canvas: V(this, b),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [V(this, b)]), V(this, G).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await V(this, G).init, this.onInitComplete(!0), !0;
};
export {
  U as default
};
//# sourceMappingURL=world.offscreen.js.map
